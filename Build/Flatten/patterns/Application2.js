ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPView.j",baseURL),function(f,h){h("Foundation/CPArray.j",NO);h("Foundation/CPObjJRuntime.j",NO);h("Foundation/CPSet.j",NO);h("CGAffineTransform.j",YES);h("CGGeometry.j",YES);h("CPColor.j",YES);h("CPGeometry.j",YES);h("CPGraphicsContext.j",YES);h("CPResponder.j",YES);h("CPTheme.j",YES);h("_CPDisplayServer.j",YES);CPViewNotSizable=0;CPViewMinXMargin=1;CPViewWidthSizable=2;CPViewMaxXMargin=4;CPViewMinYMargin=8;CPViewHeightSizable=
16;CPViewMaxYMargin=32;CPViewBoundsDidChangeNotification="CPViewBoundsDidChangeNotification";CPViewFrameDidChangeNotification="CPViewFrameDidChangeNotification";var e=nil,c=nil,a=nil,b={},d=objj_allocateClassPair(CPResponder,"CPView"),g=d.isa;class_addIvars(d,[new objj_ivar("_window"),new objj_ivar("_superview"),new objj_ivar("_subviews"),new objj_ivar("_graphicsContext"),new objj_ivar("_tag"),new objj_ivar("_frame"),new objj_ivar("_bounds"),new objj_ivar("_boundsTransform"),new objj_ivar("_inverseBoundsTransform"),
new objj_ivar("_registeredDraggedTypes"),new objj_ivar("_registeredDraggedTypesArray"),new objj_ivar("_isHidden"),new objj_ivar("_hitTests"),new objj_ivar("_clipsToBounds"),new objj_ivar("_postsFrameChangedNotifications"),new objj_ivar("_postsBoundsChangedNotifications"),new objj_ivar("_inhibitFrameAndBoundsChangedNotifications"),new objj_ivar("_DOMElement"),new objj_ivar("_DOMContentsElement"),new objj_ivar("_DOMImageParts"),new objj_ivar("_DOMImageSizes"),new objj_ivar("_backgroundType"),new objj_ivar("_dirtyRect"),
new objj_ivar("_opacity"),new objj_ivar("_backgroundColor"),new objj_ivar("_autoresizesSubviews"),new objj_ivar("_autoresizingMask"),new objj_ivar("_layer"),new objj_ivar("_wantsLayer"),new objj_ivar("_isInFullScreenMode"),new objj_ivar("_fullScreenModeState"),new objj_ivar("_needsLayout"),new objj_ivar("_ephemeralSubviews"),new objj_ivar("_theme"),new objj_ivar("_themeClass"),new objj_ivar("_themeAttributes"),new objj_ivar("_themeState"),new objj_ivar("_ephemeralSubviewsForNames"),new objj_ivar("_ephereralSubviews"),
new objj_ivar("_nextKeyView"),new objj_ivar("_previousKeyView"),new objj_ivar("_viewClassFlags")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("setupViewFlags"),function(a){with(a){a=objj_msgSend(a,"class");var d=objj_msgSend(a,"UID");if(b[d]===void 0){var p=0;objj_msgSend(a,"instanceMethodForSelector:",sel_getUid("drawRect:"))!==objj_msgSend(CPView,"instanceMethodForSelector:",sel_getUid("drawRect:"))&&(p|=1);objj_msgSend(a,"instanceMethodForSelector:",sel_getUid("layoutSubviews"))!==
objj_msgSend(CPView,"instanceMethodForSelector:",sel_getUid("layoutSubviews"))&&(p|=2);b[d]=p}_viewClassFlags=b[d]}}),new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithFrame:",CGRectMakeZero())}),new objj_method(sel_getUid("initWithFrame:"),function(d,q,b){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPView").super_class},"init")){q=b.size.width;var g=b.size.height;_subviews=[];_registeredDraggedTypes=objj_msgSend(CPSet,"set");_registeredDraggedTypesArray=
[];_tag=-1;_frame={origin:{x:b.origin.x,y:b.origin.y},size:{width:b.size.width,height:b.size.height}};_bounds={origin:{x:0,y:0},size:{width:q,height:g}};_autoresizingMask=CPViewNotSizable;_clipsToBounds=_autoresizesSubviews=YES;_opacity=1;_isHidden=NO;_hitTests=YES;_DOMElement=a.cloneNode(!1);b=NULL?{x:CGPointMake(b.origin.x,b.origin.y).x*NULL.a+CGPointMake(b.origin.x,b.origin.y).y*NULL.c+NULL.tx,y:CGPointMake(b.origin.x,b.origin.y).x*NULL.b+CGPointMake(b.origin.x,b.origin.y).y*NULL.d+NULL.ty}:{x:b.origin.x,
y:b.origin.y};_DOMElement.style.left=ROUND(b.x)+"px";_DOMElement.style.top=ROUND(b.y)+"px";_DOMElement.style.width=MAX(0,ROUND(q))+"px";_DOMElement.style.height=MAX(0,ROUND(g))+"px";_DOMImageParts=[];_DOMImageSizes=[];_theme=objj_msgSend(CPTheme,"defaultTheme");_themeState=CPThemeStateNormal;objj_msgSend(d,"setupViewFlags");objj_msgSend(d,"_loadThemeAttributes")}return d}}),new objj_method(sel_getUid("superview"),function(a){with(a)return _superview}),new objj_method(sel_getUid("subviews"),function(a){with(a)return objj_msgSend(_subviews,
"copy")}),new objj_method(sel_getUid("window"),function(a){with(a)return _window}),new objj_method(sel_getUid("addSubview:"),function(a,d,b){with(a)objj_msgSend(a,"_insertSubview:atIndex:",b,CPNotFound)}),new objj_method(sel_getUid("addSubview:positioned:relativeTo:"),function(a,d,b,g,c){with(a)d=c?objj_msgSend(_subviews,"indexOfObjectIdenticalTo:",c):CPNotFound,d===CPNotFound?d=g===CPWindowAbove?objj_msgSend(_subviews,"count"):0:g===CPWindowAbove&&++d,objj_msgSend(a,"_insertSubview:atIndex:",b,d)}),
new objj_method(sel_getUid("_insertSubview:atIndex:"),function(a,d,b,g){with(a){d=_subviews.length;objj_msgSend(objj_msgSend(a,"window"),"_dirtyKeyViewLoop");if(b._superview==a){var c=objj_msgSend(_subviews,"indexOfObjectIdenticalTo:",b);if(c===g||c===d-1&&g===d)return;objj_msgSend(_subviews,"removeObjectAtIndex:",c);_DOMElement.removeChild(b._DOMElement);g>c&&--g;--d}else objj_msgSend(b,"removeFromSuperview"),objj_msgSend(b,"_setWindow:",_window),objj_msgSend(b,"viewWillMoveToSuperview:",a),b._superview=
a;g===CPNotFound||g>=d?(_subviews.push(b),_DOMElement.appendChild(b._DOMElement)):(_subviews.splice(g,0,b),_DOMElement.insertBefore(b._DOMElement,_subviews[g+1]._DOMElement));objj_msgSend(b,"setNextResponder:",a);objj_msgSend(b,"viewDidMoveToSuperview");objj_msgSend(a,"didAddSubview:",b)}}),new objj_method(sel_getUid("didAddSubview:"),function(a){with(a);}),new objj_method(sel_getUid("removeFromSuperview"),function(a){with(a){if(!_superview)return;objj_msgSend(objj_msgSend(a,"window"),"_dirtyKeyViewLoop");
objj_msgSend(_superview,"willRemoveSubview:",a);objj_msgSend(_superview._subviews,"removeObject:",a);_superview._DOMElement.removeChild(_DOMElement);_superview=nil;objj_msgSend(a,"_setWindow:",nil)}}),new objj_method(sel_getUid("replaceSubview:with:"),function(a,d,b,g){with(a){if(b._superview!=a)return;d=objj_msgSend(_subviews,"indexOfObjectIdenticalTo:",b);objj_msgSend(b,"removeFromSuperview");objj_msgSend(a,"_insertSubview:atIndex:",g,d)}}),new objj_method(sel_getUid("setSubviews:"),function(a,
d,b){with(a){b||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"newSubviews cannot be nil in -[CPView setSubviews:]");if(objj_msgSend(_subviews,"isEqual:",b))return;if(objj_msgSend(_subviews,"count")===0){d=0;for(var g=objj_msgSend(b,"count");d<g;++d)objj_msgSend(a,"addSubview:",b[d]);return}if(objj_msgSend(b,"count")===0){for(g=objj_msgSend(_subviews,"count");g--;)objj_msgSend(_subviews[g],"removeFromSuperview");return}d=objj_msgSend(CPMutableSet,"setWithArray:",_subviews);objj_msgSend(d,
"removeObjectsInArray:",b);objj_msgSend(d,"makeObjectsPerformSelector:",sel_getUid("removeFromSuperview"));g=objj_msgSend(CPMutableSet,"setWithArray:",b);objj_msgSend(g,"removeObjectsInArray:",_subviews);d=nil;for(g=objj_msgSend(g,"objectEnumerator");d=objj_msgSend(g,"nextObject");)objj_msgSend(a,"addSubview:",d);if(objj_msgSend(_subviews,"isEqual:",b))return;_subviews=objj_msgSend(b,"copy");d=0;for(g=objj_msgSend(_subviews,"count");d<g;++d)a=_subviews[d],_DOMElement.removeChild(a._DOMElement),_DOMElement.appendChild(a._DOMElement)}}),
new objj_method(sel_getUid("_setWindow:"),function(a,d,b){with(a){if(_window===b)return;objj_msgSend(objj_msgSend(a,"window"),"_dirtyKeyViewLoop");objj_msgSend(_window,"firstResponder")===a&&objj_msgSend(_window,"makeFirstResponder:",nil);objj_msgSend(a,"viewWillMoveToWindow:",b);_registeredDraggedTypes&&(objj_msgSend(_window,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes),objj_msgSend(b,"_noteRegisteredDraggedTypes:",_registeredDraggedTypes));_window=b;for(d=objj_msgSend(_subviews,"count");d--;)objj_msgSend(_subviews[d],
"_setWindow:",b);objj_msgSend(a,"viewDidMoveToWindow");objj_msgSend(objj_msgSend(a,"window"),"_dirtyKeyViewLoop")}}),new objj_method(sel_getUid("isDescendantOf:"),function(a,d,b){with(a){do if(a==b)return YES;while(a=objj_msgSend(a,"superview"));return NO}}),new objj_method(sel_getUid("viewDidMoveToSuperview"),function(a){with(a)objj_msgSend(a,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("viewDidMoveToWindow"),function(a){with(a);}),new objj_method(sel_getUid("viewWillMoveToSuperview:"),function(a){with(a);
}),new objj_method(sel_getUid("viewWillMoveToWindow:"),function(a){with(a);}),new objj_method(sel_getUid("willRemoveSubview:"),function(a){with(a);}),new objj_method(sel_getUid("enclosingMenuItem"),function(a){with(a){for(;a&&!objj_msgSend(a,"isKindOfClass:",objj_msgSend(_CPMenuItemView,"class"));)a=objj_msgSend(a,"superview");if(a)return a._menuItem;return nil}}),new objj_method(sel_getUid("setTag:"),function(a,d,b){with(a)_tag=b}),new objj_method(sel_getUid("tag"),function(a){with(a)return _tag}),
new objj_method(sel_getUid("viewWithTag:"),function(a,d,b){with(a){if(objj_msgSend(a,"tag")==b)return a;a=0;for(d=_subviews.length;a<d;++a){var g=objj_msgSend(_subviews[a],"viewWithTag:",b);if(g)return g}return nil}}),new objj_method(sel_getUid("isFlipped"),function(a){with(a)return YES}),new objj_method(sel_getUid("setFrame:"),function(a,d,b){with(a){if(_frame.origin.x==b.origin.x&&_frame.origin.y==b.origin.y&&_frame.size.width==b.size.width&&_frame.size.height==b.size.height)return;_inhibitFrameAndBoundsChangedNotifications=
YES;objj_msgSend(a,"setFrameOrigin:",b.origin);objj_msgSend(a,"setFrameSize:",b.size);_inhibitFrameAndBoundsChangedNotifications=NO;_postsFrameChangedNotifications&&objj_msgSend(e,"postNotificationName:object:",CPViewFrameDidChangeNotification,a)}}),new objj_method(sel_getUid("frame"),function(a){with(a)return{origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:_frame.size.width,height:_frame.size.height}}}),new objj_method(sel_getUid("frameOrigin"),function(a){with(a)return{x:_frame.origin.x,
y:_frame.origin.y}}),new objj_method(sel_getUid("frameSize"),function(a){with(a)return{width:_frame.size.width,height:_frame.size.height}}),new objj_method(sel_getUid("setCenter:"),function(a,d,b){with(a)objj_msgSend(a,"setFrameOrigin:",CGPointMake(b.x-_frame.size.width/2,b.y-_frame.size.height/2))}),new objj_method(sel_getUid("center"),function(a){with(a)return CGPointMake(_frame.size.width/2+_frame.origin.x,_frame.size.height/2+_frame.origin.y)}),new objj_method(sel_getUid("setFrameOrigin:"),function(a,
d,b){with(a){d=_frame.origin;if(!b||d.x==b.x&&d.y==b.y)return;d.x=b.x;d.y=b.y;_postsFrameChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications&&objj_msgSend(e,"postNotificationName:object:",CPViewFrameDidChangeNotification,a);a=(a=_superview?_superview._boundsTransform:NULL)?{x:CGPointMake(d.x,d.y).x*a.a+CGPointMake(d.x,d.y).y*a.c+a.tx,y:CGPointMake(d.x,d.y).x*a.b+CGPointMake(d.x,d.y).y*a.d+a.ty}:{x:d.x,y:d.y};_DOMElement.style.left=ROUND(a.x)+"px";_DOMElement.style.top=ROUND(a.y)+"px"}}),
new objj_method(sel_getUid("setFrameSize:"),function(a,d,b){with(a){d=_frame.size;if(!b||d.width==b.width&&d.height==b.height)return;var g={width:d.width,height:d.height};d.width=b.width;d.height=b.height;if(YES)_bounds.size.width=b.width,_bounds.size.height=b.height;_layer&&objj_msgSend(_layer,"_owningViewBoundsChanged");_autoresizesSubviews&&objj_msgSend(a,"resizeSubviewsWithOldSize:",g);objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES);_DOMElement.style.width=MAX(0,ROUND(d.width))+
"px";_DOMElement.style.height=MAX(0,ROUND(d.height))+"px";if(_DOMContentsElement)_DOMContentsElement.width=MAX(0,ROUND(d.width)),_DOMContentsElement.height=MAX(0,ROUND(d.height)),_DOMContentsElement.style.width=MAX(0,ROUND(d.width))+"px",_DOMContentsElement.style.height=MAX(0,ROUND(d.height))+"px";if(_backgroundType!==0)if(_backgroundType===4)_DOMImageParts[0].style.width=MAX(0,ROUND(d.width))+"px",_DOMImageParts[0].style.height=MAX(0,ROUND(d.height))+"px";else if(objj_msgSend(objj_msgSend(_backgroundColor,
"patternImage"),"imageSlices"),_backgroundType===1)_DOMImageParts[1].style.width=MAX(0,ROUND(d.width))+"px",_DOMImageParts[1].style.height=MAX(0,ROUND(d.height-_DOMImageSizes[0].height-_DOMImageSizes[2].height))+"px";else if(_backgroundType===2)_DOMImageParts[1].style.width=MAX(0,ROUND(d.width-_DOMImageSizes[0].width-_DOMImageSizes[2].width))+"px",_DOMImageParts[1].style.height=MAX(0,ROUND(d.height))+"px";else if(_backgroundType===3)b=d.width-_DOMImageSizes[0].width-_DOMImageSizes[2].width,d=d.height-
_DOMImageSizes[0].height-_DOMImageSizes[6].height,_DOMImageParts[1].style.width=MAX(0,ROUND(b))+"px",_DOMImageParts[1].style.height=MAX(0,ROUND(_DOMImageSizes[0].height))+"px",_DOMImageParts[3].style.width=MAX(0,ROUND(_DOMImageSizes[3].width))+"px",_DOMImageParts[3].style.height=MAX(0,ROUND(d))+"px",_DOMImageParts[4].style.width=MAX(0,ROUND(b))+"px",_DOMImageParts[4].style.height=MAX(0,ROUND(d))+"px",_DOMImageParts[5].style.width=MAX(0,ROUND(_DOMImageSizes[5].width))+"px",_DOMImageParts[5].style.height=
MAX(0,ROUND(d))+"px",_DOMImageParts[7].style.width=MAX(0,ROUND(b))+"px",_DOMImageParts[7].style.height=MAX(0,ROUND(_DOMImageSizes[7].height))+"px";_postsFrameChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications&&objj_msgSend(e,"postNotificationName:object:",CPViewFrameDidChangeNotification,a)}}),new objj_method(sel_getUid("setBounds:"),function(a,d,b){with(a){if(_bounds.origin.x==b.origin.x&&_bounds.origin.y==b.origin.y&&_bounds.size.width==b.size.width&&_bounds.size.height==b.size.height)return;
_inhibitFrameAndBoundsChangedNotifications=YES;objj_msgSend(a,"setBoundsOrigin:",b.origin);objj_msgSend(a,"setBoundsSize:",b.size);_inhibitFrameAndBoundsChangedNotifications=NO;_postsBoundsChangedNotifications&&objj_msgSend(e,"postNotificationName:object:",CPViewBoundsDidChangeNotification,a)}}),new objj_method(sel_getUid("bounds"),function(a){with(a)return{origin:{x:_bounds.origin.x,y:_bounds.origin.y},size:{width:_bounds.size.width,height:_bounds.size.height}}}),new objj_method(sel_getUid("boundsOrigin"),
function(a){with(a)return{x:_bounds.origin.x,y:_bounds.origin.y}}),new objj_method(sel_getUid("boundsSize"),function(a){with(a)return{width:_bounds.size.width,height:_bounds.size.height}}),new objj_method(sel_getUid("setBoundsOrigin:"),function(a,d,b){with(a){d=_bounds.origin;if(d.x==b.x&&d.y==b.y)return;d.x=b.x;d.y=b.y;d.x!=0||d.y!=0?(_boundsTransform={a:1,b:0,c:0,d:1,tx:-d.x,ty:-d.y},_inverseBoundsTransform=CGAffineTransformInvert(_boundsTransform)):_inverseBoundsTransform=_boundsTransform=nil;
for(b=_subviews.length;b--;){var g=_subviews[b];d=g._frame.origin;d=_boundsTransform?{x:CGPointMake(d.x,d.y).x*_boundsTransform.a+CGPointMake(d.x,d.y).y*_boundsTransform.c+_boundsTransform.tx,y:CGPointMake(d.x,d.y).x*_boundsTransform.b+CGPointMake(d.x,d.y).y*_boundsTransform.d+_boundsTransform.ty}:{x:d.x,y:d.y};g._DOMElement.style.left=ROUND(d.x)+"px";g._DOMElement.style.top=ROUND(d.y)+"px"}_postsBoundsChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications&&objj_msgSend(e,"postNotificationName:object:",
CPViewBoundsDidChangeNotification,a)}}),new objj_method(sel_getUid("setBoundsSize:"),function(a,d,b){with(a){d=_bounds.size;if(d.width==b.width&&d.height==b.height)return;var g=_frame.size;if(!(d.width==g.width&&d.height==g.height)){var c=_bounds.origin;c.x/=d.width/g.width;c.y/=d.height/g.height}d.width=b.width;d.height=b.height;if(!(d.width==g.width&&d.height==g.height))c=_bounds.origin,c.x*=d.width/g.width,c.y*=d.height/g.height;_postsBoundsChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications&&
objj_msgSend(e,"postNotificationName:object:",CPViewBoundsDidChangeNotification,a)}}),new objj_method(sel_getUid("resizeWithOldSuperviewSize:"),function(a,d,b){with(a){d=objj_msgSend(a,"autoresizingMask");if(d==CPViewNotSizable)return;var g=_superview._frame,c={origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:_frame.size.width,height:_frame.size.height}},j=(g.size.width-b.width)/((d&CPViewMinXMargin?1:0)+(d&CPViewWidthSizable?1:0)+(d&CPViewMaxXMargin?1:0));b=(g.size.height-b.height)/((d&CPViewMinYMargin?
1:0)+(d&CPViewHeightSizable?1:0)+(d&CPViewMaxYMargin?1:0));d&CPViewMinXMargin&&(c.origin.x+=j);d&CPViewWidthSizable&&(c.size.width+=j);d&CPViewMinYMargin&&(c.origin.y+=b);d&CPViewHeightSizable&&(c.size.height+=b);objj_msgSend(a,"setFrame:",c)}}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(a,d,b){with(a)for(a=_subviews.length;a--;)objj_msgSend(_subviews[a],"resizeWithOldSuperviewSize:",b)}),new objj_method(sel_getUid("setAutoresizesSubviews:"),function(a,d,b){with(a)_autoresizesSubviews=
!!b}),new objj_method(sel_getUid("autoresizesSubviews"),function(a){with(a)return _autoresizesSubviews}),new objj_method(sel_getUid("setAutoresizingMask:"),function(a,d,b){with(a)_autoresizingMask=b}),new objj_method(sel_getUid("autoresizingMask"),function(a){with(a)return _autoresizingMask}),new objj_method(sel_getUid("enterFullScreenMode"),function(a){with(a)return objj_msgSend(a,"enterFullScreenMode:withOptions:",nil,nil)}),new objj_method(sel_getUid("enterFullScreenMode:withOptions:"),function(a){with(a){var d=
a._superview;_fullScreenModeState={autoresizingMask:a._autoresizingMask,frame:CGRectMakeCopy(a._frame),index:d?objj_msgSend(d._subviews,"indexOfObjectIdenticalTo:",a):0,superview:d};d=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",objj_msgSend(objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),"contentBounds"),CPBorderlessWindowMask);objj_msgSend(d,"setLevel:",CPScreenSaverWindowLevel);objj_msgSend(d,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
var b=objj_msgSend(d,"contentView");objj_msgSend(b,"setBackgroundColor:",objj_msgSend(CPColor,"blackColor"));objj_msgSend(b,"addSubview:",a);objj_msgSend(a,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);objj_msgSend(a,"setFrame:",CGRectMakeCopy(objj_msgSend(b,"bounds")));objj_msgSend(d,"makeKeyAndOrderFront:",a);objj_msgSend(d,"makeFirstResponder:",a);return _isInFullScreenMode=YES}}),new objj_method(sel_getUid("exitFullScreenMode"),function(a){with(a)objj_msgSend(a,"exitFullScreenModeWithOptions:",
nil)}),new objj_method(sel_getUid("exitFullScreenModeWithOptions:"),function(a){with(a){if(!_isInFullScreenMode)return;_isInFullScreenMode=NO;objj_msgSend(a,"setFrame:",_fullScreenModeState.frame);objj_msgSend(a,"setAutoresizingMask:",_fullScreenModeState.autoresizingMask);objj_msgSend(_fullScreenModeState.superview,"_insertSubview:atIndex:",a,_fullScreenModeState.index);objj_msgSend(objj_msgSend(a,"window"),"orderOut:",a)}}),new objj_method(sel_getUid("isInFullScreenMode"),function(a){with(a)return _isInFullScreenMode}),
new objj_method(sel_getUid("setHidden:"),function(a,d,b){with(a){b=!!b;if(_isHidden===b)return;_isHidden=b;_DOMElement.style.display=_isHidden?"none":"block";if(b){d=objj_msgSend(_window,"firstResponder");if(objj_msgSend(d,"isKindOfClass:",objj_msgSend(CPView,"class"))){do if(a==d){objj_msgSend(_window,"makeFirstResponder:",objj_msgSend(a,"nextValidKeyView"));break}while(d=objj_msgSend(d,"superview"))}objj_msgSend(a,"_notifyViewDidHide")}else objj_msgSend(a,"_notifyViewDidUnhide")}}),new objj_method(sel_getUid("_notifyViewDidHide"),
function(a){with(a){objj_msgSend(a,"viewDidHide");for(a=objj_msgSend(_subviews,"count");a--;)objj_msgSend(_subviews[a],"_notifyViewDidHide")}}),new objj_method(sel_getUid("_notifyViewDidUnhide"),function(a){with(a){objj_msgSend(a,"viewDidUnhide");for(a=objj_msgSend(_subviews,"count");a--;)objj_msgSend(_subviews[a],"_notifyViewDidUnhide")}}),new objj_method(sel_getUid("isHidden"),function(a){with(a)return _isHidden}),new objj_method(sel_getUid("setClipsToBounds:"),function(a,d,b){with(a){if(_clipsToBounds===
b)return;_clipsToBounds=b;_DOMElement.style.overflow=_clipsToBounds?"hidden":"visible"}}),new objj_method(sel_getUid("clipsToBounds"),function(a){with(a)return _clipsToBounds}),new objj_method(sel_getUid("setAlphaValue:"),function(a,d,b){with(a){if(_opacity==b)return;_opacity=b;if(CPFeatureIsCompatible(CPOpacityRequiresFilterFeature))if(b===1)try{_DOMElement.style.removeAttribute("filter")}catch(g){}else _DOMElement.style.filter="alpha(opacity="+b*100+")";else _DOMElement.style.opacity=b}}),new objj_method(sel_getUid("alphaValue"),
function(a){with(a)return _opacity}),new objj_method(sel_getUid("isHiddenOrHasHiddenAncestor"),function(a){with(a){for(;a&&!objj_msgSend(a,"isHidden");)a=objj_msgSend(a,"superview");return a!==nil}}),new objj_method(sel_getUid("viewDidHide"),function(a){with(a);}),new objj_method(sel_getUid("viewDidUnhide"),function(a){with(a);}),new objj_method(sel_getUid("acceptsFirstMouse:"),function(a){with(a)return YES}),new objj_method(sel_getUid("hitTests"),function(a){with(a)return _hitTests}),new objj_method(sel_getUid("setHitTests:"),
function(a,d,b){with(a)_hitTests=!!b}),new objj_method(sel_getUid("hitTest:"),function(a,d,b){with(a){if(_isHidden||!_hitTests||!CPRectContainsPoint(_frame,b))return nil;d=nil;var g=_subviews.length;b={x:b.x-_frame.origin.x,y:b.y-_frame.origin.y};for(_inverseBoundsTransform&&(b={x:b.x*_inverseBoundsTransform.a+b.y*_inverseBoundsTransform.c+_inverseBoundsTransform.tx,y:b.x*_inverseBoundsTransform.b+b.y*_inverseBoundsTransform.d+_inverseBoundsTransform.ty});g--;)if(d=objj_msgSend(_subviews[g],"hitTest:",
b))return d;return a}}),new objj_method(sel_getUid("needsPanelToBecomeKey"),function(a){with(a)return NO}),new objj_method(sel_getUid("mouseDownCanMoveWindow"),function(a){with(a)return!objj_msgSend(a,"isOpaque")}),new objj_method(sel_getUid("mouseDown:"),function(a,d,b){with(a)objj_msgSend(a,"mouseDownCanMoveWindow")&&objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPView").super_class},"mouseDown:",b)}),new objj_method(sel_getUid("rightMouseDown:"),function(a,d,b){with(a)(d=objj_msgSend(a,
"menuForEvent:",b))?objj_msgSend(CPMenu,"popUpContextMenu:withEvent:forView:",d,b,a):objj_msgSend(objj_msgSend(a,"nextResponder"),"isKindOfClass:",CPView)?objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPView").super_class},"rightMouseDown:",b):objj_msgSend(objj_msgSend(objj_msgSend(b,"window"),"platformWindow"),"_propagateContextMenuDOMEvent:",YES)}),new objj_method(sel_getUid("menuForEvent:"),function(a){with(a)return objj_msgSend(a,"menu")||objj_msgSend(objj_msgSend(a,"class"),"defaultMenu")}),
new objj_method(sel_getUid("setBackgroundColor:"),function(d,b,g){with(d){if(_backgroundColor==g)return;g==objj_msgSend(CPNull,"null")&&(g=nil);_backgroundColor=g;g=objj_msgSend(_backgroundColor,"patternImage");var c=_backgroundColor&&(objj_msgSend(_backgroundColor,"patternImage")||objj_msgSend(_backgroundColor,"alphaComponent")>0),e=c&&objj_msgSend(_backgroundColor,"alphaComponent")<1;b=CPFeatureIsCompatible(CPCSSRGBAFeature);e=e&&!b;var j=0;objj_msgSend(g,"isThreePartImage")?(_backgroundType=objj_msgSend(g,
"isVertical")?1:2,j=3-_DOMImageParts.length):objj_msgSend(g,"isNinePartImage")?(_backgroundType=3,j=9-_DOMImageParts.length):(_backgroundType=e?4:0,j=(e?1:0)-_DOMImageParts.length);if(j>0)for(;j--;){var i=a.cloneNode(!1);i.style.zIndex=-1E3;_DOMImageParts.push(i);_DOMElement.appendChild(i)}else for(j=-j;j--;)_DOMElement.removeChild(_DOMImageParts.pop());if(_backgroundType===0||_backgroundType===4)b=c?objj_msgSend(_backgroundColor,"cssString"):"",e?(_DOMElement.style.background="",_DOMImageParts[0].style.background=
objj_msgSend(_backgroundColor,"cssString"),CPFeatureIsCompatible(CPOpacityRequiresFilterFeature)?_DOMImageParts[0].style.filter="alpha(opacity="+objj_msgSend(_backgroundColor,"alphaComponent")*100+")":_DOMImageParts[0].style.opacity=objj_msgSend(_backgroundColor,"alphaComponent"),g=objj_msgSend(d,"bounds").size,_DOMImageParts[0].style.width=MAX(0,ROUND(g.width))+"px",_DOMImageParts[0].style.height=MAX(0,ROUND(g.height))+"px"):_DOMElement.style.background=b;else{c=objj_msgSend(g,"imageSlices");e=MIN(_DOMImageParts.length,
c.length);for(d=_frame.size;e--;)if(j=c[e],g=_DOMImageSizes[e]=j?objj_msgSend(j,"size"):{width:0,height:0},_DOMImageParts[e].style.width=MAX(0,ROUND(g.width))+"px",_DOMImageParts[e].style.height=MAX(0,ROUND(g.height))+"px",_DOMImageParts[e].style.background=j?'url("'+objj_msgSend(j,"filename")+'")':"",!b)if(CPFeatureIsCompatible(CPOpacityRequiresFilterFeature))try{_DOMImageParts[e].style.removeAttribute("filter")}catch(t){}else _DOMImageParts[e].style.opacity=1;if(_backgroundType==3)b=d.width-_DOMImageSizes[0].width-
_DOMImageSizes[2].width,d=d.height-_DOMImageSizes[0].height-_DOMImageSizes[6].height,_DOMImageParts[1].style.width=MAX(0,ROUND(b))+"px",_DOMImageParts[1].style.height=MAX(0,ROUND(_DOMImageSizes[0].height))+"px",_DOMImageParts[3].style.width=MAX(0,ROUND(_DOMImageSizes[3].width))+"px",_DOMImageParts[3].style.height=MAX(0,ROUND(d))+"px",_DOMImageParts[4].style.width=MAX(0,ROUND(b))+"px",_DOMImageParts[4].style.height=MAX(0,ROUND(d))+"px",_DOMImageParts[5].style.width=MAX(0,ROUND(_DOMImageSizes[5].width))+
"px",_DOMImageParts[5].style.height=MAX(0,ROUND(d))+"px",_DOMImageParts[7].style.width=MAX(0,ROUND(b))+"px",_DOMImageParts[7].style.height=MAX(0,ROUND(_DOMImageSizes[7].height))+"px",b=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[0].style.left=ROUND(b.x)+"px",_DOMImageParts[0].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.a+CGPointMake(_DOMImageSizes[0].width,
0).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.b+CGPointMake(_DOMImageSizes[0].width,0).y*NULL.d+NULL.ty}:{x:_DOMImageSizes[0].width,y:0},_DOMImageParts[1].style.left=ROUND(b.x)+"px",_DOMImageParts[1].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[2].style.right=ROUND(b.x)+"px",_DOMImageParts[2].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(0,
_DOMImageSizes[1].height).x*NULL.a+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.c+NULL.tx,y:CGPointMake(0,_DOMImageSizes[1].height).x*NULL.b+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.d+NULL.ty}:{x:0,y:_DOMImageSizes[1].height},_DOMImageParts[3].style.left=ROUND(b.x)+"px",_DOMImageParts[3].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(_DOMImageSizes[0].width,_DOMImageSizes[0].height).x*NULL.a+CGPointMake(_DOMImageSizes[0].width,_DOMImageSizes[0].height).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[0].width,
_DOMImageSizes[0].height).x*NULL.b+CGPointMake(_DOMImageSizes[0].width,_DOMImageSizes[0].height).y*NULL.d+NULL.ty}:{x:_DOMImageSizes[0].width,y:_DOMImageSizes[0].height},_DOMImageParts[4].style.left=ROUND(b.x)+"px",_DOMImageParts[4].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(0,_DOMImageSizes[1].height).x*NULL.a+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.c+NULL.tx,y:CGPointMake(0,_DOMImageSizes[1].height).x*NULL.b+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.d+NULL.ty}:{x:0,y:_DOMImageSizes[1].height},
_DOMImageParts[5].style.right=ROUND(b.x)+"px",_DOMImageParts[5].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[6].style.left=ROUND(b.x)+"px",_DOMImageParts[6].style.bottom=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(_DOMImageSizes[6].width,0).x*NULL.a+CGPointMake(_DOMImageSizes[6].width,0).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[6].width,0).x*NULL.b+CGPointMake(_DOMImageSizes[6].width,
0).y*NULL.d+NULL.ty}:{x:_DOMImageSizes[6].width,y:0},_DOMImageParts[7].style.left=ROUND(b.x)+"px",_DOMImageParts[7].style.bottom=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[8].style.right=ROUND(b.x)+"px",_DOMImageParts[8].style.bottom=ROUND(b.y)+"px";else if(_backgroundType==1)_DOMImageParts[1].style.width=MAX(0,ROUND(d.width))+"px",_DOMImageParts[1].style.height=MAX(0,
ROUND(d.height-_DOMImageSizes[0].height-_DOMImageSizes[2].height))+"px",b=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[0].style.left=ROUND(b.x)+"px",_DOMImageParts[0].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(0,_DOMImageSizes[0].height).x*NULL.a+CGPointMake(0,_DOMImageSizes[0].height).y*NULL.c+NULL.tx,y:CGPointMake(0,_DOMImageSizes[0].height).x*NULL.b+CGPointMake(0,_DOMImageSizes[0].height).y*
NULL.d+NULL.ty}:{x:0,y:_DOMImageSizes[0].height},_DOMImageParts[1].style.left=ROUND(b.x)+"px",_DOMImageParts[1].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[2].style.left=ROUND(b.x)+"px",_DOMImageParts[2].style.bottom=ROUND(b.y)+"px";else if(_backgroundType==2)_DOMImageParts[1].style.width=MAX(0,ROUND(d.width-_DOMImageSizes[0].width-_DOMImageSizes[2].width))+"px",
_DOMImageParts[1].style.height=MAX(0,ROUND(d.height))+"px",b=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[0].style.left=ROUND(b.x)+"px",_DOMImageParts[0].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.a+CGPointMake(_DOMImageSizes[0].width,0).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.b+CGPointMake(_DOMImageSizes[0].width,0).y*NULL.d+
NULL.ty}:{x:_DOMImageSizes[0].width,y:0},_DOMImageParts[1].style.left=ROUND(b.x)+"px",_DOMImageParts[1].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[2].style.right=ROUND(b.x)+"px",_DOMImageParts[2].style.top=ROUND(b.y)+"px"}}}),new objj_method(sel_getUid("backgroundColor"),function(a){with(a)return _backgroundColor}),new objj_method(sel_getUid("convertPoint:fromView:"),
function(a,d,b,g){with(a)return CGPointApplyAffineTransform(b,i(g,a))}),new objj_method(sel_getUid("convertPointFromBase:"),function(a,d,b){with(a)return CGPointApplyAffineTransform(b,i(nil,a))}),new objj_method(sel_getUid("convertPoint:toView:"),function(a,d,b,g){with(a)return CGPointApplyAffineTransform(b,i(a,g))}),new objj_method(sel_getUid("convertPointToBase:"),function(a,d,b){with(a)return CGPointApplyAffineTransform(b,i(a,nil))}),new objj_method(sel_getUid("convertSize:fromView:"),function(a,
d,b,g){with(a)return CGSizeApplyAffineTransform(b,i(g,a))}),new objj_method(sel_getUid("convertSize:toView:"),function(a,d,b,g){with(a)return CGSizeApplyAffineTransform(b,i(a,g))}),new objj_method(sel_getUid("convertRect:fromView:"),function(a,d,b,g){with(a)return CGRectApplyAffineTransform(b,i(g,a))}),new objj_method(sel_getUid("convertRectFromBase:"),function(a,d,b){with(a)return CGRectApplyAffineTransform(b,i(nil,a))}),new objj_method(sel_getUid("convertRect:toView:"),function(a,d,b,g){with(a)return CGRectApplyAffineTransform(b,
i(a,g))}),new objj_method(sel_getUid("convertRectToBase:"),function(a,d,b){with(a)return CGRectApplyAffineTransform(b,i(a,nil))}),new objj_method(sel_getUid("setPostsFrameChangedNotifications:"),function(a,d,b){with(a){b=!!b;if(_postsFrameChangedNotifications===b)return;(_postsFrameChangedNotifications=b)&&objj_msgSend(e,"postNotificationName:object:",CPViewFrameDidChangeNotification,a)}}),new objj_method(sel_getUid("postsFrameChangedNotifications"),function(a){with(a)return _postsFrameChangedNotifications}),
new objj_method(sel_getUid("setPostsBoundsChangedNotifications:"),function(a,d,b){with(a){b=!!b;if(_postsBoundsChangedNotifications===b)return;(_postsBoundsChangedNotifications=b)&&objj_msgSend(e,"postNotificationName:object:",CPViewBoundsDidChangeNotification,a)}}),new objj_method(sel_getUid("postsBoundsChangedNotifications"),function(a){with(a)return _postsBoundsChangedNotifications}),new objj_method(sel_getUid("dragImage:at:offset:event:pasteboard:source:slideBack:"),function(a,d,b,g,c,j,e,i,h){with(a)objj_msgSend(_window,
"dragImage:at:offset:event:pasteboard:source:slideBack:",b,objj_msgSend(a,"convertPoint:toView:",g,nil),c,j,e,i,h)}),new objj_method(sel_getUid("dragView:at:offset:event:pasteboard:source:slideBack:"),function(a,d,b,g,c,j,e,i,h){with(a)objj_msgSend(_window,"dragView:at:offset:event:pasteboard:source:slideBack:",b,objj_msgSend(a,"convertPoint:toView:",g,nil),c,j,e,i,h)}),new objj_method(sel_getUid("registerForDraggedTypes:"),function(a,d,b){with(a){if(!b||!objj_msgSend(b,"count"))return;a=objj_msgSend(a,
"window");objj_msgSend(a,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes);objj_msgSend(_registeredDraggedTypes,"addObjectsFromArray:",b);objj_msgSend(a,"_noteRegisteredDraggedTypes:",_registeredDraggedTypes);_registeredDraggedTypesArray=nil}}),new objj_method(sel_getUid("registeredDraggedTypes"),function(a){with(a)return _registeredDraggedTypesArray||(_registeredDraggedTypesArray=objj_msgSend(_registeredDraggedTypes,"allObjects")),_registeredDraggedTypesArray}),new objj_method(sel_getUid("unregisterDraggedTypes"),
function(a){with(a)objj_msgSend(objj_msgSend(a,"window"),"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes),_registeredDraggedTypes=objj_msgSend(CPSet,"set"),_registeredDraggedTypesArray=[]}),new objj_method(sel_getUid("drawRect:"),function(a){with(a);}),new objj_method(sel_getUid("setNeedsDisplay:"),function(a,d,b){with(a)b&&objj_msgSend(a,"setNeedsDisplayInRect:",objj_msgSend(a,"bounds"))}),new objj_method(sel_getUid("setNeedsDisplayInRect:"),function(a,d,b){with(a){if(!(_viewClassFlags&
1))return;if(b.size.width<=0||b.size.height<=0)return;_dirtyRect=_dirtyRect&&!(_dirtyRect.size.width<=0||_dirtyRect.size.height<=0)?CGRectUnion(b,_dirtyRect):{origin:{x:b.origin.x,y:b.origin.y},size:{width:b.size.width,height:b.size.height}};_CPDisplayServerAddDisplayObject(a)}}),new objj_method(sel_getUid("needsDisplay"),function(a){with(a)return _dirtyRect&&!(_dirtyRect.size.width<=0||_dirtyRect.size.height<=0)}),new objj_method(sel_getUid("displayIfNeeded"),function(a){with(a)objj_msgSend(a,"needsDisplay")&&
objj_msgSend(a,"displayRect:",_dirtyRect)}),new objj_method(sel_getUid("display"),function(a){with(a)objj_msgSend(a,"displayRect:",objj_msgSend(a,"visibleRect"))}),new objj_method(sel_getUid("displayIfNeededInRect:"),function(a,d,b){with(a)objj_msgSend(a,"needsDisplay")&&objj_msgSend(a,"displayRect:",b)}),new objj_method(sel_getUid("displayRect:"),function(a,d,b){with(a)objj_msgSend(a,"viewWillDraw"),objj_msgSend(a,"displayRectIgnoringOpacity:inContext:",b,nil),_dirtyRect=NULL}),new objj_method(sel_getUid("displayRectIgnoringOpacity:inContext:"),
function(a,d,b){with(a){if(objj_msgSend(a,"isHidden"))return;objj_msgSend(a,"lockFocus");CGContextClearRect(objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),b);objj_msgSend(a,"drawRect:",b);objj_msgSend(a,"unlockFocus")}}),new objj_method(sel_getUid("viewWillDraw"),function(a){with(a);}),new objj_method(sel_getUid("lockFocus"),function(a){with(a){if(!_graphicsContext)a=CGBitmapGraphicsContextCreate(),_DOMContentsElement=a.DOMElement,_DOMContentsElement.style.zIndex=-100,
_DOMContentsElement.style.overflow="hidden",_DOMContentsElement.style.position="absolute",_DOMContentsElement.style.visibility="visible",_DOMContentsElement.width=ROUND(_frame.size.width),_DOMContentsElement.height=ROUND(_frame.size.height),_DOMContentsElement.style.top="0px",_DOMContentsElement.style.left="0px",_DOMContentsElement.style.width=ROUND(_frame.size.width)+"px",_DOMContentsElement.style.height=ROUND(_frame.size.height)+"px",_DOMElement.appendChild(_DOMContentsElement),_graphicsContext=
objj_msgSend(CPGraphicsContext,"graphicsContextWithGraphicsPort:flipped:",a,YES);objj_msgSend(CPGraphicsContext,"setCurrentContext:",_graphicsContext);CGContextSaveGState(objj_msgSend(_graphicsContext,"graphicsPort"))}}),new objj_method(sel_getUid("unlockFocus"),function(a){with(a)CGContextRestoreGState(objj_msgSend(_graphicsContext,"graphicsPort")),objj_msgSend(CPGraphicsContext,"setCurrentContext:",nil)}),new objj_method(sel_getUid("setNeedsLayout"),function(a){with(a){if(!(_viewClassFlags&2))return;
_needsLayout=YES;_CPDisplayServerAddLayoutObject(a)}}),new objj_method(sel_getUid("layoutIfNeeded"),function(a){with(a)_needsLayout&&(_needsLayout=NO,objj_msgSend(a,"layoutSubviews"))}),new objj_method(sel_getUid("layoutSubviews"),function(a){with(a);}),new objj_method(sel_getUid("isOpaque"),function(a){with(a)return NO}),new objj_method(sel_getUid("visibleRect"),function(a){with(a){if(!_superview)return _bounds;return CGRectIntersection(objj_msgSend(a,"convertRect:fromView:",objj_msgSend(_superview,
"visibleRect"),_superview),_bounds)}}),new objj_method(sel_getUid("_enclosingClipView"),function(a){with(a){a=_superview;for(var d=objj_msgSend(CPClipView,"class");a&&!objj_msgSend(a,"isKindOfClass:",d);)a=a._superview;return a}}),new objj_method(sel_getUid("scrollPoint:"),function(a,d,b){with(a){d=objj_msgSend(a,"_enclosingClipView");if(!d)return;objj_msgSend(d,"scrollToPoint:",objj_msgSend(a,"convertPoint:toView:",b,d))}}),new objj_method(sel_getUid("scrollRectToVisible:"),function(a,d,b){with(a){d=
objj_msgSend(a,"visibleRect");b=CGRectIntersection(b,_bounds);if(b.size.width<=0||b.size.height<=0||CGRectContainsRect(d,b))return NO;a=objj_msgSend(a,"_enclosingClipView");if(!a)return NO;var g={x:d.origin.x,y:d.origin.y};b.origin.x<=d.origin.x?g.x=b.origin.x:b.origin.x+b.size.width>d.origin.x+d.size.width&&(g.x+=b.origin.x+b.size.width-(d.origin.x+d.size.width));b.origin.y<=d.origin.y?g.y=CGRectGetMinY(b):b.origin.y+b.size.height>d.origin.y+d.size.height&&(g.y+=b.origin.y+b.size.height-(d.origin.y+
d.size.height));objj_msgSend(a,"scrollToPoint:",CGPointMake(g.x,g.y));return YES}}),new objj_method(sel_getUid("autoscroll:"),function(a,d,b){with(a)return objj_msgSend(objj_msgSend(a,"superview"),"autoscroll:",b)}),new objj_method(sel_getUid("adjustScroll:"),function(a,d,b){with(a)return b}),new objj_method(sel_getUid("scrollRect:by:"),function(a){with(a);}),new objj_method(sel_getUid("enclosingScrollView"),function(a){with(a){a=_superview;for(var d=objj_msgSend(CPScrollView,"class");a&&!objj_msgSend(a,
"isKindOfClass:",d);)a=a._superview;return a}}),new objj_method(sel_getUid("scrollClipView:toPoint:"),function(a,d,b,g){with(a)objj_msgSend(b,"scrollToPoint:",g)}),new objj_method(sel_getUid("reflectScrolledClipView:"),function(a){with(a);})]);class_addMethods(g,[new objj_method(sel_getUid("initialize"),function(d){with(d){if(d!==objj_msgSend(CPView,"class"))return;a=document.createElement("div");d=a.style;d.overflow="hidden";d.position="absolute";d.visibility="visible";d.zIndex=0;e=objj_msgSend(CPNotificationCenter,
"defaultCenter")}}),new objj_method(sel_getUid("keyPathsForValuesAffectingFrame"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","frameOrigin","frameSize")}),new objj_method(sel_getUid("keyPathsForValuesAffectingBounds"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","boundsOrigin","boundsSize")}),new objj_method(sel_getUid("defaultMenu"),function(a){with(a)return nil})]);d=objj_getClass("CPView");if(!d)throw new SyntaxError('*** Could not find definition for class "CPView"');
g=d.isa;class_addMethods(d,[new objj_method(sel_getUid("performKeyEquivalent:"),function(a,d,b){with(a){for(a=objj_msgSend(_subviews,"count");a--;)if(objj_msgSend(_subviews[a],"performKeyEquivalent:",b))return YES;return NO}}),new objj_method(sel_getUid("canBecomeKeyView"),function(a){with(a)return objj_msgSend(a,"acceptsFirstResponder")&&!objj_msgSend(a,"isHiddenOrHasHiddenAncestor")}),new objj_method(sel_getUid("nextKeyView"),function(a){with(a)return _nextKeyView}),new objj_method(sel_getUid("nextValidKeyView"),
function(a){with(a){for(var d=a=objj_msgSend(a,"nextKeyView");a&&!objj_msgSend(a,"canBecomeKeyView");)if(a=objj_msgSend(a,"nextKeyView"),a===d)return nil;return a}}),new objj_method(sel_getUid("previousKeyView"),function(a){with(a)return _previousKeyView}),new objj_method(sel_getUid("previousValidKeyView"),function(a){with(a){for(a=objj_msgSend(a,"previousKeyView");a&&!objj_msgSend(a,"canBecomeKeyView");)a=objj_msgSend(a,"previousKeyView");return a}}),new objj_method(sel_getUid("_setPreviousKeyView:"),
function(a,d,b){with(a)_previousKeyView=b}),new objj_method(sel_getUid("setNextKeyView:"),function(a,d,b){with(a)_nextKeyView=b,objj_msgSend(_nextKeyView,"_setPreviousKeyView:",a)})]);d=objj_getClass("CPView");if(!d)throw new SyntaxError('*** Could not find definition for class "CPView"');g=d.isa;class_addMethods(d,[new objj_method(sel_getUid("setLayer:"),function(a,d,b){with(a){if(_layer==b)return;if(_layer)_layer._owningView=nil,_DOMElement.removeChild(_layer._DOMElement);if(_layer=b)CGRectMakeCopy(objj_msgSend(a,
"bounds")),objj_msgSend(_layer,"_setOwningView:",a),_layer._DOMElement.style.zIndex=100,_DOMElement.appendChild(_layer._DOMElement)}}),new objj_method(sel_getUid("layer"),function(a){with(a)return _layer}),new objj_method(sel_getUid("setWantsLayer:"),function(a,d,b){with(a)_wantsLayer=!!b}),new objj_method(sel_getUid("wantsLayer"),function(a){with(a)return _wantsLayer})]);d=objj_getClass("CPView");if(!d)throw new SyntaxError('*** Could not find definition for class "CPView"');g=d.isa;class_addMethods(d,
[new objj_method(sel_getUid("themeState"),function(a){with(a)return _themeState}),new objj_method(sel_getUid("hasThemeState:"),function(a,d,b){with(a){if(b===CPThemeStateNormal&&_themeState===CPThemeStateNormal)return YES;return!!(_themeState&(typeof b==="string"?CPThemeState(b):b))}}),new objj_method(sel_getUid("setThemeState:"),function(a,d,b){with(a){d=typeof b==="string"?CPThemeState(b):b;if(_themeState&d)return NO;_themeState|=d;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",
YES);return YES}}),new objj_method(sel_getUid("unsetThemeState:"),function(a,d,b){with(a){d=typeof b==="string"?CPThemeState(b):b;if(!(_themeState&d))return NO;_themeState&=~d;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES);return YES}}),new objj_method(sel_getUid("themeClass"),function(a){with(a){if(_themeClass)return _themeClass;return objj_msgSend(objj_msgSend(a,"class"),"defaultThemeClass")}}),new objj_method(sel_getUid("setThemeClass:"),function(a,d,b){with(a)_themeClass=
b,objj_msgSend(a,"_loadThemeAttributes"),objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("_loadThemeAttributes"),function(a){with(a){var d=objj_msgSend(a,"class");d=objj_msgSend(d,"_themeAttributes");var b=d.length;if(!b)return;var g=objj_msgSend(a,"theme");a=objj_msgSend(a,"themeClass");for(_themeAttributes={};b--;){var c=d[b--],j=objj_msgSend(objj_msgSend(_CPThemeAttribute,"alloc"),"initWithName:defaultValue:",c,d[b]);objj_msgSend(j,"setParentAttribute:",
objj_msgSend(g,"attributeWithName:forClass:",c,a));_themeAttributes[c]=j}}}),new objj_method(sel_getUid("setTheme:"),function(a,d,b){with(a){if(_theme===b)return;_theme=b;objj_msgSend(a,"viewDidChangeTheme")}}),new objj_method(sel_getUid("theme"),function(a){with(a)return _theme}),new objj_method(sel_getUid("viewDidChangeTheme"),function(a){with(a){if(!_themeAttributes)return;var d=objj_msgSend(a,"theme"),b=objj_msgSend(a,"themeClass"),g;for(g in _themeAttributes)_themeAttributes.hasOwnProperty(g)&&
objj_msgSend(_themeAttributes[g],"setParentAttribute:",objj_msgSend(d,"attributeWithName:forClass:",g,b));objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("_themeAttributeDictionary"),function(a){with(a){var d=objj_msgSend(CPDictionary,"dictionary");if(_themeAttributes)for(var b in objj_msgSend(a,"theme"),_themeAttributes)_themeAttributes.hasOwnProperty(b)&&objj_msgSend(d,"setObject:forKey:",_themeAttributes[b],b);return d}}),new objj_method(sel_getUid("setValue:forThemeAttribute:inState:"),
function(a,d,b,g,c){with(a){(!_themeAttributes||!_themeAttributes[g])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+g+"'");d=objj_msgSend(a,"currentValueForThemeAttribute:",g);objj_msgSend(_themeAttributes[g],"setValue:forState:",b,c);if(objj_msgSend(a,"currentValueForThemeAttribute:",g)===d)return;objj_msgSend(a,"setNeedsDisplay:",YES);objj_msgSend(a,"setNeedsLayout")}}),new objj_method(sel_getUid("setValue:forThemeAttribute:"),
function(a,d,b,g){with(a){(!_themeAttributes||!_themeAttributes[g])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+g+"'");d=objj_msgSend(a,"currentValueForThemeAttribute:",g);objj_msgSend(_themeAttributes[g],"setValue:",b);if(objj_msgSend(a,"currentValueForThemeAttribute:",g)===d)return;objj_msgSend(a,"setNeedsDisplay:",YES);objj_msgSend(a,"setNeedsLayout")}}),new objj_method(sel_getUid("valueForThemeAttribute:inState:"),
function(a,d,b,g){with(a)return(!_themeAttributes||!_themeAttributes[b])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+b+"'"),objj_msgSend(_themeAttributes[b],"valueForState:",g)}),new objj_method(sel_getUid("valueForThemeAttribute:"),function(a,d,b){with(a)return(!_themeAttributes||!_themeAttributes[b])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+
b+"'"),objj_msgSend(_themeAttributes[b],"value")}),new objj_method(sel_getUid("currentValueForThemeAttribute:"),function(a,d,b){with(a)return(!_themeAttributes||!_themeAttributes[b])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+b+"'"),objj_msgSend(_themeAttributes[b],"valueForState:",_themeState)}),new objj_method(sel_getUid("hasThemeAttribute:"),function(a,d,b){with(a)return _themeAttributes&&_themeAttributes[b]!==
void 0}),new objj_method(sel_getUid("createEphemeralSubviewNamed:"),function(a){with(a)return nil}),new objj_method(sel_getUid("rectForEphemeralSubviewNamed:"),function(a){with(a)return{origin:{x:0,y:0},size:{width:0,height:0}}}),new objj_method(sel_getUid("layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:"),function(a,d,b,g,c){with(a)return _ephemeralSubviewsForNames||(_ephemeralSubviewsForNames={},_ephemeralSubviews=objj_msgSend(CPSet,"set")),(d=objj_msgSend(a,"rectForEphemeralSubviewNamed:",
b))?(_ephemeralSubviewsForNames[b]||(_ephemeralSubviewsForNames[b]=objj_msgSend(a,"createEphemeralSubviewNamed:",b),objj_msgSend(_ephemeralSubviews,"addObject:",_ephemeralSubviewsForNames[b]),_ephemeralSubviewsForNames[b]&&objj_msgSend(a,"addSubview:positioned:relativeTo:",_ephemeralSubviewsForNames[b],g,_ephemeralSubviewsForNames[c])),_ephemeralSubviewsForNames[b]&&objj_msgSend(_ephemeralSubviewsForNames[b],"setFrame:",d)):_ephemeralSubviewsForNames[b]&&(objj_msgSend(_ephemeralSubviewsForNames[b],
"removeFromSuperview"),objj_msgSend(_ephemeralSubviews,"removeObject:",_ephemeralSubviewsForNames[b]),delete _ephemeralSubviewsForNames[b]),_ephemeralSubviewsForNames[b]}),new objj_method(sel_getUid("ephemeralSubviewNamed:"),function(a,d,b){with(a){if(!_ephemeralSubviewsForNames)return nil;return _ephemeralSubviewsForNames[b]||nil}})]);class_addMethods(g,[new objj_method(sel_getUid("defaultThemeClass"),function(a){with(a)return nil}),new objj_method(sel_getUid("themeAttributes"),function(a){with(a)return nil}),
new objj_method(sel_getUid("_themeAttributes"),function(a){with(a){c||(c={});for(var d=objj_msgSend(a,"class"),b=objj_msgSend(CPView,"class"),g=[],e=objj_msgSend(CPNull,"null");d&&d!==b;d=objj_msgSend(d,"superclass")){var j=c[class_getName(d)];if(j){g=g.length?g.concat(j):g;c[objj_msgSend(a,"className")]=g;break}if(j=objj_msgSend(d,"themeAttributes"))for(var i=objj_msgSend(j,"allKeys"),t=i.length;t--;){var h=i[t],f=objj_msgSend(j,"objectForKey:",h);g.push(f===e?nil:f);g.push(h)}}return g}})]);d=objj_getClass("CPView");
if(!d)throw new SyntaxError('*** Could not find definition for class "CPView"');g=d.isa;class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(d,b,g){with(d){_DOMElement=a.cloneNode(!1);_frame=objj_msgSend(g,"decodeRectForKey:","CPViewFrameKey");_bounds=objj_msgSend(g,"decodeRectForKey:","CPViewBoundsKey");if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPView").super_class},"initWithCoder:",g)){_tag=objj_msgSend(g,"containsValueForKey:","CPViewTagKey")?objj_msgSend(g,
"decodeIntForKey:","CPViewTagKey"):-1;_window=objj_msgSend(g,"decodeObjectForKey:","CPViewWindowKey");_subviews=objj_msgSend(g,"decodeObjectForKey:","CPViewSubviewsKey")||[];_superview=objj_msgSend(g,"decodeObjectForKey:","CPViewSuperviewKey");_registeredDraggedTypes=objj_msgSend(CPSet,"set");_registeredDraggedTypesArray=[];_autoresizingMask=objj_msgSend(g,"decodeIntForKey:","CPViewAutoresizingMask")||CPViewNotSizable;_autoresizesSubviews=!objj_msgSend(g,"containsValueForKey:","CPViewAutoresizesSubviews")||
objj_msgSend(g,"decodeBoolForKey:","CPViewAutoresizesSubviews");_hitTests=!objj_msgSend(g,"containsValueForKey:","CPViewHitTestsKey")||objj_msgSend(g,"decodeObjectForKey:","CPViewHitTestsKey");_DOMImageParts=[];_DOMImageSizes=[];b=NULL?{x:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.a+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.c+NULL.tx,y:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.b+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.d+NULL.ty}:{x:_frame.origin.x,y:_frame.origin.y};
_DOMElement.style.left=ROUND(b.x)+"px";_DOMElement.style.top=ROUND(b.y)+"px";_DOMElement.style.width=MAX(0,ROUND(_frame.size.width))+"px";_DOMElement.style.height=MAX(0,ROUND(_frame.size.height))+"px";var c=0;for(b=_subviews.length;c<b;++c)_DOMElement.appendChild(_subviews[c]._DOMElement);objj_msgSend(g,"containsValueForKey:","CPViewIsHiddenKey")?objj_msgSend(d,"setHidden:",objj_msgSend(g,"decodeBoolForKey:","CPViewIsHiddenKey")):_isHidden=NO;objj_msgSend(g,"containsValueForKey:","CPViewOpacityKey")?
objj_msgSend(d,"setAlphaValue:",objj_msgSend(g,"decodeIntForKey:","CPViewOpacityKey")):_opacity=1;objj_msgSend(d,"setBackgroundColor:",objj_msgSend(g,"decodeObjectForKey:","CPViewBackgroundColor"));objj_msgSend(d,"setupViewFlags");_theme=objj_msgSend(CPTheme,"defaultTheme");_themeClass=objj_msgSend(g,"decodeObjectForKey:","CPViewThemeClassKey");_themeState=CPThemeState(objj_msgSend(g,"decodeIntForKey:","CPViewThemeStateKey"));_themeAttributes={};b=objj_msgSend(d,"class");c=objj_msgSend(d,"themeClass");
var e=objj_msgSend(b,"_themeAttributes");for(b=e.length;b--;){var j=e[b--];_themeAttributes[j]=CPThemeAttributeDecode(g,j,e[b],_theme,c)}objj_msgSend(d,"setNeedsDisplay:",YES);objj_msgSend(d,"setNeedsLayout")}return d}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,d,b){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPView").super_class},"encodeWithCoder:",b);_tag!==-1&&objj_msgSend(b,"encodeInt:forKey:",_tag,"CPViewTagKey");objj_msgSend(b,"encodeRect:forKey:",_frame,
"CPViewFrameKey");objj_msgSend(b,"encodeRect:forKey:",_bounds,"CPViewBoundsKey");_window!==nil&&objj_msgSend(b,"encodeConditionalObject:forKey:",_window,"CPViewWindowKey");d=objj_msgSend(_subviews,"count");var g=_subviews;if(d>0&&objj_msgSend(_ephemeralSubviews,"count")>0)for(g=objj_msgSend(g,"copy");d--;)objj_msgSend(_ephemeralSubviews,"containsObject:",g[d])&&g.splice(d,1);g.length>0&&objj_msgSend(b,"encodeObject:forKey:",g,"CPViewSubviewsKey");_superview!==nil&&objj_msgSend(b,"encodeConditionalObject:forKey:",
_superview,"CPViewSuperviewKey");_autoresizingMask!==CPViewNotSizable&&objj_msgSend(b,"encodeInt:forKey:",_autoresizingMask,"CPViewAutoresizingMask");_autoresizesSubviews||objj_msgSend(b,"encodeBool:forKey:",_autoresizesSubviews,"CPViewAutoresizesSubviews");_backgroundColor!==nil&&objj_msgSend(b,"encodeObject:forKey:",_backgroundColor,"CPViewBackgroundColor");_hitTests!==YES&&objj_msgSend(b,"encodeBool:forKey:",_hitTests,"CPViewHitTestsKey");_opacity!==1&&objj_msgSend(b,"encodeFloat:forKey:",_opacity,
"CPViewOpacityKey");_isHidden&&objj_msgSend(b,"encodeBool:forKey:",_isHidden,"CPViewIsHiddenKey");d=objj_msgSend(a,"nextKeyView");d!==nil&&objj_msgSend(b,"encodeConditionalObject:forKey:",d,"CPViewNextKeyViewKey");d=objj_msgSend(a,"previousKeyView");d!==nil&&objj_msgSend(b,"encodeConditionalObject:forKey:",d,"CPViewPreviousKeyViewKey");objj_msgSend(b,"encodeObject:forKey:",objj_msgSend(a,"themeClass"),"CPViewThemeClassKey");objj_msgSend(b,"encodeInt:forKey:",CPThemeStateName(_themeState),"CPViewThemeStateKey");
for(var c in _themeAttributes)_themeAttributes.hasOwnProperty(c)&&CPThemeAttributeEncode(b,_themeAttributes[c])}})]);var i=function(a,d){var b=CGAffineTransformMakeIdentity(),g=YES,c=nil,j=nil;if(a){for(c=a;c&&c!=d;){var e=c._frame;b.tx+=e.origin.x;b.ty+=e.origin.y;if(c._boundsTransform){e=b.tx*c._boundsTransform.a+b.ty*c._boundsTransform.c+c._boundsTransform.tx;b.ty=b.tx*c._boundsTransform.b+b.ty*c._boundsTransform.d+c._boundsTransform.ty;b.tx=e;e=b.a*c._boundsTransform.a+b.b*c._boundsTransform.c;
var i=b.a*c._boundsTransform.b+b.b*c._boundsTransform.d,h=b.c*c._boundsTransform.a+b.d*c._boundsTransform.c;b.d=b.c*c._boundsTransform.b+b.d*c._boundsTransform.d;b.a=e;b.b=i;b.c=h}c=c._superview}if(c===d)return b;else a&&d&&(c=objj_msgSend(a,"window"),j=objj_msgSend(d,"window"),c&&j&&c!==j&&(g=NO,e=objj_msgSend(c,"frame"),b.tx+=e.origin.x,b.ty+=e.origin.y))}for(c=d;c;){e=c._frame;b.tx-=e.origin.x;b.ty-=e.origin.y;if(c._boundsTransform)e=b.tx*c._inverseBoundsTransform.a+b.ty*c._inverseBoundsTransform.c+
c._inverseBoundsTransform.tx,b.ty=b.tx*c._inverseBoundsTransform.b+b.ty*c._inverseBoundsTransform.d+c._inverseBoundsTransform.ty,b.tx=e,e=b.a*c._inverseBoundsTransform.a+b.b*c._inverseBoundsTransform.c,i=b.a*c._inverseBoundsTransform.b+b.b*c._inverseBoundsTransform.d,h=b.c*c._inverseBoundsTransform.a+b.d*c._inverseBoundsTransform.c,b.d=b.c*c._inverseBoundsTransform.b+b.d*c._inverseBoundsTransform.d,b.a=e,b.b=i,b.c=h;c=c._superview}g||(e=objj_msgSend(j,"frame"),b.tx-=e.origin.x,b.ty-=e.origin.y);return b}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPTextField.j",baseURL),function(f,h){h("CPControl.j",YES);h("CPStringDrawing.j",YES);h("CPCompatibility.j",YES);h("_CPImageAndTextView.j",YES);CPTextFieldSquareBezel=0;CPTextFieldRoundedBezel=1;CPTextFieldDidFocusNotification="CPTextFieldDidFocusNotification";CPTextFieldDidBlurNotification="CPTextFieldDidBlurNotification";var e=nil,c=nil,a=nil,b=nil,d=NO,g=NO,i=NO,m=nil,q=nil,p=nil,k=objj_getClass("CPString");if(!k)throw new SyntaxError('*** Could not find definition for class "CPString"');
var n=k.isa;class_addMethods(k,[new objj_method(sel_getUid("string"),function(a){with(a)return a})]);CPTextFieldStateRounded=CPThemeState("rounded");CPTextFieldStatePlaceholder=CPThemeState("placeholder");k=objj_allocateClassPair(CPControl,"CPTextField");n=k.isa;class_addIvars(k,[new objj_ivar("_isEditing"),new objj_ivar("_isEditable"),new objj_ivar("_isSelectable"),new objj_ivar("_isSecure"),new objj_ivar("_willBecomeFirstResponderByClick"),new objj_ivar("_drawsBackground"),new objj_ivar("_textFieldBackgroundColor"),
new objj_ivar("_placeholderString"),new objj_ivar("_delegate"),new objj_ivar("_textDidChangeValue"),new objj_ivar("_bezelStyle"),new objj_ivar("_isBordered"),new objj_ivar("_controlSize")]);objj_registerClassPair(k);class_addMethods(k,[new objj_method(sel_getUid("_inputElement"),function(j){with(j){if(!e)e=document.createElement("input"),e.style.position="absolute",e.style.border="0px",e.style.padding="0px",e.style.margin="0px",e.style.whiteSpace="pre",e.style.background="transparent",e.style.outline=
"none",p=function(a){if(!(b&&b._DOMElement!=e.parentNode))if(d)return CPTextFieldHandleBlur(a,e),g=YES,!0;else objj_msgSend(objj_msgSend(b,"window"),"makeFirstResponder:",nil)},CPTextFieldHandleBlur=function(){b=nil;objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode)},e.onblur=p,a=e;if(CPFeatureIsCompatible(CPInputTypeCanBeChangedFeature))return e.type=objj_msgSend(j,"isSecure")?"password":"text",e;if(objj_msgSend(j,"isSecure")){if(!c)c=document.createElement("input"),
c.style.position="absolute",c.style.border="0px",c.style.padding="0px",c.style.margin="0px",c.style.whiteSpace="pre",c.style.background="transparent",c.style.outline="none",c.type="password",c.onblur=p;e=c}else e=a;return e}}),new objj_method(sel_getUid("initWithFrame:"),function(a,d,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"initWithFrame:",b))objj_msgSend(a,"setStringValue:",""),objj_msgSend(a,"setPlaceholderString:",""),_sendActionOn=CPKeyUpMask|
CPKeyDownMask,objj_msgSend(a,"setValue:forThemeAttribute:",CPLeftTextAlignment,"alignment");return a}}),new objj_method(sel_getUid("setEditable:"),function(a,d,b){with(a){if(_isEditable===b)return;(_isEditable=b)&&(_isSelectable=YES);!b&&objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a&&objj_msgSend(objj_msgSend(a,"window"),"makeFirstResponder:",nil)}}),new objj_method(sel_getUid("isEditable"),function(a){with(a)return _isEditable}),new objj_method(sel_getUid("setEnabled:"),function(a,
d,b){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"setEnabled:",b),!b&&objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a&&objj_msgSend(objj_msgSend(a,"window"),"makeFirstResponder:",nil)}),new objj_method(sel_getUid("setSelectable:"),function(a,d,b){with(a)_isSelectable=b}),new objj_method(sel_getUid("isSelectable"),function(a){with(a)return _isSelectable}),new objj_method(sel_getUid("setSecure:"),function(a,d,b){with(a)_isSecure=b}),new objj_method(sel_getUid("isSecure"),
function(a){with(a)return _isSecure}),new objj_method(sel_getUid("setBezeled:"),function(a,d,b){with(a)b?objj_msgSend(a,"setThemeState:",CPThemeStateBezeled):objj_msgSend(a,"unsetThemeState:",CPThemeStateBezeled)}),new objj_method(sel_getUid("isBezeled"),function(a){with(a)return objj_msgSend(a,"hasThemeState:",CPThemeStateBezeled)}),new objj_method(sel_getUid("setBezelStyle:"),function(a,d,b){with(a)b===CPTextFieldRoundedBezel?objj_msgSend(a,"setThemeState:",CPTextFieldStateRounded):objj_msgSend(a,
"unsetThemeState:",CPTextFieldStateRounded)}),new objj_method(sel_getUid("bezelStyle"),function(a){with(a){if(objj_msgSend(a,"hasThemeState:",CPTextFieldStateRounded))return CPTextFieldRoundedBezel;return CPTextFieldSquareBezel}}),new objj_method(sel_getUid("setBordered:"),function(a,d,b){with(a)b?objj_msgSend(a,"setThemeState:",CPThemeStateBordered):objj_msgSend(a,"unsetThemeState:",CPThemeStateBordered)}),new objj_method(sel_getUid("isBordered"),function(a){with(a)return objj_msgSend(a,"hasThemeState:",
CPThemeStateBordered)}),new objj_method(sel_getUid("setDrawsBackground:"),function(a,d,b){with(a){if(_drawsBackground==b)return;_drawsBackground=b;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("drawsBackground"),function(a){with(a)return _drawsBackground}),new objj_method(sel_getUid("setTextFieldBackgroundColor:"),function(a,d,b){with(a){if(_textFieldBackgroundColor==b)return;_textFieldBackgroundColor=b;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,
"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("textFieldBackgroundColor"),function(a){with(a)return _textFieldBackgroundColor}),new objj_method(sel_getUid("acceptsFirstResponder"),function(a){with(a)return objj_msgSend(a,"isEditable")&&objj_msgSend(a,"isEnabled")}),new objj_method(sel_getUid("becomeFirstResponder"),function(a){with(a){b&&objj_msgSend(b,"window")!==objj_msgSend(a,"window")&&objj_msgSend(objj_msgSend(b,"window"),"makeFirstResponder:",nil);objj_msgSend(a,"setThemeState:",CPThemeStateEditing);
objj_msgSend(a,"_updatePlaceholderState");objj_msgSend(a,"setNeedsLayout");_isEditing=NO;var d=objj_msgSend(a,"stringValue"),g=objj_msgSend(a,"_inputElement"),c=objj_msgSend(a,"currentValueForThemeAttribute:","font");objj_msgSend(c,"_getMetrics");g.value=d;g.style.color=objj_msgSend(objj_msgSend(a,"currentValueForThemeAttribute:","text-color"),"cssString");g.style.font=objj_msgSend(c,"cssString");g.style.zIndex=1E3;switch(objj_msgSend(a,"alignment")){case CPCenterTextAlignment:g.style.textAlign="center";
break;case CPRightTextAlignment:g.style.textAlign="right";break;default:g.style.textAlign="left"}d=objj_msgSend(a,"contentRectForBounds:",objj_msgSend(a,"bounds"));switch(objj_msgSend(a,"currentValueForThemeAttribute:","vertical-alignment")){case CPTopVerticalTextAlignment:var e=d.origin.y+1+"px";break;case CPCenterVerticalTextAlignment:e=d.origin.y+d.size.height/2-c._lineHeight/2+1+"px";break;case CPBottomVerticalTextAlignment:e=d.origin.y+d.size.height-c._lineHeight+"px";break;default:e=d.origin.y+
1+"px"}g.style.top=e;g.style.left=d.origin.x-1+"px";g.style.width=d.size.width+"px";g.style.height=c._lineHeight+"px";_DOMElement.appendChild(g);window.setTimeout(function(){g.focus();_willBecomeFirstResponderByClick||objj_msgSend(a,"selectText:",a);_willBecomeFirstResponderByClick=NO;objj_msgSend(a,"textDidFocus:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPTextFieldDidFocusNotification,a,nil));b=a},0);g.value=objj_msgSend(a,"stringValue");objj_msgSend(objj_msgSend(objj_msgSend(a,
"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);i=YES;if(document.attachEvent)m=objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart,q=objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.ondrag,objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.ondrag=function(){},objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart=function(){};return YES}}),new objj_method(sel_getUid("resignFirstResponder"),
function(a){with(a){objj_msgSend(a,"unsetThemeState:",CPThemeStateEditing);objj_msgSend(a,"_updatePlaceholderState");objj_msgSend(a,"setNeedsLayout");var b=objj_msgSend(a,"_inputElement");objj_msgSend(a,"stringValue")!==b.value&&objj_msgSend(a,"_setStringValue:",b.value);d=YES;i&&b.blur();g||p();d=g=NO;b.parentNode==_DOMElement&&b.parentNode.removeChild(b);i=NO;if(document.attachEvent)objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.ondrag=q,objj_msgSend(objj_msgSend(a,"window"),
"platformWindow")._DOMBodyElement.onselectstart=m,q=m=nil;_isEditing&&(_isEditing=NO,objj_msgSend(a,"textDidEndEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidEndEditingNotification,a,nil)),objj_msgSend(a,"sendsActionOnEndEditing")&&objj_msgSend(a,"sendAction:to:",objj_msgSend(a,"action"),objj_msgSend(a,"target")));objj_msgSend(a,"textDidBlur:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPTextFieldDidBlurNotification,a,nil));return YES}}),
new objj_method(sel_getUid("needsPanelToBecomeKey"),function(a){with(a)return YES}),new objj_method(sel_getUid("mouseDown:"),function(a,d,b){with(a)if(objj_msgSend(a,"isEditable")&&objj_msgSend(a,"isEnabled"))_willBecomeFirstResponderByClick=YES,objj_msgSend(objj_msgSend(a,"window"),"makeFirstResponder:",a);else if(objj_msgSend(a,"isSelectable")){if(document.attachEvent)m=objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart,q=objj_msgSend(objj_msgSend(a,"window"),
"platformWindow")._DOMBodyElement.ondrag,objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.ondrag=function(){},objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart=function(){};return objj_msgSend(objj_msgSend(objj_msgSend(b,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES)}else return objj_msgSend(objj_msgSend(a,"nextResponder"),"mouseDown:",b)}),new objj_method(sel_getUid("mouseUp:"),function(a,d,b){with(a)if(!objj_msgSend(a,"isSelectable")&&
(!objj_msgSend(a,"isEditable")||!objj_msgSend(a,"isEnabled")))objj_msgSend(objj_msgSend(a,"nextResponder"),"mouseUp:",b);else if(objj_msgSend(a,"isSelectable")){if(document.attachEvent)objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.ondrag=q,objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart=m,q=m=nil;return objj_msgSend(objj_msgSend(objj_msgSend(b,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES)}}),new objj_method(sel_getUid("mouseDragged:"),
function(a,d,b){with(a)if(!objj_msgSend(a,"isSelectable")&&(!objj_msgSend(a,"isEditable")||!objj_msgSend(a,"isEnabled")))objj_msgSend(objj_msgSend(a,"nextResponder"),"mouseDragged:",b);else if(objj_msgSend(a,"isSelectable"))return objj_msgSend(objj_msgSend(objj_msgSend(b,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES)}),new objj_method(sel_getUid("keyUp:"),function(a){with(a){var b=objj_msgSend(a,"stringValue");objj_msgSend(a,"_setStringValue:",objj_msgSend(a,"_inputElement").value);
b!==objj_msgSend(a,"stringValue")&&(_isEditing||(_isEditing=YES,objj_msgSend(a,"textDidBeginEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidBeginEditingNotification,a,nil))),objj_msgSend(a,"textDidChange:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidChangeNotification,a,nil)));objj_msgSend(objj_msgSend(objj_msgSend(a,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES)}}),new objj_method(sel_getUid("keyDown:"),
function(a,b,d){with(a){if(objj_msgSend(d,"_couldBeKeyEquivalent")&&objj_msgSend(a,"performKeyEquivalent:",d))return;objj_msgSend(objj_msgSend(objj_msgSend(a,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);objj_msgSend(a,"interpretKeyEvents:",[d]);objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode)}}),new objj_method(sel_getUid("doCommandBySelector:"),function(a,b,d){with(a)objj_msgSend(a,"respondsToSelector:",d)&&objj_msgSend(a,"performSelector:",
d)}),new objj_method(sel_getUid("insertNewline:"),function(a){with(a)_isEditing&&(_isEditing=NO,objj_msgSend(a,"textDidEndEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidEndEditingNotification,a,nil))),objj_msgSend(a,"sendAction:to:",objj_msgSend(a,"action"),objj_msgSend(a,"target")),objj_msgSend(a,"selectText:",nil),objj_msgSend(objj_msgSend(objj_msgSend(a,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",NO)}),new objj_method(sel_getUid("insertNewlineIgnoringFieldEditor:"),
function(a){with(a){var d=objj_msgSend(a,"stringValue");objj_msgSend(a,"_inputElement").value+=CPNewlineCharacter;objj_msgSend(a,"_setStringValue:",objj_msgSend(a,"_inputElement").value);d!==objj_msgSend(a,"stringValue")&&(_isEditing||(_isEditing=YES,objj_msgSend(a,"textDidBeginEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidBeginEditingNotification,a,nil))),objj_msgSend(a,"textDidChange:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",
CPControlTextDidChangeNotification,a,nil)))}}),new objj_method(sel_getUid("insertTabIgnoringFieldEditor:"),function(a){with(a){var d=objj_msgSend(a,"stringValue");objj_msgSend(a,"_inputElement").value+=CPTabCharacter;objj_msgSend(a,"_setStringValue:",objj_msgSend(a,"_inputElement").value);d!==objj_msgSend(a,"stringValue")&&(_isEditing||(_isEditing=YES,objj_msgSend(a,"textDidBeginEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidBeginEditingNotification,
a,nil))),objj_msgSend(a,"textDidChange:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidChangeNotification,a,nil)))}}),new objj_method(sel_getUid("textDidBlur:"),function(a,d,b){with(a){if(objj_msgSend(b,"object")!=a)return;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotification:",b)}}),new objj_method(sel_getUid("textDidFocus:"),function(a,d,b){with(a){if(objj_msgSend(b,"object")!=a)return;objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotification:",b)}}),new objj_method(sel_getUid("sendAction:to:"),function(a,d,b,g){with(a)objj_msgSend(a,"_reverseSetBinding"),objj_msgSend(CPApp,"sendAction:to:from:",b,g,a)}),new objj_method(sel_getUid("objectValue"),function(a){with(a)return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"objectValue")}),new objj_method(sel_getUid("_setStringValue:"),function(a,d,b){with(a)objj_msgSend(a,"willChangeValueForKey:","objectValue"),objj_msgSendSuper({receiver:a,
super_class:objj_getClass("CPTextField").super_class},"setObjectValue:",String(b)),objj_msgSend(a,"_updatePlaceholderState"),objj_msgSend(a,"didChangeValueForKey:","objectValue")}),new objj_method(sel_getUid("setObjectValue:"),function(a,d,g){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"setObjectValue:",g);if(b===a||objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a)objj_msgSend(a,"_inputElement").value=g;objj_msgSend(a,"_updatePlaceholderState")}}),
new objj_method(sel_getUid("_updatePlaceholderState"),function(a){with(a){var d=objj_msgSend(a,"stringValue");(!d||d.length===0)&&!objj_msgSend(a,"hasThemeState:",CPThemeStateEditing)?objj_msgSend(a,"setThemeState:",CPTextFieldStatePlaceholder):objj_msgSend(a,"unsetThemeState:",CPTextFieldStatePlaceholder)}}),new objj_method(sel_getUid("setPlaceholderString:"),function(a,d,b){with(a){if(_placeholderString===b)return;_placeholderString=b;objj_msgSend(a,"hasThemeState:",CPTextFieldStatePlaceholder)&&
(objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,"setNeedsDisplay:",YES))}}),new objj_method(sel_getUid("placeholderString"),function(a){with(a)return _placeholderString}),new objj_method(sel_getUid("sizeToFit"),function(a){with(a)objj_msgSend(a,"setFrameSize:",objj_msgSend(a,"_minimumFrameSize"))}),new objj_method(sel_getUid("_minimumFrameSize"),function(a){with(a){var d=objj_msgSend(a,"frameSize"),b=objj_msgSend(a,"currentValueForThemeAttribute:","content-inset"),g=objj_msgSend(a,"currentValueForThemeAttribute:",
"min-size"),c=objj_msgSend(a,"currentValueForThemeAttribute:","max-size"),e=objj_msgSend(a,"lineBreakMode"),q=objj_msgSend(a,"stringValue")||" ",i={width:d.width,height:d.height},p=objj_msgSend(a,"currentValueForThemeAttribute:","font");i.width-=b.left+b.right;i.height-=b.top+b.bottom;i=d.width!==0&&!objj_msgSend(a,"isBezeled")&&(e===CPLineBreakByWordWrapping||e===CPLineBreakByCharWrapping)?objj_msgSend(q,"sizeWithFont:inWidth:",p,i.width):objj_msgSend(q,"sizeWithFont:",p);d.height=i.height+b.top+
b.bottom;if(objj_msgSend(a,"isBezeled")){d.height=MAX(d.height,g.height);if(c.width>0)d.width=MIN(d.width,c.width);if(c.height>0)d.height=MIN(d.height,c.height)}else d.width=i.width+b.left+b.right;d.width=MAX(d.width,g.width);return d}}),new objj_method(sel_getUid("selectText:"),function(a,d,b){with(a)if(objj_msgSend(a,"isEditable")||objj_msgSend(a,"isSelectable")){var g=objj_msgSend(a,"_inputElement");objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a?window.setTimeout(function(){g.select()},
0):objj_msgSend(a,"window")!==nil&&objj_msgSend(objj_msgSend(a,"window"),"makeFirstResponder:",a)&&window.setTimeout(function(){objj_msgSend(a,"selectText:",b)},0)}}),new objj_method(sel_getUid("copy:"),function(a){with(a)if(!objj_msgSend(CPPlatform,"isBrowser")){var d=objj_msgSend(a,"selectedRange");if(d.length<1)return;var b=objj_msgSend(CPPasteboard,"generalPasteboard");a=objj_msgSend(a,"stringValue");d=objj_msgSend(a,"substringWithRange:",d);objj_msgSend(b,"declareTypes:owner:",[CPStringPboardType],
nil);objj_msgSend(b,"setString:forType:",d,CPStringPboardType)}}),new objj_method(sel_getUid("cut:"),function(a,d,b){with(a)objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",0,a,sel_getUid("keyUp:"),nil,NO):(objj_msgSend(a,"copy:",b),objj_msgSend(a,"deleteBackward:",b))}),new objj_method(sel_getUid("paste:"),function(a,d,b){with(a)if(objj_msgSend(CPPlatform,"isBrowser"))objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",
0,a,sel_getUid("keyUp:"),nil,NO);else{d=objj_msgSend(CPPasteboard,"generalPasteboard");if(!objj_msgSend(objj_msgSend(d,"types"),"containsObject:",CPStringPboardType))return;objj_msgSend(a,"deleteBackward:",b);b=objj_msgSend(a,"selectedRange");var g=objj_msgSend(a,"stringValue");d=objj_msgSend(d,"stringForType:",CPStringPboardType);g=objj_msgSend(g,"stringByReplacingCharactersInRange:withString:",b,d);objj_msgSend(a,"setStringValue:",g);objj_msgSend(a,"setSelectedRange:",CPMakeRange(b.location+d.length,
0))}}),new objj_method(sel_getUid("selectedRange"),function(a){with(a){if(objj_msgSend(objj_msgSend(a,"window"),"firstResponder")!==a)return CPMakeRange(0,0);try{var d=objj_msgSend(a,"_inputElement"),b=d.selectionStart,g=d.selectionEnd;if(objj_msgSend(b,"isKindOfClass:",CPNumber))return CPMakeRange(b,g-b);var c=(d.ownerDocument||d.document).selection.createRange(),e=d.createTextRange();if(e.inRange(c))return e.setEndPoint("EndToStart",c),CPMakeRange(e.text.length,c.text.length)}catch(q){}return CPMakeRange(0,
0)}}),new objj_method(sel_getUid("setSelectedRange:"),function(a,d,b){with(a){if(!objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a)return;a=objj_msgSend(a,"_inputElement");try{if(objj_msgSend(a.selectionStart,"isKindOfClass:",CPNumber))a.selectionStart=b.location,a.selectionEnd=CPMaxRange(b);else{var g=(a.ownerDocument||a.document).selection.createRange(),c=a.createTextRange();c.inRange(g)&&(c.collapse(!0),c.move("character",b.location),c.moveEnd("character",b.length),c.select())}}catch(e){}}}),
new objj_method(sel_getUid("selectAll:"),function(a,d,b){with(a)objj_msgSend(a,"selectText:",b)}),new objj_method(sel_getUid("deleteBackward:"),function(a){with(a){var d=objj_msgSend(a,"selectedRange");if(d.length<2)return;d.location+=1;d.length-=1;var b=objj_msgSend(a,"stringValue");b=objj_msgSend(b,"stringByReplacingCharactersInRange:withString:",d,"");objj_msgSend(a,"setStringValue:",b);objj_msgSend(a,"setSelectedRange:",CPMakeRange(d.location,0))}}),new objj_method(sel_getUid("setDelegate:"),
function(a,d,b){with(a)d=objj_msgSend(CPNotificationCenter,"defaultCenter"),_delegate&&(objj_msgSend(d,"removeObserver:name:object:",_delegate,CPControlTextDidBeginEditingNotification,a),objj_msgSend(d,"removeObserver:name:object:",_delegate,CPControlTextDidChangeNotification,a),objj_msgSend(d,"removeObserver:name:object:",_delegate,CPControlTextDidEndEditingNotification,a),objj_msgSend(d,"removeObserver:name:object:",_delegate,CPTextFieldDidFocusNotification,a),objj_msgSend(d,"removeObserver:name:object:",
_delegate,CPTextFieldDidBlurNotification,a)),_delegate=b,objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidBeginEditing:"))&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidBeginEditing:"),CPControlTextDidBeginEditingNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidChange:"))&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidChange:"),CPControlTextDidChangeNotification,
a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidEndEditing:"))&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidEndEditing:"),CPControlTextDidEndEditingNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidFocus:"))&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidFocus:"),CPTextFieldDidFocusNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidBlur:"))&&
objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidBlur:"),CPTextFieldDidBlurNotification,a)}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("contentRectForBounds:"),function(a,d,b){with(a){a=objj_msgSend(a,"currentValueForThemeAttribute:","content-inset");if(!a)return b;b.origin.x+=a.left;b.origin.y+=a.top;b.size.width-=a.left+a.right;b.size.height-=a.top+a.bottom;return b}}),new objj_method(sel_getUid("bezelRectForBounds:"),
function(a,d,b){with(a){a=objj_msgSend(a,"currentValueForThemeAttribute:","bezel-inset");if(a.top===0&&a.right===0&&a.bottom===0&&a.left===0)return b;b.origin.x+=a.left;b.origin.y+=a.top;b.size.width-=a.left+a.right;b.size.height-=a.top+a.bottom;return b}}),new objj_method(sel_getUid("rectForEphemeralSubviewNamed:"),function(a,d,b){with(a){if(b==="bezel-view")return objj_msgSend(a,"bezelRectForBounds:",objj_msgSend(a,"bounds"));else if(b==="content-view")return objj_msgSend(a,"contentRectForBounds:",
objj_msgSend(a,"bounds"));return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"rectForEphemeralSubviewNamed:",b)}}),new objj_method(sel_getUid("createEphemeralSubviewNamed:"),function(a,d,b){with(a)return a=b==="bezel-view"?objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}}):objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}}),objj_msgSend(a,"setHitTests:",
NO),a}),new objj_method(sel_getUid("layoutSubviews"),function(a){with(a){var d=objj_msgSend(a,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","bezel-view",CPWindowBelow,"content-view");d&&objj_msgSend(d,"setBackgroundColor:",objj_msgSend(a,"currentValueForThemeAttribute:","bezel-color"));if(d=objj_msgSend(a,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","content-view",CPWindowAbove,"bezel-view")){objj_msgSend(d,"setHidden:",objj_msgSend(a,"hasThemeState:",
CPThemeStateEditing));var b="";objj_msgSend(a,"hasThemeState:",CPTextFieldStatePlaceholder)?b=objj_msgSend(a,"placeholderString"):(b=objj_msgSend(a,"stringValue"),objj_msgSend(a,"isSecure")&&(b=b?Array(b.length+1).join("•"):""));objj_msgSend(d,"setText:",b);objj_msgSend(d,"setTextColor:",objj_msgSend(a,"currentValueForThemeAttribute:","text-color"));objj_msgSend(d,"setFont:",objj_msgSend(a,"currentValueForThemeAttribute:","font"));objj_msgSend(d,"setAlignment:",objj_msgSend(a,"currentValueForThemeAttribute:",
"alignment"));objj_msgSend(d,"setVerticalAlignment:",objj_msgSend(a,"currentValueForThemeAttribute:","vertical-alignment"));objj_msgSend(d,"setLineBreakMode:",objj_msgSend(a,"currentValueForThemeAttribute:","line-break-mode"));objj_msgSend(d,"setTextShadowColor:",objj_msgSend(a,"currentValueForThemeAttribute:","text-shadow-color"));objj_msgSend(d,"setTextShadowOffset:",objj_msgSend(a,"currentValueForThemeAttribute:","text-shadow-offset"))}}}),new objj_method(sel_getUid("takeValueFromKeyPath:ofObjects:"),
function(a,d,b,g){with(a){d=g.length;var c=objj_msgSend(g[0],"valueForKeyPath:",b);objj_msgSend(a,"setStringValue:",c);for(objj_msgSend(a,"setPlaceholderString:","");d-- >1;)c!==objj_msgSend(g[d],"valueForKeyPath:",b)&&(objj_msgSend(a,"setPlaceholderString:","Multiple Values"),objj_msgSend(a,"setStringValue:",""))}})]);class_addMethods(n,[new objj_method(sel_getUid("textFieldWithStringValue:placeholder:width:"),function(a,d,b,g,c){with(a)return objj_msgSend(a,"textFieldWithStringValue:placeholder:width:theme:",
b,g,c,objj_msgSend(CPTheme,"defaultTheme"))}),new objj_method(sel_getUid("textFieldWithStringValue:placeholder:width:theme:"),function(a,d,b,g,c,e){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"initWithFrame:",CGRectMake(0,0,c,29)),objj_msgSend(a,"setTheme:",e),objj_msgSend(a,"setStringValue:",b),objj_msgSend(a,"setPlaceholderString:",g),objj_msgSend(a,"setBordered:",YES),objj_msgSend(a,"setBezeled:",YES),objj_msgSend(a,"setEditable:",YES),objj_msgSend(a,"sizeToFit"),a}),new objj_method(sel_getUid("roundedTextFieldWithStringValue:placeholder:width:"),
function(a,d,b,g,c){with(a)return objj_msgSend(a,"roundedTextFieldWithStringValue:placeholder:width:theme:",b,g,c,objj_msgSend(CPTheme,"defaultTheme"))}),new objj_method(sel_getUid("roundedTextFieldWithStringValue:placeholder:width:theme:"),function(a,d,b,g,c,e){with(a)return a=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,0,c,29)),objj_msgSend(a,"setTheme:",e),objj_msgSend(a,"setStringValue:",b),objj_msgSend(a,"setPlaceholderString:",g),objj_msgSend(a,"setBezelStyle:",
CPTextFieldRoundedBezel),objj_msgSend(a,"setBordered:",YES),objj_msgSend(a,"setBezeled:",YES),objj_msgSend(a,"setEditable:",YES),objj_msgSend(a,"sizeToFit"),a}),new objj_method(sel_getUid("labelWithTitle:"),function(a,d,b){with(a)return objj_msgSend(a,"labelWithTitle:theme:",b,objj_msgSend(CPTheme,"defaultTheme"))}),new objj_method(sel_getUid("labelWithTitle:theme:"),function(a,d,b){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"init"),objj_msgSend(a,"setStringValue:",b),objj_msgSend(a,"sizeToFit"),
a}),new objj_method(sel_getUid("defaultThemeClass"),function(a){with(a)return"textfield"}),new objj_method(sel_getUid("_binderClassForBinding:"),function(a,d,b){with(a){if(b===CPValueBinding)return objj_msgSend(_CPTextFieldValueBinder,"class");return objj_msgSendSuper({receiver:a,super_class:objj_getMetaClass("CPTextField").super_class},"_binderClassForBinding:",b)}}),new objj_method(sel_getUid("themeAttributes"),function(a){with(a)return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",
[{top:0,right:0,bottom:0,left:0},{top:2,right:2,bottom:2,left:2},objj_msgSend(CPNull,"null")],["bezel-inset","content-inset","bezel-color"])})]);k=objj_getClass("CPTextField");if(!k)throw new SyntaxError('*** Could not find definition for class "CPTextField"');n=k.isa;class_addMethods(k,[new objj_method(sel_getUid("initWithCoder:"),function(a,d,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"initWithCoder:",b))objj_msgSend(a,"setEditable:",objj_msgSend(b,
"decodeBoolForKey:","CPTextFieldIsEditableKey")),objj_msgSend(a,"setSelectable:",objj_msgSend(b,"decodeBoolForKey:","CPTextFieldIsSelectableKey")),objj_msgSend(a,"setDrawsBackground:",objj_msgSend(b,"decodeBoolForKey:","CPTextFieldDrawsBackgroundKey")),objj_msgSend(a,"setTextFieldBackgroundColor:",objj_msgSend(b,"decodeObjectForKey:","CPTextFieldBackgroundColorKey")),objj_msgSend(a,"setLineBreakMode:",objj_msgSend(b,"decodeIntForKey:","CPTextFieldLineBreakModeKey")),objj_msgSend(a,"setAlignment:",
objj_msgSend(b,"decodeIntForKey:","CPTextFieldAlignmentKey")),objj_msgSend(a,"setPlaceholderString:",objj_msgSend(b,"decodeObjectForKey:","CPTextFieldPlaceholderStringKey"));return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,d){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"encodeWithCoder:",d),objj_msgSend(d,"encodeBool:forKey:",_isEditable,"CPTextFieldIsEditableKey"),objj_msgSend(d,"encodeBool:forKey:",_isSelectable,"CPTextFieldIsSelectableKey"),
objj_msgSend(d,"encodeBool:forKey:",_drawsBackground,"CPTextFieldDrawsBackgroundKey"),objj_msgSend(d,"encodeObject:forKey:",_textFieldBackgroundColor,"CPTextFieldBackgroundColorKey"),objj_msgSend(d,"encodeInt:forKey:",objj_msgSend(a,"lineBreakMode"),"CPTextFieldLineBreakModeKey"),objj_msgSend(d,"encodeInt:forKey:",objj_msgSend(a,"alignment"),"CPTextFieldAlignmentKey"),objj_msgSend(d,"encodeObject:forKey:",_placeholderString,"CPTextFieldPlaceholderStringKey")})]);k=objj_allocateClassPair(CPBinder,
"_CPTextFieldValueBinder");n=k.isa;objj_registerClassPair(k);class_addMethods(k,[new objj_method(sel_getUid("setValueFor:"),function(a){with(a){var d=objj_msgSend(_info,"objectForKey:",CPObservedObjectKey),b=objj_msgSend(_info,"objectForKey:",CPObservedKeyPathKey),g=objj_msgSend(_info,"objectForKey:",CPOptionsKey);d=objj_msgSend(d,"valueForKeyPath:",b);if(CPIsControllerMarker(d)){switch(d){case CPMultipleValuesMarker:d=objj_msgSend(g,"objectForKey:",CPMultipleValuesPlaceholderBindingOption)||"Multiple Values";
break;case CPNoSelectionMarker:d=objj_msgSend(g,"objectForKey:",CPNoSelectionPlaceholderBindingOption)||"No Selection";break;case CPNotApplicableMarker:objj_msgSend(g,"objectForKey:",CPRaisesForNotApplicableKeysBindingOption)&&objj_msgSend(CPException,"raise:reason:",CPGenericException,"can't transform non applicable key on: "+_source+" value: "+d),d=objj_msgSend(g,"objectForKey:",CPNotApplicablePlaceholderBindingOption)||"Not Applicable"}objj_msgSend(_source,"setPlaceholderString:",d);objj_msgSend(_source,
"setObjectValue:",nil)}else d=objj_msgSend(a,"transformValue:withOptions:",d,g),objj_msgSend(_source,"setObjectValue:",d)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGContext.j",baseURL),function(f,h){h("CGAffineTransform.j",YES);h("CPCompatibility.j",YES);h("CGGeometry.j",YES);h("CGPath.j",YES);kCGLineCapButt=0;kCGLineCapRound=1;kCGLineCapSquare=2;kCGLineJoinMiter=0;kCGLineJoinRound=1;kCGLineJoinBevel=2;kCGPathFill=0;kCGPathEOFill=1;kCGPathStroke=2;kCGPathFillStroke=3;kCGPathEOFillStroke=4;kCGBlendModeNormal=0;kCGBlendModeMultiply=1;kCGBlendModeScreen=2;kCGBlendModeOverlay=3;kCGBlendModeDarken=
4;kCGBlendModeLighten=5;kCGBlendModeColorDodge=6;kCGBlendModeColorBurn=7;kCGBlendModeSoftLight=8;kCGBlendModeHardLight=9;kCGBlendModeDifference=10;kCGBlendModeExclusion=11;kCGBlendModeHue=12;kCGBlendModeSaturation=13;kCGBlendModeColor=14;kCGBlendModeLuminosity=15;kCGBlendModeClear=16;kCGBlendModeCopy=17;kCGBlendModeSourceIn=18;kCGBlendModeSourceOut=19;kCGBlendModeSourceAtop=20;kCGBlendModeDestinationOver=21;kCGBlendModeDestinationIn=22;kCGBlendModeDestinationOut=23;kCGBlendModeDestinationAtop=24;
kCGBlendModeXOR=25;kCGBlendModePlusDarker=26;kCGBlendModePlusLighter=27;CGContextRelease=function(){};CGContextRetain=function(a){return a};CPFeatureIsCompatible(CPHTMLCanvasFeature)||(CGGStateCreate=function(){return{alpha:1,strokeStyle:"#000",fillStyle:"#ccc",lineWidth:1,lineJoin:kCGLineJoinMiter,lineCap:kCGLineCapButt,miterLimit:10,globalAlpha:1,blendMode:kCGBlendModeNormal,shadowOffset:{width:0,height:0},shadowBlur:0,shadowColor:NULL,CTM:{a:1,b:0,c:0,d:1,tx:0,ty:0}}},CGGStateCreateCopy=function(a){return{alpha:a.alpha,
strokeStyle:a.strokeStyle,fillStyle:a.fillStyle,lineWidth:a.lineWidth,lineJoin:a.lineJoin,lineCap:a.lineCap,miterLimit:a.miterLimit,globalAlpha:a.globalAlpha,blendMode:a.blendMode,shadowOffset:a.shadowOffset,shadowBlur:a.shadowBlur,shadowColor:a.shadowColor,CTM:{a:a.CTM.a,b:a.CTM.b,c:a.CTM.c,d:a.CTM.d,tx:a.CTM.tx,ty:a.CTM.ty}}},CGBitmapGraphicsContextCreate=function(){return{DOMElement:document.createElement("div"),path:NULL,gState:CGGStateCreate(),gStateStack:[]}},CGContextSaveGState=function(a){a.gStateStack.push(CGGStateCreateCopy(a.gState))},
CGContextRestoreGState=function(a){a.gState=a.gStateStack.pop()},CGContextSetLineCap=function(a,d){a.gState.lineCap=d},CGContextSetLineJoin=function(a,d){a.gState.lineJoin=d},CGContextSetLineWidth=function(a,d){a.gState.lineWidth=d},CGContextSetMiterLimit=function(a,d){a.gState.miterLimit=d},CGContextSetBlendMode=function(a,d){a.gState.blendMode=d},CGContextAddArc=function(a,d,b,g,c,e,i){CGPathAddArc(a.path,a.gState.CTM,d,b,g,c,e,i)},CGContextAddArcToPoint=function(a,d,b,g,c,e){CGPathAddArcToPoint(a.path,
a.gState.CTM,d,b,g,c,e)},CGContextAddCurveToPoint=function(a,d,b,g,c,e,i){CGPathAddCurveToPoint(a.path,a.gState.CTM,d,b,g,c,e,i)},CGContextAddLines=function(a,d,b){CGPathAddLines(a.path,a.gState.CTM,d,b)},CGContextAddLineToPoint=function(a,d,b){CGPathAddLineToPoint(a.path,a.gState.CTM,d,b)},CGContextAddPath=function(a,d){if(a&&!CGPathIsEmpty(d)){if(!a.path)a.path=CGPathCreateMutable();CGPathAddPath(a.path,a.gState.CTM,d)}},CGContextAddQuadCurveToPoint=function(a,d,b,g,c){CGPathAddQuadCurveToPoint(a.path,
a.gState.CTM,d,b,g,c)},CGContextAddRect=function(a,d){CGPathAddRect(a.path,a.gState.CTM,d)},CGContextAddRects=function(a,d,b){CGPathAddRects(a.path,a.gState.CTM,d,b)},CGContextBeginPath=function(a){a.path=CGPathCreateMutable()},CGContextClosePath=function(a){CGPathCloseSubpath(a.path)},CGContextMoveToPoint=function(a,d,b){if(!a.path)a.path=CGPathCreateMutable();CGPathMoveToPoint(a.path,a.gState.CTM,d,b)},CGContextFillRect=function(a,d){CGContextFillRects(a,[d],1)},CGContextFillRects=function(a,d,
b){if(b===void 0)b=d.length;CGContextBeginPath(a);CGContextAddRects(a,d,b);CGContextClosePath(a);CGContextDrawPath(a,kCGPathFill)},CGContextStrokeRect=function(a,d){CGContextBeginPath(a);CGContextAddRect(a,d);CGContextClosePath(a);CGContextDrawPath(a,kCGPathStroke)},CGContextStrokeRectWithWidth=function(a,d,b){CGContextSaveGState(a);CGContextSetLineWidth(a,b);CGContextStrokeRect(a,d);CGContextRestoreGState(a)},CGContextConcatCTM=function(a,d){var b=a.gState.CTM,g=b.tx*d.a+b.ty*d.c+d.tx;b.ty=b.tx*
d.b+b.ty*d.d+d.ty;b.tx=g;g=b.a*d.a+b.b*d.c;var c=b.a*d.b+b.b*d.d,e=b.c*d.a+b.d*d.c;b.d=b.c*d.b+b.d*d.d;b.a=g;b.b=c;b.c=e},CGContextGetCTM=function(a){return a.gState.CTM},CGContextRotateCTM=function(a,d){var b=a.gState;b.CTM=CGAffineTransformRotate(b.CTM,d)},CGContextScaleCTM=function(a,d,b){a=a.gState;a.CTM={a:a.CTM.a*d,b:a.CTM.b*d,c:a.CTM.c*b,d:a.CTM.d*b,tx:a.CTM.tx,ty:a.CTM.ty}},CGContextTranslateCTM=function(a,d,b){a=a.gState;a.CTM={a:a.CTM.a,b:a.CTM.b,c:a.CTM.c,d:a.CTM.d,tx:a.CTM.tx+a.CTM.a*
d+a.CTM.c*b,ty:a.CTM.ty+a.CTM.b*d+a.CTM.d*b}},CGContextSetShadow=function(a,d,b){a=a.gState;a.shadowOffset={width:d.width,height:d.height};a.shadowBlur=b;a.shadowColor=objj_msgSend(CPColor,"shadowColor")},CGContextSetShadowWithColor=function(a,d,b,g){a=a.gState;a.shadowOffset={width:d.width,height:d.height};a.shadowBlur=b;a.shadowColor=g},CGContextSetAlpha=function(a,d){a.gState.alpha=MAX(MIN(d,1),0)});CGContextEOFillPath=function(a){CGContextDrawPath(a,kCGPathEOFill)};CGContextFillPath=function(a){CGContextDrawPath(a,
kCGPathFill);CGContextClosePath(a)};CGContextAddEllipseInRect=function(a,d){CGContextBeginPath(a);CGContextAddPath(a,CGPathWithEllipseInRect(d));CGContextClosePath(a)};CGContextFillEllipseInRect=function(a,d){CGContextBeginPath(a);CGContextAddEllipseInRect(a,d);CGContextClosePath(a);CGContextFillPath(a)};CGContextStrokeEllipseInRect=function(a,d){CGContextBeginPath(a);CGContextAddEllipseInRect(a,d);CGContextClosePath(a);CGContextStrokePath(a)};CGContextStrokePath=function(a){CGContextDrawPath(a,kCGPathStroke);
CGContextClosePath(a)};CGContextStrokeLineSegments=function(a,d,b){var g=0;if(arguments.count==NULL)b=d.length;for(CGContextBeginPath(a);g<b;g+=2)CGContextMoveToPoint(a,d[g].x,d[g].y),CGContextAddLineToPoint(a,d[g+1].x,d[g+1].y);CGContextStrokePath(a)};CGContextSetFillColor=function(a,d){if(d)a.gState.fillStyle=objj_msgSend(d,"cssString")};CGContextSetStrokeColor=function(a,d){if(d)a.gState.strokeStyle=objj_msgSend(d,"cssString")};CGContextFillRoundedRectangleInRect=function(a,d,b,g,c,e,i){CGContextBeginPath(a);
CGContextAddPath(a,CGPathWithRoundedRectangleInRect(d,b,b,g,c,e,i));CGContextClosePath(a);CGContextFillPath(a)};CGContextStrokeRoundedRectangleInRect=function(a,d,b,g,c,e,i){CGContextBeginPath(a);CGContextAddPath(a,CGPathWithRoundedRectangleInRect(d,b,b,g,c,e,i));CGContextClosePath(a);CGContextStrokePath(a)};if(CPFeatureIsCompatible(CPHTMLCanvasFeature)){var e=["butt","round","square"],c=["miter","round","bevel"],a=["source-over","source-over","source-over","source-over","darker","lighter","source-over",
"source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","copy","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","xor","source-over","source-over"];CGContextSaveGState=function(a){a.save()};CGContextRestoreGState=function(a){a.restore()};CGContextSetLineCap=function(a,d){a.lineCap=e[d]};CGContextSetLineJoin=function(a,d){a.lineJoin=c[d]};CGContextSetLineWidth=
function(a,d){a.lineWidth=d};CGContextSetMiterLimit=function(a,d){a.miterLimit=d};CGContextSetBlendMode=function(d,b){d.globalCompositeOperation=a[b]};CGContextAddArc=function(a,d,b,g,c,e,i){a.arc(d,b,g,c,e,!i)};CGContextAddArcToPoint=function(a,d,b,g,c,e){a.arcTo(d,b,g,c,e)};CGContextAddCurveToPoint=function(a,d,b,g,c,e,i){a.bezierCurveTo(d,b,g,c,e,i)};CGContextAddLineToPoint=function(a,d,b){a.lineTo(d,b)};CGContextAddPath=function(a,d){if(a&&!CGPathIsEmpty(d))for(var b=d.elements,g=0,c=d.count;g<
c;++g){var e=b[g];switch(e.type){case kCGPathElementMoveToPoint:a.moveTo(e.x,e.y);break;case kCGPathElementAddLineToPoint:a.lineTo(e.x,e.y);break;case kCGPathElementAddQuadCurveToPoint:a.quadraticCurveTo(e.cpx,e.cpy,e.x,e.y);break;case kCGPathElementAddCurveToPoint:a.bezierCurveTo(e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.x,e.y);break;case kCGPathElementCloseSubpath:a.closePath();break;case kCGPathElementAddArc:a.arc(e.x,e.y,e.radius,e.startAngle,e.endAngle,e.clockwise)}}};CGContextAddRect=function(a,d){a.rect(d.origin.x,
d.origin.y,d.size.width,d.size.height)};CGContextAddRects=function(a,d,b){var g=0;if(arguments.count==NULL)b=d.length;for(;g<b;++g){var c=d[g];a.rect(c.origin.x,c.origin.y,c.size.width,c.size.height)}};CGContextBeginPath=function(a){a.beginPath()};CGContextClosePath=function(a){a.closePath()};CGContextMoveToPoint=function(a,d,b){a.moveTo(d,b)};CGContextClearRect=function(a,d){a.clearRect(d.origin.x,d.origin.y,d.size.width,d.size.height)};CGContextDrawPath=function(a,d){d==kCGPathFill||d==kCGPathFillStroke?
a.fill():(d==kCGPathEOFill||d==kCGPathEOFillStroke)&&alert("not implemented!!!");(d==kCGPathStroke||d==kCGPathFillStroke||d==kCGPathEOFillStroke)&&a.stroke()};CGContextFillRect=function(a,d){a.fillRect(d.origin.x,d.origin.y,d.size.width,d.size.height)};CGContextFillRects=function(a,d,b){var g=0;if(arguments.count==NULL)b=d.length;for(;g<b;++g){var c=d[g];a.fillRect(c.origin.x,c.origin.y,c.size.width,c.size.height)}};CGContextStrokeRect=function(a,d){a.strokeRect(d.origin.x,d.origin.y,d.size.width,
d.size.height)};CGContextClip=function(a){a.clip()};CGContextClipToRect=function(a,d){a.beginPath();a.rect(d.origin.x,d.origin.y,d.size.width,d.size.height);a.closePath();a.clip()};CGContextClipToRects=function(a,d,b){if(arguments.count==NULL)b=d.length;a.beginPath();CGContextAddRects(a,d,b);a.clip()};CGContextSetAlpha=function(a,d){a.globalAlpha=d};CGContextSetFillColor=function(a,d){if(objj_msgSend(d,"patternImage")){var b=objj_msgSend(d,"patternImage"),g=objj_msgSend(b,"size");g=g?new Image(g.width,
g.height):new Image;g.src=objj_msgSend(b,"filename");b=a.createPattern(g,"repeat");a.fillStyle=b}else a.fillStyle=objj_msgSend(d,"cssString")};CGContextSetStrokeColor=function(a,d){a.strokeStyle=objj_msgSend(d,"cssString")};CGContextSetShadow=function(a,d,b){a.shadowOffsetX=d.width;a.shadowOffsetY=d.height;a.shadowBlur=b};CGContextSetShadowWithColor=function(a,d,b,g){a.shadowOffsetX=d.width;a.shadowOffsetY=d.height;a.shadowBlur=b;a.shadowColor=objj_msgSend(g,"cssString")};CGContextRotateCTM=function(a,
d){a.rotate(d)};CGContextScaleCTM=function(a,d,b){a.scale(d,b)};CGContextTranslateCTM=function(a,d,b){a.translate(d,b)};eigen=function(){alert("IMPLEMENT ME!")};CGContextConcatCTM=CPFeatureIsCompatible(CPJavaScriptCanvasTransformFeature)?function(a,d){a.transform(d.a,d.b,d.c,d.d,d.tx,d.ty)}:function(a,d){var b=d.a,g=d.b,c=d.c,e=d.d,i=d.tx,m=d.ty,h=1,f=1,l=0,v=0;if(g==0&&c==0)h=b,f=e;else if(b*g==-c*e){h=b*e<0||g*c>0?-1:1;v=(ATAN2(g,e)+ATAN2(-h*c,h*b))/2;f=COS(v);var o=SIN(v);f==0?(h=-c/o,f=g/o):o==
0?(h=b/f,f=e/f):(abs_cos=ABS(f),abs_sin=ABS(o),h=(abs_cos*b/f+abs_sin*-c/o)/(abs_cos+abs_sin),f=(abs_cos*e/f+abs_sin*g/o)/(abs_cos+abs_sin))}else if(b*c==-g*e)h=b*e<0||g*c>0?-1:1,l=(Math.atan2(h*g,h*b)+Math.atan2(-c,e))/2,f=COS(l),o=SIN(l),f==0?(h=g/o,f=-c/o):o==0?(h=b/f,f=e/f):(abs_cos=ABS(f),abs_sin=ABS(o),h=(abs_cos*b/f+abs_sin*g/o)/(abs_cos+abs_sin),f=(abs_cos*e/f+abs_sin*-c/o)/(abs_cos+abs_sin));else{g=CGAffineTransformMake(b,c,g,e,0,0);b=eigen(CGAffineTransformConcat(d,g));g=eigen(CGAffineTransformConcat(g,
d));l=CGAffineTransformMake(b.vector_1.x,b.vector_2.x,b.vector_1.y,b.vector_2.y,0,0);e=CGAffineTransformMake(g.vector_1.x,g.vector_1.y,g.vector_2.x,g.vector_2.y,0,0);var x=CGAffineTransformConcat(CGAffineTransformConcat(CGAffineTransformInvert(l),d),CGAffineTransformInvert(e));b=e.a;g=e.b;c=e.c;e=e.d;h=b*e<0||g*c>0?-1:1;v=(ATAN2(g,e)+ATAN2(-h*c,h*b))/2;f=COS(v);o=SIN(v);f==0?(h=-c/o,f=g/o):o==0?(h=b/f,f=e/f):(abs_cos=ABS(f),abs_sin=ABS(o),h=(abs_cos*b/f+abs_sin*-c/o)/(abs_cos+abs_sin),f=(abs_cos*
e/f+abs_sin*g/o)/(abs_cos+abs_sin));x.a*=h;x.d*=f;b=l.a;g=l.b;c=l.c;e=l.d;h=b*e<0||g*c>0?-1:1;l=(Math.atan2(h*g,h*b)+Math.atan2(-c,e))/2;f=COS(l);o=SIN(l);f==0?(h=g/o,f=-c/o):o==0?(h=b/f,f=e/f):(abs_cos=ABS(f),abs_sin=ABS(o),h=(abs_cos*b/f+abs_sin*g/o)/(abs_cos+abs_sin),f=(abs_cos*e/f+abs_sin*-c/o)/(abs_cos+abs_sin));h*=x.a;f*=x.d}(i!=0||m!=0)&&CGContextTranslateCTM(a,i,m);l!=0&&CGContextRotateCTM(a,l);(h!=1||f!=1)&&CGContextScaleCTM(a,h,f);v!=0&&CGContextRotateCTM(a,v)};CGContextDrawImage=function(a,
d,b){a.drawImage(b._image,d.origin.x,d.origin.y,d.size.width,d.size.height)};to_string=function(a){return"rgba("+ROUND(a.components[0]*255)+", "+ROUND(a.components[1]*255)+", "+ROUND(255*a.components[2])+", "+a.components[3]+")"};CGContextDrawLinearGradient=function(a,d,b,g){var c=d.colors,e=c.length;for(b=a.createLinearGradient(b.x,b.y,g.x,g.y);e--;)b.addColorStop(d.locations[e],to_string(c[e]));a.fillStyle=b;a.fill()};CGBitmapGraphicsContextCreate=function(){var a=document.createElement("canvas"),
d=a.getContext("2d");d.DOMElement=a;return d}}else if(CPFeatureIsCompatible(CPVMLFeature)){var b=["f","t"],d=["flat","round","square"],g=["miter","round","bevel"],i=[" m "," l ","qb"," c "," x ",[" at "," wa "]],m=CGBitmapGraphicsContextCreate;CGBitmapGraphicsContextCreate=function(){document.namespaces.add("cg_vml_","urn:schemas-microsoft-com:vml");document.createStyleSheet().cssText="cg_vml_\\:*{behavior:url(#default#VML)}";CGBitmapGraphicsContextCreate=m;return m()};CGContextSetFillColor=function(a,
d){a.gState.fillStyle=objj_msgSend(d,"patternImage")?"!"+objj_msgSend(objj_msgSend(d,"patternImage"),"filename"):objj_msgSend(d,"cssString")};CGContextClearRect=function(a){a.buffer!=nil?a.buffer="":a.DOMElement.innerHTML="";a.path=NULL};CGContextDrawImage=function(a,d,b){var g="";if(b.buffer!=nil)g=b.buffer;else{g=a.gState.CTM;var c=CGPointApplyAffineTransform(d.origin,g),e=['<cg_vml_:group coordsize="1,1" coordorigin="0,0" style="width:1;height:1;position:absolute'],i=CGRectApplyAffineTransform(d,
g);e.push(";padding:0 ",ROUND(i.origin.x+i.size.width),"px ",ROUND(i.origin.y+i.size.height),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(","M11='",g.a,"',M12='",g.c,"',M21='",g.b,"',M22='",g.d,"',","Dx='",ROUND(c.x),"', Dy='",ROUND(c.y),"', sizingmethod='clip');");e.push('"><cg_vml_:image src="',b._image.src,'" style="width:',d.size.width,"px;height:",d.size.height,'px;"/></g_vml_:group>');g=e.join("")}a.buffer!=nil?a.buffer+=g:a.DOMElement.insertAdjacentHTML("BeforeEnd",g)};CGContextDrawPath=
function(a,c){if(a&&!CGPathIsEmpty(a.path)){var e=a.path.elements,m=0,h=a.path.count,f=a.gState,t=c==kCGPathFill||c==kCGPathFillStroke?1:0,s=c==kCGPathStroke||c==kCGPathFillStroke?1:0,A=f.alpha,u=["<cg_vml_:shape"];f.fillStyle.charAt(0)!=="!"&&u.push(' fillcolor="',f.fillStyle,'"');for(u.push(' filled="',b[t],'" style="position:absolute;width:',10,";height:",10,';" coordorigin="0 0" coordsize="',100," ",100,'" stroked="',b[s],'" strokeweight="',f.lineWidth,'" strokecolor="',f.strokeStyle,'" path="');m<
h;++m){var l=e[m],v=l.type;switch(v){case kCGPathElementMoveToPoint:case kCGPathElementAddLineToPoint:u.push(i[v],l.x===0?0:ROUND(10*l.x-5),",",l.y===0?0:ROUND(10*l.y-5));break;case kCGPathElementAddQuadCurveToPoint:u.push(i[v],l.cpx===0?0:ROUND(10*l.cpx-5),",",l.cpy===0?0:ROUND(10*l.cpy-5),",",l.x===0?0:ROUND(10*l.x-5),",",l.y===0?0:ROUND(10*l.y-5));break;case kCGPathElementAddCurveToPoint:u.push(i[v],l.cp1x===0?0:ROUND(10*l.cp1x-5),",",l.cp1y===0?0:ROUND(10*l.cp1y-5),",",l.cp2x===0?0:ROUND(10*l.cp2x-
5),",",l.cp2y===0?0:ROUND(10*l.cp2y-5),",",l.x===0?0:ROUND(10*l.x-5),",",l.y===0?0:ROUND(10*l.y-5));break;case kCGPathElementCloseSubpath:u.push(i[v]);break;case kCGPathElementAddArc:var o=l.x,x=l.y,y=l.radius,C=l.clockwise?1:0,B=l.endAngle;l=l.startAngle;var w={x:o+y*COS(l),y:x+y*SIN(l)};if(l==B&&!C){u.push(i[kCGPathElementMoveToPoint],w.x===0?0:ROUND(10*w.x-5),",",w.y===0?0:ROUND(10*w.y-5));continue}var z={x:o+y*COS(B),y:x+y*SIN(B)};C&&l!=B&&w.x==z.x&&w.y==z.y&&(w.x>=o?w.y<x?w.x+=0.125:w.y+=0.125:
z.y<=x?z.x+=0.125:z.y+=0.125);u.push(i[v][C],o-y===0?0:ROUND(10*(o-y)-5),",",x-y===0?0:ROUND(10*(x-y)-5)," ",o+y===0?0:ROUND(10*(o+y)-5),",",x+y===0?0:ROUND(10*(x+y)-5)," ",w.x===0?0:ROUND(10*w.x-5),",",w.y===0?0:ROUND(10*w.y-5)," ",z.x===0?0:ROUND(10*z.x-5),",",z.y===0?0:ROUND(10*z.y-5))}}u.push('">');f.gradient?u.push(f.gradient):t&&(f.fillStyle.charAt(0)==="!"?u.push('<cg_vml_:fill type="tile" src="',f.fillStyle.substring(1),'" opacity="',A,'" />'):u.push('<cg_vml_:fill color="',f.fillStyle,'" opacity="',
A,'" />'));s&&u.push('<cg_vml_:stroke opacity="',A,'" joinstyle="',g[f.lineJoin],'" miterlimit="',f.miterLimit,'" endcap="',d[f.lineCap],'" weight="',f.lineWidth,"",'px" color="',f.strokeStyle,'" />');if(e=f.shadowColor)f=f.shadowOffset,u.push('<cg_vml_:shadow on="t" offset="',f.width,"pt ",f.height,'pt" opacity="',objj_msgSend(e,"alphaComponent"),'" color=black />');u.push("</cg_vml_:shape>");a.buffer!=nil?a.buffer+=u.join(""):a.DOMElement.insertAdjacentHTML("BeforeEnd",u.join(""))}};to_string=function(a){return"rgb("+
ROUND(a.components[0]*255)+", "+ROUND(a.components[1]*255)+", "+ROUND(255*a.components[2])+")"};CGContextDrawLinearGradient=function(a,d){if(a&&d){var b=nil;if(d.vml_gradient){var g=objj_msgSend(objj_msgSend(d.vml_gradient,"stops"),"sortedArrayUsingSelector:",sel_getUid("comparePosition:")),c=objj_msgSend(g,"count");b=['<cg_vml_:fill type="gradient" method="linear sigma" '];b.push('angle="'+(objj_msgSend(d.vml_gradient,"angle")+90)+'" ');b.push('colors="');for(var e=0;e<c;e++)b.push((objj_msgSend(g[e],
"position")*100).toFixed(0)+"% "),b.push(objj_msgSend(objj_msgSend(objj_msgSend(g[e],"color"),"colorForSlideBase:",nil),"cssString")),e<c-1&&b.push(",")}else{g=d.colors;c=g.length;b=['<cg_vml_:fill type="gradient" '];b.push('colors="');for(e=0;e<c;e++)b.push((d.locations[e]*100).toFixed(0)+"% "+to_string(g[e])+(e<c-1?",":""))}b.push('" />');a.gState.gradient=b.join("")}}}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCollectionView.j",baseURL),function(f,h){h("Foundation/CPArray.j",NO);h("Foundation/CPData.j",NO);h("Foundation/CPIndexSet.j",NO);h("Foundation/CPKeyedArchiver.j",NO);h("Foundation/CPKeyedUnarchiver.j",NO);h("CPView.j",YES);h("CPCollectionViewItem.j",YES);var e=objj_allocateClassPair(CPView,"CPCollectionView");class_addIvars(e,[new objj_ivar("_content"),new objj_ivar("_items"),new objj_ivar("_itemData"),new objj_ivar("_itemPrototype"),
new objj_ivar("_itemForDragging"),new objj_ivar("_cachedItems"),new objj_ivar("_maxNumberOfRows"),new objj_ivar("_maxNumberOfColumns"),new objj_ivar("_minItemSize"),new objj_ivar("_maxItemSize"),new objj_ivar("_backgroundColors"),new objj_ivar("_tileWidth"),new objj_ivar("_isSelectable"),new objj_ivar("_allowsMultipleSelection"),new objj_ivar("_allowsEmptySelection"),new objj_ivar("_selectionIndexes"),new objj_ivar("_itemSize"),new objj_ivar("_horizontalMargin"),new objj_ivar("_verticalMargin"),new objj_ivar("_numberOfRows"),
new objj_ivar("_numberOfColumns"),new objj_ivar("_delegate"),new objj_ivar("_mouseDownEvent")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithFrame:"),function(c,a,b){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPCollectionView").super_class},"initWithFrame:",b))_items=[],_content=[],_cachedItems=[],_itemSize=CGSizeMakeZero(),_minItemSize=CGSizeMakeZero(),_maxItemSize=CGSizeMakeZero(),objj_msgSend(c,"setBackgroundColors:",nil),_verticalMargin=
5,_tileWidth=-1,_selectionIndexes=objj_msgSend(CPIndexSet,"indexSet"),_isSelectable=_allowsEmptySelection=YES;return c}}),new objj_method(sel_getUid("setItemPrototype:"),function(c,a,b){with(c)_cachedItems=[],_itemForDragging=_itemData=nil,_itemPrototype=b,objj_msgSend(c,"reloadContent")}),new objj_method(sel_getUid("itemPrototype"),function(c){with(c)return _itemPrototype}),new objj_method(sel_getUid("newItemForRepresentedObject:"),function(c,a,b){with(c)return c=nil,_cachedItems.length?c=_cachedItems.pop():
(_itemData||_itemPrototype&&(_itemData=objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",_itemPrototype)),c=objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",_itemData)),objj_msgSend(c,"setRepresentedObject:",b),objj_msgSend(objj_msgSend(c,"view"),"setFrameSize:",_itemSize),c}),new objj_method(sel_getUid("acceptsFirstResponder"),function(c){with(c)return YES}),new objj_method(sel_getUid("isFirstResponder"),function(c){with(c)return objj_msgSend(objj_msgSend(c,"window"),"firstResponder")===
c}),new objj_method(sel_getUid("setContent:"),function(c,a,b){with(c)objj_msgSend(c,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSet")),_content=b,objj_msgSend(c,"reloadContent")}),new objj_method(sel_getUid("content"),function(c){with(c)return _content}),new objj_method(sel_getUid("items"),function(c){with(c)return _items}),new objj_method(sel_getUid("setSelectable:"),function(c,a,b){with(c){if(_isSelectable==b)return;_isSelectable=b;if(!_isSelectable)for(c=CPNotFound;(c=objj_msgSend(_selectionIndexes,
"indexGreaterThanIndex:",c))!=CPNotFound;)objj_msgSend(_items[c],"setSelected:",NO)}}),new objj_method(sel_getUid("isSelectable"),function(c){with(c)return _isSelectable}),new objj_method(sel_getUid("setAllowsEmptySelection:"),function(c,a,b){with(c)_allowsEmptySelection=b}),new objj_method(sel_getUid("allowsEmptySelection"),function(c){with(c)return _allowsEmptySelection}),new objj_method(sel_getUid("setAllowsMultipleSelection:"),function(c,a,b){with(c)_allowsMultipleSelection=b}),new objj_method(sel_getUid("allowsMultipleSelection"),
function(c){with(c)return _allowsMultipleSelection}),new objj_method(sel_getUid("setSelectionIndexes:"),function(c,a,b){with(c){if(objj_msgSend(_selectionIndexes,"isEqual:",b)||!_isSelectable)return;for(a=CPNotFound;(a=objj_msgSend(_selectionIndexes,"indexGreaterThanIndex:",a))!=CPNotFound;)objj_msgSend(_items[a],"setSelected:",NO);_selectionIndexes=b;for(a=CPNotFound;(a=objj_msgSend(_selectionIndexes,"indexGreaterThanIndex:",a))!=CPNotFound;)objj_msgSend(_items[a],"setSelected:",YES);b=objj_msgSend(objj_msgSend(c,
"class"),"_binderClassForBinding:","selectionIndexes");objj_msgSend(objj_msgSend(b,"getBinding:forObject:","selectionIndexes",c),"reverseSetValueFor:","selectionIndexes");objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionViewDidChangeSelection:"))&&objj_msgSend(_delegate,"collectionViewDidChangeSelection:",c)}}),new objj_method(sel_getUid("selectionIndexes"),function(c){with(c)return objj_msgSend(_selectionIndexes,"copy")}),new objj_method(sel_getUid("reloadContent"),function(c){with(c){for(var a=
_items.length;a--;)objj_msgSend(objj_msgSend(_items[a],"view"),"removeFromSuperview"),objj_msgSend(_items[a],"setSelected:",NO),_cachedItems.push(_items[a]);_items=[];if(!_itemPrototype||!_content)return;var b=0;for(a=_content.length;b<a;++b)_items.push(objj_msgSend(c,"newItemForRepresentedObject:",_content[b])),objj_msgSend(c,"addSubview:",objj_msgSend(_items[b],"view"));for(b=CPNotFound;(b=objj_msgSend(_selectionIndexes,"indexGreaterThanIndex:",b))!=CPNotFound;)objj_msgSend(_items[b],"setSelected:",
YES);objj_msgSend(c,"tile")}}),new objj_method(sel_getUid("tile"),function(c){with(c){var a=CGRectGetWidth(objj_msgSend(c,"bounds"));if(!objj_msgSend(_content,"count")||a==_tileWidth)return;var b=CGSizeMakeCopy(_minItemSize);_numberOfColumns=MAX(1,FLOOR(a/b.width));_maxNumberOfColumns>0&&(_numberOfColumns=MIN(_maxNumberOfColumns,_numberOfColumns));var d=a-_numberOfColumns*b.width,g=NO;if(d>0&&b.width<_maxItemSize.width)b.width=MIN(_maxItemSize.width,b.width+FLOOR(d/_numberOfColumns));if(_maxNumberOfColumns==
1&&b.width<_maxItemSize.width&&b.width<a)b.width=MIN(_maxItemSize.width,a);CGSizeEqualToSize(_itemSize,b)||(_itemSize=b,g=YES);var e=0,m=_items.length;_maxNumberOfColumns>0&&_maxNumberOfRows>0&&(m=MIN(m,_maxNumberOfColumns*_maxNumberOfRows));_numberOfRows=CEIL(m/_numberOfColumns);var f=_horizontalMargin=FLOOR((a-_numberOfColumns*b.width)/(_numberOfColumns+1));for(d=-b.height;e<m;++e){e%_numberOfColumns==0&&(f=_horizontalMargin,d+=_verticalMargin+b.height);var h=objj_msgSend(_items[e],"view");objj_msgSend(h,
"setFrameOrigin:",CGPointMake(f,d));g&&objj_msgSend(h,"setFrameSize:",_itemSize);f+=b.width+_horizontalMargin}g=objj_msgSend(c,"superview");b=d+b.height+_verticalMargin;if(objj_msgSend(g,"isKindOfClass:",objj_msgSend(CPClipView,"class")))g=objj_msgSend(g,"bounds").size,b=MAX(g.height,b);_tileWidth=a;objj_msgSend(c,"setFrameSize:",CGSizeMake(a,b));_tileWidth=-1}}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(c){with(c)objj_msgSend(c,"tile")}),new objj_method(sel_getUid("setMaxNumberOfRows:"),
function(c,a,b){with(c){if(_maxNumberOfRows==b)return;_maxNumberOfRows=b;objj_msgSend(c,"tile")}}),new objj_method(sel_getUid("maxNumberOfRows"),function(c){with(c)return _maxNumberOfRows}),new objj_method(sel_getUid("setMaxNumberOfColumns:"),function(c,a,b){with(c){if(_maxNumberOfColumns==b)return;_maxNumberOfColumns=b;objj_msgSend(c,"tile")}}),new objj_method(sel_getUid("maxNumberOfColumns"),function(c){with(c)return _maxNumberOfColumns}),new objj_method(sel_getUid("numberOfRows"),function(c){with(c)return _numberOfRows}),
new objj_method(sel_getUid("numberOfColumns"),function(c){with(c)return _numberOfColumns}),new objj_method(sel_getUid("setMinItemSize:"),function(c,a,b){with(c){if(CGSizeEqualToSize(_minItemSize,b))return;_minItemSize=CGSizeMakeCopy(b);objj_msgSend(c,"tile")}}),new objj_method(sel_getUid("minItemSize"),function(c){with(c)return _minItemSize}),new objj_method(sel_getUid("setMaxItemSize:"),function(c,a,b){with(c){if(CGSizeEqualToSize(_maxItemSize,b))return;_maxItemSize=CGSizeMakeCopy(b);objj_msgSend(c,
"tile")}}),new objj_method(sel_getUid("maxItemSize"),function(c){with(c)return _maxItemSize}),new objj_method(sel_getUid("setBackgroundColors:"),function(c,a,b){with(c){if(_backgroundColors===b)return;(_backgroundColors=b)||(_backgroundColors=objj_msgSend(CPColor,"whiteColor"));objj_msgSend(_backgroundColors,"count")===1?objj_msgSend(c,"setBackgroundColor:",_backgroundColors[0]):objj_msgSend(c,"setBackgroundColor:",nil);objj_msgSend(c,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("backgroundColors"),
function(c){with(c)return _backgroundColors}),new objj_method(sel_getUid("mouseUp:"),function(c,a,b){with(c)objj_msgSend(_selectionIndexes,"count")&&objj_msgSend(b,"clickCount")==2&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionView:didDoubleClickOnItemAtIndex:"))&&objj_msgSend(_delegate,"collectionView:didDoubleClickOnItemAtIndex:",c,objj_msgSend(_selectionIndexes,"firstIndex"))}),new objj_method(sel_getUid("mouseDown:"),function(c,a,b){with(c){_mouseDownEvent=b;var d=objj_msgSend(c,
"convertPoint:fromView:",objj_msgSend(b,"locationInWindow"),nil);a=FLOOR(d.y/(_itemSize.height+_verticalMargin));d=FLOOR(d.x/(_itemSize.width+_horizontalMargin));a=a*_numberOfColumns+d;if(a>=0&&a<_items.length){if(_allowsMultipleSelection&&(objj_msgSend(b,"modifierFlags")&CPCommandKeyMask||objj_msgSend(b,"modifierFlags")&CPShiftKeyMask))if(objj_msgSend(b,"modifierFlags")&CPCommandKeyMask){var g=objj_msgSend(_selectionIndexes,"copy");objj_msgSend(g,"containsIndex:",a)?objj_msgSend(g,"removeIndex:",
a):objj_msgSend(g,"addIndex:",a)}else objj_msgSend(b,"modifierFlags")&CPShiftKeyMask&&(g=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex"),b=nil,b=a<g?CPMakeRange(a,g-a+1):CPMakeRange(g,a-g+1),g=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"copy"),objj_msgSend(g,"addIndexesInRange:",b));else g=objj_msgSend(CPIndexSet,"indexSetWithIndex:",a);objj_msgSend(c,"setSelectionIndexes:",g)}else _allowsEmptySelection&&objj_msgSend(c,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSet"))}}),
new objj_method(sel_getUid("mouseDragged:"),function(c,a,b){with(c){a=objj_msgSend(b,"locationInWindow");b=objj_msgSend(_mouseDownEvent,"locationInWindow");if(ABS(a.x-b.x)<3&&ABS(a.y-b.y)<3)return;if(!objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionView:dragTypesForItemsAtIndexes:")))return;if(!objj_msgSend(_selectionIndexes,"count"))return;if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionView:canDragItemsAtIndexes:withEvent:"))&&!objj_msgSend(_delegate,"collectionView:canDragItemsAtIndexes:withEvent:",
c,_selectionIndexes,_mouseDownEvent))return;a=objj_msgSend(_delegate,"collectionView:dragTypesForItemsAtIndexes:",c,_selectionIndexes);objj_msgSend(objj_msgSend(CPPasteboard,"pasteboardWithName:",CPDragPboard),"declareTypes:owner:",a,c);_itemForDragging?objj_msgSend(_itemForDragging,"setRepresentedObject:",_content[objj_msgSend(_selectionIndexes,"firstIndex")]):_itemForDragging=objj_msgSend(c,"newItemForRepresentedObject:",_content[objj_msgSend(_selectionIndexes,"firstIndex")]);a=objj_msgSend(_itemForDragging,
"view");objj_msgSend(a,"setFrameSize:",_itemSize);objj_msgSend(a,"setAlphaValue:",0.7);objj_msgSend(c,"dragView:at:offset:event:pasteboard:source:slideBack:",a,objj_msgSend(objj_msgSend(_items[objj_msgSend(_selectionIndexes,"firstIndex")],"view"),"frame").origin,CGSizeMakeZero(),_mouseDownEvent,nil,c,YES)}}),new objj_method(sel_getUid("pasteboard:provideDataForType:"),function(c,a,b,d){with(c)objj_msgSend(b,"setData:forType:",objj_msgSend(_delegate,"collectionView:dataForItemsAtIndexes:forType:",
c,_selectionIndexes,d),d)}),new objj_method(sel_getUid("setVerticalMargin:"),function(c,a,b){with(c){if(_verticalMargin==b)return;_verticalMargin=b;objj_msgSend(c,"tile")}}),new objj_method(sel_getUid("verticalMargin"),function(c){with(c)return _verticalMargin}),new objj_method(sel_getUid("setDelegate:"),function(c,a,b){with(c)_delegate=b}),new objj_method(sel_getUid("delegate"),function(c){with(c)return _delegate}),new objj_method(sel_getUid("itemAtIndex:"),function(c,a,b){with(c)return objj_msgSend(_items,
"objectAtIndex:",b)}),new objj_method(sel_getUid("frameForItemAtIndex:"),function(c,a,b){with(c)return objj_msgSend(objj_msgSend(objj_msgSend(c,"itemAtIndex:",b),"view"),"frame")}),new objj_method(sel_getUid("frameForItemsAtIndexes:"),function(c,a,b){with(c){a=[];var d=CGRectNull;objj_msgSend(b,"getIndexes:maxCount:inIndexRange:",a,-1,nil);b=0;for(var g=objj_msgSend(a,"count");b<g;++b)d=CGRectUnion(d,objj_msgSend(c,"frameForItemAtIndex:",a[b]));return d}})]);e=objj_getClass("CPCollectionView");if(!e)throw new SyntaxError('*** Could not find definition for class "CPCollectionView"');
class_addMethods(e,[new objj_method(sel_getUid("_modifySelectionWithNewIndex:direction:expand:"),function(c,a,b,d,g){with(c){b=MIN(MAX(b,0),objj_msgSend(objj_msgSend(c,"items"),"count")-1);if(_allowsMultipleSelection&&g){a=objj_msgSend(_selectionIndexes,"copy");g=objj_msgSend(a,"firstIndex");var e=objj_msgSend(a,"lastIndex");d===-1?objj_msgSend(a,"addIndexesInRange:",CPMakeRange(b,g-b+1)):objj_msgSend(a,"addIndexesInRange:",CPMakeRange(e,b-e+1))}else a=objj_msgSend(CPIndexSet,"indexSetWithIndex:",
b);objj_msgSend(c,"setSelectionIndexes:",a);objj_msgSend(c,"_scrollToSelection")}}),new objj_method(sel_getUid("_scrollToSelection"),function(c){with(c){var a=objj_msgSend(c,"frameForItemsAtIndexes:",objj_msgSend(c,"selectionIndexes"));CGRectIsNull(a)||objj_msgSend(c,"scrollRectToVisible:",a)}}),new objj_method(sel_getUid("moveLeft:"),function(c){with(c){var a=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex");a===CPNotFound&&(a=objj_msgSend(objj_msgSend(c,"items"),"count"));objj_msgSend(c,
"_modifySelectionWithNewIndex:direction:expand:",a-1,-1,NO)}}),new objj_method(sel_getUid("moveLeftAndModifySelection:"),function(c){with(c){var a=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex");a===CPNotFound&&(a=objj_msgSend(objj_msgSend(c,"items"),"count"));objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",a-1,-1,YES)}}),new objj_method(sel_getUid("moveRight:"),function(c){with(c)objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",objj_msgSend(objj_msgSend(c,
"selectionIndexes"),"lastIndex")+1,1,NO)}),new objj_method(sel_getUid("moveRightAndModifySelection:"),function(c){with(c)objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",objj_msgSend(objj_msgSend(c,"selectionIndexes"),"lastIndex")+1,1,YES)}),new objj_method(sel_getUid("moveDown:"),function(c){with(c)objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",objj_msgSend(objj_msgSend(c,"selectionIndexes"),"lastIndex")+objj_msgSend(c,"numberOfColumns"),1,NO)}),new objj_method(sel_getUid("moveDownAndModifySelection:"),
function(c){with(c)objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",objj_msgSend(objj_msgSend(c,"selectionIndexes"),"lastIndex")+objj_msgSend(c,"numberOfColumns"),1,YES)}),new objj_method(sel_getUid("moveUp:"),function(c){with(c){var a=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex");a==CPNotFound&&(a=objj_msgSend(objj_msgSend(c,"items"),"count"));objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",a-objj_msgSend(c,"numberOfColumns"),-1,NO)}}),new objj_method(sel_getUid("moveUpAndModifySelection:"),
function(c){with(c){var a=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex");a==CPNotFound&&(a=objj_msgSend(objj_msgSend(c,"items"),"count"));objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",a-objj_msgSend(c,"numberOfColumns"),-1,YES)}}),new objj_method(sel_getUid("deleteBackward:"),function(c){with(c)objj_msgSend(objj_msgSend(c,"delegate"),"respondsToSelector:",sel_getUid("collectionView:shouldDeleteItemsAtIndexes:"))&&(objj_msgSend(objj_msgSend(c,"delegate"),"collectionView:shouldDeleteItemsAtIndexes:",
c,objj_msgSend(c,"selectionIndexes")),objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex")>objj_msgSend(objj_msgSend(c,"content"),"count")-1&&objj_msgSend(c,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",objj_msgSend(objj_msgSend(c,"content"),"count")-1)),objj_msgSend(c,"_scrollToSelection"),objj_msgSend(c,"setNeedsDisplay:",YES))}),new objj_method(sel_getUid("keyDown:"),function(c,a,b){with(c)objj_msgSend(c,"interpretKeyEvents:",[b])})]);e=objj_getClass("CPCollectionView");
if(!e)throw new SyntaxError('*** Could not find definition for class "CPCollectionView"');class_addMethods(e,[new objj_method(sel_getUid("rectForItemAtIndex:"),function(c,a,b){with(c)return _CPReportLenientDeprecation(objj_msgSend(c,"class"),a,sel_getUid("frameForItemAtIndex:")),objj_msgSend(c,"frameForItemAtIndex:",b)}),new objj_method(sel_getUid("rectForItemsAtIndexes:"),function(c,a,b){with(c)return _CPReportLenientDeprecation(objj_msgSend(c,"class"),a,sel_getUid("frameForItemsAtIndexes:")),objj_msgSend(c,
"frameForItemsAtIndexes:",b)})]);e=objj_getClass("CPCollectionView");if(!e)throw new SyntaxError('*** Could not find definition for class "CPCollectionView"');class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(c,a,b){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPCollectionView").super_class},"initWithCoder:",b))_items=[],_content=[],_cachedItems=[],_itemSize=CGSizeMakeZero(),_minItemSize=objj_msgSend(b,"decodeSizeForKey:","CPCollectionViewMinItemSizeKey")||
CGSizeMakeZero(),_maxItemSize=objj_msgSend(b,"decodeSizeForKey:","CPCollectionViewMaxItemSizeKey")||CGSizeMakeZero(),_maxNumberOfRows=objj_msgSend(b,"decodeIntForKey:","CPCollectionViewMaxNumberOfRowsKey")||0,_maxNumberOfColumns=objj_msgSend(b,"decodeIntForKey:","CPCollectionViewMaxNumberOfColumnsKey")||0,_verticalMargin=objj_msgSend(b,"decodeFloatForKey:","CPCollectionViewVerticalMarginKey"),_isSelectable=objj_msgSend(b,"decodeBoolForKey:","CPCollectionViewSelectableKey"),_allowsMultipleSelection=
objj_msgSend(b,"decodeBoolForKey:","CPCollectionViewAllowsMultipleSelectionKey"),objj_msgSend(c,"setBackgroundColors:",objj_msgSend(b,"decodeObjectForKey:","CPCollectionViewBackgroundColorsKey")),_tileWidth=-1,_selectionIndexes=objj_msgSend(CPIndexSet,"indexSet"),_allowsEmptySelection=YES;return c}}),new objj_method(sel_getUid("encodeWithCoder:"),function(c,a,b){with(c)objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPCollectionView").super_class},"encodeWithCoder:",b),CGSizeEqualToSize(_minItemSize,
CGSizeMakeZero())||objj_msgSend(b,"encodeSize:forKey:",_minItemSize,"CPCollectionViewMinItemSizeKey"),CGSizeEqualToSize(_maxItemSize,CGSizeMakeZero())||objj_msgSend(b,"encodeSize:forKey:",_maxItemSize,"CPCollectionViewMaxItemSizeKey"),objj_msgSend(b,"encodeInt:forKey:",_maxNumberOfRows,"CPCollectionViewMaxNumberOfRowsKey"),objj_msgSend(b,"encodeInt:forKey:",_maxNumberOfColumns,"CPCollectionViewMaxNumberOfColumnsKey"),objj_msgSend(b,"encodeBool:forKey:",_isSelectable,"CPCollectionViewSelectableKey"),
objj_msgSend(b,"encodeBool:forKey:",_allowsMultipleSelection,"CPCollectionViewAllowsMultipleSelectionKey"),objj_msgSend(b,"encodeFloat:forKey:",_verticalMargin,"CPCollectionViewVerticalMarginKey"),objj_msgSend(b,"encodeObject:forKey:",_backgroundColors,"CPCollectionViewBackgroundColorsKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPDocument.j",baseURL),function(f,h){h("Foundation/CPString.j",NO);h("Foundation/CPArray.j",NO);h("CPApplication.j",YES);h("CPResponder.j",YES);h("CPSavePanel.j",YES);h("CPViewController.j",YES);h("CPWindowController.j",YES);CPSaveOperation=0;CPSaveAsOperation=1;CPSaveToOperation=2;CPAutosaveOperation=3;CPChangeDone=0;CPChangeUndone=1;CPChangeCleared=2;CPChangeReadOtherContents=3;CPChangeAutosaved=4;CPDocumentWillSaveNotification=
"CPDocumentWillSaveNotification";CPDocumentDidSaveNotification="CPDocumentDidSaveNotification";CPDocumentDidFailToSaveNotification="CPDocumentDidFailToSaveNotification";var e=0,c=objj_allocateClassPair(CPResponder,"CPDocument");class_addIvars(c,[new objj_ivar("_window"),new objj_ivar("_view"),new objj_ivar("_viewControllersForWindowControllers"),new objj_ivar("_fileURL"),new objj_ivar("_fileType"),new objj_ivar("_windowControllers"),new objj_ivar("_untitledDocumentIndex"),new objj_ivar("_hasUndoManager"),
new objj_ivar("_undoManager"),new objj_ivar("_changeCount"),new objj_ivar("_readConnection"),new objj_ivar("_writeRequest"),new objj_ivar("_canCloseAlert")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPDocument").super_class},"init"))_windowControllers=[],_viewControllersForWindowControllers=objj_msgSend(CPDictionary,"dictionary"),_hasUndoManager=YES,_changeCount=0,objj_msgSend(a,
"setNextResponder:",CPApp);return a}}),new objj_method(sel_getUid("initWithType:error:"),function(a,b,d){with(a)return(a=objj_msgSend(a,"init"))&&objj_msgSend(a,"setFileType:",d),a}),new objj_method(sel_getUid("initWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(a,b,d,g,c,e,f){with(a){if(a=objj_msgSend(a,"init"))objj_msgSend(a,"setFileURL:",d),objj_msgSend(a,"setFileType:",g),objj_msgSend(a,"readFromURL:ofType:delegate:didReadSelector:contextInfo:",d,g,c,e,f);return a}}),
new objj_method(sel_getUid("initForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(a,b,d,g,c,e,f,h){with(a){if(a=objj_msgSend(a,"init"))objj_msgSend(a,"setFileURL:",d),objj_msgSend(a,"setFileType:",c),objj_msgSend(a,"readFromURL:ofType:delegate:didReadSelector:contextInfo:",g,c,e,f,h);return a}}),new objj_method(sel_getUid("dataOfType:error:"),function(a){with(a)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"dataOfType:error: must be overridden by the document subclass.")}),
new objj_method(sel_getUid("readFromData:ofType:error:"),function(a){with(a)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"readFromData:ofType: must be overridden by the document subclass.")}),new objj_method(sel_getUid("viewControllerWillLoadCib:"),function(a){with(a);}),new objj_method(sel_getUid("viewControllerDidLoadCib:"),function(a){with(a);}),new objj_method(sel_getUid("firstEligibleExistingWindowController"),function(a){with(a)return nil}),new objj_method(sel_getUid("makeWindowControllers"),
function(a){with(a)objj_msgSend(a,"makeViewAndWindowControllers")}),new objj_method(sel_getUid("makeViewAndWindowControllers"),function(a){with(a){var b=objj_msgSend(a,"viewCibName"),d=nil,g=nil;objj_msgSend(b,"length")&&(d=objj_msgSend(objj_msgSend(CPViewController,"alloc"),"initWithCibName:bundle:owner:",b,nil,a));d&&(g=objj_msgSend(a,"firstEligibleExistingWindowController"));if(!g)if(b=objj_msgSend(a,"windowCibName"),objj_msgSend(b,"length"))g=objj_msgSend(objj_msgSend(CPWindowController,"alloc"),
"initWithWindowCibName:owner:",b,a);else if(d)g=objj_msgSend(d,"view"),g=objj_msgSend(g,"frame"),g.origin=CGPointMake(50,50),g=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",g,CPTitledWindowMask|CPClosableWindowMask|CPMiniaturizableWindowMask|CPResizableWindowMask),g=objj_msgSend(objj_msgSend(CPWindowController,"alloc"),"initWithWindow:",g);g&&d&&objj_msgSend(g,"setSupportsMultipleDocuments:",YES);g&&objj_msgSend(a,"addWindowController:",g);d&&objj_msgSend(a,"addViewController:forWindowController:",
d,g)}}),new objj_method(sel_getUid("windowControllers"),function(a){with(a)return _windowControllers}),new objj_method(sel_getUid("addWindowController:"),function(a,b,d){with(a)objj_msgSend(_windowControllers,"addObject:",d),objj_msgSend(d,"document")!==a&&objj_msgSend(d,"setDocument:",a)}),new objj_method(sel_getUid("removeWindowController:"),function(a,b,d){with(a)d&&objj_msgSend(_windowControllers,"removeObject:",d),objj_msgSend(d,"document")===a&&objj_msgSend(d,"setDocument:",nil)}),new objj_method(sel_getUid("view"),
function(a){with(a)return _view}),new objj_method(sel_getUid("viewControllers"),function(a){with(a)return objj_msgSend(_viewControllersForWindowControllers,"allValues")}),new objj_method(sel_getUid("addViewController:forWindowController:"),function(a,b,d,g){with(a)objj_msgSend(_viewControllersForWindowControllers,"setObject:forKey:",d,objj_msgSend(g,"UID")),objj_msgSend(g,"document")===a&&objj_msgSend(g,"setViewController:",d)}),new objj_method(sel_getUid("removeViewController:"),function(a,b,d){with(a)objj_msgSend(_viewControllersForWindowControllers,
"removeObject:",d)}),new objj_method(sel_getUid("viewControllerForWindowController:"),function(a,b,d){with(a)return objj_msgSend(_viewControllersForWindowControllers,"objectForKey:",objj_msgSend(d,"UID"))}),new objj_method(sel_getUid("showWindows"),function(a){with(a)objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocument:"),a),objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("showWindow:"),a)}),new objj_method(sel_getUid("displayName"),
function(a){with(a){if(_fileURL)return objj_msgSend(_fileURL,"lastPathComponent");_untitledDocumentIndex||(_untitledDocumentIndex=++e);if(_untitledDocumentIndex==1)return"Untitled";return"Untitled "+_untitledDocumentIndex}}),new objj_method(sel_getUid("viewCibName"),function(a){with(a)return nil}),new objj_method(sel_getUid("windowCibName"),function(a){with(a)return nil}),new objj_method(sel_getUid("windowControllerDidLoadCib:"),function(a){with(a);}),new objj_method(sel_getUid("windowControllerWillLoadCib:"),
function(a){with(a);}),new objj_method(sel_getUid("readFromURL:ofType:delegate:didReadSelector:contextInfo:"),function(a,b,d,g,c,e,f){with(a)objj_msgSend(_readConnection,"cancel"),_readConnection=objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",objj_msgSend(CPURLRequest,"requestWithURL:",d),a),_readConnection.session={fileType:g,delegate:c,didReadSelector:e,contextInfo:f}}),new objj_method(sel_getUid("fileURL"),function(a){with(a)return _fileURL}),new objj_method(sel_getUid("setFileURL:"),
function(a,b,d){with(a){if(_fileURL===d)return;_fileURL=d;objj_msgSend(_windowControllers,"makeObjectsPerformSelector:",sel_getUid("synchronizeWindowTitleWithDocumentName"))}}),new objj_method(sel_getUid("saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:"),function(a,b,d,g,c,e,f,h){with(a)g=objj_msgSend(a,"dataOfType:error:",objj_msgSend(a,"fileType"),nil),b=_changeCount,_writeRequest=objj_msgSend(CPURLRequest,"requestWithURL:",d),objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(_writeRequest,
"setHTTPMethod:","POST"):objj_msgSend(_writeRequest,"setHTTPMethod:","PUT"),objj_msgSend(_writeRequest,"setHTTPBody:",objj_msgSend(g,"rawString")),objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","close","Connection"),c===CPSaveOperation&&objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","true","x-cappuccino-overwrite"),c!==CPSaveToOperation&&objj_msgSend(a,"updateChangeCount:",CPChangeCleared),a=objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",_writeRequest,a),a.session=
{absoluteURL:d,saveOperation:c,changeCount:b,delegate:e,didSaveSelector:f,contextInfo:h,connection:a}}),new objj_method(sel_getUid("connection:didReceiveResponse:"),function(a,b,d,g){with(a){if(!objj_msgSend(g,"isKindOfClass:",objj_msgSend(CPHTTPURLResponse,"class")))return;b=objj_msgSend(g,"statusCode");if(b===200)return;g=d.session;d==_readConnection?(objj_msgSend(d,"cancel"),alert("There was an error retrieving the document."),objj_msgSend(g.delegate,g.didReadSelector,a,NO,g.contextInfo)):b==409&&
(objj_msgSend(d,"cancel"),confirm("There already exists a file with that name, would you like to overwrite it?")?(objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","true","x-cappuccino-overwrite"),objj_msgSend(d,"start")):(g.saveOperation!=CPSaveToOperation&&(_changeCount+=g.changeCount,objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(a,"isDocumentEdited"))),_writeRequest=nil,objj_msgSend(g.delegate,g.didSaveSelector,a,
NO,g.contextInfo),objj_msgSend(a,"_sendDocumentSavedNotification:",NO)))}}),new objj_method(sel_getUid("connection:didReceiveData:"),function(a,b,d,g){with(a)b=d.session,d==_readConnection?(objj_msgSend(a,"readFromData:ofType:error:",objj_msgSend(CPData,"dataWithRawString:",g),b.fileType,nil),objj_msgSend(b.delegate,b.didReadSelector,a,YES,b.contextInfo)):(b.saveOperation!=CPSaveToOperation&&objj_msgSend(a,"setFileURL:",b.absoluteURL),_writeRequest=nil,objj_msgSend(b.delegate,b.didSaveSelector,a,
YES,b.contextInfo),objj_msgSend(a,"_sendDocumentSavedNotification:",YES))}),new objj_method(sel_getUid("connection:didFailWithError:"),function(a,b,d){with(a)b=d.session,_readConnection==d?objj_msgSend(b.delegate,b.didReadSelector,a,NO,b.contextInfo):(b.saveOperation!=CPSaveToOperation&&(_changeCount+=b.changeCount,objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(a,"isDocumentEdited"))),_writeRequest=nil,alert("There was an error saving the document."),
objj_msgSend(b.delegate,b.didSaveSelector,a,NO,b.contextInfo),objj_msgSend(a,"_sendDocumentSavedNotification:",NO))}),new objj_method(sel_getUid("connectionDidFinishLoading:"),function(a,b,d){with(a)_readConnection==d&&(_readConnection=nil)}),new objj_method(sel_getUid("isDocumentEdited"),function(a){with(a)return _changeCount!=0}),new objj_method(sel_getUid("updateChangeCount:"),function(a,b,d){with(a)d==CPChangeDone?++_changeCount:d==CPChangeUndone?--_changeCount:d==CPChangeCleared&&(_changeCount=
0),objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(a,"isDocumentEdited"))}),new objj_method(sel_getUid("setFileType:"),function(a,b,d){with(a)_fileType=d}),new objj_method(sel_getUid("fileType"),function(a){with(a)return _fileType}),new objj_method(sel_getUid("hasUndoManager"),function(a){with(a)return _hasUndoManager}),new objj_method(sel_getUid("setHasUndoManager:"),function(a,b,d){with(a){if(_hasUndoManager==d)return;(_hasUndoManager=
d)||objj_msgSend(a,"setUndoManager:",nil)}}),new objj_method(sel_getUid("_undoManagerWillCloseGroup:"),function(a,b,d){with(a){b=objj_msgSend(d,"object");if(objj_msgSend(b,"isUndoing")||objj_msgSend(b,"isRedoing"))return;objj_msgSend(a,"updateChangeCount:",CPChangeDone)}}),new objj_method(sel_getUid("_undoManagerDidUndoChange:"),function(a){with(a)objj_msgSend(a,"updateChangeCount:",CPChangeUndone)}),new objj_method(sel_getUid("_undoManagerDidRedoChange:"),function(a){with(a)objj_msgSend(a,"updateChangeCount:",
CPChangeDone)}),new objj_method(sel_getUid("setUndoManager:"),function(a,b,d){with(a)if(b=objj_msgSend(CPNotificationCenter,"defaultCenter"),_undoManager&&(objj_msgSend(b,"removeObserver:name:object:",a,CPUndoManagerDidUndoChangeNotification,_undoManager),objj_msgSend(b,"removeObserver:name:object:",a,CPUndoManagerDidRedoChangeNotification,_undoManager),objj_msgSend(b,"removeObserver:name:object:",a,CPUndoManagerWillCloseUndoGroupNotification,_undoManager)),_undoManager=d)objj_msgSend(b,"addObserver:selector:name:object:",
a,sel_getUid("_undoManagerDidUndoChange:"),CPUndoManagerDidUndoChangeNotification,_undoManager),objj_msgSend(b,"addObserver:selector:name:object:",a,sel_getUid("_undoManagerDidRedoChange:"),CPUndoManagerDidRedoChangeNotification,_undoManager),objj_msgSend(b,"addObserver:selector:name:object:",a,sel_getUid("_undoManagerWillCloseGroup:"),CPUndoManagerWillCloseUndoGroupNotification,_undoManager)}),new objj_method(sel_getUid("undoManager"),function(a){with(a)return _hasUndoManager&&!_undoManager&&objj_msgSend(a,
"setUndoManager:",objj_msgSend(objj_msgSend(CPUndoManager,"alloc"),"init")),_undoManager}),new objj_method(sel_getUid("windowWillReturnUndoManager:"),function(a){with(a)return objj_msgSend(a,"undoManager")}),new objj_method(sel_getUid("saveDocument:"),function(a){with(a)objj_msgSend(a,"saveDocumentWithDelegate:didSaveSelector:contextInfo:",nil,nil,nil)}),new objj_method(sel_getUid("saveDocumentWithDelegate:didSaveSelector:contextInfo:"),function(a,b,d,g,c){with(a)_fileURL?(objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPDocumentWillSaveNotification,a),objj_msgSend(a,"saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:",_fileURL,objj_msgSend(a,"fileType"),CPSaveOperation,d,g,c)):objj_msgSend(a,"_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:",d,g,c)}),new objj_method(sel_getUid("saveDocumentAs:"),function(a){with(a)objj_msgSend(a,"_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:",nil,nil,nil)}),new objj_method(sel_getUid("_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:"),
function(a,b,d,g,c){with(a){b=objj_msgSend(CPSavePanel,"savePanel");if(!objj_msgSend(b,"runModal"))return;b=objj_msgSend(b,"URL");objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPDocumentWillSaveNotification,a);objj_msgSend(a,"saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:",b,objj_msgSend(a,"fileType"),CPSaveAsOperation,d,g,c)}}),new objj_method(sel_getUid("_sendDocumentSavedNotification:"),function(a,b,d){with(a)d?objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPDocumentDidSaveNotification,a):objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPDocumentDidFailToSaveNotification,a)})]);c=objj_getClass("CPDocument");if(!c)throw new SyntaxError('*** Could not find definition for class "CPDocument"');class_addMethods(c,[new objj_method(sel_getUid("close"),function(a){with(a)objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("removeDocumentAndCloseIfNecessary:"),
a),objj_msgSend(objj_msgSend(CPDocumentController,"sharedDocumentController"),"removeDocument:",a)}),new objj_method(sel_getUid("shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:"),function(a,b,d,g,c,e){with(a)objj_msgSend(d,"shouldCloseDocument")||objj_msgSend(_windowControllers,"count")<2&&objj_msgSend(_windowControllers,"indexOfObject:",d)!==CPNotFound?objj_msgSend(a,"canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:",a,sel_getUid("_document:shouldClose:context:"),
{delegate:g,selector:c,context:e}):objj_msgSend(g,"respondsToSelector:",c)&&objj_msgSend(g,c,a,YES,e)}),new objj_method(sel_getUid("_document:shouldClose:context:"),function(a,b,d,g,c){with(a)d===a&&g&&objj_msgSend(a,"close"),objj_msgSend(c.delegate,c.selector,d,g,c.context)}),new objj_method(sel_getUid("canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:"),function(a,b,d,g,c){with(a){if(!objj_msgSend(a,"isDocumentEdited"))return objj_msgSend(d,"respondsToSelector:",g)&&objj_msgSend(d,g,
a,YES,c);_canCloseAlert=objj_msgSend(objj_msgSend(CPAlert,"alloc"),"init");objj_msgSend(_canCloseAlert,"setDelegate:",a);objj_msgSend(_canCloseAlert,"setAlertStyle:",CPWarningAlertStyle);objj_msgSend(_canCloseAlert,"setTitle:","Unsaved Document");objj_msgSend(_canCloseAlert,"setMessageText:","Do you want to save the changes you've made to the document \""+(objj_msgSend(a,"displayName")||objj_msgSend(a,"fileName"))+'"?');objj_msgSend(_canCloseAlert,"addButtonWithTitle:","Save");objj_msgSend(_canCloseAlert,
"addButtonWithTitle:","Cancel");objj_msgSend(_canCloseAlert,"addButtonWithTitle:","Don't Save");_canCloseAlert._context={delegate:d,selector:g,context:c};objj_msgSend(_canCloseAlert,"runModal")}}),new objj_method(sel_getUid("alertDidEnd:returnCode:"),function(a,b,d,g){with(a){if(d!==_canCloseAlert)return;b=d._context.delegate;var c=d._context.selector;d=d._context.context;g===0?objj_msgSend(a,"saveDocumentWithDelegate:didSaveSelector:contextInfo:",b,c,d):objj_msgSend(b,c,a,g===2,d);_canCloseAlert=
nil}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPMenuItem.j",baseURL),function(f,h){h("Foundation/CPCoder.j",NO);h("Foundation/CPObject.j",NO);h("Foundation/CPString.j",NO);h("CPImage.j",YES);h("CPMenu.j",YES);h("CPView.j",YES);h("_CPMenuItemView.j",YES);var e=objj_allocateClassPair(CPObject,"CPMenuItem"),c=e.isa;class_addIvars(e,[new objj_ivar("_isSeparator"),new objj_ivar("_title"),new objj_ivar("_font"),new objj_ivar("_target"),new objj_ivar("_action"),new objj_ivar("_isEnabled"),new objj_ivar("_isHidden"),
new objj_ivar("_tag"),new objj_ivar("_state"),new objj_ivar("_image"),new objj_ivar("_alternateImage"),new objj_ivar("_onStateImage"),new objj_ivar("_offStateImage"),new objj_ivar("_mixedStateImage"),new objj_ivar("_submenu"),new objj_ivar("_menu"),new objj_ivar("_keyEquivalent"),new objj_ivar("_keyEquivalentModifierMask"),new objj_ivar("_mnemonicLocation"),new objj_ivar("_isAlternate"),new objj_ivar("_indentationLevel"),new objj_ivar("_toolTip"),new objj_ivar("_representedObject"),new objj_ivar("_view"),
new objj_ivar("_changeCount"),new objj_ivar("_menuItemView")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithTitle:action:keyEquivalent:","",nil,nil)}),new objj_method(sel_getUid("initWithTitle:action:keyEquivalent:"),function(a,b,d,g,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPMenuItem").super_class},"init"))_changeCount=0,_isSeparator=NO,_title=d,_action=g,_isEnabled=YES,_isHidden=
NO,_tag=0,_state=CPOffState,_keyEquivalent=c||"",_keyEquivalentModifierMask=CPPlatformActionKeyMask,_indentationLevel=0,_mnemonicLocation=CPNotFound;return a}}),new objj_method(sel_getUid("setEnabled:"),function(a,b,d){with(a){if(objj_msgSend(_menu,"autoenablesItems"))return;_isEnabled=d;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("isEnabled"),function(a){with(a)return _isEnabled}),new objj_method(sel_getUid("setHidden:"),function(a,b,
d){with(a){if(_isHidden==d)return;_isHidden=d;objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("isHidden"),function(a){with(a)return _isHidden}),new objj_method(sel_getUid("isHiddenOrHasHiddenAncestor"),function(a){with(a){if(_isHidden)return YES;a=objj_msgSend(_menu,"supermenu");if(objj_msgSend(objj_msgSend(a,"itemAtIndex:",objj_msgSend(a,"indexOfItemWithSubmenu:",_menu)),"isHiddenOrHasHiddenAncestor"))return YES;return NO}}),new objj_method(sel_getUid("setTarget:"),function(a,
b,d){with(a)_target=d}),new objj_method(sel_getUid("target"),function(a){with(a)return _target}),new objj_method(sel_getUid("setAction:"),function(a,b,d){with(a)_action=d}),new objj_method(sel_getUid("action"),function(a){with(a)return _action}),new objj_method(sel_getUid("setTitle:"),function(a,b,d){with(a){_mnemonicLocation=CPNotFound;if(_title==d)return;_title=d;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("title"),function(a){with(a)return _title}),
new objj_method(sel_getUid("setTextColor:"),function(a){with(a);}),new objj_method(sel_getUid("setFont:"),function(a,b,d){with(a){if(_font==d)return;_font=d;objj_msgSend(_menu,"itemChanged:",a);objj_msgSend(_menuItemView,"setDirty")}}),new objj_method(sel_getUid("font"),function(a){with(a)return _font}),new objj_method(sel_getUid("setTag:"),function(a,b,d){with(a)_tag=d}),new objj_method(sel_getUid("tag"),function(a){with(a)return _tag}),new objj_method(sel_getUid("setState:"),function(a,b,d){with(a){if(_state==
d)return;_state=d;objj_msgSend(_menu,"itemChanged:",a);objj_msgSend(_menuItemView,"setDirty")}}),new objj_method(sel_getUid("state"),function(a){with(a)return _state}),new objj_method(sel_getUid("setImage:"),function(a,b,d){with(a){if(_image==d)return;_image=d;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("image"),function(a){with(a)return _image}),new objj_method(sel_getUid("setAlternateImage:"),function(a,b,d){with(a)_alternateImage=d}),
new objj_method(sel_getUid("alternateImage"),function(a){with(a)return _alternateImage}),new objj_method(sel_getUid("setOnStateImage:"),function(a,b,d){with(a){if(_onStateImage==d)return;_onStateImage=d;objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("onStateImage"),function(a){with(a)return _onStateImage}),new objj_method(sel_getUid("setOffStateImage:"),function(a,b,d){with(a){if(_offStateImage==d)return;_offStateImage=d;objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("offStateImage"),
function(a){with(a)return _offStateImage}),new objj_method(sel_getUid("setMixedStateImage:"),function(a,b,d){with(a){if(_mixedStateImage==d)return;_mixedStateImage=d;objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("mixedStateImage"),function(a){with(a)return _mixedStateImage}),new objj_method(sel_getUid("setSubmenu:"),function(a,b,d){with(a){if(_submenu===d)return;objj_msgSend(_submenu,"supermenu")&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Can't add submenu \""+
objj_msgSend(d,"title")+'" to item "'+objj_msgSend(a,"title")+'", because it is already submenu of "'+objj_msgSend(objj_msgSend(d,"supermenu"),"title")+'"');(_submenu=d)?(objj_msgSend(_submenu,"setSupermenu:",_menu),objj_msgSend(a,"setTarget:",_menu),objj_msgSend(a,"setAction:",sel_getUid("submenuAction:"))):(objj_msgSend(a,"setTarget:",nil),objj_msgSend(a,"setAction:",NULL));objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("submenu"),function(a){with(a)return _submenu}),
new objj_method(sel_getUid("hasSubmenu"),function(a){with(a)return _submenu?YES:NO}),new objj_method(sel_getUid("isSeparatorItem"),function(a){with(a)return _isSeparator}),new objj_method(sel_getUid("setMenu:"),function(a,b,d){with(a)_menu=d}),new objj_method(sel_getUid("menu"),function(a){with(a)return _menu}),new objj_method(sel_getUid("setKeyEquivalent:"),function(a,b,d){with(a)_keyEquivalent=d||""}),new objj_method(sel_getUid("keyEquivalent"),function(a){with(a)return _keyEquivalent}),new objj_method(sel_getUid("setKeyEquivalentModifierMask:"),
function(a,b,d){with(a)_keyEquivalentModifierMask=d}),new objj_method(sel_getUid("keyEquivalentModifierMask"),function(a){with(a)return _keyEquivalentModifierMask}),new objj_method(sel_getUid("keyEquivalentStringRepresentation"),function(a){with(a){if(!objj_msgSend(_keyEquivalent,"length"))return"";a=_keyEquivalent.toUpperCase();var b=_keyEquivalentModifierMask&CPShiftKeyMask||a===_keyEquivalent&&_keyEquivalent.toLowerCase()!==_keyEquivalent.toUpperCase();if(CPBrowserIsOperatingSystem(CPMacOperatingSystem))_keyEquivalentModifierMask&
CPCommandKeyMask&&(a="⌘"+a),b&&(a="⇧"+a),_keyEquivalentModifierMask&CPAlternateKeyMask&&(a="⌥"+a),_keyEquivalentModifierMask&CPControlKeyMask&&(a="^"+a);else if(b&&(a="Shift-"+a),_keyEquivalentModifierMask&CPAlternateKeyMask&&(a="Alt-"+a),_keyEquivalentModifierMask&CPControlKeyMask||_keyEquivalentModifierMask&CPCommandKeyMask)a="Ctrl-"+a;return a}}),new objj_method(sel_getUid("setMnemonicLocation:"),function(a,b,d){with(a)_mnemonicLocation=d}),new objj_method(sel_getUid("mnemonicLocation"),function(a){with(a)return _mnemonicLocation}),
new objj_method(sel_getUid("setTitleWithMnemonicLocation:"),function(a,b,d){with(a)b=objj_msgSend(d,"rangeOfString:","&").location,b==CPNotFound?objj_msgSend(a,"setTitle:",d):(objj_msgSend(a,"setTitle:",objj_msgSend(d,"substringToIndex:",b)+objj_msgSend(d,"substringFromIndex:",b+1)),objj_msgSend(a,"setMnemonicLocation:",b))}),new objj_method(sel_getUid("mnemonic"),function(a){with(a)return _mnemonicLocation==CPNotFound?"":objj_msgSend(_title,"characterAtIndex:",_mnemonicLocation)}),new objj_method(sel_getUid("setAlternate:"),
function(a,b,d){with(a)_isAlternate=d}),new objj_method(sel_getUid("isAlternate"),function(a){with(a)return _isAlternate}),new objj_method(sel_getUid("setIndentationLevel:"),function(a,b,d){with(a)d<0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"setIndentationLevel: argument must be greater than or equal to 0."),_indentationLevel=MIN(15,d)}),new objj_method(sel_getUid("indentationLevel"),function(a){with(a)return _indentationLevel}),new objj_method(sel_getUid("setToolTip:"),
function(a,b,d){with(a)_toolTip=d}),new objj_method(sel_getUid("toolTip"),function(a){with(a)return _toolTip}),new objj_method(sel_getUid("setRepresentedObject:"),function(a,b,d){with(a)_representedObject=d}),new objj_method(sel_getUid("representedObject"),function(a){with(a)return _representedObject}),new objj_method(sel_getUid("setView:"),function(a,b,d){with(a){if(_view===d)return;_view=d;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",a)}}),new objj_method(sel_getUid("view"),
function(a){with(a)return _view}),new objj_method(sel_getUid("isHighlighted"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"menu"),"highlightedItem")==a}),new objj_method(sel_getUid("copy"),function(a){with(a)return a=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"init"),a._isSeparator=_isSeparator,objj_msgSend(a,"setTitle:",_title),objj_msgSend(a,"setFont:",_font),objj_msgSend(a,"setTarget:",_target),objj_msgSend(a,"setAction:",_action),objj_msgSend(a,"setEnabled:",_isEnabled),objj_msgSend(a,
"setHidden:",_isHidden),objj_msgSend(a,"setTag:",_tag),objj_msgSend(a,"setState:",_state),objj_msgSend(a,"setImage:",_image),objj_msgSend(a,"setAlternateImage:",_alternateImage),objj_msgSend(a,"setOnStateImage:",_onStateImage),objj_msgSend(a,"setOffStateImage:",_offStateImage),objj_msgSend(a,"setMixedStateImage:",_mixedStateImage),objj_msgSend(a,"setKeyEquivalent:",_keyEquivalent),objj_msgSend(a,"setKeyEquivalentModifierMask:",_keyEquivalentModifierMask),objj_msgSend(a,"setMnemonicLocation:",_mnemonicLocation),
objj_msgSend(a,"setAlternate:",_isAlternate),objj_msgSend(a,"setIndentationLevel:",_indentationLevel),objj_msgSend(a,"setToolTip:",_toolTip),objj_msgSend(a,"setRepresentedObject:",_representedObject),a}),new objj_method(sel_getUid("mutableCopy"),function(a){with(a)return objj_msgSend(a,"copy")}),new objj_method(sel_getUid("_menuItemView"),function(a){with(a)return _menuItemView||(_menuItemView=objj_msgSend(objj_msgSend(_CPMenuItemView,"alloc"),"initWithFrame:forMenuItem:",CGRectMakeZero(),a)),_menuItemView}),
new objj_method(sel_getUid("_isSelectable"),function(a){with(a)return!objj_msgSend(a,"submenu")||objj_msgSend(a,"action")!==sel_getUid("submenuAction:")||objj_msgSend(a,"target")!==objj_msgSend(a,"menu")}),new objj_method(sel_getUid("_isMenuBarButton"),function(a){with(a)return!objj_msgSend(a,"submenu")&&objj_msgSend(a,"menu")===objj_msgSend(CPApp,"mainMenu")})]);class_addMethods(c,[new objj_method(sel_getUid("separatorItem"),function(a){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"initWithTitle:action:keyEquivalent:",
"",nil,nil),a._isSeparator=YES,a})]);e=objj_getClass("CPMenuItem");if(!e)throw new SyntaxError('*** Could not find definition for class "CPMenuItem"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPMenuItem").super_class},"init"))_changeCount=0,_isSeparator=objj_msgSend(d,"containsValueForKey:","CPMenuItemIsSeparatorKey")&&objj_msgSend(d,"decodeBoolForKey:","CPMenuItemIsSeparatorKey"),
_title=objj_msgSend(d,"decodeObjectForKey:","CPMenuItemTitleKey"),_target=objj_msgSend(d,"decodeObjectForKey:","CPMenuItemTargetKey"),_action=objj_msgSend(d,"decodeObjectForKey:","CPMenuItemActionKey"),_isEnabled=objj_msgSend(d,"containsValueForKey:","CPMenuItemIsEnabledKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemIsEnabledKey"):YES,_isHidden=objj_msgSend(d,"containsValueForKey:","CPMenuItemIsHiddenKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemIsHiddenKey"):NO,_tag=objj_msgSend(d,
"containsValueForKey:","CPMenuItemTagKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemTagKey"):0,_state=objj_msgSend(d,"containsValueForKey:","CPMenuItemStateKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemStateKey"):CPOffState,_image=objj_msgSend(d,"containsValueForKey:","CPMenuItemImageKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemImageKey"):nil,_alternateImage=objj_msgSend(d,"containsValueForKey:","CPMenuItemAlternateImageKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemAlternateImageKey"):
nil,_menu=objj_msgSend(d,"containsValueForKey:","CPMenuItemMenuKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemMenuKey"):nil,objj_msgSend(a,"setSubmenu:",objj_msgSend(d,"containsValueForKey:","CPMenuItemSubmenuKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemSubmenuKey"):nil),_keyEquivalent=objj_msgSend(d,"decodeObjectForKey:","CPMenuItemKeyEquivalentKey")||"",_keyEquivalentModifierMask=objj_msgSend(d,"decodeObjectForKey:","CPMenuItemKeyEquivalentModifierMaskKey")||0,objj_msgSend(a,"setIndentationLevel:",
objj_msgSend(d,"decodeIntForKey:","CPMenuItemIndentationLevelKey")||0),_representedObject=objj_msgSend(d,"containsValueForKey:","CPMenuItemRepresentedObjectKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemRepresentedObjectKey"):nil,_view=objj_msgSend(d,"containsValueForKey:","CPMenuItemViewKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemViewKey"):nil;return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,d){with(a)_isSeparator&&objj_msgSend(d,"encodeBool:forKey:",_isSeparator,
"CPMenuItemIsSeparatorKey"),objj_msgSend(d,"encodeObject:forKey:",_title,"CPMenuItemTitleKey"),objj_msgSend(d,"encodeObject:forKey:",_target,"CPMenuItemTargetKey"),objj_msgSend(d,"encodeObject:forKey:",_action,"CPMenuItemActionKey"),_isEnabled!==YES&&objj_msgSend(d,"encodeObject:forKey:",_isEnabled,"CPMenuItemIsEnabledKey"),_isHidden!==NO&&objj_msgSend(d,"encodeObject:forKey:",_isHidden,"CPMenuItemIsHiddenKey"),_tag!==0&&objj_msgSend(d,"encodeObject:forKey:",_tag,"CPMenuItemTagKey"),_state!==CPOffState&&
objj_msgSend(d,"encodeObject:forKey:",_state,"CPMenuItemStateKey"),_image!==nil&&objj_msgSend(d,"encodeObject:forKey:",_image,"CPMenuItemImageKey"),_alternateImage!==nil&&objj_msgSend(d,"encodeObject:forKey:",_alternateImage,"CPMenuItemAlternateImageKey"),_submenu!==nil&&objj_msgSend(d,"encodeObject:forKey:",_submenu,"CPMenuItemSubmenuKey"),_menu!==nil&&objj_msgSend(d,"encodeObject:forKey:",_menu,"CPMenuItemMenuKey"),_keyEquivalent&&_keyEquivalent.length&&objj_msgSend(d,"encodeObject:forKey:",_keyEquivalent,
"CPMenuItemKeyEquivalentKey"),_keyEquivalentModifierMask&&objj_msgSend(d,"encodeObject:forKey:",_keyEquivalentModifierMask,"CPMenuItemKeyEquivalentModifierMaskKey"),_indentationLevel>0&&objj_msgSend(d,"encodeInt:forKey:",_indentationLevel,"CPMenuItemIndentationLevelKey"),_representedObject!==nil&&objj_msgSend(d,"encodeObject:forKey:",_representedObject,"CPMenuItemRepresentedObjectKey"),_view!==nil&&objj_msgSend(d,"encodeObject:forKey:",_view,"CPMenuItemViewKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuWindow.j",baseURL),function(f,h){h("CPWindow.j",YES);var e=[],c=[];_CPMenuWindowMenuBarBackgroundStyle=0;_CPMenuWindowPopUpBackgroundStyle=1;_CPMenuWindowAttachedMenuBackgroundStyle=2;var a=objj_allocateClassPair(CPWindow,"_CPMenuWindow"),b=a.isa;class_addIvars(a,[new objj_ivar("_menuView"),new objj_ivar("_menuClipView"),new objj_ivar("_moreAboveView"),new objj_ivar("_moreBelowView"),new objj_ivar("_unconstrainedFrame"),
new objj_ivar("_constraintRect")]);objj_registerClassPair(a);class_addMethods(a,[new objj_method(sel_getUid("initWithContentRect:styleMask:"),function(a,b,c){with(a){_constraintRect={origin:{x:0,y:0},size:{width:0,height:0}};_unconstrainedFrame={origin:{x:0,y:0},size:{width:0,height:0}};if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"initWithContentRect:styleMask:",c,CPBorderlessWindowMask))objj_msgSend(a,"setLevel:",CPPopUpMenuWindowLevel),objj_msgSend(a,
"setHasShadow:",YES),objj_msgSend(a,"setShadowStyle:",CPMenuWindowShadowStyle),objj_msgSend(a,"setAcceptsMouseMovedEvents:",YES),b=objj_msgSend(a,"contentView"),_menuView=objj_msgSend(objj_msgSend(_CPMenuView,"alloc"),"initWithFrame:",CGRectMakeZero()),_menuClipView=objj_msgSend(objj_msgSend(CPClipView,"alloc"),"initWithFrame:",CGRectMake(1,5,0,0)),objj_msgSend(_menuClipView,"setDocumentView:",_menuView),objj_msgSend(b,"addSubview:",_menuClipView),_moreAboveView=objj_msgSend(objj_msgSend(CPImageView,
"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_moreAboveView,"setImage:",_CPMenuWindowMoreAboveImage),objj_msgSend(_moreAboveView,"setFrameSize:",objj_msgSend(_CPMenuWindowMoreAboveImage,"size")),objj_msgSend(b,"addSubview:",_moreAboveView),_moreBelowView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_moreBelowView,"setImage:",_CPMenuWindowMoreBelowImage),objj_msgSend(_moreBelowView,"setFrameSize:",objj_msgSend(_CPMenuWindowMoreBelowImage,
"size")),objj_msgSend(b,"addSubview:",_moreBelowView),objj_msgSend(a,"setShadowStyle:",CPWindowShadowStyleMenu);return a}}),new objj_method(sel_getUid("setFont:"),function(a,b,c){with(a)objj_msgSend(_menuView,"setFont:",c)}),new objj_method(sel_getUid("font"),function(a){with(a)return objj_msgSend(_menuView,"font")}),new objj_method(sel_getUid("setBackgroundStyle:"),function(a,b,c){with(a)objj_msgSend(a,"setBackgroundColor:",objj_msgSend(objj_msgSend(a,"class"),"backgroundColorForBackgroundStyle:",
c))}),new objj_method(sel_getUid("setMenu:"),function(a,b,c){with(a)objj_msgSend(c,"_setMenuWindow:",a),objj_msgSend(_menuView,"setMenu:",c),b=objj_msgSend(_menuView,"frame").size,objj_msgSend(a,"setFrameSize:",CGSizeMake(1+b.width+1,5+b.height+5)),objj_msgSend(_menuView,"scrollPoint:",CGPointMake(0,0)),objj_msgSend(_menuClipView,"setFrame:",CGRectMake(1,5,b.width,b.height))}),new objj_method(sel_getUid("setMinWidth:"),function(a,b,c){with(a)b=objj_msgSend(a,"unconstrainedFrame").size,objj_msgSend(a,
"setFrameSize:",CGSizeMake(MAX(b.width,c),b.height))}),new objj_method(sel_getUid("menu"),function(a){with(a)return objj_msgSend(_menuView,"menu")}),new objj_method(sel_getUid("orderFront:"),function(a,b,c){with(a)objj_msgSend(a,"setFrame:",_unconstrainedFrame),objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"orderFront:",c)}),new objj_method(sel_getUid("setConstraintRect:"),function(a,b,c){with(a)_constraintRect=c,objj_msgSend(a,"setFrame:",_unconstrainedFrame)}),
new objj_method(sel_getUid("unconstrainedFrame"),function(a){with(a)return{origin:{x:_unconstrainedFrame.origin.x,y:_unconstrainedFrame.origin.y},size:{width:_unconstrainedFrame.size.width,height:_unconstrainedFrame.size.height}}}),new objj_method(sel_getUid("setFrameOrigin:"),function(a,b,c){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"setFrame:",{origin:{x:c.x,y:c.y},size:{width:_unconstrainedFrame.size.width,height:_unconstrainedFrame.size.height}})}),
new objj_method(sel_getUid("setFrameSize:"),function(a,b,c){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"setFrame:",{origin:{x:_unconstrainedFrame.origin.x,y:_unconstrainedFrame.origin.y},size:{width:c.width,height:c.height}})}),new objj_method(sel_getUid("setFrame:display:animate:"),function(a,b,c,e,f){with(a){_unconstrainedFrame={origin:{x:c.origin.x,y:c.origin.y},size:{width:c.size.width,height:c.size.height}};b=CGRectIntersection(_unconstrainedFrame,
_constraintRect);b.origin.x=CGRectGetMinX(_unconstrainedFrame);b.size.width=CGRectGetWidth(_unconstrainedFrame);if(CGRectGetWidth(b)>CGRectGetWidth(_constraintRect))b.size.width=CGRectGetWidth(_constraintRect);CGRectGetMaxX(b)>CGRectGetMaxX(_constraintRect)&&(b.origin.x-=CGRectGetMaxX(b)-CGRectGetMaxX(_constraintRect));if(CGRectGetMinX(b)<CGRectGetMinX(_constraintRect))b.origin.x=CGRectGetMinX(_constraintRect);objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"setFrame:display:animate:",
b,e,f);c=CGPointMake(CGRectGetMinX(c)+1,CGRectGetMinY(c)+5);var h=c.y<CGRectGetMinY(b)+5,k=c.y+CGRectGetHeight(objj_msgSend(_menuView,"frame"))>CGRectGetMaxY(b)-5;f=e=5;var n=objj_msgSend(a,"contentView");n=objj_msgSend(n,"bounds");if(h){e+=16;var j=objj_msgSend(_moreAboveView,"frame");objj_msgSend(_moreAboveView,"setFrameOrigin:",CGPointMake((CGRectGetWidth(n)-CGRectGetWidth(j))/2,(21-CGRectGetHeight(j))/2))}objj_msgSend(_moreAboveView,"setHidden:",!h);k&&(f+=16,objj_msgSend(_moreBelowView,"setFrameOrigin:",
CGPointMake((CGRectGetWidth(n)-CGRectGetWidth(objj_msgSend(_moreBelowView,"frame")))/2,CGRectGetHeight(n)-16-5)));objj_msgSend(_moreBelowView,"setHidden:",!k);h=CGRectMakeZero();h.origin.x=1;h.origin.y=e;h.size.width=CGRectGetWidth(b)-1-1;h.size.height=CGRectGetHeight(b)-e-f;objj_msgSend(_menuClipView,"setFrame:",h);objj_msgSend(_menuView,"setFrameSize:",CGSizeMake(CGRectGetWidth(h),CGRectGetHeight(objj_msgSend(_menuView,"frame"))));objj_msgSend(_menuView,"scrollPoint:",CGPointMake(0,objj_msgSend(a,
"convertBaseToGlobal:",h.origin).y-c.y))}}),new objj_method(sel_getUid("hasMinimumNumberOfVisibleItems"),function(a){with(a){a=objj_msgSend(_menuView,"visibleRect");if(CGRectIsEmpty(a))return NO;for(var b=objj_msgSend(_menuView,"numberOfUnhiddenItems"),c=MIN(b,3),e=0,f=objj_msgSend(_menuView,"itemIndexAtPoint:",objj_msgSend(_menuView,"convertPoint:fromView:",objj_msgSend(_menuClipView,"frame").origin,nil));f<b&&e<c;++f){var h=objj_msgSend(_menuView,"rectForUnhiddenItemAtIndex:",f),k=CGRectIntersection(a,
h);if(CGRectIsEmpty(k))break;CGRectEqualToRect(k,h)&&++e}return e>=c}}),new objj_method(sel_getUid("canScrollUp"),function(a){with(a)return!objj_msgSend(_moreAboveView,"isHidden")}),new objj_method(sel_getUid("canScrollDown"),function(a){with(a)return!objj_msgSend(_moreBelowView,"isHidden")}),new objj_method(sel_getUid("canScroll"),function(a){with(a)return objj_msgSend(a,"canScrollUp")||objj_msgSend(a,"canScrollDown")}),new objj_method(sel_getUid("scrollByDelta:"),function(a,b,c){with(a){if(c===
0)return;if(c>0&&!objj_msgSend(a,"canScrollDown"))return;if(c<0&&!objj_msgSend(a,"canScrollUp"))return;_unconstrainedFrame.origin.y-=c;objj_msgSend(a,"setFrame:",_unconstrainedFrame)}}),new objj_method(sel_getUid("scrollUp"),function(a){with(a)objj_msgSend(a,"scrollByDelta:",-10)}),new objj_method(sel_getUid("scrollDown"),function(a){with(a)objj_msgSend(a,"scrollByDelta:",10)})]);class_addMethods(b,[new objj_method(sel_getUid("menuWindowWithMenu:font:"),function(a,b,c,m){with(a)return a=nil,e.length?
(a=e.pop(),objj_msgSend(a,"setFrameOrigin:",CGPointMakeZero())):a=objj_msgSend(objj_msgSend(_CPMenuWindow,"alloc"),"init"),objj_msgSend(a,"setFont:",m),objj_msgSend(a,"setMenu:",c),objj_msgSend(a,"setMinWidth:",objj_msgSend(c,"minimumWidth")),a}),new objj_method(sel_getUid("poolMenuWindow:"),function(a,b,c){with(a){if(!c||e.length>=5)return;e.push(c)}}),new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(_CPMenuWindow,"class"))return;a=objj_msgSend(CPBundle,"bundleForClass:",
a);_CPMenuWindowMoreAboveImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowMoreAbove.png"),CGSizeMake(38,18));_CPMenuWindowMoreBelowImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowMoreBelow.png"),CGSizeMake(38,18))}}),new objj_method(sel_getUid("_standardLeftMargin"),function(a){with(a)return 1}),new objj_method(sel_getUid("backgroundColorForBackgroundStyle:"),
function(a,b,e){with(a)return b=c[e],b||(a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(a,"class")),e==_CPMenuWindowPopUpBackgroundStyle?b=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded0.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow1.png"),CGSizeMake(1,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded2.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow3.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,
"pathForResource:","_CPMenuWindow/_CPMenuWindow4.png"),CGSizeMake(1,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow5.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded6.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:",
"_CPMenuWindow/_CPMenuWindow7.png"),CGSizeMake(1,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded8.png"),CGSizeMake(4,4))])):e==_CPMenuWindowMenuBarBackgroundStyle&&(b=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow3.png"),
CGSizeMake(4,0)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow4.png"),CGSizeMake(1,0)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow5.png"),CGSizeMake(4,0)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow3.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow4.png"),CGSizeMake(1,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow5.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded6.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow7.png"),CGSizeMake(1,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded8.png"),CGSizeMake(4,4))]))),c[e]=b),b})]);a=objj_getClass("_CPMenuWindow");if(!a)throw new SyntaxError('*** Could not find definition for class "_CPMenuWindow"');b=a.isa;class_addMethods(a,[new objj_method(sel_getUid("globalFrame"),function(a){with(a)return objj_msgSend(a,
"frame")}),new objj_method(sel_getUid("isMenuBar"),function(a){with(a)return NO}),new objj_method(sel_getUid("scrollingStateForPoint:"),function(a,b,c){with(a){b=objj_msgSend(a,"frame");if(!CPRectContainsPoint(b,c)||!objj_msgSend(a,"canScroll"))return _CPMenuManagerScrollingStateNone;if(c.y<CGRectGetMinY(b)+5+16&&!objj_msgSend(_moreAboveView,"isHidden"))return _CPMenuManagerScrollingStateUp;if(c.y>CGRectGetMaxY(b)-5-16&&!objj_msgSend(_moreBelowView,"isHidden"))return _CPMenuManagerScrollingStateDown;
return _CPMenuManagerScrollingStateNone}}),new objj_method(sel_getUid("deltaYForItemAtIndex:"),function(a,b,c){with(a)return 5+CGRectGetMinY(objj_msgSend(_menuView,"rectForItemAtIndex:",c))}),new objj_method(sel_getUid("rectForItemAtIndex:"),function(a,b,c){with(a)return objj_msgSend(_menuView,"convertRect:toView:",objj_msgSend(_menuView,"rectForItemAtIndex:",c),nil)}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(a,b,c){with(a){if(!CGRectContainsPoint(objj_msgSend(_menuClipView,"bounds"),
objj_msgSend(_menuClipView,"convertPoint:fromView:",c,nil)))return NO;return objj_msgSend(_menuView,"itemIndexAtPoint:",objj_msgSend(_menuView,"convertPoint:fromView:",c,nil))}})]);a=objj_allocateClassPair(CPView,"_CPMenuView");b=a.isa;class_addIvars(a,[new objj_ivar("_menuItemViews"),new objj_ivar("_visibleMenuItemInfos"),new objj_ivar("_font")]);objj_registerClassPair(a);class_addMethods(a,[new objj_method(sel_getUid("font"),function(a){with(a)return _font}),new objj_method(sel_getUid("setFont:"),
function(a,b,c){with(a)_font=c}),new objj_method(sel_getUid("numberOfUnhiddenItems"),function(a){with(a)return _visibleMenuItemInfos.length}),new objj_method(sel_getUid("rectForUnhiddenItemAtIndex:"),function(a,b,c){with(a)return objj_msgSend(a,"rectForItemAtIndex:",_visibleMenuItemInfos[c].index)}),new objj_method(sel_getUid("rectForItemAtIndex:"),function(a,b,c){with(a)return objj_msgSend(_menuItemViews[c===CPNotFound?0:c],"frame")}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(a,b,
c){with(a){b=c.x;a=objj_msgSend(a,"bounds");if(b<CGRectGetMinX(a)||b>CGRectGetMaxX(a))return CPNotFound;c=c.y;a=0;for(b=_visibleMenuItemInfos.length-1;a<=b;){var e=FLOOR(a+(b-a)/2),f=_visibleMenuItemInfos[e],h=objj_msgSend(f.view,"frame");if(c<CGRectGetMinY(h))b=e-1;else if(c>CGRectGetMaxY(h))a=e+1;else return f.index}return CPNotFound}}),new objj_method(sel_getUid("tile"),function(a){with(a){objj_msgSend(_menuItemViews,"makeObjectsPerformSelector:",sel_getUid("removeFromSuperview"));_menuItemViews=
[];_visibleMenuItemInfos=[];var b=objj_msgSend(a,"menu");if(!b)return;var c=objj_msgSend(b,"itemArray"),e=0,f=objj_msgSend(c,"count"),h=0,k=0;for(b=objj_msgSend(b,"showsStateColumn");e<f;++e){var n=c[e],j=objj_msgSend(n,"_menuItemView");_menuItemViews.push(j);if(!objj_msgSend(n,"isHidden"))_visibleMenuItemInfos.push({view:j,index:e}),objj_msgSend(j,"setFont:",_font),objj_msgSend(j,"setShowsStateColumn:",b),objj_msgSend(j,"synchronizeWithMenuItem"),objj_msgSend(j,"setFrameOrigin:",CGPointMake(0,k)),
objj_msgSend(a,"addSubview:",j),n=objj_msgSend(j,"minSize"),j=n.width,h<j&&(h=j),k+=n.height}for(e=0;e<f;++e)j=_menuItemViews[e],objj_msgSend(j,"setFrameSize:",CGSizeMake(h,CGRectGetHeight(objj_msgSend(j,"frame"))));objj_msgSend(a,"setAutoresizesSubviews:",NO);objj_msgSend(a,"setFrameSize:",CGSizeMake(h,k));objj_msgSend(a,"setAutoresizesSubviews:",YES)}}),new objj_method(sel_getUid("setMenu:"),function(a,b,c){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuView").super_class},
"setMenu:",c),objj_msgSend(a,"tile")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPIndexSet.j",baseURL),function(f,h){h("CPArray.j",YES);h("CPObject.j",YES);h("CPRange.j",YES);var e=objj_allocateClassPair(CPObject,"CPIndexSet"),c=e.isa;class_addIvars(e,[new objj_ivar("_count"),new objj_ivar("_ranges")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithIndexesInRange:",{location:0,length:0})}),new objj_method(sel_getUid("initWithIndex:"),
function(a,b,c){with(a)return objj_msgSend(a,"initWithIndexesInRange:",{location:c,length:1})}),new objj_method(sel_getUid("initWithIndexesInRange:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init"))_count=MAX(0,c.length),_ranges=_count>0?[c]:[];return a}}),new objj_method(sel_getUid("initWithIndexSet:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init")){_count=
objj_msgSend(c,"count");_ranges=[];b=c._ranges;for(c=b.length;c--;)_ranges[c]={location:b[c].location,length:b[c].length}}return a}}),new objj_method(sel_getUid("isEqual:"),function(a,b,c){with(a){if(a===c)return YES;if(!c||!objj_msgSend(c,"isKindOfClass:",objj_msgSend(CPIndexSet,"class")))return NO;return objj_msgSend(a,"isEqualToIndexSet:",c)}}),new objj_method(sel_getUid("isEqualToIndexSet:"),function(a,b,c){with(a){if(!c)return NO;if(a===c)return YES;a=_ranges.length;b=c._ranges;if(a!==b.length||
_count!==c._count)return NO;for(;a--;)if(!CPEqualRanges(_ranges[a],b[a]))return NO;return YES}}),new objj_method(sel_getUid("isEqual:"),function(a,b,c){with(a)return a===c||objj_msgSend(c,"isKindOfClass:",objj_msgSend(a,"class"))&&objj_msgSend(a,"isEqualToIndexSet:",c)}),new objj_method(sel_getUid("containsIndex:"),function(b,c,e){with(b)return a(_ranges,e)!==CPNotFound}),new objj_method(sel_getUid("containsIndexesInRange:"),function(b,c,e){with(b){if(e.length<=0)return NO;if(_count<e.length)return NO;
b=a(_ranges,e.location);if(b===CPNotFound)return NO;return CPIntersectionRange(_ranges[b],e).length===e.length}}),new objj_method(sel_getUid("containsIndexes:"),function(a,b,c){with(a){b=c._count;if(b<=0)return YES;if(_count<b)return NO;c=c._ranges;for(b=c.length;b--;)if(!objj_msgSend(a,"containsIndexesInRange:",c[b]))return NO;return YES}}),new objj_method(sel_getUid("intersectsIndexesInRange:"),function(a,c,e){with(a){if(_count<=0)return NO;a=b(_ranges,e.location);if(FLOOR(a)===a)return YES;e=b(_ranges,
e.location+e.length-1);if(FLOOR(e)===e)return YES;return a!==e}}),new objj_method(sel_getUid("count"),function(a){with(a)return _count}),new objj_method(sel_getUid("firstIndex"),function(a){with(a){if(_count>0)return _ranges[0].location;return CPNotFound}}),new objj_method(sel_getUid("lastIndex"),function(a){with(a){if(_count>0)return _ranges[_ranges.length-1].location+_ranges[_ranges.length-1].length-1;return CPNotFound}}),new objj_method(sel_getUid("indexGreaterThanIndex:"),function(a,c,e){with(a){++e;
a=b(_ranges,e);if(a===CPNotFound)return CPNotFound;a=CEIL(a);if(a>=_ranges.length)return CPNotFound;a=_ranges[a];if(CPLocationInRange(e,a))return e;return a.location}}),new objj_method(sel_getUid("indexLessThanIndex:"),function(a,c,e){with(a){--e;a=b(_ranges,e);if(a===CPNotFound)return CPNotFound;a=FLOOR(a);if(a<0)return CPNotFound;a=_ranges[a];if(CPLocationInRange(e,a))return e;return a.location+a.length-1}}),new objj_method(sel_getUid("indexGreaterThanOrEqualToIndex:"),function(a,b,c){with(a)return objj_msgSend(a,
"indexGreaterThanIndex:",c-1)}),new objj_method(sel_getUid("indexLessThanOrEqualToIndex:"),function(a,b,c){with(a)return objj_msgSend(a,"indexLessThanIndex:",c+1)}),new objj_method(sel_getUid("getIndexes:maxCount:inIndexRange:"),function(a,c,e,m,f){with(a){if(!_count||m===0||f&&!f.length){if(f)f.length=0;return 0}c=0;if(f){var h=f.location;a=f.location+f.length-1;var k=CEIL(b(_ranges,h)),n=FLOOR(b(_ranges,a))}else h=objj_msgSend(a,"firstIndex"),a=objj_msgSend(a,"lastIndex"),k=0,n=_ranges.length-1;
for(;k<=n;){var j=_ranges[k],r=MAX(h,j.location);for(j=MIN(a+1,j.location+j.length);r<j;++r)if(e[c++]=r,c===m){if(f)f.location=r+1,f.length=a+1-r-1;return m}++k}if(f)f.location=CPNotFound,f.length=0;return c}}),new objj_method(sel_getUid("description"),function(a){with(a){a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"description");if(_count){var b=0,c=_ranges.length;a+="[number of indexes: "+_count+" (in "+c;for(a+=c===1?" range), indexes: (":" ranges), indexes: (";b<
c;++b){var e=_ranges[b];a+=e.location;e.length>1&&(a+="-"+(CPMaxRange(e)-1));b+1<c&&(a+=" ")}a+=")]"}else a+="(no indexes)";return a}})]);class_addMethods(c,[new objj_method(sel_getUid("indexSet"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")}),new objj_method(sel_getUid("indexSetWithIndex:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithIndex:",c)}),new objj_method(sel_getUid("indexSetWithIndexesInRange:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,
"alloc"),"initWithIndexesInRange:",c)})]);e=objj_getClass("CPIndexSet");if(!e)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("addIndex:"),function(a,b,c){with(a)objj_msgSend(a,"addIndexesInRange:",{location:c,length:1})}),new objj_method(sel_getUid("addIndexes:"),function(a,b,c){with(a){b=c._ranges;for(c=b.length;c--;)objj_msgSend(a,"addIndexesInRange:",b[c])}}),new objj_method(sel_getUid("addIndexesInRange:"),function(a,
c,e){with(a){if(e.length<=0)return;if(_count<=0){_count=e.length;_ranges=[e];return}c=_ranges.length;var m=b(_ranges,e.location-1);a=CEIL(m);a===m&&a<c&&(e=CPUnionRange(e,_ranges[a]));c=b(_ranges,CPMaxRange(e));m=FLOOR(c);m===c&&m>=0&&(e=CPUnionRange(e,_ranges[m]));c=m-a+1;if(c===_ranges.length)_ranges=[e],_count=e.length;else if(c===1)a<_ranges.length&&(_count-=_ranges[a].length),_count+=e.length,_ranges[a]=e;else{if(c>0){m=a;for(var f=a+c-1;m<=f;++m)_count-=_ranges[m].length;objj_msgSend(_ranges,
"removeObjectsInRange:",{location:a,length:c})}objj_msgSend(_ranges,"insertObject:atIndex:",e,a);_count+=e.length}}}),new objj_method(sel_getUid("removeIndex:"),function(a,b,c){with(a)objj_msgSend(a,"removeIndexesInRange:",{location:c,length:1})}),new objj_method(sel_getUid("removeIndexes:"),function(a,b,c){with(a){b=c._ranges;for(c=b.length;c--;)objj_msgSend(a,"removeIndexesInRange:",b[c])}}),new objj_method(sel_getUid("removeAllIndexes"),function(a){with(a)_ranges=[],_count=0}),new objj_method(sel_getUid("removeIndexesInRange:"),
function(a,c,e){with(a){if(e.length<=0)return;if(_count<=0)return;c=_ranges.length;var f=b(_ranges,e.location);a=CEIL(f);if(f===a&&a<c&&(f=_ranges[a],e.location!==f.location)){var h=CPMaxRange(e),p=CPMaxRange(f);f.length=e.location-f.location;if(h<p){_count-=e.length;objj_msgSend(_ranges,"insertObject:atIndex:",{location:h,length:p-h},a+1);return}else _count-=p-e.location,a+=1}f=b(_ranges,CPMaxRange(e)-1);c=FLOOR(f);if(f===c&&c>=0&&(h=CPMaxRange(e),f=_ranges[c],p=CPMaxRange(f),h!==p))_count-=h-f.location,
c-=1,f.location=h,f.length=p-h;e=c-a+1;if(e>0){c=a;for(f=a+e-1;c<=f;++c)_count-=_ranges[c].length;objj_msgSend(_ranges,"removeObjectsInRange:",{location:a,length:e})}}}),new objj_method(sel_getUid("shiftIndexesStartingAtIndex:by:"),function(a,b,c,e){with(a){if(!_count||e==0)return;b=_ranges.length-1;for(var f=CPMakeRange(CPNotFound,0);b>=0;--b){var h=_ranges[b],k=CPMaxRange(h);if(c>=k)break;if(c>h.location){f=CPMakeRange(c+e,k-c);h.length=c-h.location;if(e>0)objj_msgSend(_ranges,"insertObject:atIndex:",
f,b+1);else if(f.location<0)f.length=CPMaxRange(f),f.location=0;break}if((h.location+=e)<0)_count-=h.length-CPMaxRange(h),h.length=CPMaxRange(h),h.location=0}if(e<0){c=b+1;e=_ranges.length;for(h=[];c<e;++c)objj_msgSend(h,"addObject:",_ranges[c]),_count-=_ranges[c].length;if((c=b+1)<e){objj_msgSend(_ranges,"removeObjectsInRange:",CPMakeRange(c,e-c));c=0;for(e=h.length;c<e;++c)objj_msgSend(a,"addIndexesInRange:",h[c])}f.location!=CPNotFound&&objj_msgSend(a,"addIndexesInRange:",f)}}})]);e=objj_getClass("CPIndexSet");
if(!e)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init")){_count=objj_msgSend(c,"decodeIntForKey:","CPIndexSetCountKey");_ranges=[];b=objj_msgSend(c,"decodeObjectForKey:","CPIndexSetRangeStringsKey");c=0;for(var e=b.length;c<e;++c)_ranges.push(CPRangeFromString(b[c]))}return a}}),
new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a){objj_msgSend(c,"encodeInt:forKey:",_count,"CPIndexSetCountKey");a=0;b=_ranges.length;for(var e=[];a<b;++a)e[a]=CPStringFromRange(_ranges[a]);objj_msgSend(c,"encodeObject:forKey:",e,"CPIndexSetRangeStringsKey")}})]);e=objj_getClass("CPIndexSet");if(!e)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("copy"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,
"class"),"alloc"),"initWithIndexSet:",a)}),new objj_method(sel_getUid("mutableCopy"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"class"),"alloc"),"initWithIndexSet:",a)})]);e=objj_allocateClassPair(CPIndexSet,"CPMutableIndexSet");c=e.isa;objj_registerClassPair(e);var a=function(a,b){for(var c=0,e=a.length-1;c<=e;){var f=FLOOR(c+(e-c)/2),h=a[f];if(b<h.location)e=f-1;else if(b>=CPMaxRange(h))c=f+1;else return f}return CPNotFound},b=function(a,b){var c=a.length;if(c<=0)return CPNotFound;
for(var e=0,f=c*2;e<=f;){var h=FLOOR(e+(f-e)/2),k=h/2,n=FLOOR(k);if(k===n)if(n-1>=0&&b<CPMaxRange(a[n-1]))f=h-1;else if(n<c&&b>=a[n].location)e=h+1;else return n-0.5;else if(k=a[n],b<k.location)f=h-1;else if(b>=CPMaxRange(k))e=h+1;else return n}return CPNotFound}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPSet+KVO.j",baseURL),function(f,h){h("CPException.j",YES);h("CPObject.j",YES);h("CPSet.j",YES);var e=objj_getClass("CPObject");if(!e)throw new SyntaxError('*** Could not find definition for class "CPObject"');var c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("mutableSetValueForKey:"),function(a,d,c){with(a)return objj_msgSend(objj_msgSend(_CPKVCSet,"alloc"),"initWithKey:forProxyObject:",c,a)}),new objj_method(sel_getUid("mutableSetValueForKeyPath:"),
function(a,d,c){with(a){var e=c.indexOf(".");if(e<0)return objj_msgSend(a,"mutableSetValueForKey:",c);d=c.substring(0,e);c=c.substring(e+1);return objj_msgSend(objj_msgSend(a,"valueForKeyPath:",d),"mutableSetValueForKeyPath:",c)}})]);e=objj_allocateClassPair(CPMutableSet,"_CPKVCSet");c=e.isa;class_addIvars(e,[new objj_ivar("_proxyObject"),new objj_ivar("_key"),new objj_ivar("_accessSEL"),new objj_ivar("_access"),new objj_ivar("_setSEL"),new objj_ivar("_set"),new objj_ivar("_countSEL"),new objj_ivar("_count"),
new objj_ivar("_enumeratorSEL"),new objj_ivar("_enumerator"),new objj_ivar("_memberSEL"),new objj_ivar("_member"),new objj_ivar("_addSEL"),new objj_ivar("_add"),new objj_ivar("_addManySEL"),new objj_ivar("_addMany"),new objj_ivar("_removeSEL"),new objj_ivar("_remove"),new objj_ivar("_removeManySEL"),new objj_ivar("_removeMany"),new objj_ivar("_intersectSEL"),new objj_ivar("_intersect")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithKey:forProxyObject:"),function(a,
d,c,e){with(a)return a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPKVCSet").super_class},"init"),_key=c,_proxyObject=e,d=_key.charAt(0).toUpperCase()+_key.substring(1),_accessSEL=sel_getName(_key),objj_msgSend(_proxyObject,"respondsToSelector:",_accessSEL)&&(_access=objj_msgSend(_proxyObject,"methodForSelector:",_accessSEL)),_setSEL=sel_getName("set"+d+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_setSEL)&&(_set=objj_msgSend(_proxyObject,"methodForSelector:",_setSEL)),_countSEL=
sel_getName("countOf"+d),objj_msgSend(_proxyObject,"respondsToSelector:",_countSEL)&&(_count=objj_msgSend(_proxyObject,"methodForSelector:",_countSEL)),_enumeratorSEL=sel_getName("enumeratorOf"+d),objj_msgSend(_proxyObject,"respondsToSelector:",_enumeratorSEL)&&(_enumerator=objj_msgSend(_proxyObject,"methodForSelector:",_enumeratorSEL)),_memberSEL=sel_getName("memberOf"+d+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_memberSEL)&&(_member=objj_msgSend(_proxyObject,"methodForSelector:",_memberSEL)),
_addSEL=sel_getName("add"+d+"Object:"),objj_msgSend(_proxyObject,"respondsToSelector:",_addSEL)&&(_add=objj_msgSend(_proxyObject,"methodForSelector:",_addSEL)),_addManySEL=sel_getName("add"+d+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_addManySEL)&&(_addMany=objj_msgSend(_proxyObject,"methodForSelector:",_addManySEL)),_removeSEL=sel_getName("remove"+d+"Object:"),objj_msgSend(_proxyObject,"respondsToSelector:",_removeSEL)&&(_remove=objj_msgSend(_proxyObject,"methodForSelector:",_removeSEL)),
_removeManySEL=sel_getName("remove"+d+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_removeManySEL)&&(_removeMany=objj_msgSend(_proxyObject,"methodForSelector:",_removeManySEL)),_intersectSEL=sel_getName("intersect"+d+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_intersectSEL)&&(_intersect=objj_msgSend(_proxyObject,"methodForSelector:",_intersectSEL)),a}),new objj_method(sel_getUid("_representedObject"),function(a){with(a){if(_access)return _access(_proxyObject,_accessSEL);return objj_msgSend(_proxyObject,
"valueForKey:",_key)}}),new objj_method(sel_getUid("_setRepresentedObject:"),function(a,d,c){with(a){if(_set)return _set(_proxyObject,_setSEL,c);objj_msgSend(_proxyObject,"setValue:forKey:",c,_key)}}),new objj_method(sel_getUid("count"),function(a){with(a){if(_count)return _count(_proxyObject,_countSEL);return objj_msgSend(objj_msgSend(a,"_representedObject"),"count")}}),new objj_method(sel_getUid("objectEnumerator"),function(a){with(a){if(_enumerator)return _enumerator(_proxyObject,_enumeratorSEL);
return objj_msgSend(objj_msgSend(a,"_representedObject"),"objectEnumerator")}}),new objj_method(sel_getUid("member:"),function(a,d,c){with(a){if(_member)return _member(_proxyObject,_memberSEL,c);return objj_msgSend(objj_msgSend(a,"_representedObject"),"member:",c)}}),new objj_method(sel_getUid("addObject:"),function(a,d,c){with(a)_add?_add(_proxyObject,_addSEL,c):_addMany?(a=objj_msgSend(CPSet,"setWithObject:",c),_addMany(_proxyObject,_addManySEL,a)):(d=objj_msgSend(objj_msgSend(a,"_representedObject"),
"copy"),objj_msgSend(d,"addObject:",c),objj_msgSend(a,"_setRepresentedObject:",d))}),new objj_method(sel_getUid("addObjectsFromArray:"),function(a,d,c){with(a)if(_addMany)a=objj_msgSend(CPSet,"setWithArray:",c),_addMany(_proxyObject,_addManySEL,a);else if(_add)for(c=objj_msgSend(c,"objectEnumerator");a=objj_msgSend(c,"nextObject");)_add(_proxyObject,_addSEL,a);else d=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(d,"addObjectsFromArray:",c),objj_msgSend(a,"_setRepresentedObject:",
d)}),new objj_method(sel_getUid("unionSet:"),function(a,d,c){with(a)if(_addMany)_addMany(_proxyObject,_addManySEL,c);else if(_add)for(c=objj_msgSend(c,"objectEnumerator");a=objj_msgSend(c,"nextObject");)_add(_proxyObject,_addSEL,a);else d=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(d,"unionSet:",c),objj_msgSend(a,"_setRepresentedObject:",d)}),new objj_method(sel_getUid("removeObject:"),function(a,d,c){with(a)_remove?_remove(_proxyObject,_removeSEL,c):_removeMany?(a=objj_msgSend(CPSet,
"setWithObject:",c),_removeMany(_proxyObject,_removeManySEL,a)):(d=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(d,"removeObject:",c),objj_msgSend(a,"_setRepresentedObject:",d))}),new objj_method(sel_getUid("minusSet:"),function(a,d,c){with(a)if(_removeMany)_removeMany(_proxyObject,_removeManySEL,c);else if(_remove)for(c=objj_msgSend(c,"objectEnumerator");a=objj_msgSend(c,"nextObject");)_remove(_proxyObject,_removeSEL,a);else d=objj_msgSend(objj_msgSend(a,"_representedObject"),
"copy"),objj_msgSend(d,"minusSet:",c),objj_msgSend(a,"_setRepresentedObject:",d)}),new objj_method(sel_getUid("removeObjectsInArray:"),function(a,d,c){with(a)if(_removeMany)a=objj_msgSend(CPSet,"setWithArray:",c),_removeMany(_proxyObject,_removeManySEL,a);else if(_remove)for(c=objj_msgSend(c,"objectEnumerator");a=objj_msgSend(c,"nextObject");)_remove(_proxyObject,_removeSEL,a);else d=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(d,"removeObjectsInArray:",c),objj_msgSend(a,
"_setRepresentedObject:",d)}),new objj_method(sel_getUid("removeAllObjects"),function(a){with(a)if(_removeMany)a=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),_removeMany(_proxyObject,_removeManySEL,a);else if(_remove)for(var d=objj_msgSend(objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),"objectEnumerator");a=objj_msgSend(d,"nextObject");)_remove(_proxyObject,_removeSEL,a);else d=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(d,"removeAllObjects"),objj_msgSend(a,
"_setRepresentedObject:",d)}),new objj_method(sel_getUid("intersectSet:"),function(a,d,c){with(a)_intersect?_intersect(_proxyObject,_intersectSEL,c):(d=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(d,"intersectSet:",c),objj_msgSend(a,"_setRepresentedObject:",d))}),new objj_method(sel_getUid("setSet:"),function(a,d,c){with(a)objj_msgSend(a,"_setRepresentedObject:",c)}),new objj_method(sel_getUid("allObjects"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),
"allObjects")}),new objj_method(sel_getUid("anyObject"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),"anyObject")}),new objj_method(sel_getUid("containsObject:"),function(a,d,c){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),"containsObject:",c)}),new objj_method(sel_getUid("intersectsSet:"),function(a,d,c){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),"intersectsSet:",c)}),new objj_method(sel_getUid("isEqualToSet:"),function(a,d,c){with(a)return objj_msgSend(objj_msgSend(a,
"_representedObject"),"isEqualToSet:",c)}),new objj_method(sel_getUid("copy"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),"copy")})]);class_addMethods(c,[new objj_method(sel_getUid("alloc"),function(a){with(a){var d=objj_msgSend(CPMutableSet,"set");d.isa=a;a=class_copyIvarList(a);for(var c=a.length;c--;)d[ivar_getName(a[c])]=nil;return d}})]);e=objj_getClass("CPSet");if(!e)throw new SyntaxError('*** Could not find definition for class "CPSet"');c=e.isa;class_addMethods(e,
[new objj_method(sel_getUid("valueForKeyPath:"),function(b,d,c){with(b)if(c.indexOf("@")===0){var e=c.indexOf("."),f,h;e!==-1?(f=c.substring(1,e),h=c.substring(e+1)):f=c.substring(1);if(a[f])return a[f](b,d,h);return nil}else{d=objj_msgSend(CPSet,"set");for(b=objj_msgSend(b,"objectEnumerator");e=objj_msgSend(b,"nextObject");)(e=objj_msgSend(e,"valueForKeyPath:",c))&&objj_msgSend(d,"addObject:",e);return d}}),new objj_method(sel_getUid("setValue:forKey:"),function(a,d,c,e){with(a)for(d=objj_msgSend(a,
"objectEnumerator");a=objj_msgSend(d,"nextObject");)objj_msgSend(a,"setValue:forKey:",c,e)})]);var a=[];a.avg=function(a,d,c){a=objj_msgSend(objj_msgSend(a,"valueForKeyPath:",c),"allObjects");c=d=objj_msgSend(a,"count");var e=0;if(!d)return 0;for(;c--;)e+=objj_msgSend(a[c],"doubleValue");return e/d};a.max=function(a,d,c){a=objj_msgSend(objj_msgSend(a,"valueForKeyPath:",c),"allObjects");d=objj_msgSend(a,"count")-1;for(c=objj_msgSend(a,"lastObject");d--;){var e=a[d];objj_msgSend(c,"compare:",e)<0&&
(c=e)}return c};a.min=function(a,d,c){a=objj_msgSend(objj_msgSend(a,"valueForKeyPath:",c),"allObjects");d=objj_msgSend(a,"count")-1;for(c=objj_msgSend(a,"lastObject");d--;){var e=a[d];objj_msgSend(c,"compare:",e)>0&&(c=e)}return c};a.count=function(a){return objj_msgSend(a,"count")};a.sum=function(a,d,c){a=objj_msgSend(objj_msgSend(a,"valueForKeyPath:",c),"allObjects");d=objj_msgSend(a,"count");for(c=0;d--;)c+=objj_msgSend(a[d],"doubleValue");return c};e=objj_getClass("CPSet");if(!e)throw new SyntaxError('*** Could not find definition for class "CPSet"');
c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("addObserver:forKeyPath:options:context:"),function(a,d,c,e,f,h){with(a)objj_msgSend(isa,"instanceMethodForSelector:",d)===objj_msgSend(CPSet,"instanceMethodForSelector:",d)?objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unsupported method on CPSet"):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPSet").super_class},"addObserver:forKeyPath:options:context:",c,e,f,h)}),new objj_method(sel_getUid("removeObserver:forKeyPath:"),
function(a,d,c,e){with(a)objj_msgSend(isa,"instanceMethodForSelector:",d)===objj_msgSend(CPSet,"instanceMethodForSelector:",d)?objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unsupported method on CPSet"):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPSet").super_class},"removeObserver:forKeyPath:",c,e)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPEvent.j",baseURL),function(f,h){h("Foundation/CPObject.j",NO);h("CPText.j",YES);CPLeftMouseDown=1;CPLeftMouseUp=2;CPRightMouseDown=3;CPRightMouseUp=4;CPMouseMoved=5;CPLeftMouseDragged=6;CPRightMouseDragged=7;CPMouseEntered=8;CPMouseExited=9;CPKeyDown=10;CPKeyUp=11;CPFlagsChanged=12;CPAppKitDefined=13;CPSystemDefined=14;CPApplicationDefined=15;CPPeriodic=16;CPCursorUpdate=17;CPScrollWheel=22;CPOtherMouseDown=25;CPOtherMouseUp=
26;CPOtherMouseDragged=27;CPTouchStart=28;CPTouchMove=29;CPTouchEnd=30;CPTouchCancel=31;CPAlphaShiftKeyMask=65536;CPShiftKeyMask=131072;CPControlKeyMask=262144;CPAlternateKeyMask=524288;CPCommandKeyMask=1048576;CPNumericPadKeyMask=2097152;CPHelpKeyMask=4194304;CPFunctionKeyMask=8388608;CPDeviceIndependentModifierFlagsMask=4294901760;CPLeftMouseDownMask=1<<CPLeftMouseDown;CPLeftMouseUpMask=1<<CPLeftMouseUp;CPRightMouseDownMask=1<<CPRightMouseDown;CPRightMouseUpMask=1<<CPRightMouseUp;CPOtherMouseDownMask=
1<<CPOtherMouseDown;CPOtherMouseUpMask=1<<CPOtherMouseUp;CPMouseMovedMask=1<<CPMouseMoved;CPLeftMouseDraggedMask=1<<CPLeftMouseDragged;CPRightMouseDraggedMask=1<<CPRightMouseDragged;CPOtherMouseDragged=1<<CPOtherMouseDragged;CPMouseEnteredMask=1<<CPMouseEntered;CPMouseExitedMask=1<<CPMouseExited;CPCursorUpdateMask=1<<CPCursorUpdate;CPKeyDownMask=1<<CPKeyDown;CPKeyUpMask=1<<CPKeyUp;CPFlagsChangedMask=1<<CPFlagsChanged;CPAppKitDefinedMask=1<<CPAppKitDefined;CPSystemDefinedMask=1<<CPSystemDefined;CPApplicationDefinedMask=
1<<CPApplicationDefined;CPPeriodicMask=1<<CPPeriodic;CPScrollWheelMask=1<<CPScrollWheel;CPAnyEventMask=4294967295;CPUpArrowFunctionKey="";CPDownArrowFunctionKey="";CPLeftArrowFunctionKey="";CPRightArrowFunctionKey="";CPF1FunctionKey="";CPF2FunctionKey="";CPF3FunctionKey="";CPF4FunctionKey="";CPF5FunctionKey="";CPF6FunctionKey="";CPF7FunctionKey="";CPF8FunctionKey="";CPF9FunctionKey="";CPF10FunctionKey="";CPF11FunctionKey="";CPF12FunctionKey="";CPF13FunctionKey="";CPF14FunctionKey=
"";CPF15FunctionKey="";CPF16FunctionKey="";CPF17FunctionKey="";CPF18FunctionKey="";CPF19FunctionKey="";CPF20FunctionKey="";CPF21FunctionKey="";CPF22FunctionKey="";CPF23FunctionKey="";CPF24FunctionKey="";CPF25FunctionKey="";CPF26FunctionKey="";CPF27FunctionKey="";CPF28FunctionKey="";CPF29FunctionKey="";CPF30FunctionKey="";CPF31FunctionKey="";CPF32FunctionKey="";CPF33FunctionKey="";CPF34FunctionKey="";CPF35FunctionKey="";CPInsertFunctionKey="";CPDeleteFunctionKey="";CPHomeFunctionKey=
"";CPBeginFunctionKey="";CPEndFunctionKey="";CPPageUpFunctionKey="";CPPageDownFunctionKey="";CPPrintScreenFunctionKey="";CPScrollLockFunctionKey="";CPPauseFunctionKey="";CPSysReqFunctionKey="";CPBreakFunctionKey="";CPResetFunctionKey="";CPStopFunctionKey="";CPMenuFunctionKey="";CPUserFunctionKey="";CPSystemFunctionKey="";CPPrintFunctionKey="";CPClearLineFunctionKey="";CPClearDisplayFunctionKey="";CPInsertLineFunctionKey="";CPDeleteLineFunctionKey="";CPInsertCharFunctionKey="";
CPDeleteCharFunctionKey="";CPPrevFunctionKey="";CPNextFunctionKey="";CPSelectFunctionKey="";CPExecuteFunctionKey="";CPUndoFunctionKey="";CPRedoFunctionKey="";CPFindFunctionKey="";CPHelpFunctionKey="";CPModeSwitchFunctionKey="";CPEscapeFunctionKey="";CPSpaceFunctionKey=" ";CPDOMEventDoubleClick="dblclick";CPDOMEventMouseDown="mousedown";CPDOMEventMouseUp="mouseup";CPDOMEventMouseMoved="mousemove";CPDOMEventMouseDragged="mousedrag";CPDOMEventKeyUp="keyup";CPDOMEventKeyDown="keydown";CPDOMEventKeyPress=
"keypress";CPDOMEventCopy="copy";CPDOMEventPaste="paste";CPDOMEventScrollWheel="mousewheel";CPDOMEventTouchStart="touchstart";CPDOMEventTouchMove="touchmove";CPDOMEventTouchEnd="touchend";CPDOMEventTouchCancel="touchcancel";var e=nil,c=/[A-Z]/,a=objj_allocateClassPair(CPObject,"CPEvent"),b=a.isa;class_addIvars(a,[new objj_ivar("_type"),new objj_ivar("_location"),new objj_ivar("_modifierFlags"),new objj_ivar("_timestamp"),new objj_ivar("_context"),new objj_ivar("_eventNumber"),new objj_ivar("_clickCount"),
new objj_ivar("_pressure"),new objj_ivar("_window"),new objj_ivar("_windowNumber"),new objj_ivar("_characters"),new objj_ivar("_isARepeat"),new objj_ivar("_keyCode"),new objj_ivar("_DOMEvent"),new objj_ivar("_deltaX"),new objj_ivar("_deltaY"),new objj_ivar("_deltaZ")]);objj_registerClassPair(a);class_addMethods(a,[new objj_method(sel_getUid("_initMouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:"),function(a,b,d,c,e,f,h,j,r,t,s){with(a){if(a=
objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPEvent").super_class},"init"))_type=d,_location=CPPointCreateCopy(c),_modifierFlags=e,_timestamp=f,_context=j,_eventNumber=r,_clickCount=t,_pressure=s,_window=objj_msgSend(CPApp,"windowWithWindowNumber:",h);return a}}),new objj_method(sel_getUid("_initKeyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:"),function(a,b,d,c,e,f,h,j,r,t,s,A){with(a){if(a=objj_msgSendSuper({receiver:a,
super_class:objj_getClass("CPEvent").super_class},"init"))_type=d,_location=CPPointCreateCopy(c),_modifierFlags=e,_timestamp=f,_context=j,_characters=r,_charactersIgnoringModifiers=t,_isARepeat=s,_keyCode=A,_windowNumber=h;return a}}),new objj_method(sel_getUid("_initOtherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:"),function(a,b,d,c,e,f,h,j,r,t,s){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPEvent").super_class},"init"))_type=
d,_location=CPPointCreateCopy(c),_modifierFlags=e,_timestamp=f,_context=j,_subtype=r,_data1=t,_data2=s;return a}}),new objj_method(sel_getUid("locationInWindow"),function(a){with(a)return{x:_location.x,y:_location.y}}),new objj_method(sel_getUid("globalLocation"),function(a){with(a){var b=objj_msgSend(a,"window");a=objj_msgSend(a,"locationInWindow");if(b)return objj_msgSend(b,"convertBaseToGlobal:",a);return a}}),new objj_method(sel_getUid("modifierFlags"),function(a){with(a)return _modifierFlags}),
new objj_method(sel_getUid("timestamp"),function(a){with(a)return _timestamp}),new objj_method(sel_getUid("type"),function(a){with(a)return _type}),new objj_method(sel_getUid("window"),function(a){with(a)return _window||(_window=objj_msgSend(CPApp,"windowWithWindowNumber:",_windowNumber)),_window}),new objj_method(sel_getUid("windowNumber"),function(a){with(a)return _windowNumber}),new objj_method(sel_getUid("buttonNumber"),function(a){with(a){if(_type===CPRightMouseDown||_type===CPRightMouseUp||
_type===CPRightMouseDragged)return 1;return 0}}),new objj_method(sel_getUid("clickCount"),function(a){with(a)return _clickCount}),new objj_method(sel_getUid("characters"),function(a){with(a)return _characters}),new objj_method(sel_getUid("charactersIgnoringModifiers"),function(a){with(a)return _charactersIgnoringModifiers}),new objj_method(sel_getUid("isARepeat"),function(a){with(a)return _isARepeat}),new objj_method(sel_getUid("keyCode"),function(a){with(a)return _keyCode}),new objj_method(sel_getUid("pressure"),
function(a){with(a)return _pressure}),new objj_method(sel_getUid("_DOMEvent"),function(a){with(a)return _DOMEvent}),new objj_method(sel_getUid("deltaX"),function(a){with(a)return _deltaX}),new objj_method(sel_getUid("deltaY"),function(a){with(a)return _deltaY}),new objj_method(sel_getUid("deltaZ"),function(a){with(a)return _deltaZ}),new objj_method(sel_getUid("_triggersKeyEquivalent:withModifierMask:"),function(a,b,d,e){with(a){if(!d)return NO;c.test(d)&&(e|=CPShiftKeyMask);!CPBrowserIsOperatingSystem(CPMacOperatingSystem)&&
e&CPCommandKeyMask&&(e|=CPControlKeyMask,e&=~CPCommandKeyMask);if((_modifierFlags&(CPShiftKeyMask|CPAlternateKeyMask|CPCommandKeyMask|CPControlKeyMask))!==e)return NO;if(_characters===CPNewlineCharacter||_characters===CPCarriageReturnCharacter)return CPNewlineCharacter===d||CPCarriageReturnCharacter===d;return objj_msgSend(_characters,"caseInsensitiveCompare:",d)===CPOrderedSame}}),new objj_method(sel_getUid("_couldBeKeyEquivalent"),function(a){with(a){if(_type!==CPKeyDown)return NO;a=_characters.length;
if(!a)return NO;if(_modifierFlags&(CPCommandKeyMask|CPControlKeyMask))return YES;for(var b=0;b<a;b++)switch(_characters.charAt(b)){case CPBackspaceCharacter:case CPDeleteCharacter:case CPDeleteFunctionKey:case CPTabCharacter:case CPCarriageReturnCharacter:case CPNewlineCharacter:case CPSpaceFunctionKey:case CPEscapeFunctionKey:case CPPageUpFunctionKey:case CPPageDownFunctionKey:case CPLeftArrowFunctionKey:case CPUpArrowFunctionKey:case CPRightArrowFunctionKey:case CPDownArrowFunctionKey:case CPEndFunctionKey:case CPHomeFunctionKey:return YES}return NO}})]);
class_addMethods(b,[new objj_method(sel_getUid("keyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:"),function(a,b,d,c,e,f,h,j,r,t,s,A){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initKeyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:",d,c,e,f,h,j,r,t,s,A)}),new objj_method(sel_getUid("mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:"),
function(a,b,d,c,e,f,h,j,r,t,s){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initMouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",d,c,e,f,h,j,r,t,s)}),new objj_method(sel_getUid("otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:"),function(a,b,d,c,e,f,h,j,r,t,s){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initOtherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",
d,c,e,f,h,j,r,t,s)}),new objj_method(sel_getUid("mouseLocation"),function(a){with(a){a=objj_msgSend(CPApp,"currentEvent");var b=objj_msgSend(a,"window");if(b)return objj_msgSend(b,"convertBaseToGlobal:",objj_msgSend(a,"locationInWindow"));return objj_msgSend(a,"locationInWindow")}}),new objj_method(sel_getUid("startPeriodicEventsAfterDelay:withPeriod:"),function(a,b,d,c){with(a)e=window.setTimeout(function(){e=window.setInterval(_CPEventFirePeriodEvent,c*1E3)},d*1E3)}),new objj_method(sel_getUid("stopPeriodicEvents"),
function(a){with(a){if(e===nil)return;window.clearTimeout(e);e=nil}})]);_CPEventFirePeriodEvent=function(){objj_msgSend(CPApp,"sendEvent:",objj_msgSend(CPEvent,"otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",CPPeriodic,{x:0,y:0},0,0,0,nil,0,0,0))};var d=objj_msgSend(CPEvent,"class");_CPEventFromNativeMouseEvent=function(a,b,c,e,f,h,n,j,r,t){a.isa=d;a._type=b;a._location=c;a._modifierFlags=e;a._timestamp=f;a._windowNumber=h;a._window=nil;a._context=n;
a._eventNumber=j;a._clickCount=r;a._pressure=t;return a}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPStandardWindowView.j",baseURL),function(f,h){h("CPTextField.j",YES);h("_CPWindowView.j",YES);var e=nil,c=nil,a=objj_allocateClassPair(CPView,"_CPTexturedWindowHeadView"),b=a.isa;class_addIvars(a,[new objj_ivar("_gradientView"),new objj_ivar("_solidView"),new objj_ivar("_dividerView")]);objj_registerClassPair(a);class_addMethods(a,[new objj_method(sel_getUid("initWithFrame:"),function(a,b,d){with(a){if(a=objj_msgSendSuper({receiver:a,
super_class:objj_getClass("_CPTexturedWindowHeadView").super_class},"initWithFrame:",d))b=objj_msgSend(a,"class"),d=objj_msgSend(a,"bounds"),_gradientView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,CGRectGetWidth(d),41)),objj_msgSend(_gradientView,"setBackgroundColor:",objj_msgSend(b,"gradientColor")),objj_msgSend(a,"addSubview:",_gradientView),_solidView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,41,CGRectGetWidth(d),CGRectGetHeight(d)-
41)),objj_msgSend(_solidView,"setBackgroundColor:",objj_msgSend(b,"solidColor")),objj_msgSend(a,"addSubview:",_solidView);return a}}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(a){with(a)a=objj_msgSend(a,"bounds"),objj_msgSend(_gradientView,"setFrameSize:",CGSizeMake(CGRectGetWidth(a),41)),objj_msgSend(_solidView,"setFrameSize:",CGSizeMake(CGRectGetWidth(a),CGRectGetHeight(a)-41))})]);class_addMethods(b,[new objj_method(sel_getUid("gradientColor"),function(a){with(a)return e||
(a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_CPWindowView,"class")),e=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPThreePartImage,"alloc"),"initWithImageSlices:isVertical:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/Standard/CPWindowStandardTop0.png"),CGSizeMake(6,41)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/Standard/CPWindowStandardTop1.png"),
CGSizeMake(1,41)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/Standard/CPWindowStandardTop2.png"),CGSizeMake(6,41))],NO))),e}),new objj_method(sel_getUid("solidColor"),function(a){with(a)return c||(c=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",195/255,195/255,195/255,1)),c})]);var d=nil,g=nil,i=nil,m=nil,q=nil,p=nil,k=nil,n=nil,j=nil;a=objj_allocateClassPair(_CPWindowView,"_CPStandardWindowView");b=a.isa;
class_addIvars(a,[new objj_ivar("_headView"),new objj_ivar("_dividerView"),new objj_ivar("_bodyView"),new objj_ivar("_toolbarView"),new objj_ivar("_titleField"),new objj_ivar("_closeButton"),new objj_ivar("_minimizeButton"),new objj_ivar("_isDocumentEdited")]);objj_registerClassPair(a);class_addMethods(a,[new objj_method(sel_getUid("contentRectForFrameRect:"),function(a,b,d){with(a)return b=objj_msgSend(objj_msgSend(a,"class"),"contentRectForFrameRect:",d),a=objj_msgSend(objj_msgSend(a,"window"),
"toolbar"),objj_msgSend(a,"isVisible")&&(toolbarHeight=CGRectGetHeight(objj_msgSend(objj_msgSend(a,"_toolbarView"),"frame")),b.origin.y+=toolbarHeight,b.size.height-=toolbarHeight),b}),new objj_method(sel_getUid("frameRectForContentRect:"),function(a,b,d){with(a)return b=objj_msgSend(objj_msgSend(a,"class"),"frameRectForContentRect:",d),a=objj_msgSend(objj_msgSend(a,"window"),"toolbar"),objj_msgSend(a,"isVisible")&&(toolbarHeight=CGRectGetHeight(objj_msgSend(objj_msgSend(a,"_toolbarView"),"frame")),
b.origin.y-=toolbarHeight,b.size.height+=toolbarHeight),b}),new objj_method(sel_getUid("initWithFrame:styleMask:"),function(a,b,d,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPStandardWindowView").super_class},"initWithFrame:styleMask:",d,c))b=objj_msgSend(a,"class"),d=objj_msgSend(a,"bounds"),_headView=objj_msgSend(objj_msgSend(_CPTexturedWindowHeadView,"alloc"),"initWithFrame:",CGRectMake(0,0,CGRectGetWidth(d),objj_msgSend(objj_msgSend(a,"class"),"titleBarHeight"))),
objj_msgSend(_headView,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_headView,"setHitTests:",NO),objj_msgSend(a,"addSubview:",_headView),_dividerView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,CGRectGetMaxY(objj_msgSend(_headView,"frame")),CGRectGetWidth(d),1)),objj_msgSend(_dividerView,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_dividerView,"setBackgroundColor:",objj_msgSend(b,"dividerBackgroundColor")),objj_msgSend(_dividerView,"setHitTests:",
NO),objj_msgSend(a,"addSubview:",_dividerView),c=CGRectGetMaxY(objj_msgSend(_dividerView,"frame")),_bodyView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,c,CGRectGetWidth(d),CGRectGetHeight(d)-c)),objj_msgSend(_bodyView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(_bodyView,"setBackgroundColor:",objj_msgSend(b,"bodyBackgroundColor")),objj_msgSend(_bodyView,"setHitTests:",NO),objj_msgSend(a,"addSubview:",_bodyView),objj_msgSend(a,"setResizeIndicatorOffset:",
CGSizeMake(2,2)),_titleField=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_titleField,"setFont:",objj_msgSend(CPFont,"boldSystemFontOfSize:",12)),objj_msgSend(_titleField,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_titleField,"setLineBreakMode:",CPLineBreakByTruncatingTail),objj_msgSend(_titleField,"setAlignment:",CPCenterTextAlignment),objj_msgSend(_titleField,"setTextShadowColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_titleField,
"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(_titleField,"setStringValue:","Untitled"),objj_msgSend(_titleField,"sizeToFit"),objj_msgSend(_titleField,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_titleField,"setStringValue:",""),objj_msgSend(a,"addSubview:",_titleField),_styleMask&CPClosableWindowMask&&(m||(b=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class")),m=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:",
"CPWindow/Standard/CPWindowStandardCloseButton.png"),CGSizeMake(16,16)),q=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardCloseButtonHighlighted.png"),CGSizeMake(16,16)),p=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardCloseButtonUnsaved.png"),CGSizeMake(16,16)),k=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardCloseButtonUnsavedHighlighted.png"),CGSizeMake(16,16))),_closeButton=objj_msgSend(objj_msgSend(CPButton,"alloc"),"initWithFrame:",CGRectMake(8,7,16,16)),objj_msgSend(_closeButton,"setBordered:",NO),objj_msgSend(a,"_updateCloseButton"),objj_msgSend(a,"addSubview:",_closeButton)),_styleMask&CPMiniaturizableWindowMask&&!objj_msgSend(CPPlatform,"isBrowser")&&(n||(b=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class")),
n=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardMinimizeButton.png"),CGSizeMake(16,16)),j=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardMinimizeButtonHighlighted.png"),CGSizeMake(16,16))),_minimizeButton=objj_msgSend(objj_msgSend(CPButton,"alloc"),"initWithFrame:",CGRectMake(27,7,16,16)),objj_msgSend(_minimizeButton,
"setBordered:",NO),objj_msgSend(_minimizeButton,"setImage:",n),objj_msgSend(_minimizeButton,"setAlternateImage:",j),objj_msgSend(a,"addSubview:",_minimizeButton)),objj_msgSend(a,"tile");return a}}),new objj_method(sel_getUid("viewDidMoveToWindow"),function(a){with(a)objj_msgSend(_closeButton,"setTarget:",objj_msgSend(a,"window")),objj_msgSend(_closeButton,"setAction:",sel_getUid("performClose:")),objj_msgSend(_minimizeButton,"setTarget:",objj_msgSend(a,"window")),objj_msgSend(_minimizeButton,"setAction:",
sel_getUid("performMiniaturize:"))}),new objj_method(sel_getUid("toolbarOffset"),function(a){with(a)return CGSizeMake(0,objj_msgSend(objj_msgSend(a,"class"),"titleBarHeight"))}),new objj_method(sel_getUid("tile"),function(a){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPStandardWindowView").super_class},"tile");var b=objj_msgSend(a,"window"),d=objj_msgSend(a,"bounds"),c=CGRectGetWidth(d);objj_msgSend(_headView,"setFrameSize:",CGSizeMake(c,objj_msgSend(a,"toolbarMaxY")));objj_msgSend(_dividerView,
"setFrame:",CGRectMake(0,CGRectGetMaxY(objj_msgSend(_headView,"frame")),c,1));a=CGRectGetMaxY(objj_msgSend(_dividerView,"frame"));objj_msgSend(_bodyView,"setFrame:",CGRectMake(0,a,c,CGRectGetHeight(d)-a));d=8;_closeButton&&(d+=19);_minimizeButton&&(d+=19);objj_msgSend(_titleField,"setFrame:",CGRectMake(d,5,c-d*2,CGRectGetHeight(objj_msgSend(_titleField,"frame"))));objj_msgSend(objj_msgSend(b,"contentView"),"setFrameOrigin:",CGPointMake(0,CGRectGetMaxY(objj_msgSend(_dividerView,"frame"))))}}),new objj_method(sel_getUid("_updateCloseButton"),
function(a){with(a)_isDocumentEdited?(objj_msgSend(_closeButton,"setImage:",p),objj_msgSend(_closeButton,"setAlternateImage:",k)):(objj_msgSend(_closeButton,"setImage:",m),objj_msgSend(_closeButton,"setAlternateImage:",q))}),new objj_method(sel_getUid("setDocumentEdited:"),function(a,b,d){with(a)_isDocumentEdited=d,objj_msgSend(a,"_updateCloseButton")}),new objj_method(sel_getUid("setTitle:"),function(a,b,d){with(a)objj_msgSend(_titleField,"setStringValue:",d)}),new objj_method(sel_getUid("mouseDown:"),
function(a,b,d){with(a){if(CGRectContainsPoint(objj_msgSend(_headView,"frame"),objj_msgSend(a,"convertPoint:fromView:",objj_msgSend(d,"locationInWindow"),nil)))return objj_msgSend(a,"trackMoveWithEvent:",d);objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPStandardWindowView").super_class},"mouseDown:",d)}})]);class_addMethods(b,[new objj_method(sel_getUid("bodyBackgroundColor"),function(a){with(a)return d||(d=objj_msgSend(CPColor,"colorWithWhite:alpha:",0.96,1)),d}),new objj_method(sel_getUid("dividerBackgroundColor"),
function(a){with(a)return g||(g=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",125/255,125/255,125/255,1)),g}),new objj_method(sel_getUid("titleColor"),function(a){with(a)return i||(i=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",44/255,44/255,44/255,1)),i}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(a,b,d){with(a)return b=CGRectMakeCopy(d),a=objj_msgSend(a,"titleBarHeight")+1,b.origin.y+=a,b.size.height-=a,b}),new objj_method(sel_getUid("frameRectForContentRect:"),
function(a,b,d){with(a)return b=CGRectMakeCopy(d),a=objj_msgSend(a,"titleBarHeight")+1,b.origin.y-=a,b.size.height+=a,b}),new objj_method(sel_getUid("titleBarHeight"),function(a){with(a)return 25})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPKeyedArchiver.j",baseURL),function(f,h){h("CPArray.j",YES);h("CPCoder.j",YES);h("CPData.j",YES);h("CPDictionary.j",YES);h("CPNumber.j",YES);h("CPString.j",YES);h("CPValue.j",YES);var e=nil,c=nil,a=Nil,b=Nil,d=objj_allocateClassPair(CPValue,"_CPKeyedArchiverValue"),g=d.isa;objj_registerClassPair(d);d=objj_allocateClassPair(CPCoder,"CPKeyedArchiver");g=d.isa;class_addIvars(d,[new objj_ivar("_delegate"),new objj_ivar("_delegateSelectors"),
new objj_ivar("_data"),new objj_ivar("_objects"),new objj_ivar("_UIDs"),new objj_ivar("_conditionalUIDs"),new objj_ivar("_replacementObjects"),new objj_ivar("_replacementClassNames"),new objj_ivar("_plistObject"),new objj_ivar("_plistObjects"),new objj_ivar("_outputFormat")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initForWritingWithMutableData:"),function(a,b,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPKeyedArchiver").super_class},
"init"))_data=d,_objects=[],_UIDs=objj_msgSend(CPDictionary,"dictionary"),_conditionalUIDs=objj_msgSend(CPDictionary,"dictionary"),_replacementObjects=objj_msgSend(CPDictionary,"dictionary"),_data=d,_plistObject=objj_msgSend(CPDictionary,"dictionary"),_plistObjects=objj_msgSend(CPArray,"arrayWithObject:","$null");return a}}),new objj_method(sel_getUid("finishEncoding"),function(a){with(a){_delegate&&_delegateSelectors&16&&objj_msgSend(_delegate,"archiverWillFinish:",a);for(var b=0,d=_plistObject;b<
_objects.length;++b){var c=_objects[b];objj_msgSend(c,"classForKeyedArchiver");_plistObject=_plistObjects[objj_msgSend(_UIDs,"objectForKey:",objj_msgSend(c,"UID"))];objj_msgSend(c,"encodeWithCoder:",a);_delegate&&_delegateSelectors&1&&objj_msgSend(_delegate,"archiver:didEncodeObject:",a,c)}_plistObject=objj_msgSend(CPDictionary,"dictionary");objj_msgSend(_plistObject,"setObject:forKey:",d,"$top");objj_msgSend(_plistObject,"setObject:forKey:",_plistObjects,"$objects");objj_msgSend(_plistObject,"setObject:forKey:",
objj_msgSend(a,"className"),"$archiver");objj_msgSend(_plistObject,"setObject:forKey:","100000","$version");objj_msgSend(_data,"setPlistObject:",_plistObject);_delegate&&_delegateSelectors&8&&objj_msgSend(_delegate,"archiverDidFinish:",a)}}),new objj_method(sel_getUid("outputFormat"),function(a){with(a)return _outputFormat}),new objj_method(sel_getUid("setOutputFormat:"),function(a,b,d){with(a)_outputFormat=d}),new objj_method(sel_getUid("encodeBool:forKey:"),function(a,b,d,c){with(a)objj_msgSend(_plistObject,
"setObject:forKey:",i(a,d,NO),c)}),new objj_method(sel_getUid("encodeDouble:forKey:"),function(a,b,d,c){with(a)objj_msgSend(_plistObject,"setObject:forKey:",i(a,d,NO),c)}),new objj_method(sel_getUid("encodeFloat:forKey:"),function(a,b,d,c){with(a)objj_msgSend(_plistObject,"setObject:forKey:",i(a,d,NO),c)}),new objj_method(sel_getUid("encodeInt:forKey:"),function(a,b,d,c){with(a)objj_msgSend(_plistObject,"setObject:forKey:",i(a,d,NO),c)}),new objj_method(sel_getUid("setDelegate:"),function(a,b,d){with(a)_delegate=
d,objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:didEncodeObject:"))&&(_delegateSelectors|=1),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:willEncodeObject:"))&&(_delegateSelectors|=2),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:willReplaceObject:withObject:"))&&(_delegateSelectors|=4),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:didFinishEncoding:"))&&(_delegateSelectors|=_CPKeyedArchiverDidFinishEncodingSelector),
objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:willFinishEncoding:"))&&(_delegateSelectors|=_CPKeyedArchiverWillFinishEncodingSelector)}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("encodePoint:forKey:"),function(a,b,d,c){with(a)objj_msgSend(_plistObject,"setObject:forKey:",i(a,CPStringFromPoint(d),NO),c)}),new objj_method(sel_getUid("encodeRect:forKey:"),function(a,b,d,c){with(a)objj_msgSend(_plistObject,"setObject:forKey:",
i(a,CPStringFromRect(d),NO),c)}),new objj_method(sel_getUid("encodeSize:forKey:"),function(a,b,d,c){with(a)objj_msgSend(_plistObject,"setObject:forKey:",i(a,CPStringFromSize(d),NO),c)}),new objj_method(sel_getUid("encodeConditionalObject:forKey:"),function(a,b,d,c){with(a)objj_msgSend(_plistObject,"setObject:forKey:",i(a,d,YES),c)}),new objj_method(sel_getUid("encodeNumber:forKey:"),function(a,b,d,c){with(a)objj_msgSend(_plistObject,"setObject:forKey:",i(a,d,NO),c)}),new objj_method(sel_getUid("encodeObject:forKey:"),
function(a,b,d,c){with(a)objj_msgSend(_plistObject,"setObject:forKey:",i(a,d,NO),c)}),new objj_method(sel_getUid("_encodeArrayOfObjects:forKey:"),function(a,b,d,c){with(a){b=0;for(var e=d.length,g=[];b<e;++b)objj_msgSend(g,"addObject:",i(a,d[b],NO));objj_msgSend(_plistObject,"setObject:forKey:",g,c)}}),new objj_method(sel_getUid("_encodeDictionaryOfObjects:forKey:"),function(a,b,d,c){with(a){for(var e=objj_msgSend(d,"keyEnumerator"),g=objj_msgSend(CPDictionary,"dictionary");b=objj_msgSend(e,"nextObject");)objj_msgSend(g,
"setObject:forKey:",i(a,objj_msgSend(d,"objectForKey:",b),NO),b);objj_msgSend(_plistObject,"setObject:forKey:",g,c)}}),new objj_method(sel_getUid("setClassName:forClass:"),function(a,b,d,c){with(a)_replacementClassNames||(_replacementClassNames=objj_msgSend(CPDictionary,"dictionary")),objj_msgSend(_replacementClassNames,"setObject:forKey:",d,CPStringFromClass(c))}),new objj_method(sel_getUid("classNameForClass:"),function(a,b,d){with(a){if(!_replacementClassNames)return d.name;return(a=objj_msgSend(_replacementClassNames,
"objectForKey:",CPStringFromClass(aClassName)))?a:d.name}})]);class_addMethods(g,[new objj_method(sel_getUid("initialize"),function(d){with(d){if(d!=objj_msgSend(CPKeyedArchiver,"class"))return;a=objj_msgSend(CPString,"class");b=objj_msgSend(CPNumber,"class");c=objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",0,"CP$UID")}}),new objj_method(sel_getUid("allowsKeyedCoding"),function(a){with(a)return YES}),new objj_method(sel_getUid("archivedDataWithRootObject:"),function(a,b,d){with(a)return b=
objj_msgSend(CPData,"dataWithPlistObject:",nil),a=objj_msgSend(objj_msgSend(a,"alloc"),"initForWritingWithMutableData:",b),objj_msgSend(a,"encodeObject:forKey:",d,"root"),objj_msgSend(a,"finishEncoding"),b}),new objj_method(sel_getUid("setClassName:forClass:"),function(a,b,d,c){with(a)e||(e=objj_msgSend(CPDictionary,"dictionary")),objj_msgSend(e,"setObject:forKey:",d,CPStringFromClass(c))}),new objj_method(sel_getUid("classNameForClass:"),function(a,b,d){with(a){if(!e)return d.name;return(a=objj_msgSend(e,
"objectForKey:",CPStringFromClass(d)))?a:d.name}})]);var i=function(d,e,g){e!==nil&&e!==void 0&&!e.isa&&(e=objj_msgSend(_CPKeyedArchiverValue,"valueWithJSObject:",e));var f=objj_msgSend(e,"UID"),h=objj_msgSend(d._replacementObjects,"objectForKey:",f);h===nil&&(h=objj_msgSend(e,"replacementObjectForKeyedArchiver:",d),d._delegate&&(h!==e&&d._delegateSelectors&4&&objj_msgSend(d._delegate,"archiver:willReplaceObject:withObject:",d,e,h),d._delegateSelectors&2&&(e=objj_msgSend(d._delegate,"archiver:willEncodeObject:",
d,h),e!==h&&d._delegateSelectors&4&&objj_msgSend(d._delegate,"archiver:willReplaceObject:withObject:",d,h,e),h=e)),objj_msgSend(d._replacementObjects,"setObject:forKey:",h,f));if(h===nil)return c;e=objj_msgSend(d._UIDs,"objectForKey:",f=objj_msgSend(h,"UID"));if(e===nil)if(g){if((e=objj_msgSend(d._conditionalUIDs,"objectForKey:",f))===nil)objj_msgSend(d._conditionalUIDs,"setObject:forKey:",e=objj_msgSend(d._plistObjects,"count"),f),objj_msgSend(d._plistObjects,"addObject:","$null")}else{e=objj_msgSend(h,
"classForKeyedArchiver");g=nil;if(e===a||e===b)g=h;else{g=objj_msgSend(CPDictionary,"dictionary");objj_msgSend(d._objects,"addObject:",h);(h=objj_msgSend(d,"classNameForClass:",e))||(h=objj_msgSend(objj_msgSend(d,"class"),"classNameForClass:",e));h?e=CPClassFromString(h):h=e.name;var i=objj_msgSend(d._UIDs,"objectForKey:",h);if(!i){var r=objj_msgSend(CPDictionary,"dictionary");i=[];objj_msgSend(r,"setObject:forKey:",h,"$classname");do objj_msgSend(i,"addObject:",CPStringFromClass(e));while(e=objj_msgSend(e,
"superclass"));objj_msgSend(r,"setObject:forKey:",i,"$classes");i=objj_msgSend(d._plistObjects,"count");objj_msgSend(d._plistObjects,"addObject:",r);objj_msgSend(d._UIDs,"setObject:forKey:",i,h)}objj_msgSend(g,"setObject:forKey:",objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",i,"CP$UID"),"$class")}e=objj_msgSend(d._conditionalUIDs,"objectForKey:",f);e!==nil?(objj_msgSend(d._UIDs,"setObject:forKey:",e,f),objj_msgSend(d._plistObjects,"replaceObjectAtIndex:withObject:",e,g)):(objj_msgSend(d._UIDs,
"setObject:forKey:",e=objj_msgSend(d._plistObjects,"count"),f),objj_msgSend(d._plistObjects,"addObject:",g))}return objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",e,"CP$UID")}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuItemStandardView.j",baseURL),function(f,h){h("CPControl.j",YES);var e=nil,c=nil,a=nil,b=[],d=[],g=objj_allocateClassPair(CPView,"_CPMenuItemStandardView"),i=g.isa;class_addIvars(g,[new objj_ivar("_menuItem"),new objj_ivar("_font"),new objj_ivar("_textColor"),new objj_ivar("_textShadowColor"),new objj_ivar("_minSize"),new objj_ivar("_isDirty"),new objj_ivar("_stateView"),new objj_ivar("_imageAndTextView"),new objj_ivar("_keyEquivalentView"),
new objj_ivar("_submenuIndicatorView")]);objj_registerClassPair(g);class_addMethods(g,[new objj_method(sel_getUid("menuItem"),function(a){with(a)return _menuItem}),new objj_method(sel_getUid("setMenuItem:"),function(a,b,d){with(a)_menuItem=d}),new objj_method(sel_getUid("minSize"),function(a){with(a)return _minSize}),new objj_method(sel_getUid("initWithFrame:"),function(a,b,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuItemStandardView").super_class},"initWithFrame:",
d))_stateView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMake(0,0,0,0)),objj_msgSend(_stateView,"setImageScaling:",CPScaleNone),objj_msgSend(a,"addSubview:",_stateView),_imageAndTextView=objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",CGRectMake(0,0,0,0)),objj_msgSend(_imageAndTextView,"setImagePosition:",CPImageLeft),objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(a,"addSubview:",_imageAndTextView),_keyEquivalentView=
objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",CGRectMake(0,0,0,0)),objj_msgSend(_keyEquivalentView,"setImagePosition:",CPNoImage),objj_msgSend(_keyEquivalentView,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(_keyEquivalentView,"setAutoresizingMask:",CPViewMinXMargin),objj_msgSend(a,"addSubview:",_keyEquivalentView),_submenuIndicatorView=objj_msgSend(objj_msgSend(_CPMenuItemSubmenuIndicatorView,"alloc"),"initWithFrame:",CGRectMake(0,0,8,10)),objj_msgSend(_submenuIndicatorView,
"setColor:",e),objj_msgSend(_submenuIndicatorView,"setAutoresizingMask:",CPViewMinXMargin),objj_msgSend(a,"addSubview:",_submenuIndicatorView),objj_msgSend(a,"setAutoresizingMask:",CPViewWidthSizable);return a}}),new objj_method(sel_getUid("textColor"),function(a){with(a){if(!objj_msgSend(_menuItem,"isEnabled"))return objj_msgSend(CPColor,"lightGrayColor");return _textColor||objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",70/255,69/255,69/255,1)}}),new objj_method(sel_getUid("textShadowColor"),
function(a){with(a){if(!objj_msgSend(_menuItem,"isEnabled"))return nil;return _textShadowColor||objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.8)}}),new objj_method(sel_getUid("setFont:"),function(a,b,d){with(a)_font=d}),new objj_method(sel_getUid("update"),function(a){with(a){var d=3+objj_msgSend(_menuItem,"indentationLevel")*17,c=0,e=objj_msgSend(objj_msgSend(_menuItem,"menu"),"showsStateColumn");e?(objj_msgSend(_stateView,"setHidden:",NO),objj_msgSend(_stateView,"setImage:",b[objj_msgSend(_menuItem,
"state")]||nil),d+=14):objj_msgSend(_stateView,"setHidden:",YES);objj_msgSend(_imageAndTextView,"setFont:",objj_msgSend(_menuItem,"font")||_font);objj_msgSend(_imageAndTextView,"setVerticalAlignment:",CPCenterVerticalTextAlignment);objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image"));objj_msgSend(_imageAndTextView,"setText:",objj_msgSend(_menuItem,"title"));objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(a,"textColor"));objj_msgSend(_imageAndTextView,"setTextShadowColor:",
objj_msgSend(a,"textShadowColor"));objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1));objj_msgSend(_imageAndTextView,"sizeToFit");var g=objj_msgSend(_imageAndTextView,"frame");g.origin.x=d;d+=CGRectGetWidth(g);c=MAX(c,CGRectGetHeight(g));var f=!!objj_msgSend(_menuItem,"keyEquivalent"),h=objj_msgSend(_menuItem,"hasSubmenu");if(f||h)d+=30;if(f){objj_msgSend(_keyEquivalentView,"setFont:",objj_msgSend(_menuItem,"font")||_font);objj_msgSend(_keyEquivalentView,"setVerticalAlignment:",
CPCenterVerticalTextAlignment);objj_msgSend(_keyEquivalentView,"setImage:",objj_msgSend(_menuItem,"image"));objj_msgSend(_keyEquivalentView,"setText:",objj_msgSend(_menuItem,"keyEquivalentStringRepresentation"));objj_msgSend(_keyEquivalentView,"setTextColor:",objj_msgSend(a,"textColor"));objj_msgSend(_keyEquivalentView,"setTextShadowColor:",objj_msgSend(a,"textShadowColor"));objj_msgSend(_keyEquivalentView,"setTextShadowOffset:",CGSizeMake(0,1));objj_msgSend(_keyEquivalentView,"setFrameOrigin:",CGPointMake(d,
4));objj_msgSend(_keyEquivalentView,"sizeToFit");var i=objj_msgSend(_keyEquivalentView,"frame");i.origin.x=d;d+=CGRectGetWidth(i);c=MAX(c,CGRectGetHeight(i));h&&(d+=30)}else objj_msgSend(_keyEquivalentView,"setHidden:",YES);if(h){objj_msgSend(_submenuIndicatorView,"setHidden:",NO);var s=objj_msgSend(_submenuIndicatorView,"frame");s.origin.x=d;d+=CGRectGetWidth(s);c=MAX(c,CGRectGetHeight(s))}else objj_msgSend(_submenuIndicatorView,"setHidden:",YES);c+=8;g.origin.y=FLOOR((c-CGRectGetHeight(g))/2);objj_msgSend(_imageAndTextView,
"setFrame:",g);e&&objj_msgSend(_stateView,"setFrameSize:",CGSizeMake(14,c));if(f)i.origin.y=FLOOR((c-CGRectGetHeight(i))/2),objj_msgSend(_keyEquivalentView,"setFrame:",i);if(h)s.origin.y=FLOOR((c-CGRectGetHeight(s))/2),objj_msgSend(_submenuIndicatorView,"setFrame:",s);_minSize=CGSizeMake(d+17,c);objj_msgSend(a,"setAutoresizesSubviews:",NO);objj_msgSend(a,"setFrameSize:",_minSize);objj_msgSend(a,"setAutoresizesSubviews:",YES)}}),new objj_method(sel_getUid("highlight:"),function(g,f,h){with(g){if(!objj_msgSend(_menuItem,
"isEnabled"))return;h?(objj_msgSend(g,"setBackgroundColor:",c),objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"alternateImage")||objj_msgSend(_menuItem,"image")),objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_keyEquivalentView,"setTextColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_imageAndTextView,"setTextShadowColor:",a),objj_msgSend(_keyEquivalentView,
"setTextShadowColor:",a)):(objj_msgSend(g,"setBackgroundColor:",nil),objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image")),objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(g,"textColor")),objj_msgSend(_keyEquivalentView,"setTextColor:",objj_msgSend(g,"textColor")),objj_msgSend(_submenuIndicatorView,"setColor:",e),objj_msgSend(_imageAndTextView,"setTextShadowColor:",objj_msgSend(g,"textShadowColor")),objj_msgSend(_keyEquivalentView,"setTextShadowColor:",objj_msgSend(g,
"textShadowColor")));objj_msgSend(objj_msgSend(_menuItem,"menu"),"showsStateColumn")&&(h?objj_msgSend(_stateView,"setImage:",d[objj_msgSend(_menuItem,"state")]||nil):objj_msgSend(_stateView,"setImage:",b[objj_msgSend(_menuItem,"state")]||nil))}})]);class_addMethods(i,[new objj_method(sel_getUid("initialize"),function(g){with(g){if(g!==objj_msgSend(_CPMenuItemStandardView,"class"))return;e=objj_msgSend(CPColor,"grayColor");c=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",95/255,131/
255,185/255,1);a=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",26/255,73/255,109/255,1);g=objj_msgSend(CPBundle,"bundleForClass:",g);b[CPOffState]=nil;d[CPOffState]=nil;b[CPOnState]=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(g,"pathForResource:","CPMenuItem/CPMenuItemOnState.png"),CGSizeMake(14,14));d[CPOnState]=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(g,"pathForResource:","CPMenuItem/CPMenuItemOnStateHighlighted.png"),
CGSizeMake(14,14));b[CPMixedState]=nil;d[CPMixedState]=nil}}),new objj_method(sel_getUid("view"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")}),new objj_method(sel_getUid("_standardLeftMargin"),function(a){with(a)return 17})]);g=objj_allocateClassPair(CPView,"_CPMenuItemSubmenuIndicatorView");i=g.isa;class_addIvars(g,[new objj_ivar("_color")]);objj_registerClassPair(g);class_addMethods(g,[new objj_method(sel_getUid("setColor:"),function(a,b,d){with(a){if(_color===d)return;
_color=d;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("drawRect:"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");a=objj_msgSend(a,"bounds");CGContextBeginPath(b);CGContextMoveToPoint(b,CGRectGetMinX(a),CGRectGetMinY(a));CGContextAddLineToPoint(b,CGRectGetMaxX(a),CGRectGetMidY(a));CGContextAddLineToPoint(b,CGRectGetMinX(a),CGRectGetMaxY(a));CGContextClosePath(b);CGContextSetFillColor(b,_color);CGContextFillPath(b)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPWindowController.j",baseURL),function(f,h){h("Foundation/CPObject.j",NO);h("Foundation/CPString.j",NO);h("CPResponder.j",YES);h("CPWindow.j",YES);h("CPDocument.j",YES);var e=objj_allocateClassPair(CPResponder,"CPWindowController");class_addIvars(e,[new objj_ivar("_window"),new objj_ivar("_documents"),new objj_ivar("_document"),new objj_ivar("_shouldCloseDocument"),new objj_ivar("_supportsMultipleDocuments"),new objj_ivar("_cibOwner"),
new objj_ivar("_windowCibName"),new objj_ivar("_windowCibPath"),new objj_ivar("_viewController"),new objj_ivar("_viewControllerContainerView")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(c){with(c)return objj_msgSend(c,"initWithWindow:",nil)}),new objj_method(sel_getUid("initWithWindow:"),function(c,a,b){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPWindowController").super_class},"init"))objj_msgSend(c,"setWindow:",b),objj_msgSend(c,
"setShouldCloseDocument:",NO),objj_msgSend(c,"setNextResponder:",CPApp),_documents=[];return c}}),new objj_method(sel_getUid("initWithWindowCibName:"),function(c,a,b){with(c)return objj_msgSend(c,"initWithWindowCibName:owner:",b,c)}),new objj_method(sel_getUid("initWithWindowCibName:owner:"),function(c,a,b,d){with(c){if(c=objj_msgSend(c,"initWithWindow:",nil))_cibOwner=d,_windowCibName=b;return c}}),new objj_method(sel_getUid("initWithWindowCibPath:owner:"),function(c,a,b,d){with(c){if(c=objj_msgSend(c,
"initWithWindow:",nil))_cibOwner=d,_windowCibPath=b;return c}}),new objj_method(sel_getUid("loadWindow"),function(c){with(c){if(_window)return;objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"loadCibFile:externalNameTable:",objj_msgSend(c,"windowCibPath"),objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",_cibOwner,CPCibOwner))}}),new objj_method(sel_getUid("showWindow:"),function(c,a,b){with(c)c=objj_msgSend(c,"window"),objj_msgSend(c,"respondsToSelector:",sel_getUid("becomesKeyOnlyIfNeeded"))&&
objj_msgSend(c,"becomesKeyOnlyIfNeeded")?objj_msgSend(c,"orderFront:",b):objj_msgSend(c,"makeKeyAndOrderFront:",b)}),new objj_method(sel_getUid("isWindowLoaded"),function(c){with(c)return _window!==nil}),new objj_method(sel_getUid("window"),function(c){with(c){if(!_window){objj_msgSend(c,"windowWillLoad");objj_msgSend(_document,"windowControllerWillLoadCib:",c);objj_msgSend(c,"loadWindow");_window===nil&&objj_msgSend(_cibOwner,"isKindOfClass:",objj_msgSend(CPDocument,"class"))&&objj_msgSend(c,"setWindow:",
objj_msgSend(_cibOwner,"valueForKey:","window"));if(!_window){var a=objj_msgSend(CPString,"stringWithFormat:","Window for %@ could not be loaded from Cib or no window specified.                                                         Override loadWindow to load the window manually.",c);objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,a)}objj_msgSend(c,"windowDidLoad");objj_msgSend(_document,"windowControllerDidLoadCib:",c);objj_msgSend(c,"synchronizeWindowTitleWithDocumentName")}return _window}}),
new objj_method(sel_getUid("setWindow:"),function(c,a,b){with(c)objj_msgSend(_window,"setWindowController:",nil),_window=b,objj_msgSend(_window,"setWindowController:",c),objj_msgSend(_window,"setNextResponder:",c)}),new objj_method(sel_getUid("windowDidLoad"),function(c){with(c);}),new objj_method(sel_getUid("windowWillLoad"),function(c){with(c);}),new objj_method(sel_getUid("setDocument:"),function(c,a,b){with(c){if(_document===b)return;a=objj_msgSend(CPNotificationCenter,"defaultCenter");_document&&
(objj_msgSend(c,"supportsMultipleDocuments")||objj_msgSend(c,"removeDocument:",_document),objj_msgSend(a,"removeObserver:name:object:",c,CPDocumentWillSaveNotification,_document),objj_msgSend(a,"removeObserver:name:object:",c,CPDocumentDidSaveNotification,_document),objj_msgSend(a,"removeObserver:name:object:",c,CPDocumentDidFailToSaveNotification,_document));if(_document=b)objj_msgSend(c,"addDocument:",_document),objj_msgSend(a,"addObserver:selector:name:object:",c,sel_getUid("_documentWillSave:"),
CPDocumentWillSaveNotification,_document),objj_msgSend(a,"addObserver:selector:name:object:",c,sel_getUid("_documentDidSave:"),CPDocumentDidSaveNotification,_document),objj_msgSend(a,"addObserver:selector:name:object:",c,sel_getUid("_documentDidFailToSave:"),CPDocumentDidFailToSaveNotification,_document),objj_msgSend(c,"setDocumentEdited:",objj_msgSend(_document,"isDocumentEdited"));(b=objj_msgSend(_document,"viewControllerForWindowController:",c))&&objj_msgSend(c,"setViewController:",b);objj_msgSend(c,
"synchronizeWindowTitleWithDocumentName");objj_msgSend(objj_msgSend(objj_msgSend(c,"window"),"toolbar"),"validateVisibleItems")}}),new objj_method(sel_getUid("setSupportsMultipleDocuments:"),function(c,a,b){with(c)_supportsMultipleDocuments=b}),new objj_method(sel_getUid("supportsMultipleDocuments"),function(c){with(c)return _supportsMultipleDocuments}),new objj_method(sel_getUid("addDocument:"),function(c,a,b){with(c)b&&!objj_msgSend(_documents,"containsObject:",b)&&objj_msgSend(_documents,"addObject:",
b)}),new objj_method(sel_getUid("removeDocument:"),function(c,a,b){with(c){a=objj_msgSend(_documents,"indexOfObjectIdenticalTo:",b);if(a===CPNotFound)return;objj_msgSend(_documents,"removeObjectAtIndex:",a);_document===b&&objj_msgSend(_documents,"count")&&objj_msgSend(c,"setDocument:",objj_msgSend(_documents,"objectAtIndex:",MIN(a,objj_msgSend(_documents,"count")-1)))}}),new objj_method(sel_getUid("removeDocumentAndCloseIfNecessary:"),function(c,a,b){with(c)objj_msgSend(c,"removeDocument:",b),objj_msgSend(_documents,
"count")||objj_msgSend(c,"close")}),new objj_method(sel_getUid("documents"),function(c){with(c)return _documents}),new objj_method(sel_getUid("setViewControllerContainerView:"),function(c,a,b){with(c)_viewControllerContainerView=b}),new objj_method(sel_getUid("viewControllerContainerView"),function(c){with(c)return _viewControllerContainerView}),new objj_method(sel_getUid("setViewController:"),function(c,a,b){with(c){c=objj_msgSend(c,"viewControllerContainerView")||objj_msgSend(objj_msgSend(c,"window"),
"contentView");var d=(a=objj_msgSend(_viewController,"view"))?objj_msgSend(a,"frame"):objj_msgSend(c,"bounds");objj_msgSend(a,"removeFromSuperview");_viewController=b;if(a=objj_msgSend(_viewController,"view"))objj_msgSend(a,"setFrame:",d),objj_msgSend(c,"addSubview:",a)}}),new objj_method(sel_getUid("viewController"),function(c){with(c)return _viewController}),new objj_method(sel_getUid("_documentWillSave:"),function(c){with(c)objj_msgSend(objj_msgSend(c,"window"),"setDocumentSaving:",YES)}),new objj_method(sel_getUid("_documentDidSave:"),
function(c){with(c)objj_msgSend(objj_msgSend(c,"window"),"setDocumentSaving:",NO)}),new objj_method(sel_getUid("_documentDidFailToSave:"),function(c){with(c)objj_msgSend(objj_msgSend(c,"window"),"setDocumentSaving:",NO)}),new objj_method(sel_getUid("document"),function(c){with(c)return _document}),new objj_method(sel_getUid("setDocumentEdited:"),function(c,a,b){with(c)objj_msgSend(objj_msgSend(c,"window"),"setDocumentEdited:",b)}),new objj_method(sel_getUid("close"),function(c){with(c)objj_msgSend(objj_msgSend(c,
"window"),"close")}),new objj_method(sel_getUid("setShouldCloseDocument:"),function(c,a,b){with(c)_shouldCloseDocument=b}),new objj_method(sel_getUid("shouldCloseDocument"),function(c){with(c)return _shouldCloseDocument}),new objj_method(sel_getUid("owner"),function(c){with(c)return _cibOwner}),new objj_method(sel_getUid("windowCibName"),function(c){with(c){if(_windowCibName)return _windowCibName;return objj_msgSend(objj_msgSend(_windowCibPath,"lastPathComponent"),"stringByDeletingPathExtension")}}),
new objj_method(sel_getUid("windowCibPath"),function(c){with(c){if(_windowCibPath)return _windowCibPath;return objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",_windowCibName+".cib")}}),new objj_method(sel_getUid("synchronizeWindowTitleWithDocumentName"),function(c){with(c){if(!_document||!_window)return;objj_msgSend(_window,"setTitle:",objj_msgSend(c,"windowTitleForDocumentDisplayName:",objj_msgSend(_document,"displayName")))}}),new objj_method(sel_getUid("windowTitleForDocumentDisplayName:"),
function(c,a,b){with(c)return b})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPPasteboard.j",baseURL),function(f,h){h("Foundation/CPObject.j",NO);h("Foundation/CPArray.j",NO);h("Foundation/CPDictionary.j",NO);h("Foundation/CPPropertyListSerialization.j",NO);CPGeneralPboard="CPGeneralPboard";CPFontPboard="CPFontPboard";CPRulerPboard="CPRulerPboard";CPFindPboard="CPFindPboard";CPDragPboard="CPDragPboard";CPColorPboardType="CPColorPboardType";CPFilenamesPboardType="CPFilenamesPboardType";CPFontPboardType="CPFontPboardType";
CPHTMLPboardType="CPHTMLPboardType";CPStringPboardType="CPStringPboardType";CPURLPboardType="CPURLPboardType";CPImagesPboardType="CPImagesPboardType";CPVideosPboardType="CPVideosPboardType";UTF8PboardType="public.utf8-plain-text";CPImagePboardType="CPImagePboardType";var e=nil,c=NO,a=objj_allocateClassPair(CPObject,"CPPasteboard"),b=a.isa;class_addIvars(a,[new objj_ivar("_types"),new objj_ivar("_owners"),new objj_ivar("_provided"),new objj_ivar("_changeCount"),new objj_ivar("_stateUID"),new objj_ivar("_nativePasteboard")]);
objj_registerClassPair(a);class_addMethods(a,[new objj_method(sel_getUid("_initWithName:"),function(a,b,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPPasteboard").super_class},"init"))_name=d,_types=[],_owners=objj_msgSend(CPDictionary,"dictionary"),_provided=objj_msgSend(CPDictionary,"dictionary"),_changeCount=0,c&&(_nativePasteboard=window.cpPasteboardWithName(d),objj_msgSend(a,"_synchronizePasteboard"));return a}}),new objj_method(sel_getUid("addTypes:owner:"),function(a,
b,d,c){with(a){a=0;for(b=d.length;a<b;++a){var e=d[a];objj_msgSend(_owners,"objectForKey:",e)||(objj_msgSend(_types,"addObject:",e),objj_msgSend(_provided,"removeObjectForKey:",e));objj_msgSend(_owners,"setObject:forKey:",c,e)}_nativePasteboard&&(c=objj_msgSend(d,"copy"),objj_msgSend(d,"containsObject:",CPStringPboardType)&&c.push(UTF8PboardType),_nativePasteboard.addTypes_(c));return++_changeCount}}),new objj_method(sel_getUid("declareTypes:owner:"),function(a,b,d,c){with(a)objj_msgSend(a,"_declareTypes:owner:updateNativePasteboard:",
d,c,YES)}),new objj_method(sel_getUid("_declareTypes:owner:updateNativePasteboard:"),function(a,b,d,c,e){with(a){objj_msgSend(_types,"setArray:",d);_owners=objj_msgSend(CPDictionary,"dictionary");_provided=objj_msgSend(CPDictionary,"dictionary");for(a=_types.length;a--;)objj_msgSend(_owners,"setObject:forKey:",c,_types[a]);_nativePasteboard&&e&&(c=objj_msgSend(d,"copy"),objj_msgSend(d,"containsObject:",CPStringPboardType)&&c.push(UTF8PboardType),_nativePasteboard.declareTypes_(c),_changeCount=_nativePasteboard.changeCount());
return++_changeCount}}),new objj_method(sel_getUid("setData:forType:"),function(a,b,d,c){with(a)return objj_msgSend(_provided,"setObject:forKey:",d,c),c===CPStringPboardType&&objj_msgSend(a,"setData:forType:",d,UTF8PboardType),YES}),new objj_method(sel_getUid("setPropertyList:forType:"),function(a,b,d,c){with(a)return objj_msgSend(a,"setData:forType:",objj_msgSend(CPPropertyListSerialization,"dataFromPropertyList:format:",d,CPPropertyList280NorthFormat_v1_0),c)}),new objj_method(sel_getUid("setString:forType:"),
function(a,b,d,c){with(a)objj_msgSend(a,"setPropertyList:forType:",d,c)}),new objj_method(sel_getUid("availableTypeFromArray:"),function(a,b,d){with(a)return objj_msgSend(objj_msgSend(a,"types"),"firstObjectCommonWithArray:",d)}),new objj_method(sel_getUid("types"),function(a){with(a)return objj_msgSend(a,"_synchronizePasteboard"),_types}),new objj_method(sel_getUid("changeCount"),function(a){with(a)return _changeCount}),new objj_method(sel_getUid("dataForType:"),function(a,b,d){with(a){if(b=objj_msgSend(_provided,
"objectForKey:",d))return b;if(b=objj_msgSend(_owners,"objectForKey:",d))return objj_msgSend(b,"pasteboard:provideDataForType:",a,d),objj_msgSend(_provided,"objectForKey:",d);if(d===CPStringPboardType)return objj_msgSend(a,"dataForType:",UTF8PboardType);return nil}}),new objj_method(sel_getUid("_synchronizePasteboard"),function(a){with(a)if(_nativePasteboard&&_nativePasteboard.changeCount()>_changeCount){var b=objj_msgSend(_nativePasteboard.types(),"copy");objj_msgSend(b,"containsObject:",UTF8PboardType)&&
b.push(CPStringPboardType);objj_msgSend(a,"_declareTypes:owner:updateNativePasteboard:",b,a,NO);_changeCount=_nativePasteboard.changeCount()}}),new objj_method(sel_getUid("pasteboard:provideDataForType:"),function(a,b,d,c){with(a)c===CPStringPboardType?(b=_nativePasteboard.stringForType_(UTF8PboardType),objj_msgSend(a,"setString:forType:",b,CPStringPboardType),objj_msgSend(a,"setString:forType:",b,UTF8PboardType)):objj_msgSend(a,"setString:forType:",_nativePasteboard.stringForType_(c),c)}),new objj_method(sel_getUid("propertyListForType:"),
function(a,b,d){with(a){if(a=objj_msgSend(a,"dataForType:",d))return objj_msgSend(CPPropertyListSerialization,"propertyListFromData:format:",a,CPPropertyList280NorthFormat_v1_0);return nil}}),new objj_method(sel_getUid("stringForType:"),function(a,b,d){with(a)return objj_msgSend(a,"propertyListForType:",d)}),new objj_method(sel_getUid("_generateStateUID"),function(a){with(a){a=32;for(_stateUID="";a--;)_stateUID+=FLOOR(RAND()*16).toString(16).toUpperCase();return _stateUID}}),new objj_method(sel_getUid("_stateUID"),
function(a){with(a)return _stateUID})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(CPPasteboard,"class"))return;objj_msgSend(a,"setVersion:",1);e=objj_msgSend(CPDictionary,"dictionary");typeof window.cpPasteboardWithName!=="undefined"&&(c=YES)}}),new objj_method(sel_getUid("generalPasteboard"),function(a){with(a)return objj_msgSend(CPPasteboard,"pasteboardWithName:",CPGeneralPboard)}),new objj_method(sel_getUid("pasteboardWithName:"),function(a,
b,d){with(a){if(a=objj_msgSend(e,"objectForKey:",d))return a;a=objj_msgSend(objj_msgSend(CPPasteboard,"alloc"),"_initWithName:",d);objj_msgSend(e,"setObject:forKey:",a,d);return a}})]);var d=nil;a=objj_allocateClassPair(CPPasteboard,"_CPDOMDataTransferPasteboard");b=a.isa;class_addIvars(a,[new objj_ivar("_dataTransfer")]);objj_registerClassPair(a);class_addMethods(a,[new objj_method(sel_getUid("_setDataTransfer:"),function(a,b,d){with(a)_dataTransfer=d}),new objj_method(sel_getUid("_setPasteboard:"),
function(a,b,d){with(a){_dataTransfer.clearData();a=objj_msgSend(d,"types");for(b=a.length;b--;){var c=a[b];c===CPStringPboardType?_dataTransfer.setData(c,objj_msgSend(d,"stringForType:",c)):_dataTransfer.setData(c,objj_msgSend(objj_msgSend(d,"dataForType:",c),"rawString"))}}}),new objj_method(sel_getUid("types"),function(a){with(a)return Array.prototype.slice.apply(_dataTransfer.types)}),new objj_method(sel_getUid("dataForType:"),function(a,b,d){with(a){a=_dataTransfer.getData(d);if(d===CPStringPboardType)return objj_msgSend(CPData,
"dataFromPropertyList:format:",a,kCFPropertyList280NorthFormat_v1_0);return objj_msgSend(CPData,"dataWithRawString:",a)}}),new objj_method(sel_getUid("propertyListForType:"),function(a,b,d){with(a){if(d===CPStringPboardType)return _dataTransfer.getData(d);return objj_msgSend(CPPropertyListSerialization,"propertyListFromData:format:",objj_msgSend(a,"dataForType:",d),CPPropertyListUnknownFormat)}})]);class_addMethods(b,[new objj_method(sel_getUid("DOMDataTransferPasteboard"),function(a){with(a)return d||
(d=objj_msgSend(objj_msgSend(_CPDOMDataTransferPasteboard,"alloc"),"init")),d})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuItemMenuBarView.j",baseURL),function(f,h){h("CPView.j",YES);var e=nil,c=nil,a=objj_allocateClassPair(CPView,"_CPMenuItemMenuBarView"),b=a.isa;class_addIvars(a,[new objj_ivar("_menuItem"),new objj_ivar("_font"),new objj_ivar("_textColor"),new objj_ivar("_textShadowColor"),new objj_ivar("_isDirty"),new objj_ivar("_imageAndTextView"),new objj_ivar("_submenuIndicatorView")]);objj_registerClassPair(a);class_addMethods(a,[new objj_method(sel_getUid("menuItem"),
function(a){with(a)return _menuItem}),new objj_method(sel_getUid("setMenuItem:"),function(a,b,c){with(a)_menuItem=c}),new objj_method(sel_getUid("initWithFrame:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuItemMenuBarView").super_class},"initWithFrame:",c))_imageAndTextView=objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",CGRectMake(8,0,0,0)),objj_msgSend(_imageAndTextView,"setImagePosition:",CPImageLeft),objj_msgSend(_imageAndTextView,
"setImageOffset:",3),objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(_imageAndTextView,"setAutoresizingMask:",CPViewMinYMargin|CPViewMaxYMargin),objj_msgSend(a,"addSubview:",_imageAndTextView),_submenuIndicatorView=objj_msgSend(objj_msgSend(_CPMenuItemMenuBarSubmenuIndicatorView,"alloc"),"initWithFrame:",CGRectMake(0,0,9,6)),objj_msgSend(_submenuIndicatorView,"setAutoresizingMask:",CPViewMinYMargin|CPViewMaxYMargin),objj_msgSend(a,"addSubview:",_submenuIndicatorView),
objj_msgSend(a,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);return a}}),new objj_method(sel_getUid("textColor"),function(a){with(a){if(!objj_msgSend(_menuItem,"isEnabled"))return objj_msgSend(CPColor,"lightGrayColor");return _textColor||objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",70/255,69/255,69/255,1)}}),new objj_method(sel_getUid("textShadowColor"),function(a){with(a){if(!objj_msgSend(_menuItem,"isEnabled"))return objj_msgSend(CPColor,"colorWithWhite:alpha:",
0.8,0.8);return _textShadowColor||objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.8)}}),new objj_method(sel_getUid("update"),function(a){with(a){var b=8,c=0;objj_msgSend(_imageAndTextView,"setFont:",objj_msgSend(_menuItem,"font")||objj_msgSend(_CPMenuBarWindow,"font"));objj_msgSend(_imageAndTextView,"setVerticalAlignment:",CPCenterVerticalTextAlignment);objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image"));objj_msgSend(_imageAndTextView,"setText:",objj_msgSend(_menuItem,"title"));
objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(a,"textColor"));objj_msgSend(_imageAndTextView,"setTextShadowColor:",objj_msgSend(a,"textShadowColor"));objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1));objj_msgSend(_imageAndTextView,"sizeToFit");var e=objj_msgSend(_imageAndTextView,"frame");e.origin.x=b;b+=CGRectGetWidth(e);c=MAX(c,CGRectGetHeight(e));var f=objj_msgSend(_menuItem,"hasSubmenu")&&objj_msgSend(_menuItem,"action");if(f){objj_msgSend(_submenuIndicatorView,
"setHidden:",NO);objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(a,"textColor"));objj_msgSend(_submenuIndicatorView,"setShadowColor:",objj_msgSend(a,"textShadowColor"));var h=objj_msgSend(_submenuIndicatorView,"frame");h.origin.x=b+3;b=CGRectGetMaxX(h);c=MAX(c,CGRectGetHeight(h))}else objj_msgSend(_submenuIndicatorView,"setHidden:",YES);c+=8;e.origin.y=FLOOR((c-CGRectGetHeight(e))/2);objj_msgSend(_imageAndTextView,"setFrame:",e);if(f)h.origin.y=FLOOR((c-CGRectGetHeight(h))/2)+1,objj_msgSend(_submenuIndicatorView,
"setFrame:",h);_minSize=CGSizeMake(b+8,c);objj_msgSend(a,"setAutoresizesSubviews:",NO);objj_msgSend(a,"setFrameSize:",_minSize);objj_msgSend(a,"setAutoresizesSubviews:",YES)}}),new objj_method(sel_getUid("highlight:"),function(a,b,f){with(a)objj_msgSend(_menuItem,"isEnabled")||(f=NO),f?(objj_msgSend(_menuItem,"_isMenuBarButton")||objj_msgSend(a,"setBackgroundColor:",e),objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"alternateImage")||objj_msgSend(_menuItem,"image")),objj_msgSend(_imageAndTextView,
"setTextColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_imageAndTextView,"setTextShadowColor:",c),objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_submenuIndicatorView,"setShadowColor:",objj_msgSend(CPColor,"colorWithWhite:alpha:",0.1,0.7))):(objj_msgSend(a,"setBackgroundColor:",nil),objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image")),objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(a,"textColor")),objj_msgSend(_imageAndTextView,
"setTextShadowColor:",objj_msgSend(a,"textShadowColor")),objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(a,"textColor")),objj_msgSend(_submenuIndicatorView,"setShadowColor:",objj_msgSend(a,"textShadowColor")))})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==objj_msgSend(_CPMenuItemMenuBarView,"class"))return;a=objj_msgSend(CPBundle,"bundleForClass:",a);e=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),
"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuBarWindow/_CPMenuBarWindowBackgroundSelected.png"),CGSizeMake(1,28)));objj_msgSend(CPColor,"grayColor");objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",95/255,131/255,185/255,1);c=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",26/255,73/255,109/255,1);objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPMenuItem/CPMenuItemOnState.png"),
CGSizeMake(14,14));objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPMenuItem/CPMenuItemOnStateHighlighted.png"),CGSizeMake(14,14))}}),new objj_method(sel_getUid("view"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")})]);a=objj_allocateClassPair(CPView,"_CPMenuItemMenuBarSubmenuIndicatorView");b=a.isa;class_addIvars(a,[new objj_ivar("_color"),new objj_ivar("_shadowColor")]);objj_registerClassPair(a);class_addMethods(a,
[new objj_method(sel_getUid("setColor:"),function(a,b,c){with(a){if(_color===c)return;_color=c;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("setShadowColor:"),function(a,b,c){with(a){if(_shadowColor===c)return;_shadowColor=c;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("drawRect:"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");a=objj_msgSend(a,"bounds");a.size.height-=1;a.size.width-=2;a.origin.x+=
1;CGContextBeginPath(b);CGContextMoveToPoint(b,CGRectGetMinX(a),CGRectGetMinY(a));CGContextAddLineToPoint(b,CGRectGetMaxX(a),CGRectGetMinY(a));CGContextAddLineToPoint(b,CGRectGetMidX(a),CGRectGetMaxY(a));CGContextClosePath(b);CGContextSetShadowWithColor(b,CGSizeMake(0,1),1.1,_shadowColor||objj_msgSend(CPColor,"whiteColor"));CGContextSetFillColor(b,_color||objj_msgSend(CPColor,"blackColor"));CGContextFillPath(b)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPObject.j",baseURL),function(){var f=objj_allocateClassPair(Nil,"CPObject"),h=f.isa;class_addIvars(f,[new objj_ivar("isa")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("init"),function(e){with(e)return e}),new objj_method(sel_getUid("copy"),function(e){with(e)return e}),new objj_method(sel_getUid("mutableCopy"),function(e){with(e)return objj_msgSend(e,"copy")}),new objj_method(sel_getUid("dealloc"),
function(e){with(e);}),new objj_method(sel_getUid("class"),function(e){with(e)return isa}),new objj_method(sel_getUid("isKindOfClass:"),function(e,c,a){with(e)return objj_msgSend(isa,"isSubclassOfClass:",a)}),new objj_method(sel_getUid("isMemberOfClass:"),function(e,c,a){with(e)return e.isa===a}),new objj_method(sel_getUid("isProxy"),function(e){with(e)return NO}),new objj_method(sel_getUid("respondsToSelector:"),function(e,c,a){with(e)return!!class_getInstanceMethod(isa,a)}),new objj_method(sel_getUid("implementsSelector:"),
function(e,c,a){with(e){e=class_copyMethodList(isa);for(c=e.length;c--;)if(method_getName(e[c])===a)return YES;return NO}}),new objj_method(sel_getUid("methodForSelector:"),function(e,c,a){with(e)return class_getMethodImplementation(isa,a)}),new objj_method(sel_getUid("methodSignatureForSelector:"),function(e){with(e)return nil}),new objj_method(sel_getUid("description"),function(e){with(e)return"<"+class_getName(isa)+" 0x"+objj_msgSend(CPString,"stringWithHash:",objj_msgSend(e,"UID"))+">"}),new objj_method(sel_getUid("performSelector:"),
function(e,c,a){with(e)return objj_msgSend(e,a)}),new objj_method(sel_getUid("performSelector:withObject:"),function(e,c,a,b){with(e)return objj_msgSend(e,a,b)}),new objj_method(sel_getUid("performSelector:withObject:withObject:"),function(e,c,a,b,d){with(e)return objj_msgSend(e,a,b,d)}),new objj_method(sel_getUid("forwardInvocation:"),function(e,c,a){with(e)objj_msgSend(e,"doesNotRecognizeSelector:",objj_msgSend(a,"selector"))}),new objj_method(sel_getUid("forward::"),function(e,c,a,b){with(e){if(c=
objj_msgSend(e,"methodSignatureForSelector:",a)){c=objj_msgSend(CPInvocation,"invocationWithMethodSignature:",c);objj_msgSend(c,"setTarget:",e);objj_msgSend(c,"setSelector:",a);a=2;for(var d=b.length;a<d;++a)objj_msgSend(c,"setArgument:atIndex:",b[a],a);objj_msgSend(e,"forwardInvocation:",c);return objj_msgSend(c,"returnValue")}objj_msgSend(e,"doesNotRecognizeSelector:",a)}}),new objj_method(sel_getUid("doesNotRecognizeSelector:"),function(e,c,a){with(e)objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,
(class_isMetaClass(isa)?"+":"-")+" ["+objj_msgSend(e,"className")+" "+a+"] unrecognized selector sent to "+(class_isMetaClass(isa)?"class":"instance")+" 0x"+objj_msgSend(CPString,"stringWithHash:",objj_msgSend(e,"UID")))}),new objj_method(sel_getUid("awakeAfterUsingCoder:"),function(e){with(e)return e}),new objj_method(sel_getUid("classForKeyedArchiver"),function(e){with(e)return objj_msgSend(e,"classForCoder")}),new objj_method(sel_getUid("classForCoder"),function(e){with(e)return objj_msgSend(e,
"class")}),new objj_method(sel_getUid("replacementObjectForArchiver:"),function(e,c,a){with(e)return objj_msgSend(e,"replacementObjectForCoder:",a)}),new objj_method(sel_getUid("replacementObjectForKeyedArchiver:"),function(e,c,a){with(e)return objj_msgSend(e,"replacementObjectForCoder:",a)}),new objj_method(sel_getUid("replacementObjectForCoder:"),function(e){with(e)return e}),new objj_method(sel_getUid("className"),function(e){with(e)return isa.name}),new objj_method(sel_getUid("autorelease"),function(e){with(e)return e}),
new objj_method(sel_getUid("hash"),function(e){with(e)return objj_msgSend(e,"UID")}),new objj_method(sel_getUid("UID"),function(e){with(e){if(typeof e._UID==="undefined")e._UID=objj_generateObjectUID();return _UID+""}}),new objj_method(sel_getUid("isEqual:"),function(e,c,a){with(e)return e===a||objj_msgSend(e,"UID")===objj_msgSend(a,"UID")}),new objj_method(sel_getUid("retain"),function(e){with(e)return e}),new objj_method(sel_getUid("release"),function(e){with(e);}),new objj_method(sel_getUid("self"),
function(e){with(e)return e}),new objj_method(sel_getUid("superclass"),function(e){with(e)return isa.super_class})]);class_addMethods(h,[new objj_method(sel_getUid("load"),function(e){with(e);}),new objj_method(sel_getUid("initialize"),function(e){with(e);}),new objj_method(sel_getUid("new"),function(e){with(e)return objj_msgSend(objj_msgSend(e,"alloc"),"init")}),new objj_method(sel_getUid("alloc"),function(e){with(e)return class_createInstance(e)}),new objj_method(sel_getUid("allocWithCoder:"),function(e){with(e)return objj_msgSend(e,
"alloc")}),new objj_method(sel_getUid("class"),function(e){with(e)return e}),new objj_method(sel_getUid("superclass"),function(e){with(e)return super_class}),new objj_method(sel_getUid("isSubclassOfClass:"),function(e,c,a){with(e){for(;e;e=e.super_class)if(e===a)return YES;return NO}}),new objj_method(sel_getUid("isKindOfClass:"),function(e,c,a){with(e)return objj_msgSend(e,"isSubclassOfClass:",a)}),new objj_method(sel_getUid("isMemberOfClass:"),function(e,c,a){with(e)return e===a}),new objj_method(sel_getUid("instancesRespondToSelector:"),
function(e,c,a){with(e)return!!class_getInstanceMethod(e,a)}),new objj_method(sel_getUid("instanceMethodForSelector:"),function(e,c,a){with(e)return class_getMethodImplementation(e,a)}),new objj_method(sel_getUid("description"),function(e){with(e)return class_getName(isa)}),new objj_method(sel_getUid("setVersion:"),function(e,c,a){with(e)class_setVersion(e,a)}),new objj_method(sel_getUid("version"),function(e){with(e)return class_getVersion(e)})]);objj_class.prototype.toString=objj_object.prototype.toString=
function(){return this.isa&&class_getInstanceMethod(this.isa,"description")!=NULL?objj_msgSend(this,"description"):String(this)+" (-description not implemented)"}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGGeometry.j",baseURL),function(){CGPointMake=function(f,h){return{x:f,y:h}};CGPointMakeZero=function(){return{x:0,y:0}};CGPointMakeCopy=function(f){return{x:f.x,y:f.y}};CGPointCreateCopy=function(f){return{x:f.x,y:f.y}};CGPointEqualToPoint=function(f,h){return f.x==h.x&&f.y==h.y};CGStringFromPoint=function(f){return"{"+f.x+", "+f.y+"}"};CGSizeMake=function(f,h){return{width:f,height:h}};CGSizeMakeZero=function(){return{width:0,
height:0}};CGSizeMakeCopy=function(f){return{width:f.width,height:f.height}};CGSizeCreateCopy=function(f){return{width:f.width,height:f.height}};CGSizeEqualToSize=function(f,h){return f.width==h.width&&f.height==h.height};CGStringFromSize=function(f){return"{"+f.width+", "+f.height+"}"};CGRectMake=function(f,h,e,c){return{origin:{x:f,y:h},size:{width:e,height:c}}};CGRectMakeZero=function(){return{origin:{x:0,y:0},size:{width:0,height:0}}};CGRectMakeCopy=function(f){return{origin:{x:f.origin.x,y:f.origin.y},
size:{width:f.size.width,height:f.size.height}}};CGRectCreateCopy=function(f){return{origin:{x:f.origin.x,y:f.origin.y},size:{width:f.size.width,height:f.size.height}}};CGRectEqualToRect=function(f,h){return f.origin.x==h.origin.x&&f.origin.y==h.origin.y&&f.size.width==h.size.width&&f.size.height==h.size.height};CGStringFromRect=function(f){return"{"+("{"+f.origin.x+", "+f.origin.y+"}")+", "+("{"+f.size.width+", "+f.size.height+"}")+"}"};CGRectOffset=function(f,h,e){return{origin:{x:f.origin.x+h,
y:f.origin.y+e},size:{width:f.size.width,height:f.size.height}}};CGRectInset=function(f,h,e){return{origin:{x:f.origin.x+h,y:f.origin.y+e},size:{width:f.size.width-2*h,height:f.size.height-2*e}}};CGRectGetHeight=function(f){return f.size.height};CGRectGetMaxX=function(f){return f.origin.x+f.size.width};CGRectGetMaxY=function(f){return f.origin.y+f.size.height};CGRectGetMidX=function(f){return f.origin.x+f.size.width/2};CGRectGetMidY=function(f){return f.origin.y+f.size.height/2};CGRectGetMinX=function(f){return f.origin.x};
CGRectGetMinY=function(f){return f.origin.y};CGRectGetWidth=function(f){return f.size.width};CGRectIsEmpty=function(f){return f.size.width<=0||f.size.height<=0};CGRectIsNull=function(f){return f.size.width<=0||f.size.height<=0};CGRectContainsPoint=function(f,h){return h.x>=f.origin.x&&h.y>=f.origin.y&&h.x<f.origin.x+f.size.width&&h.y<f.origin.y+f.size.height};CGInsetMake=function(f,h,e,c){return{top:f,right:h,bottom:e,left:c}};CGInsetMakeZero=function(){return{top:0,right:0,bottom:0,left:0}};CGInsetMakeCopy=
function(f){return{top:f.top,right:f.right,bottom:f.bottom,left:f.left}};CGInsetIsEmpty=function(f){return f.top===0&&f.right===0&&f.bottom===0&&f.left===0};CGInsetEqualToInset=function(f,h){return f.top===h.top&&f.right===h.right&&f.bottom===h.bottom&&f.left===h.left};CGMinXEdge=0;CGMinYEdge=1;CGMaxXEdge=2;CGMaxYEdge=3;CGRectNull={origin:{x:Infinity,y:Infinity},size:{width:0,height:0}};CGRectDivide=function(f,h,e,c,a){h.origin={x:f.origin.x,y:f.origin.y};h.size={width:f.size.width,height:f.size.height};
e.origin={x:f.origin.x,y:f.origin.y};e.size={width:f.size.width,height:f.size.height};switch(a){case CGMinXEdge:h.size.width=c;e.origin.x+=c;e.size.width-=c;break;case CGMaxXEdge:h.origin.x=h.origin.x+h.size.width-c;h.size.width=c;e.size.width-=c;break;case CGMinYEdge:h.size.height=c;e.origin.y+=c;e.size.height-=c;break;case CGMaxYEdge:h.origin.y=h.origin.y+h.size.height-c,h.size.height=c,e.size.height-=c}};CGRectContainsRect=function(f,h){var e=CGRectUnion(f,h);return e.origin.x==f.origin.x&&e.origin.y==
f.origin.y&&e.size.width==f.size.width&&e.size.height==f.size.height};CGRectIntersectsRect=function(f,h){var e=CGRectIntersection(f,h);return!(e.size.width<=0||e.size.height<=0)};CGRectIntegral=function(f){f=CGRectStandardize(f);var h=FLOOR(f.origin.x),e=FLOOR(f.origin.y);f.size.width=CEIL(f.origin.x+f.size.width)-h;f.size.height=CEIL(f.origin.y+f.size.height)-e;f.origin.x=h;f.origin.y=e;return f};CGRectIntersection=function(f,h){var e={origin:{x:MAX(f.origin.x,h.origin.x),y:MAX(f.origin.y,h.origin.y)},
size:{width:0,height:0}};e.size.width=MIN(f.origin.x+f.size.width,h.origin.x+h.size.width)-e.origin.x;e.size.height=MIN(f.origin.y+f.size.height,h.origin.y+h.size.height)-e.origin.y;return e.size.width<=0||e.size.height<=0?{origin:{x:0,y:0},size:{width:0,height:0}}:e};CGRectStandardize=function(f){var h=f.size.width,e=f.size.height;f={origin:{x:f.origin.x,y:f.origin.y},size:{width:f.size.width,height:f.size.height}};if(h<0)f.origin.x+=h,f.size.width=-h;if(e<0)f.origin.y+=e,f.size.height=-e;return f};
CGRectUnion=function(f,h){var e=!f||f===CGRectNull,c=!h||h===CGRectNull;if(e)return c?CGRectNull:h;if(c)return e?CGRectNull:f;e=MIN(f.origin.x,h.origin.x);c=MIN(f.origin.y,h.origin.y);var a=MAX(f.origin.x+f.size.width,h.origin.x+h.size.width),b=MAX(f.origin.y+f.size.height,h.origin.y+h.size.height);return{origin:{x:e,y:c},size:{width:a-e,height:b-c}}};CGPointFromString=function(f){var h=f.indexOf(",");return{x:parseInt(f.substr(1,h-1)),y:parseInt(f.substring(h+1,f.length))}};CGSizeFromString=function(f){var h=
f.indexOf(",");return{width:parseInt(f.substr(1,h-1)),height:parseInt(f.substring(h+1,f.length))}};CGRectFromString=function(f){var h=f.indexOf(",",f.indexOf(",")+1);return{origin:CGPointFromString(f.substr(1,h-1)),size:CGSizeFromString(f.substring(h+2,f.length))}};CGPointFromEvent=function(f){return{x:f.clientX,y:f.clientY}};CGInsetFromCPString=CGInsetFromString=function(f){f=f.substr(1,f.length-2).split(",");return{top:parseFloat(f[0]),right:parseFloat(f[1]),bottom:parseFloat(f[2]),left:parseFloat(f[3])}};
CPStringFromCGInset=function(f){return"{"+f.top+", "+f.left+", "+f.bottom+", "+f.right+"}"}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPURL.j",baseURL),function(f,h){h("CPObject.j",YES);h("CPString.j",YES);CPURLNameKey="CPURLNameKey";CPURLLocalizedNameKey="CPURLLocalizedNameKey";CPURLIsRegularFileKey="CPURLIsRegularFileKey";CPURLIsDirectoryKey="CPURLIsDirectoryKey";CPURLIsSymbolicLinkKey="CPURLIsSymbolicLinkKey";CPURLIsVolumeKey="CPURLIsVolumeKey";CPURLIsPackageKey="CPURLIsPackageKey";CPURLIsSystemImmutableKey="CPURLIsSystemImmutableKey";CPURLIsUserImmutableKey=
"CPURLIsUserImmutableKey";CPURLIsHiddenKey="CPURLIsHiddenKey";CPURLHasHiddenExtensionKey="CPURLHasHiddenExtensionKey";CPURLCreationDateKey="CPURLCreationDateKey";CPURLContentAccessDateKey="CPURLContentAccessDateKey";CPURLContentModificationDateKey="CPURLContentModificationDateKey";CPURLAttributeModificationDateKey="CPURLAttributeModificationDateKey";CPURLLinkCountKey="CPURLLinkCountKey";CPURLParentDirectoryURLKey="CPURLParentDirectoryURLKey";CPURLTypeIdentifierKey=CPURLVolumeURLKey="CPURLTypeIdentifierKey";
CPURLLocalizedTypeDescriptionKey="CPURLLocalizedTypeDescriptionKey";CPURLLabelNumberKey="CPURLLabelNumberKey";CPURLLabelColorKey="CPURLLabelColorKey";CPURLLocalizedLabelKey="CPURLLocalizedLabelKey";CPURLEffectiveIconKey="CPURLEffectiveIconKey";CPURLCustomIconKey="CPURLCustomIconKey";var e=objj_allocateClassPair(CPObject,"CPURL"),c=e.isa;objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(a){with(a)return nil}),new objj_method(sel_getUid("initWithScheme:host:path:"),
function(a,b,d,c,e){with(a)return objj_msgSend(a,"initWithString:",(d?d+":":"")+(c?c+"//":"")+(e||""))}),new objj_method(sel_getUid("initWithString:"),function(a,b,d){with(a)return objj_msgSend(a,"initWithString:relativeToURL:",d,nil)}),new objj_method(sel_getUid("initWithString:relativeToURL:"),function(a,b,d,c){with(a)return b=new CFURL(d,c),b.isa=objj_msgSend(a,"class"),b}),new objj_method(sel_getUid("absoluteURL"),function(a){with(a)return a.absoluteURL()}),new objj_method(sel_getUid("baseURL"),
function(a){with(a)return a.baseURL()}),new objj_method(sel_getUid("absoluteString"),function(a){with(a)return a.absoluteString()}),new objj_method(sel_getUid("relativeString"),function(a){with(a)return a.string()}),new objj_method(sel_getUid("path"),function(a){with(a)return objj_msgSend(a,"absoluteURL").path()}),new objj_method(sel_getUid("pathComponents"),function(a){with(a)return a=a.pathComponents(),objj_msgSend(a,"copy")}),new objj_method(sel_getUid("relativePath"),function(a){with(a)return a.path()}),
new objj_method(sel_getUid("scheme"),function(a){with(a)return a.scheme()}),new objj_method(sel_getUid("user"),function(a){with(a)return objj_msgSend(a,"absoluteURL").user()}),new objj_method(sel_getUid("password"),function(a){with(a)return objj_msgSend(a,"absoluteURL").password()}),new objj_method(sel_getUid("host"),function(a){with(a)return objj_msgSend(a,"absoluteURL").domain()}),new objj_method(sel_getUid("port"),function(a){with(a){a=objj_msgSend(a,"absoluteURL").portNumber();if(a===-1)return nil;
return a}}),new objj_method(sel_getUid("parameterString"),function(a){with(a)return a.queryString()}),new objj_method(sel_getUid("fragment"),function(a){with(a)return a.fragment()}),new objj_method(sel_getUid("isEqual:"),function(a,b,d){with(a){if(a===d)return YES;if(!d||!objj_msgSend(d,"isKindOfClass:",objj_msgSend(CPURL,"class")))return NO;return objj_msgSend(a,"isEqualToURL:",d)}}),new objj_method(sel_getUid("isEqualToURL:"),function(a,b,d){with(a){if(a===d)return YES;return objj_msgSend(a,"relativeString")===
objj_msgSend(d,"relativeString")&&(objj_msgSend(a,"baseURL")===objj_msgSend(d,"baseURL")||objj_msgSend(objj_msgSend(a,"baseURL"),"isEqual:",objj_msgSend(d,"baseURL")))}}),new objj_method(sel_getUid("lastPathComponent"),function(a){with(a)return objj_msgSend(a,"absoluteURL").lastPathComponent()}),new objj_method(sel_getUid("pathExtension"),function(a){with(a)return a.pathExtension()}),new objj_method(sel_getUid("standardizedURL"),function(a){with(a)return a.standardizedURL()}),new objj_method(sel_getUid("isFileURL"),
function(a){with(a)return objj_msgSend(a,"scheme")==="file"}),new objj_method(sel_getUid("description"),function(a){with(a)return objj_msgSend(a,"absoluteString")}),new objj_method(sel_getUid("resourceValueForKey:"),function(a,b,d){with(a)return a.resourcePropertyForKey(d)}),new objj_method(sel_getUid("setResourceValue:forKey:"),function(a,b,d,c){with(a)return a.setResourcePropertyForKey(c,d)}),new objj_method(sel_getUid("staticResourceData"),function(a){with(a)return a.staticResourceData()})]);class_addMethods(c,
[new objj_method(sel_getUid("alloc"),function(a){with(a){var b=new CFURL;b.isa=objj_msgSend(a,"class");return b}}),new objj_method(sel_getUid("URLWithString:"),function(a,b,d){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithString:",d)}),new objj_method(sel_getUid("URLWithString:relativeToURL:"),function(a,b,d,c){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithString:relativeToURL:",d,c)})]);e=objj_getClass("CPURL");if(!e)throw new SyntaxError('*** Could not find definition for class "CPURL"');
c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,d){with(a)return objj_msgSend(a,"initWithString:relativeToURL:",objj_msgSend(d,"decodeObjectForKey:","CPURLURLStringKey"),objj_msgSend(d,"decodeObjectForKey:","CPURLBaseURLKey"))}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,d){with(a)objj_msgSend(d,"encodeObject:forKey:",_baseURL,"CPURLBaseURLKey"),objj_msgSend(d,"encodeObject:forKey:",_string,"CPURLURLStringKey")})]);CFURL.prototype.isa=objj_msgSend(CPURL,
"class")});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPAnimation.j",baseURL),function(f,h){h("Foundation/CPObject.j",NO);h("Foundation/CPTimer.j",NO);h("CAMediaTimingFunction.j",YES);CPAnimationEaseInOut=0;CPAnimationEaseIn=1;CPAnimationEaseOut=2;CPAnimationLinear=3;ACTUAL_FRAME_RATE=0;var e=objj_allocateClassPair(CPObject,"CPAnimation");class_addIvars(e,[new objj_ivar("_lastTime"),new objj_ivar("_duration"),new objj_ivar("_animationCurve"),new objj_ivar("_timingFunction"),new objj_ivar("_frameRate"),
new objj_ivar("_progress"),new objj_ivar("_delegate"),new objj_ivar("_timer")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithDuration:animationCurve:"),function(a,b,d,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPAnimation").super_class},"init"))_progress=0,_duration=MAX(0,d),_frameRate=60,objj_msgSend(a,"setAnimationCurve:",c);return a}}),new objj_method(sel_getUid("setAnimationCurve:"),function(a,b,d){with(a){switch(d){case CPAnimationEaseInOut:timingFunctionName=
kCAMediaTimingFunctionEaseInEaseOut;break;case CPAnimationEaseIn:timingFunctionName=kCAMediaTimingFunctionEaseIn;break;case CPAnimationEaseOut:timingFunctionName=kCAMediaTimingFunctionEaseOut;break;case CPAnimationLinear:timingFunctionName=kCAMediaTimingFunctionLinear;break;default:objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Invalid value provided for animation curve")}_animationCurve=d;_timingFunction=objj_msgSend(CAMediaTimingFunction,"functionWithName:",timingFunctionName)}}),
new objj_method(sel_getUid("animationCurve"),function(a){with(a)return _animationCurve}),new objj_method(sel_getUid("setDuration:"),function(a,b,d){with(a)d<0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"aDuration can't be negative"),_duration=d}),new objj_method(sel_getUid("duration"),function(a){with(a)return _duration}),new objj_method(sel_getUid("setFrameRate:"),function(a,b,d){with(a)d<0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"frameRate can't be negative"),
_frameRate=d}),new objj_method(sel_getUid("frameRate"),function(a){with(a)return _frameRate}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("setDelegate:"),function(a,b,d){with(a)_delegate=d}),new objj_method(sel_getUid("startAnimation"),function(a){with(a){if(_timer||_delegate&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("animationShouldStart:"))&&!objj_msgSend(_delegate,"animationShouldStart:",a))return;_progress===1&&(_progress=
0);ACTUAL_FRAME_RATE=0;_lastTime=new Date;_timer=objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",0,a,sel_getUid("animationTimerDidFire:"),nil,YES)}}),new objj_method(sel_getUid("animationTimerDidFire:"),function(a){with(a){var b=new Date,d=MIN(1,objj_msgSend(a,"currentProgress")+(b-_lastTime)/(_duration*1E3));_lastTime=b;++ACTUAL_FRAME_RATE;objj_msgSend(a,"setCurrentProgress:",d);d===1&&(objj_msgSend(_timer,"invalidate"),_timer=nil,objj_msgSend(_delegate,"respondsToSelector:",
sel_getUid("animationDidEnd:"))&&objj_msgSend(_delegate,"animationDidEnd:",a))}}),new objj_method(sel_getUid("stopAnimation"),function(a){with(a){if(!_timer)return;objj_msgSend(_timer,"invalidate");_timer=nil;objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("animationDidStop:"))&&objj_msgSend(_delegate,"animationDidStop:",a)}}),new objj_method(sel_getUid("isAnimating"),function(a){with(a)return _timer}),new objj_method(sel_getUid("setCurrentProgress:"),function(a,b,d){with(a)_progress=d}),
new objj_method(sel_getUid("currentProgress"),function(a){with(a)return _progress}),new objj_method(sel_getUid("currentValue"),function(a){with(a){var b=objj_msgSend(a,"currentProgress");if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("animation:valueForProgress:")))return objj_msgSend(_delegate,"animation:valueForProgress:",a,b);a=[];var d=[];objj_msgSend(_timingFunction,"getControlPointAtIndex:values:",1,a);objj_msgSend(_timingFunction,"getControlPointAtIndex:values:",2,d);return c(b,
a[0],a[1],d[0],d[1],_duration)}})]);var c=c=function(a,b,d,c,e,f){var h=0,p=0,k=0,n=0,j=0,r=0;sampleCurveX=function(a){return((h*a+p)*a+k)*a};sampleCurveY=function(a){return((n*a+j)*a+r)*a};sampleCurveDerivativeX=function(a){return(3*h*a+2*p)*a+k};solveEpsilon=function(a){return 1/(200*a)};solve=function(a,b){return sampleCurveY(solveCurveX(a,b))};solveCurveX=function(a,b){var d,c,e=a,g;for(c=0;c<8;c++){g=sampleCurveX(e)-a;if(ABS(g)<b)return e;d=sampleCurveDerivativeX(e);if(ABS(d)<1.0E-6)break;e-=
g/d}d=0;c=1;e=a;if(e<d)return d;if(e>c)return c;for(;d<c;){g=sampleCurveX(e);if(ABS(g-a)<b)break;a>g?d=e:c=e;e=(c-d)*0.5+d}return e};k=3*b;p=3*(c-b)-k;h=1-k-p;r=3*d;j=3*(e-d)-r;n=1-r-j;return solve(a,solveEpsilon(f))}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPViewController.j",baseURL),function(f,h){h("Foundation/CPArray.j",NO);h("CPApplication.j",YES);h("CPCib.j",YES);h("CPResponder.j",YES);var e,c=objj_allocateClassPair(CPResponder,"CPViewController"),a=c.isa;class_addIvars(c,[new objj_ivar("_view"),new objj_ivar("_isLoading"),new objj_ivar("_representedObject"),new objj_ivar("_title"),new objj_ivar("_cibName"),new objj_ivar("_cibBundle"),new objj_ivar("_cibExternalNameTable")]);
objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("view"),function(a){with(a)return _view}),new objj_method(sel_getUid("setView:"),function(a,d,c){with(a)_view=c}),new objj_method(sel_getUid("representedObject"),function(a){with(a)return _representedObject}),new objj_method(sel_getUid("setRepresentedObject:"),function(a,d,c){with(a)_representedObject=c}),new objj_method(sel_getUid("title"),function(a){with(a)return _title}),new objj_method(sel_getUid("setTitle:"),function(a,
d,c){with(a)_title=c}),new objj_method(sel_getUid("cibName"),function(a){with(a)return _cibName}),new objj_method(sel_getUid("cibBundle"),function(a){with(a)return _cibBundle}),new objj_method(sel_getUid("cibExternalNameTable"),function(a){with(a)return _cibExternalNameTable}),new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithCibName:bundle:",nil,nil)}),new objj_method(sel_getUid("initWithCibName:bundle:"),function(a,d,c,e){with(a)return objj_msgSend(a,"initWithCibName:bundle:externalNameTable:",
c,e,nil)}),new objj_method(sel_getUid("initWithCibName:bundle:owner:"),function(a,d,c,e,f){with(a)return objj_msgSend(a,"initWithCibName:bundle:externalNameTable:",c,e,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",f,CPCibOwner))}),new objj_method(sel_getUid("initWithCibName:bundle:externalNameTable:"),function(a,d,c,e,f){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPViewController").super_class},"init"))_cibName=c,_cibBundle=e||objj_msgSend(CPBundle,"mainBundle"),
_cibExternalNameTable=f||objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",a,CPCibOwner),_isLoading=NO;return a}}),new objj_method(sel_getUid("loadView"),function(a){with(a){if(_view)return;a=objj_msgSend(e,"objectForKey:",_cibName);a||(a=objj_msgSend(objj_msgSend(CPCib,"alloc"),"initWithContentsOfURL:",objj_msgSend(_cibBundle,"pathForResource:",_cibName+".cib")),objj_msgSend(e,"setObject:forKey:",a,_cibName));objj_msgSend(a,"instantiateCibWithExternalNameTable:",_cibExternalNameTable)}}),
new objj_method(sel_getUid("view"),function(a){with(a){if(!_view){_isLoading=YES;var d=objj_msgSend(_cibExternalNameTable,"objectForKey:",CPCibOwner);objj_msgSend(d,"respondsToSelector:",sel_getUid("viewControllerWillLoadCib:"))&&objj_msgSend(d,"viewControllerWillLoadCib:",a);objj_msgSend(a,"loadView");_view===nil&&objj_msgSend(d,"isKindOfClass:",objj_msgSend(CPDocument,"class"))&&objj_msgSend(a,"setView:",objj_msgSend(d,"valueForKey:","view"));if(!_view){var c=objj_msgSend(CPString,"stringWithFormat:",
"View for %@ could not be loaded from Cib or no view specified. Override loadView to load the view manually.",a);objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,c)}objj_msgSend(d,"respondsToSelector:",sel_getUid("viewControllerDidLoadCib:"))&&objj_msgSend(d,"viewControllerDidLoadCib:",a);_isLoading=NO;objj_msgSend(a,"viewDidLoad")}return _view}}),new objj_method(sel_getUid("viewDidLoad"),function(a){with(a);}),new objj_method(sel_getUid("setView:"),function(a,d,c){with(a)_view=
c,!_isLoading&&!_view&&objj_msgSend(a,"viewDidLoad")})]);class_addMethods(a,[new objj_method(sel_getUid("initialize"),function(a){with(a)a===CPViewController&&(e=objj_msgSend(CPDictionary,"dictionary"))})]);c=objj_getClass("CPViewController");if(!c)throw new SyntaxError('*** Could not find definition for class "CPViewController"');a=c.isa;class_addMethods(c,[new objj_method(sel_getUid("initWithCoder:"),function(a,d,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPViewController").super_class},
"initWithCoder:",c))_view=objj_msgSend(c,"decodeObjectForKey:","CPViewControllerViewKey"),_title=objj_msgSend(c,"decodeObjectForKey:","CPViewControllerTitleKey"),_cibName=objj_msgSend(c,"decodeObjectForKey:","CPViewControllerCibNameKey"),_cibBundle=(d=objj_msgSend(c,"decodeObjectForKey:","CPViewControllerBundleKey"))?objj_msgSend(CPBundle,"bundleWithPath:",d):objj_msgSend(CPBundle,"mainBundle"),_cibExternalNameTable=objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",a,CPCibOwner);return a}}),
new objj_method(sel_getUid("encodeWithCoder:"),function(a,d,c){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPViewController").super_class},"encodeWithCoder:",c),objj_msgSend(c,"encodeObject:forKey:",_view,"CPViewControllerViewKey"),objj_msgSend(c,"encodeObject:forKey:",_title,"CPViewControllerTitleKey"),objj_msgSend(c,"encodeObject:forKey:",_cibName,"CPViewControllerCibNameKey"),objj_msgSend(c,"encodeObject:forKey:",objj_msgSend(_cibBundle,"bundlePath"),"CPViewControllerBundleKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPPlatformWindow.j",baseURL),function(f,h){h("Foundation/CPObject.j",NO);var e=NULL,c=objj_allocateClassPair(CPObject,"CPPlatformWindow"),a=c.isa;class_addIvars(c,[new objj_ivar("_contentRect"),new objj_ivar("_level"),new objj_ivar("_hasShadow"),new objj_ivar("_shadowStyle"),new objj_ivar("_DOMWindow"),new objj_ivar("_DOMBodyElement"),new objj_ivar("_DOMFocusElement"),new objj_ivar("_DOMEventGuard"),new objj_ivar("_DOMScrollingElement"),
new objj_ivar("_hideDOMScrollingElementTimeout"),new objj_ivar("_windowLevels"),new objj_ivar("_windowLayers"),new objj_ivar("_mouseIsDown"),new objj_ivar("_mouseDownIsRightClick"),new objj_ivar("_mouseDownWindow"),new objj_ivar("_lastMouseUp"),new objj_ivar("_lastMouseDown"),new objj_ivar("_charCodes"),new objj_ivar("_keyCode"),new objj_ivar("_lastKey"),new objj_ivar("_capsLockActive"),new objj_ivar("_ignoreNativeCopyOrCutEvent"),new objj_ivar("_ignoreNativePastePreparation"),new objj_ivar("_DOMEventMode"),
new objj_ivar("_DOMPasteboardElement"),new objj_ivar("_pasteboardKeyDownEvent"),new objj_ivar("_overriddenEventType")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithContentRect:"),function(a,d,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPPlatformWindow").super_class},"init"))_contentRect={origin:{x:c.origin.x,y:c.origin.y},size:{width:c.size.width,height:c.size.height}},_windowLevels=[],_windowLayers=objj_msgSend(CPDictionary,"dictionary"),
_charCodes={};return a}}),new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithContentRect:",{origin:{x:0,y:0},size:{width:400,height:500}})}),new objj_method(sel_getUid("contentRect"),function(a){with(a)return{origin:{x:_contentRect.origin.x,y:_contentRect.origin.y},size:{width:_contentRect.size.width,height:_contentRect.size.height}}}),new objj_method(sel_getUid("contentBounds"),function(a){with(a)return a=objj_msgSend(a,"contentRect"),a.origin={x:0,y:0},a}),new objj_method(sel_getUid("visibleFrame"),
function(a){with(a){var d=objj_msgSend(a,"contentBounds");d.origin=CGPointMakeZero();objj_msgSend(CPMenu,"menuBarVisible")&&objj_msgSend(CPPlatformWindow,"primaryPlatformWindow")===a&&(a=objj_msgSend(objj_msgSend(CPApp,"mainMenu"),"menuBarHeight"),d.origin.y+=a,d.size.height-=a);return d}}),new objj_method(sel_getUid("usableContentFrame"),function(a){with(a)return objj_msgSend(a,"visibleFrame")}),new objj_method(sel_getUid("setContentRect:"),function(a,d,c){with(a){if(!c||_contentRect.origin.x==c.origin.x&&
_contentRect.origin.y==c.origin.y&&_contentRect.size.width==c.size.width&&_contentRect.size.height==c.size.height)return;_contentRect={origin:{x:c.origin.x,y:c.origin.y},size:{width:c.size.width,height:c.size.height}};objj_msgSend(a,"updateNativeContentRect")}}),new objj_method(sel_getUid("updateFromNativeContentRect"),function(a){with(a)objj_msgSend(a,"setContentRect:",objj_msgSend(a,"nativeContentRect"))}),new objj_method(sel_getUid("convertBaseToScreen:"),function(a,d,c){with(a)return a=objj_msgSend(a,
"contentRect"),{x:c.x+a.origin.x,y:c.y+a.origin.y}}),new objj_method(sel_getUid("convertScreenToBase:"),function(a,d,c){with(a)return a=objj_msgSend(a,"contentRect"),{x:c.x-a.origin.x,y:c.y-a.origin.y}}),new objj_method(sel_getUid("isVisible"),function(a){with(a)return _DOMWindow!==NULL}),new objj_method(sel_getUid("deminiaturize:"),function(a){with(a)_DOMWindow&&typeof _DOMWindow.cpDeminiaturize==="function"&&_DOMWindow.cpDeminiaturize()}),new objj_method(sel_getUid("miniaturize:"),function(a){with(a)_DOMWindow&&
typeof _DOMWindow.cpMiniaturize==="function"&&_DOMWindow.cpMiniaturize()}),new objj_method(sel_getUid("moveWindow:fromLevel:toLevel:"),function(a,d,c,e,f){with(a){if(!c._isVisible)return;d=objj_msgSend(a,"layerAtLevel:create:",e,NO);a=objj_msgSend(a,"layerAtLevel:create:",f,YES);objj_msgSend(d,"removeWindow:",c);objj_msgSend(a,"insertWindow:atIndex:",c,CPNotFound)}}),new objj_method(sel_getUid("setLevel:"),function(a,d,c){with(a)_level=c,_DOMWindow&&_DOMWindow.cpSetLevel&&_DOMWindow.cpSetLevel(c)}),
new objj_method(sel_getUid("setHasShadow:"),function(a,d,c){with(a)_hasShadow=c,_DOMWindow&&_DOMWindow.cpSetHasShadow&&_DOMWindow.cpSetHasShadow(c)}),new objj_method(sel_getUid("setShadowStyle:"),function(a,d,c){with(a)_shadowStyle=c,_DOMWindow&&_DOMWindow.cpSetShadowStyle&&_shadowStyle.cpSetShadowStyle(c)}),new objj_method(sel_getUid("supportsFullPlatformWindows"),function(a){with(a)return objj_msgSend(CPPlatform,"isBrowser")})]);class_addMethods(a,[new objj_method(sel_getUid("visiblePlatformWindows"),
function(a){with(a)return objj_msgSend(CPSet,"set")}),new objj_method(sel_getUid("supportsMultipleInstances"),function(a){with(a)return!CPBrowserIsEngine(CPInternetExplorerBrowserEngine)}),new objj_method(sel_getUid("primaryPlatformWindow"),function(a){with(a)return e}),new objj_method(sel_getUid("setPrimaryPlatformWindow:"),function(a,d,c){with(a)e=c})]);h("CPPlatformWindow+DOM.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPValueTransformer.j",baseURL),function(f,h){h("CPData.j",YES);h("CPDictionary.j",YES);h("CPException.j",YES);h("CPKeyedArchiver.j",YES);h("CPKeyedUnarchiver.j",YES);h("CPNumber.j",YES);h("CPObject.j",YES);var e=objj_msgSend(CPDictionary,"dictionary"),c=objj_allocateClassPair(CPObject,"CPValueTransformer"),a=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("reverseTransformedValue:"),function(a,
d,c){with(a)return objj_msgSend(objj_msgSend(a,"class"),"allowsReverseTransformation")||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,a+" is not reversible."),objj_msgSend(a,"transformedValue:",c)}),new objj_method(sel_getUid("transformedValue:"),function(a){with(a)return nil})]);class_addMethods(a,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==objj_msgSend(CPValueTransformer,"class"))return;objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",
objj_msgSend(objj_msgSend(CPNegateBooleanTransformer,"alloc"),"init"),CPNegateBooleanTransformerName);objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",objj_msgSend(objj_msgSend(CPIsNilTransformer,"alloc"),"init"),CPIsNilTransformerName);objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",objj_msgSend(objj_msgSend(CPIsNotNilTransformer,"alloc"),"init"),CPIsNotNilTransformerName);objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",objj_msgSend(objj_msgSend(CPUnarchiveFromDataTransformer,
"alloc"),"init"),CPUnarchiveFromDataTransformerName)}}),new objj_method(sel_getUid("setValueTransformer:forName:"),function(a,d,c,f){with(a)objj_msgSend(e,"setObject:forKey:",c,f)}),new objj_method(sel_getUid("valueTransformerForName:"),function(a,d,c){with(a)return objj_msgSend(e,"objectForKey:",c)}),new objj_method(sel_getUid("valueTransformerNames"),function(a){with(a)return objj_msgSend(e,"allKeys")}),new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return NO}),new objj_method(sel_getUid("transformedValueClass"),
function(a){with(a)return objj_msgSend(CPObject,"class")})]);c=objj_allocateClassPair(CPValueTransformer,"CPNegateBooleanTransformer");a=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("reverseTransformedValue:"),function(a,d,c){with(a)return!objj_msgSend(c,"boolValue")}),new objj_method(sel_getUid("transformedValue:"),function(a,d,c){with(a)return!objj_msgSend(c,"boolValue")})]);class_addMethods(a,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return YES}),
new objj_method(sel_getUid("transformedValueClass"),function(a){with(a)return objj_msgSend(CPNumber,"class")})]);c=objj_allocateClassPair(CPValueTransformer,"CPIsNilTransformer");a=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("transformedValue:"),function(a,d,c){with(a)return c===nil||c===void 0})]);class_addMethods(a,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return NO}),new objj_method(sel_getUid("transformedValueClass"),function(a){with(a)return objj_msgSend(CPNumber,
"class")})]);c=objj_allocateClassPair(CPValueTransformer,"CPIsNotNilTransformer");a=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("transformedValue:"),function(a,d,c){with(a)return c!==nil&&c!==void 0})]);class_addMethods(a,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return NO}),new objj_method(sel_getUid("transformedValueClass"),function(a){with(a)return objj_msgSend(CPNumber,"class")})]);c=objj_allocateClassPair(CPValueTransformer,
"CPUnarchiveFromDataTransformer");a=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("reverseTransformedValue:"),function(a,d,c){with(a)return objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",c)}),new objj_method(sel_getUid("transformedValue:"),function(a,d,c){with(a)return objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",c)})]);class_addMethods(a,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return YES}),new objj_method(sel_getUid("transformedValueClass"),
function(a){with(a)return objj_msgSend(CPData,"class")})]);CPNegateBooleanTransformerName="CPNegateBoolean";CPIsNilTransformerName="CPIsNil";CPIsNotNilTransformerName="CPIsNotNil";CPUnarchiveFromDataTransformerName="CPUnarchiveFromData";CPKeyedUnarchiveFromDataTransformerName="CPKeyedUnarchiveFromData"});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibWindowTemplate.j",baseURL),function(f,h){h("Foundation/CPObject.j",NO);h("CGGeometry.j",YES);h("CPWindow.j",YES);var e=objj_allocateClassPair(CPObject,"_CPCibWindowTemplate");class_addIvars(e,[new objj_ivar("_minSize"),new objj_ivar("_maxSize"),new objj_ivar("_viewClass"),new objj_ivar("_windowClass"),new objj_ivar("_windowRect"),new objj_ivar("_windowStyleMask"),new objj_ivar("_windowTitle"),new objj_ivar("_windowView"),
new objj_ivar("_windowAutorecalculatesKeyViewLoop"),new objj_ivar("_windowIsFullPlatformWindow")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(c){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPCibWindowTemplate").super_class},"init"))_windowClass="CPWindow",_windowRect=CGRectMake(0,0,400,200),_windowStyleMask=CPTitledWindowMask|CPClosableWindowMask|CPMiniaturizableWindowMask|CPResizableWindowMask,_windowTitle="Window",_windowView=
objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,400,200)),_windowIsFullPlatformWindow=NO;return c}}),new objj_method(sel_getUid("initWithCoder:"),function(c,a,b){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPCibWindowTemplate").super_class},"init"))objj_msgSend(b,"containsValueForKey:","_CPCibWindowTemplateMinSizeKey")&&(_minSize=objj_msgSend(b,"decodeSizeForKey:","_CPCibWindowTemplateMinSizeKey")),objj_msgSend(b,"containsValueForKey:","_CPCibWindowTemplateMaxSizeKey")&&
(_maxSize=objj_msgSend(b,"decodeSizeForKey:","_CPCibWindowTemplateMaxSizeKey")),_viewClass=objj_msgSend(b,"decodeObjectForKey:","_CPCibWindowTemplateViewClassKey"),_windowClass=objj_msgSend(b,"decodeObjectForKey:","_CPCibWindowTemplateWindowClassKey"),_windowRect=objj_msgSend(b,"decodeRectForKey:","_CPCibWindowTemplateWindowRectKey"),_windowStyleMask=objj_msgSend(b,"decodeIntForKey:","_CPCibWindowTempatStyleMaskKey"),_windowTitle=objj_msgSend(b,"decodeObjectForKey:","_CPCibWindowTemplateWindowTitleKey"),
_windowView=objj_msgSend(b,"decodeObjectForKey:","_CPCibWindowTemplateWindowViewKey"),_windowAutorecalculatesKeyViewLoop=!!objj_msgSend(b,"decodeObjectForKey:","_CPCibWindowTemplateWindowAutorecalculatesKeyViewLoop"),_windowIsFullPlatformWindow=!!objj_msgSend(b,"decodeObjectForKey:","_CPCibWindowTemplateWindowIsFullPlatformWindowKey");return c}}),new objj_method(sel_getUid("encodeWithCoder:"),function(c,a,b){with(c)_minSize&&objj_msgSend(b,"encodeSize:forKey:",_minSize,"_CPCibWindowTemplateMinSizeKey"),
_maxSize&&objj_msgSend(b,"encodeSize:forKey:",_maxSize,"_CPCibWindowTemplateMaxSizeKey"),objj_msgSend(b,"encodeObject:forKey:",_viewClass,"_CPCibWindowTemplateViewClassKey"),objj_msgSend(b,"encodeObject:forKey:",_windowClass,"_CPCibWindowTemplateWindowClassKey"),objj_msgSend(b,"encodeRect:forKey:",_windowRect,"_CPCibWindowTemplateWindowRectKey"),objj_msgSend(b,"encodeInt:forKey:",_windowStyleMask,"_CPCibWindowTempatStyleMaskKey"),objj_msgSend(b,"encodeObject:forKey:",_windowTitle,"_CPCibWindowTemplateWindowTitleKey"),
objj_msgSend(b,"encodeObject:forKey:",_windowView,"_CPCibWindowTemplateWindowViewKey"),_windowAutorecalculatesKeyViewLoop&&objj_msgSend(b,"encodeObject:forKey:",_windowAutorecalculatesKeyViewLoop,"_CPCibWindowTemplateWindowAutorecalculatesKeyViewLoop"),_windowIsFullPlatformWindow&&objj_msgSend(b,"encodeObject:forKey:",_windowIsFullPlatformWindow,"_CPCibWindowTemplateWindowIsFullPlatformWindowKey")}),new objj_method(sel_getUid("customClassName"),function(c){with(c)return _windowClass}),new objj_method(sel_getUid("setCustomClassName:"),
function(c,a,b){with(c)_windowClass=b}),new objj_method(sel_getUid("windowClass"),function(c){with(c)return _windowClass}),new objj_method(sel_getUid("_cibInstantiate"),function(c){with(c)return c=CPClassFromString(objj_msgSend(c,"windowClass")),c=objj_msgSend(objj_msgSend(c,"alloc"),"initWithContentRect:styleMask:",_windowRect,_windowStyleMask),_minSize&&objj_msgSend(c,"setMinSize:",_minSize),_maxSize&&objj_msgSend(c,"setMaxSize:",_maxSize),objj_msgSend(c,"setTitle:",_windowTitle),objj_msgSend(_windowView,
"setAutoresizesSubviews:",NO),objj_msgSend(c,"setContentView:",_windowView),objj_msgSend(_windowView,"setAutoresizesSubviews:",YES),objj_msgSend(_viewClass,"isKindOfClass:",objj_msgSend(CPToolbar,"class"))&&objj_msgSend(c,"setToolbar:",_viewClass),objj_msgSend(c,"setAutorecalculatesKeyViewLoop:",_windowAutorecalculatesKeyViewLoop),objj_msgSend(c,"setFullBridge:",_windowIsFullPlatformWindow),c})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPException.j",baseURL),function(f,h){h("CPCoder.j",YES);h("CPObject.j",YES);h("CPString.j",YES);CPInvalidArgumentException="CPInvalidArgumentException";CPUnsupportedMethodException="CPUnsupportedMethodException";CPRangeException="CPRangeException";CPInternalInconsistencyException="CPInternalInconsistencyException";var e=objj_allocateClassPair(CPObject,"CPException"),c=e.isa;class_addIvars(e,[new objj_ivar("_userInfo")]);objj_registerClassPair(e);
class_addMethods(e,[new objj_method(sel_getUid("initWithName:reason:userInfo:"),function(a,b,d,c,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPException").super_class},"init"))name=d,message=c,_userInfo=e;return a}}),new objj_method(sel_getUid("name"),function(a){with(a)return name}),new objj_method(sel_getUid("reason"),function(a){with(a)return message}),new objj_method(sel_getUid("userInfo"),function(a){with(a)return _userInfo}),new objj_method(sel_getUid("description"),
function(a){with(a)return message}),new objj_method(sel_getUid("raise"),function(a){with(a)throw a;}),new objj_method(sel_getUid("isEqual:"),function(a,b,d){with(a){if(!d||!d.isa)return NO;return objj_msgSend(d,"isKindOfClass:",CPException)&&name===objj_msgSend(d,"name")&&message===objj_msgSend(d,"message")&&(_userInfo===objj_msgSend(d,"userInfo")||objj_msgSend(_userInfo,"isEqual:",objj_msgSend(d,"userInfo")))}})]);class_addMethods(c,[new objj_method(sel_getUid("alloc"),function(a){with(a){var b=
Error();b.isa=objj_msgSend(a,"class");return b}}),new objj_method(sel_getUid("raise:reason:"),function(a,b,d,c){with(a)objj_msgSend(objj_msgSend(a,"exceptionWithName:reason:userInfo:",d,c,nil),"raise")}),new objj_method(sel_getUid("exceptionWithName:reason:userInfo:"),function(a,b,d,c,e){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithName:reason:userInfo:",d,c,e)})]);e=objj_getClass("CPException");if(!e)throw new SyntaxError('*** Could not find definition for class "CPException"');c=
e.isa;class_addMethods(e,[new objj_method(sel_getUid("copy"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"class"),"exceptionWithName:reason:userInfo:",name,message,_userInfo)})]);e=objj_getClass("CPException");if(!e)throw new SyntaxError('*** Could not find definition for class "CPException"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPException").super_class},"init"))name=
objj_msgSend(d,"decodeObjectForKey:","CPExceptionNameKey"),message=objj_msgSend(d,"decodeObjectForKey:","CPExceptionReasonKey"),_userInfo=objj_msgSend(d,"decodeObjectForKey:","CPExceptionUserInfoKey");return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,d){with(a)objj_msgSend(d,"encodeObject:forKey:",name,"CPExceptionNameKey"),objj_msgSend(d,"encodeObject:forKey:",message,"CPExceptionReasonKey"),objj_msgSend(d,"encodeObject:forKey:",_userInfo,"CPExceptionUserInfoKey")})]);Error.prototype.isa=
CPException;Error.prototype._userInfo=null;objj_msgSend(CPException,"initialize");_CPRaiseInvalidAbstractInvocation=function(a,b){objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"*** -"+sel_getName(b)+" cannot be sent to an abstract object of class "+objj_msgSend(a,"className")+": Create a concrete instance!")};_CPRaiseInvalidArgumentException=function(a,b,d){objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,(class_isMetaClass(a.isa)?"+":"-")+"["+objj_msgSend(a,
"className")+" "+b+"]: "+d)};_CPRaiseRangeException=function(a,b,d,c){objj_msgSend(CPException,"raise:reason:",CPRangeException,(class_isMetaClass(a.isa)?"+":"-")+"["+objj_msgSend(a,"className")+" "+b+"]: index ("+d+") beyond bounds ("+c+")")};_CPReportLenientDeprecation=function(a,b,d){CPLog.warn("["+CPStringFromClass(a)+" "+CPStringFromSelector(b)+"] is deprecated, using "+CPStringFromSelector(d)+" instead.")}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGColorSpace.j",baseURL),function(){kCGColorSpaceModelUnknown=-1;kCGColorSpaceModelMonochrome=0;kCGColorSpaceModelRGB=1;kCGColorSpaceModelCMYK=2;kCGColorSpaceModelLab=3;kCGColorSpaceModelDeviceN=4;kCGColorSpaceModelIndexed=5;kCGColorSpaceModelPattern=6;kCGColorSpaceGenericGray="CGColorSpaceGenericGray";kCGColorSpaceGenericRGB="CGColorSpaceGenericRGB";kCGColorSpaceGenericCMYK="CGColorSpaceGenericCMYK";kCGColorSpaceGenericRGBLinear=
"CGColorSpaceGenericRGBLinear";kCGColorSpaceGenericRGBHDR="CGColorSpaceGenericRGBHDR";kCGColorSpaceAdobeRGB1998="CGColorSpaceAdobeRGB1998";kCGColorSpaceSRGB="CGColorSpaceSRGB";var f={};CGColorSpaceCreateCalibratedGray=function(){return{model:kCGColorSpaceModelMonochrome,count:1,base:NULL}};CGColorSpaceCreateCalibratedRGB=function(){return{model:kCGColorSpaceModelRGB,count:1,base:NULL}};CGColorSpaceCreateICCBased=function(){return NULL};CGColorSpaceCreateLab=function(){return NULL};CGColorSpaceCreateDeviceCMYK=
function(){return CGColorSpaceCreateWithName(kCGColorSpaceGenericCMYK)};CGColorSpaceCreateDeviceGray=function(){return CGColorSpaceCreateWithName(kCGColorSpaceGenericGray)};CGColorSpaceCreateDeviceRGB=function(){return CGColorSpaceCreateWithName(kCGColorSpaceGenericRGB)};CGColorSpaceCreateWithPlatformColorSpace=function(){return NULL};CGColorSpaceCreateIndexed=function(){return NULL};CGColorSpaceCreatePattern=function(f){if(f)return{model:kCGColorSpaceModelPattern,count:f.count,base:f};return{model:kCGColorSpaceModelPattern,
count:0,base:NULL}};CGColorSpaceCreateWithName=function(h){var e=f[h];if(e)return e;switch(h){case kCGColorSpaceGenericGray:return f[h]={model:kCGColorSpaceModelMonochrome,count:1,base:NULL};case kCGColorSpaceGenericRGB:return f[h]={model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceGenericCMYK:return f[h]={model:kCGColorSpaceModelCMYK,count:4,base:NULL};case kCGColorSpaceGenericRGBLinear:return f[h]={model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceGenericRGBHDR:return f[h]=
{model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceAdobeRGB1998:return f[h]={model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceSRGB:return f[h]={model:kCGColorSpaceModelRGB,count:3,base:NULL}}return NULL};CGColorSpaceCopyICCProfile=function(){return NULL};CGColorSpaceGetNumberOfComponents=function(f){return f.count};CGColorSpaceGetTypeID=function(){};CGColorSpaceGetModel=function(f){return f.model};CGColorSpaceGetBaseColorSpace=function(){};CGColorSpaceGetColorTableCount=
function(){};CGColorSpaceGetColorTable=function(){};CGColorSpaceRelease=function(){};CGColorSpaceRetain=function(f){return f};CGColorSpaceStandardizeComponents=function(f,e){var c=f.count;if(c>e.length)e[c]=1;else{var a=e[c];e[c]=a<0?0:a>1?1:ROUND(a*1E3)/1E3;if(f.base)f=f.base;switch(f.model){case kCGColorSpaceModelMonochrome:case kCGColorSpaceModelRGB:case kCGColorSpaceModelCMYK:case kCGColorSpaceModelDeviceN:for(;c--;){if(c>e.length){e[c]=1;break}a=e[c];e[c]=a<0?0:a>1?1:ROUND(a*255)/255}}}}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCheckBox.j",baseURL),function(f,h){h("CPButton.j",YES);CPCheckBoxImageOffset=4;var e=objj_allocateClassPair(CPButton,"CPCheckBox"),c=e.isa;objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithFrame:"),function(a,b,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPCheckBox").super_class},"initWithFrame:",d))objj_msgSend(a,"setHighlightsBy:",CPContentsCellMask),objj_msgSend(a,
"setShowsStateBy:",CPContentsCellMask),objj_msgSend(a,"setImagePosition:",CPImageLeft),objj_msgSend(a,"setAlignment:",CPLeftTextAlignment),objj_msgSend(a,"setBordered:",NO);return a}}),new objj_method(sel_getUid("takeStateFromKeyPath:ofObjects:"),function(a,b,d,c){with(a){b=c.length;var e=objj_msgSend(c[0],"valueForKeyPath:",d)?CPOnState:CPOffState;objj_msgSend(a,"setAllowsMixedState:",NO);for(objj_msgSend(a,"setState:",e);b-- >1;)if(e!==(objj_msgSend(c[b],"valueForKeyPath:",d)?CPOnState:CPOffState))objj_msgSend(a,
"setAllowsMixedState:",YES),objj_msgSend(a,"setState:",CPMixedState)}}),new objj_method(sel_getUid("takeValueFromKeyPath:ofObjects:"),function(a,b,d,c){with(a)objj_msgSend(a,"takeStateFromKeyPath:ofObjects:",d,c)})]);class_addMethods(c,[new objj_method(sel_getUid("checkBoxWithTitle:theme:"),function(a,b,d,c){with(a)return objj_msgSend(a,"buttonWithTitle:theme:",d,c)}),new objj_method(sel_getUid("checkBoxWithTitle:"),function(a,b,d){with(a)return objj_msgSend(a,"buttonWithTitle:",d)}),new objj_method(sel_getUid("defaultThemeClass"),
function(a){with(a)return"check-box"}),new objj_method(sel_getUid("_binderClassForBinding:"),function(a,b,d){with(a){if(d===CPValueBinding)return objj_msgSend(_CPCheckBoxValueBinder,"class");return objj_msgSendSuper({receiver:a,super_class:objj_getMetaClass("CPCheckBox").super_class},"_binderClassForBinding:",d)}})]);e=objj_allocateClassPair(CPBinder,"_CPCheckBoxValueBinder");c=e.isa;objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("setValueFor:"),function(a){with(a){var b=
objj_msgSend(_info,"objectForKey:",CPObservedObjectKey),d=objj_msgSend(_info,"objectForKey:",CPObservedKeyPathKey);a=objj_msgSend(_info,"objectForKey:",CPOptionsKey);b=objj_msgSend(b,"valueForKeyPath:",d);if(CPIsControllerMarker(b)){switch(b){case CPMultipleValuesMarker:b=CPMixedState;break;case CPNoSelectionMarker:b=CPOffState;break;case CPNotApplicableMarker:objj_msgSend(a,"objectForKey:",CPRaisesForNotApplicableKeysBindingOption)&&objj_msgSend(CPException,"raise:reason:",CPGenericException,"can't transform non applicable key on: "+
_source+" value: "+b),b=CPOffState}b===CPMixedState?objj_msgSend(_source,"setAllowsMixedState:",YES):objj_msgSend(_source,"setAllowsMixedState:",NO)}objj_msgSend(_source,"setState:",b)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGAffineTransform.j",baseURL),function(f,h){h("CGGeometry.j",YES);CGAffineTransformMake=function(e,c,a,b,d,g){return{a:e,b:c,c:a,d:b,tx:d,ty:g}};CGAffineTransformMakeIdentity=function(){return{a:1,b:0,c:0,d:1,tx:0,ty:0}};CGAffineTransformMakeCopy=function(e){return{a:e.a,b:e.b,c:e.c,d:e.d,tx:e.tx,ty:e.ty}};CGAffineTransformMakeScale=function(e,c){return{a:e,b:0,c:0,d:c,tx:0,ty:0}};CGAffineTransformMakeTranslation=function(e,c){return{a:1,
b:0,c:0,d:1,tx:e,ty:c}};CGAffineTransformTranslate=function(e,c,a){return{a:e.a,b:e.b,c:e.c,d:e.d,tx:e.tx+e.a*c+e.c*a,ty:e.ty+e.b*c+e.d*a}};CGAffineTransformScale=function(e,c,a){return{a:e.a*c,b:e.b*c,c:e.c*a,d:e.d*a,tx:e.tx,ty:e.ty}};CGAffineTransformConcat=function(e,c){return{a:e.a*c.a+e.b*c.c,b:e.a*c.b+e.b*c.d,c:e.c*c.a+e.d*c.c,d:e.c*c.b+e.d*c.d,tx:e.tx*c.a+e.ty*c.c+c.tx,ty:e.tx*c.b+e.ty*c.d+c.ty}};CGPointApplyAffineTransform=function(e,c){return{x:e.x*c.a+e.y*c.c+c.tx,y:e.x*c.b+e.y*c.d+c.ty}};
CGSizeApplyAffineTransform=function(e,c){return{width:e.width*c.a+e.height*c.c,height:e.width*c.b+e.height*c.d}};CGAffineTransformIsIdentity=function(e){return e.a==1&&e.b==0&&e.c==0&&e.d==1&&e.tx==0&&e.ty==0};CGAffineTransformEqualToTransform=function(e,c){return e.a==c.a&&e.b==c.b&&e.c==c.c&&e.d==c.d&&e.tx==c.tx&&e.ty==c.ty};CGStringCreateWithCGAffineTransform=function(e){return" [[ "+e.a+", "+e.b+", 0 ], [ "+e.c+", "+e.d+", 0 ], [ "+e.tx+", "+e.ty+", 1]]"};CGAffineTransformCreateCopy=function(e){return{a:e.a,
b:e.b,c:e.c,d:e.d,tx:e.tx,ty:e.ty}};CGAffineTransformMakeRotation=function(e){var c=SIN(e);e=COS(e);return{a:e,b:c,c:-c,d:e,tx:0,ty:0}};CGAffineTransformRotate=function(e,c){var a=SIN(c),b=COS(c);return{a:e.a*b+e.c*a,b:e.b*b+e.d*a,c:e.c*b-e.a*a,d:e.d*b-e.b*a,tx:e.tx,ty:e.ty}};CGAffineTransformInvert=function(e){var c=1/(e.a*e.d-e.b*e.c);return{a:c*e.d,b:-c*e.b,c:-c*e.c,d:c*e.a,tx:c*(e.c*e.ty-e.d*e.tx),ty:c*(e.b*e.tx-e.a*e.ty)}};CGRectApplyAffineTransform=function(e,c){var a=e.origin.y,b=e.origin.x,
d=e.origin.x+e.size.width,g=e.origin.y+e.size.height,f=CGPointApplyAffineTransform({x:b,y:a},c);a=CGPointApplyAffineTransform({x:d,y:a},c);b=CGPointApplyAffineTransform({x:b,y:g},c);var h=CGPointApplyAffineTransform({x:d,y:g},c);d=MIN(f.x,a.x,b.x,h.x);g=MAX(f.x,a.x,b.x,h.x);var q=MIN(f.y,a.y,b.y,h.y);f=MAX(f.y,a.y,b.y,h.y);return{origin:{x:d,y:q},size:{width:g-d,height:f-q}}};CPStringFromCGAffineTransform=function(e){return"{"+e.a+", "+e.b+", "+e.c+", "+e.d+", "+e.tx+", "+e.ty+"}"}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibCustomView.j",baseURL),function(f,h){h("CPView.j",YES);var e=objj_allocateClassPair(CPView,"_CPCibCustomView");class_addIvars(e,[new objj_ivar("_className")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("customClassName"),function(c){with(c)return _className}),new objj_method(sel_getUid("setCustomClassName:"),function(c,a,b){with(c){if(_className===b)return;_className=b;objj_msgSend(c,"setNeedsDisplay:",
YES);objj_msgSend(c,"setNeedsLayout")}})]);e=objj_getClass("_CPCibCustomView");if(!e)throw new SyntaxError('*** Could not find definition for class "_CPCibCustomView"');class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(c,a,b){with(c)return(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPCibCustomView").super_class},"initWithCoder:",b))&&(_className=objj_msgSend(b,"decodeObjectForKey:","_CPCibCustomViewClassNameKey")),c}),new objj_method(sel_getUid("encodeWithCoder:"),
function(c,a,b){with(c)objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPCibCustomView").super_class},"encodeWithCoder:",b),objj_msgSend(b,"encodeObject:forKey:",_className,"_CPCibCustomViewClassNameKey")}),new objj_method(sel_getUid("customClassName"),function(c){with(c)return _className}),new objj_method(sel_getUid("_cibInstantiate"),function(c){with(c){var a=CPClassFromString(_className);a||(a=objj_msgSend(CPView,"class"));if(a===objj_msgSend(c,"class"))return _className="CPView",c;if(a=
objj_msgSend(objj_msgSend(a,"alloc"),"initWithFrame:",objj_msgSend(c,"frame"))){objj_msgSend(a,"setBounds:",objj_msgSend(c,"bounds"));for(var b=objj_msgSend(c,"subviews"),d=0,e=b.length;d<e;++d)objj_msgSend(a,"addSubview:",b[d]);objj_msgSend(a,"setAutoresizingMask:",objj_msgSend(c,"autoresizingMask"));objj_msgSend(a,"setAutoresizesSubviews:",objj_msgSend(c,"autoresizesSubviews"));objj_msgSend(a,"setHitTests:",objj_msgSend(c,"hitTests"));objj_msgSend(a,"setHidden:",objj_msgSend(c,"isHidden"));objj_msgSend(a,
"setAlphaValue:",objj_msgSend(c,"alphaValue"));objj_msgSend(_superview,"replaceSubview:with:",c,a);objj_msgSend(a,"setBackgroundColor:",objj_msgSend(c,"backgroundColor"))}return a}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CAMediaTimingFunction.j",baseURL),function(f,h){h("Foundation/CPObject.j",NO);h("Foundation/CPDictionary.j",NO);h("Foundation/CPString.j",NO);kCAMediaTimingFunctionLinear="kCAMediaTimingFunctionLinear";kCAMediaTimingFunctionEaseIn="kCAMediaTimingFunctionEaseIn";kCAMediaTimingFunctionEaseOut="kCAMediaTimingFunctionEaseOut";kCAMediaTimingFunctionEaseInEaseOut="kCAMediaTimingFunctionEaseInEaseOut";var e=nil,c=objj_allocateClassPair(CPObject,
"CAMediaTimingFunction"),a=c.isa;class_addIvars(c,[new objj_ivar("_c1x"),new objj_ivar("_c1y"),new objj_ivar("_c2x"),new objj_ivar("_c2y")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithControlPoints::::"),function(a,d,c,e,f,h){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CAMediaTimingFunction").super_class},"init"))_c1x=c,_c1y=e,_c2x=f,_c2y=h;return a}}),new objj_method(sel_getUid("getControlPointAtIndex:values:"),function(a,d,c,e){with(a)c==
0?(e[0]=0,e[1]=0):c==1?(e[0]=_c1x,e[1]=_c1y):c==2?(e[0]=_c2x,e[1]=_c2y):(e[0]=1,e[1]=1)})]);class_addMethods(a,[new objj_method(sel_getUid("functionWithName:"),function(a,c,g){with(a)return e||(e=objj_msgSend(CPDictionary,"dictionary"),objj_msgSend(e,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0,0,1,1),kCAMediaTimingFunctionLinear),objj_msgSend(e,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0.42,0,1,1),kCAMediaTimingFunctionEaseIn),
objj_msgSend(e,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0,0,0.58,1),kCAMediaTimingFunctionEaseOut),objj_msgSend(e,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0.42,0,0.58,1),kCAMediaTimingFunctionEaseInEaseOut)),objj_msgSend(e,"objectForKey:",g)}),new objj_method(sel_getUid("functionWithControlPoints::::"),function(a,c,e,f,h,q){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithControlPoints::::",e,f,
h,q)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPURLRequest.j",baseURL),function(f,h){h("CPDictionary.j",YES);h("CPObject.j",YES);h("CPString.j",YES);h("CPURL.j",YES);var e=objj_allocateClassPair(CPObject,"CPURLRequest"),c=e.isa;class_addIvars(e,[new objj_ivar("_URL"),new objj_ivar("_HTTPBody"),new objj_ivar("_HTTPMethod"),new objj_ivar("_HTTPHeaderFields")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithURL:"),function(a,b,c){with(a){if(a=
objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPURLRequest").super_class},"init"))objj_msgSend(a,"setURL:",c),_HTTPBody="",_HTTPMethod="GET",_HTTPHeaderFields=objj_msgSend(CPDictionary,"dictionary"),objj_msgSend(a,"setValue:forHTTPHeaderField:","Thu, 01 Jan 1970 00:00:00 GMT","If-Modified-Since"),objj_msgSend(a,"setValue:forHTTPHeaderField:","no-cache","Cache-Control"),objj_msgSend(a,"setValue:forHTTPHeaderField:","XMLHttpRequest","X-Requested-With");return a}}),new objj_method(sel_getUid("URL"),
function(a){with(a)return _URL}),new objj_method(sel_getUid("setURL:"),function(a,b,c){with(a)_URL=new CFURL(c)}),new objj_method(sel_getUid("setHTTPBody:"),function(a,b,c){with(a)_HTTPBody=c}),new objj_method(sel_getUid("HTTPBody"),function(a){with(a)return _HTTPBody}),new objj_method(sel_getUid("setHTTPMethod:"),function(a,b,c){with(a)_HTTPMethod=c}),new objj_method(sel_getUid("HTTPMethod"),function(a){with(a)return _HTTPMethod}),new objj_method(sel_getUid("allHTTPHeaderFields"),function(a){with(a)return _HTTPHeaderFields}),
new objj_method(sel_getUid("valueForHTTPHeaderField:"),function(a,b,c){with(a)return objj_msgSend(_HTTPHeaderFields,"objectForKey:",c)}),new objj_method(sel_getUid("setValue:forHTTPHeaderField:"),function(a,b,c,e){with(a)objj_msgSend(_HTTPHeaderFields,"setObject:forKey:",c,e)})]);class_addMethods(c,[new objj_method(sel_getUid("requestWithURL:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(CPURLRequest,"alloc"),"initWithURL:",c)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPGraphics.j",baseURL),function(f,h){h("CPColor.j",YES);h("CPGraphicsContext.j",YES);CPDrawTiledRects=function(e,c,a,b){a.length!=b.length&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"sides (length: "+a.length+") and grays (length: "+b.length+") must have the same length.");for(var d=[],g=0;g<b.length;++g)d.push(objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",b[g],1));return CPDrawColorTiledRects(e,
c,a,d)};CPDrawColorTiledRects=function(e,c,a,b){a.length!=b.length&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"sides (length: "+a.length+") and colors (length: "+b.length+") must have the same length.");e={origin:{x:e.origin.x,y:e.origin.y},size:{width:e.size.width,height:e.size.height}};var d={origin:{x:0,y:0},size:{width:0,height:0}},g={origin:{x:0,y:0},size:{width:0,height:0}},f=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");CGContextSaveGState(f);
CGContextSetLineWidth(f,1);for(var h=0;h<a.length;++h){var q=a[h];CGRectDivide(e,d,g,1,q);e=g;d=CGRectIntersection(d,c);if(!(d.size.width<=0||d.size.height<=0)){var p,k,n;if(q==CPMinXEdge||q==CPMaxXEdge){if(d.size.width<1)continue;p=q=d.origin.x+0.5;k=d.origin.y;n=d.origin.y+d.size.height}else{if(d.size.height<1)continue;q=d.origin.x;p=d.origin.x+d.size.width;n=k=d.origin.y+0.5}CGContextBeginPath(f);CGContextMoveToPoint(f,q,k);CGContextAddLineToPoint(f,p,n);CGContextSetStrokeColor(f,b[h]);CGContextStrokePath(f)}}CGContextRestoreGState(f);
return e}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPThemeBlend.j",baseURL),function(f,h){h("Foundation/CPObject.j",NO);h("CPTheme.j",YES);h("_CPCibCustomResource.j",YES);h("_CPCibKeyedUnarchiver.j",YES);var e=objj_allocateClassPair(CPObject,"CPThemeBlend");class_addIvars(e,[new objj_ivar("_bundle"),new objj_ivar("_themes"),new objj_ivar("_loadDelegate")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithContentsOfURL:"),function(c,a,b){with(c)return(c=
objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPThemeBlend").super_class},"init"))&&(_bundle=objj_msgSend(objj_msgSend(CPBundle,"alloc"),"initWithPath:",b)),c}),new objj_method(sel_getUid("themes"),function(c){with(c)return _themes}),new objj_method(sel_getUid("themeNames"),function(c){with(c){c=[];for(var a=0;a<_themes.length;++a)c.push(_themes[a].substring(0,_themes[a].indexOf(".keyedtheme")));return c}}),new objj_method(sel_getUid("loadWithDelegate:"),function(c,a,b){with(c)_loadDelegate=
b,objj_msgSend(_bundle,"loadWithDelegate:",c)}),new objj_method(sel_getUid("bundleDidFinishLoading:"),function(c,a,b){with(c){_themes=objj_msgSend(_bundle,"objectForInfoDictionaryKey:","CPKeyedThemes");for(a=_themes.length;a--;){var d=objj_msgSend(b,"pathForResource:",_themes[a]);d=objj_msgSend(objj_msgSend(_CPThemeKeyedUnarchiver,"alloc"),"initForReadingWithData:bundle:",objj_msgSend(objj_msgSend(CPURL,"URLWithString:",d),"staticResourceData"),_bundle);objj_msgSend(d,"decodeObjectForKey:","root");
objj_msgSend(d,"finishDecoding")}objj_msgSend(_loadDelegate,"blendDidFinishLoading:",c)}})])});CFHTTPRequest._cacheRequest(new CFURL("Browser.environment/patterns.sj",baseURL),200,{},'@STATIC;1.0;p;6;main.jt;101;@STATIC;1.0;I;23;Foundation/Foundation.jI;15;AppKit/AppKit.ji;15;AppController.jt;16;alert("main.j");p;15;AppController.jt;142;@STATIC;1.0;I;21;Foundation/CPObject.jI;16;AppKit/CPColor.jI;13;GRKit/GRKit.ji;9;app/app.ji;17;app/monkeypatch.jt;25;alert("AppController.j");p;9;app/app.jt;395;@STATIC;1.0;i;13;monkeypatch.ji;16;pattern_config.ji;15;pattern_maker.ji;14;patterns/one.ji;14;patterns/two.ji;16;patterns/three.ji;15;patterns/four.ji;15;patterns/five.ji;14;patterns/six.ji;16;patterns/seven.ji;16;patterns/eight.ji;15;patterns/nine.ji;14;patterns/ten.ji;20;views/pattern_view.ji;25;views/pattern_list_cell.ji;41;controllers/pattern_settings_controller.jt;19;alert("app/app.j");p;17;app/monkeypatch.jt;44;@STATIC;1.0;t;27;alert("app/monkeypatch.j");p;20;app/pattern_config.jt;47;@STATIC;1.0;t;30;alert("app/pattern_config.j");p;19;app/pattern_maker.jt;46;@STATIC;1.0;t;29;alert("app/pattern_maker.j");p;18;app/patterns/one.jt;45;@STATIC;1.0;t;28;alert("app/patterns/one.j");p;18;app/patterns/two.jt;45;@STATIC;1.0;t;28;alert("app/patterns/two.j");p;20;app/patterns/three.jt;47;@STATIC;1.0;t;30;alert("app/patterns/three.j");p;19;app/patterns/four.jt;46;@STATIC;1.0;t;29;alert("app/patterns/four.j");p;19;app/patterns/five.jt;46;@STATIC;1.0;t;29;alert("app/patterns/five.j");p;18;app/patterns/six.jt;45;@STATIC;1.0;t;28;alert("app/patterns/six.j");p;20;app/patterns/seven.jt;47;@STATIC;1.0;t;30;alert("app/patterns/seven.j");p;20;app/patterns/eight.jt;47;@STATIC;1.0;t;30;alert("app/patterns/eight.j");p;19;app/patterns/nine.jt;46;@STATIC;1.0;t;29;alert("app/patterns/nine.j");p;18;app/patterns/ten.jt;45;@STATIC;1.0;t;28;alert("app/patterns/ten.j");p;24;app/views/pattern_view.jt;51;@STATIC;1.0;t;34;alert("app/views/pattern_view.j");p;29;app/views/pattern_list_cell.jt;56;@STATIC;1.0;t;39;alert("app/views/pattern_list_cell.j");p;45;app/controllers/pattern_settings_controller.jt;72;@STATIC;1.0;t;55;alert("app/controllers/pattern_settings_controller.j");');
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPNotification.j",baseURL),function(f,h){h("CPException.j",YES);h("CPObject.j",YES);var e=objj_allocateClassPair(CPObject,"CPNotification"),c=e.isa;class_addIvars(e,[new objj_ivar("_name"),new objj_ivar("_object"),new objj_ivar("_userInfo")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(a){with(a)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"CPNotification's init method should not be used")}),
new objj_method(sel_getUid("initWithName:object:userInfo:"),function(a,b,c,e,f){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPNotification").super_class},"init"))_name=c,_object=e,_userInfo=f;return a}}),new objj_method(sel_getUid("name"),function(a){with(a)return _name}),new objj_method(sel_getUid("object"),function(a){with(a)return _object}),new objj_method(sel_getUid("userInfo"),function(a){with(a)return _userInfo})]);class_addMethods(c,[new objj_method(sel_getUid("notificationWithName:object:userInfo:"),
function(a,b,c,e,f){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithName:object:userInfo:",c,e,f)}),new objj_method(sel_getUid("notificationWithName:object:"),function(a,b,c,e){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithName:object:userInfo:",c,e,nil)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibClassSwapper.j",baseURL),function(f,h){h("Foundation/CPObject.j",NO);h("Foundation/CPString.j",NO);var e=objj_allocateClassPair(CPObject,"_CPCibClassSwapper"),c=e.isa;objj_registerClassPair(e);class_addMethods(c,[new objj_method(sel_getUid("allocObjectWithCoder:className:"),function(a,b,c,e){with(a){a=objj_msgSend(c,"classForClassName:",e);if(!a&&(a=objj_lookUpClass(e),!a))return nil;return objj_msgSend(a,"alloc")}}),new objj_method(sel_getUid("allocWithCoder:"),
function(a,b,c){with(a){if(objj_msgSend(c,"respondsToSelector:",sel_getUid("usesOriginalClasses"))&&objj_msgSend(c,"usesOriginalClasses")){b=objj_msgSend(c,"decodeObjectForKey:","_CPCibClassSwapperOriginalClassNameKey");var e=objj_msgSend(a,"allocObjectWithCoder:className:",c,b)}else b=objj_msgSend(c,"decodeObjectForKey:","_CPCibClassSwapperClassNameKey"),e=objj_msgSend(a,"allocObjectWithCoder:className:",c,b),e||(CPLog.error("Unable to find class "+b+" in cib file."),e=objj_msgSend(a,"allocObjectWithCoder:className:",
c,objj_msgSend(c,"decodeObjectForKey:","_CPCibClassSwapperOriginalClassNameKey")));e||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unable to find class "+b+" in cib file.");return e}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPToolbarShowColorsItem.j",baseURL),function(f,h){h("CPApplication.j",YES);h("CPToolbarItem.j",YES);var e=objj_allocateClassPair(CPToolbarItem,"_CPToolbarShowColorsItem");objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithItemIdentifier:"),function(c){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPToolbarShowColorsItem").super_class},"initWithItemIdentifier:",CPToolbarShowColorsItemIdentifier))objj_msgSend(c,
"setMinSize:",CGSizeMake(32,32)),objj_msgSend(c,"setMaxSize:",CGSizeMake(32,32)),objj_msgSend(c,"setLabel:","Colors"),objj_msgSend(c,"setPaletteLabel:","Show Colors"),objj_msgSend(c,"setTarget:",CPApp),objj_msgSend(c,"setAction:",sel_getUid("orderFrontColorPanel:")),objj_msgSend(c,"setImage:",objj_msgSend(CPImage,"imageNamed:",CPImageNameColorPanel)),objj_msgSend(c,"setAlternateImage:",objj_msgSend(CPImage,"imageNamed:",CPImageNameColorPanelHighlighted)),objj_msgSend(c,"setToolTip:","Show the Colors panel.");
return c}}),new objj_method(sel_getUid("initWithCoder:"),function(c){with(c)return objj_msgSend(c,"init")}),new objj_method(sel_getUid("encodeWithCoder:"),function(c){with(c);})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/four.j",baseURL),function(){var f=objj_allocateClassPair(PatternThree,"PatternFour"),h=f.isa;objj_registerClassPair(f);class_addMethods(h,[new objj_method(sel_getUid("defaultConfig"),function(e){with(e)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",6,"number_of_points",0,"recurse_depth",1.22,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",118,"radius",NO,"show_shapes",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",0,0,0,0.2727272727272727),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",31,255,211,0.7272727272727273),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",85,85,85,0.4909090909090909),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",190,73,12,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,0.6909090909090909),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,0.6909090909090909)],"stroke_colors",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",0,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,33,50,0.2545454545454545),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",130,18,120,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",76,156,180,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/six.j",baseURL),function(){var f=objj_allocateClassPair(PatternTwo,"PatternSix"),h=f.isa;objj_registerClassPair(f);class_addMethods(h,[new objj_method(sel_getUid("defaultConfig"),function(e){with(e)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",50,"number_of_points",0,"recurse_depth",0.88,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",181,"radius",YES,"show_shapes",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",0,255,100,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",37,15,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,255,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",17,95,17,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",14,10,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",51,32,255,0),objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",198,157,165,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0.02727272727272727),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,9,45,0.39545454545454545),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,200,10,0.4),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,1)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPGraphicsContext.j",baseURL),function(f,h){h("Foundation/CPObject.j",NO);h("CGContext.j",YES);var e=nil,c=objj_allocateClassPair(CPObject,"CPGraphicsContext"),a=c.isa;class_addIvars(c,[new objj_ivar("_graphicsPort")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithGraphicsPort:"),function(a,c,e){with(a)return(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPGraphicsContext").super_class},
"init"))&&(_graphicsPort=e),a}),new objj_method(sel_getUid("graphicsPort"),function(a){with(a)return _graphicsPort})]);class_addMethods(a,[new objj_method(sel_getUid("currentContext"),function(a){with(a)return e}),new objj_method(sel_getUid("setCurrentContext:"),function(a,c,f){with(a)e=f}),new objj_method(sel_getUid("graphicsContextWithGraphicsPort:flipped:"),function(a,c,e){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithGraphicsPort:",e)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPToolbarFlexibleSpaceItem.j",baseURL),function(f,h){h("CPToolbarItem.j",YES);var e=objj_allocateClassPair(CPToolbarItem,"_CPToolbarFlexibleSpaceItem");objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithItemIdentifier:"),function(c){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPToolbarFlexibleSpaceItem").super_class},"initWithItemIdentifier:",CPToolbarFlexibleSpaceItemIdentifier))objj_msgSend(c,
"setMinSize:",CGSizeMake(32,32)),objj_msgSend(c,"setMaxSize:",CGSizeMake(1E4,32));return c}}),new objj_method(sel_getUid("initWithCoder:"),function(c){with(c)return objj_msgSend(c,"init")}),new objj_method(sel_getUid("encodeWithCoder:"),function(c){with(c);})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPToolbarSpaceItem.j",baseURL),function(f,h){h("CPToolbarItem.j",YES);var e=objj_allocateClassPair(CPToolbarItem,"_CPToolbarSpaceItem");objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithItemIdentifier:"),function(c){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPToolbarSpaceItem").super_class},"initWithItemIdentifier:",CPToolbarSpaceItemIdentifier))objj_msgSend(c,"setMinSize:",
CGSizeMake(32,32)),objj_msgSend(c,"setMaxSize:",CGSizeMake(32,32));return c}}),new objj_method(sel_getUid("initWithCoder:"),function(c){with(c)return objj_msgSend(c,"init")}),new objj_method(sel_getUid("encodeWithCoder:"),function(c){with(c);})])});CFHTTPRequest._cacheRequest(new CFURL("Info.plist",baseURL),200,{},"280NPLIST;1.0;D;K;26;CPApplicationDelegateClassS;13;AppControllerK;12;CPBundleNameS;8;patternsK;16;CPPrincipalClassS;13;CPApplicationK;29;CPBundleInfoDictionaryVersiond;1;6K;18;CPBundleIdentifierS;24;com.yourcompany.patternsK;15;CPBundleVersionS;3;1.0K;19;CPBundlePackageTypeS;4;APPLK;20;CPBundleEnvironmentsA;S;7;BrowserS;8;CommonJSE;K;18;CPBundleExecutableS;11;patterns.sjK;36;CPBundleEnvironmentsWithImageSpritesA;S;7;BrowserE;K;17;CPApplicationSizeD;K;10;executabled;7;1565472K;4;datad;6;411452K;5;mhtmld;5;61605E;E;\n");
CFHTTPRequest._cacheRequest(new CFURL("Frameworks/AppKit/Info.plist",baseURL),200,{},"280NPLIST;1.0;D;K;18;CPBundleIdentifierS;15;com.280n.AppKitK;29;CPBundleInfoDictionaryVersiond;1;6K;12;CPBundleNameS;6;AppKitK;19;CPBundlePackageTypeS;4;FMWKK;15;CPBundleVersionS;5;0.9.0K;20;CPBundleEnvironmentsA;S;7;BrowserS;8;CommonJSE;K;18;CPBundleExecutableS;9;AppKit.sjK;36;CPBundleEnvironmentsWithImageSpritesA;S;7;BrowserE;E;\n");
CFHTTPRequest._cacheRequest(new CFURL("Frameworks/GRKit/Browser.environment/GRKit.sj",baseURL),200,{},'@STATIC;1.0;p;7;GRKit.jt;75;@STATIC;1.0;i;17;g_r_rotate_view.ji;14;g_r_geometry.jt;17;alert("GRKit.j");p;17;g_r_rotate_view.jt;44;@STATIC;1.0;t;27;alert("g_r_rotate_view.j");p;14;g_r_geometry.jt;41;@STATIC;1.0;t;24;alert("g_r_geometry.j");');CFHTTPRequest._cacheRequest(new CFURL("Frameworks/AppKit/Resources/Info.plist",baseURL),404);
