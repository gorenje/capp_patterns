ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPView.j",baseURL),function(h,f){f("Foundation/CPArray.j",NO);f("Foundation/CPObjJRuntime.j",NO);f("Foundation/CPSet.j",NO);f("CGAffineTransform.j",YES);f("CGGeometry.j",YES);f("CPColor.j",YES);f("CPGeometry.j",YES);f("CPGraphicsContext.j",YES);f("CPResponder.j",YES);f("CPTheme.j",YES);f("_CPDisplayServer.j",YES);CPViewNotSizable=0;CPViewMinXMargin=1;CPViewWidthSizable=2;CPViewMaxXMargin=4;CPViewMinYMargin=8;CPViewHeightSizable=
16;CPViewMaxYMargin=32;CPViewBoundsDidChangeNotification="CPViewBoundsDidChangeNotification";CPViewFrameDidChangeNotification="CPViewFrameDidChangeNotification";var d=nil,g=nil,c=nil,b={},a=objj_allocateClassPair(CPResponder,"CPView"),e=a.isa;class_addIvars(a,[new objj_ivar("_window"),new objj_ivar("_superview"),new objj_ivar("_subviews"),new objj_ivar("_graphicsContext"),new objj_ivar("_tag"),new objj_ivar("_frame"),new objj_ivar("_bounds"),new objj_ivar("_boundsTransform"),new objj_ivar("_inverseBoundsTransform"),
new objj_ivar("_registeredDraggedTypes"),new objj_ivar("_registeredDraggedTypesArray"),new objj_ivar("_isHidden"),new objj_ivar("_hitTests"),new objj_ivar("_clipsToBounds"),new objj_ivar("_postsFrameChangedNotifications"),new objj_ivar("_postsBoundsChangedNotifications"),new objj_ivar("_inhibitFrameAndBoundsChangedNotifications"),new objj_ivar("_DOMElement"),new objj_ivar("_DOMContentsElement"),new objj_ivar("_DOMImageParts"),new objj_ivar("_DOMImageSizes"),new objj_ivar("_backgroundType"),new objj_ivar("_dirtyRect"),
new objj_ivar("_opacity"),new objj_ivar("_backgroundColor"),new objj_ivar("_autoresizesSubviews"),new objj_ivar("_autoresizingMask"),new objj_ivar("_layer"),new objj_ivar("_wantsLayer"),new objj_ivar("_isInFullScreenMode"),new objj_ivar("_fullScreenModeState"),new objj_ivar("_needsLayout"),new objj_ivar("_ephemeralSubviews"),new objj_ivar("_theme"),new objj_ivar("_themeClass"),new objj_ivar("_themeAttributes"),new objj_ivar("_themeState"),new objj_ivar("_ephemeralSubviewsForNames"),new objj_ivar("_ephereralSubviews"),
new objj_ivar("_nextKeyView"),new objj_ivar("_previousKeyView"),new objj_ivar("_viewClassFlags")]);objj_registerClassPair(a);class_addMethods(a,[new objj_method(sel_getUid("setupViewFlags"),function(a){with(a){a=objj_msgSend(a,"class");var e=objj_msgSend(a,"UID");if(b[e]===void 0){var c=0;objj_msgSend(a,"instanceMethodForSelector:",sel_getUid("drawRect:"))!==objj_msgSend(CPView,"instanceMethodForSelector:",sel_getUid("drawRect:"))&&(c|=1);objj_msgSend(a,"instanceMethodForSelector:",sel_getUid("layoutSubviews"))!==
objj_msgSend(CPView,"instanceMethodForSelector:",sel_getUid("layoutSubviews"))&&(c|=2);b[e]=c}_viewClassFlags=b[e]}}),new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithFrame:",CGRectMakeZero())}),new objj_method(sel_getUid("initWithFrame:"),function(a,b,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPView").super_class},"init")){b=e.size.width;var i=e.size.height;_subviews=[];_registeredDraggedTypes=objj_msgSend(CPSet,"set");_registeredDraggedTypesArray=
[];_tag=-1;_frame={origin:{x:e.origin.x,y:e.origin.y},size:{width:e.size.width,height:e.size.height}};_bounds={origin:{x:0,y:0},size:{width:b,height:i}};_autoresizingMask=CPViewNotSizable;_clipsToBounds=_autoresizesSubviews=YES;_opacity=1;_isHidden=NO;_hitTests=YES;_DOMElement=c.cloneNode(!1);e=NULL?{x:CGPointMake(e.origin.x,e.origin.y).x*NULL.a+CGPointMake(e.origin.x,e.origin.y).y*NULL.c+NULL.tx,y:CGPointMake(e.origin.x,e.origin.y).x*NULL.b+CGPointMake(e.origin.x,e.origin.y).y*NULL.d+NULL.ty}:{x:e.origin.x,
y:e.origin.y};_DOMElement.style.left=ROUND(e.x)+"px";_DOMElement.style.top=ROUND(e.y)+"px";_DOMElement.style.width=MAX(0,ROUND(b))+"px";_DOMElement.style.height=MAX(0,ROUND(i))+"px";_DOMImageParts=[];_DOMImageSizes=[];_theme=objj_msgSend(CPTheme,"defaultTheme");_themeState=CPThemeStateNormal;objj_msgSend(a,"setupViewFlags");objj_msgSend(a,"_loadThemeAttributes")}return a}}),new objj_method(sel_getUid("superview"),function(a){with(a)return _superview}),new objj_method(sel_getUid("subviews"),function(a){with(a)return objj_msgSend(_subviews,
"copy")}),new objj_method(sel_getUid("window"),function(a){with(a)return _window}),new objj_method(sel_getUid("addSubview:"),function(a,b,e){with(a)objj_msgSend(a,"_insertSubview:atIndex:",e,CPNotFound)}),new objj_method(sel_getUid("addSubview:positioned:relativeTo:"),function(a,b,e,c,i){with(a)b=i?objj_msgSend(_subviews,"indexOfObjectIdenticalTo:",i):CPNotFound,b===CPNotFound?b=c===CPWindowAbove?objj_msgSend(_subviews,"count"):0:c===CPWindowAbove&&++b,objj_msgSend(a,"_insertSubview:atIndex:",e,b)}),
new objj_method(sel_getUid("_insertSubview:atIndex:"),function(a,b,e,c){with(a){b=_subviews.length;objj_msgSend(objj_msgSend(a,"window"),"_dirtyKeyViewLoop");if(e._superview==a){var i=objj_msgSend(_subviews,"indexOfObjectIdenticalTo:",e);if(i===c||i===b-1&&c===b)return;objj_msgSend(_subviews,"removeObjectAtIndex:",i);_DOMElement.removeChild(e._DOMElement);c>i&&--c;--b}else objj_msgSend(e,"removeFromSuperview"),objj_msgSend(e,"_setWindow:",_window),objj_msgSend(e,"viewWillMoveToSuperview:",a),e._superview=
a;c===CPNotFound||c>=b?(_subviews.push(e),_DOMElement.appendChild(e._DOMElement)):(_subviews.splice(c,0,e),_DOMElement.insertBefore(e._DOMElement,_subviews[c+1]._DOMElement));objj_msgSend(e,"setNextResponder:",a);objj_msgSend(e,"viewDidMoveToSuperview");objj_msgSend(a,"didAddSubview:",e)}}),new objj_method(sel_getUid("didAddSubview:"),function(a){with(a);}),new objj_method(sel_getUid("removeFromSuperview"),function(a){with(a){if(!_superview)return;objj_msgSend(objj_msgSend(a,"window"),"_dirtyKeyViewLoop");
objj_msgSend(_superview,"willRemoveSubview:",a);objj_msgSend(_superview._subviews,"removeObject:",a);_superview._DOMElement.removeChild(_DOMElement);_superview=nil;objj_msgSend(a,"_setWindow:",nil)}}),new objj_method(sel_getUid("replaceSubview:with:"),function(a,b,e,c){with(a){if(e._superview!=a)return;b=objj_msgSend(_subviews,"indexOfObjectIdenticalTo:",e);objj_msgSend(e,"removeFromSuperview");objj_msgSend(a,"_insertSubview:atIndex:",c,b)}}),new objj_method(sel_getUid("setSubviews:"),function(a,
b,e){with(a){e||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"newSubviews cannot be nil in -[CPView setSubviews:]");if(objj_msgSend(_subviews,"isEqual:",e))return;if(objj_msgSend(_subviews,"count")===0){b=0;for(var c=objj_msgSend(e,"count");b<c;++b)objj_msgSend(a,"addSubview:",e[b]);return}if(objj_msgSend(e,"count")===0){for(c=objj_msgSend(_subviews,"count");c--;)objj_msgSend(_subviews[c],"removeFromSuperview");return}b=objj_msgSend(CPMutableSet,"setWithArray:",_subviews);objj_msgSend(b,
"removeObjectsInArray:",e);objj_msgSend(b,"makeObjectsPerformSelector:",sel_getUid("removeFromSuperview"));c=objj_msgSend(CPMutableSet,"setWithArray:",e);objj_msgSend(c,"removeObjectsInArray:",_subviews);b=nil;for(c=objj_msgSend(c,"objectEnumerator");b=objj_msgSend(c,"nextObject");)objj_msgSend(a,"addSubview:",b);if(objj_msgSend(_subviews,"isEqual:",e))return;_subviews=objj_msgSend(e,"copy");b=0;for(c=objj_msgSend(_subviews,"count");b<c;++b)a=_subviews[b],_DOMElement.removeChild(a._DOMElement),_DOMElement.appendChild(a._DOMElement)}}),
new objj_method(sel_getUid("_setWindow:"),function(a,b,e){with(a){if(_window===e)return;objj_msgSend(objj_msgSend(a,"window"),"_dirtyKeyViewLoop");objj_msgSend(_window,"firstResponder")===a&&objj_msgSend(_window,"makeFirstResponder:",nil);objj_msgSend(a,"viewWillMoveToWindow:",e);_registeredDraggedTypes&&(objj_msgSend(_window,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes),objj_msgSend(e,"_noteRegisteredDraggedTypes:",_registeredDraggedTypes));_window=e;for(b=objj_msgSend(_subviews,"count");b--;)objj_msgSend(_subviews[b],
"_setWindow:",e);objj_msgSend(a,"viewDidMoveToWindow");objj_msgSend(objj_msgSend(a,"window"),"_dirtyKeyViewLoop")}}),new objj_method(sel_getUid("isDescendantOf:"),function(a,b,e){with(a){do if(a==e)return YES;while(a=objj_msgSend(a,"superview"));return NO}}),new objj_method(sel_getUid("viewDidMoveToSuperview"),function(a){with(a)objj_msgSend(a,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("viewDidMoveToWindow"),function(a){with(a);}),new objj_method(sel_getUid("viewWillMoveToSuperview:"),function(a){with(a);
}),new objj_method(sel_getUid("viewWillMoveToWindow:"),function(a){with(a);}),new objj_method(sel_getUid("willRemoveSubview:"),function(a){with(a);}),new objj_method(sel_getUid("enclosingMenuItem"),function(a){with(a){for(;a&&!objj_msgSend(a,"isKindOfClass:",objj_msgSend(_CPMenuItemView,"class"));)a=objj_msgSend(a,"superview");if(a)return a._menuItem;return nil}}),new objj_method(sel_getUid("setTag:"),function(a,b,e){with(a)_tag=e}),new objj_method(sel_getUid("tag"),function(a){with(a)return _tag}),
new objj_method(sel_getUid("viewWithTag:"),function(a,b,e){with(a){if(objj_msgSend(a,"tag")==e)return a;a=0;for(b=_subviews.length;a<b;++a){var c=objj_msgSend(_subviews[a],"viewWithTag:",e);if(c)return c}return nil}}),new objj_method(sel_getUid("isFlipped"),function(a){with(a)return YES}),new objj_method(sel_getUid("setFrame:"),function(a,b,e){with(a){if(_frame.origin.x==e.origin.x&&_frame.origin.y==e.origin.y&&_frame.size.width==e.size.width&&_frame.size.height==e.size.height)return;_inhibitFrameAndBoundsChangedNotifications=
YES;objj_msgSend(a,"setFrameOrigin:",e.origin);objj_msgSend(a,"setFrameSize:",e.size);_inhibitFrameAndBoundsChangedNotifications=NO;_postsFrameChangedNotifications&&objj_msgSend(d,"postNotificationName:object:",CPViewFrameDidChangeNotification,a)}}),new objj_method(sel_getUid("frame"),function(a){with(a)return{origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:_frame.size.width,height:_frame.size.height}}}),new objj_method(sel_getUid("frameOrigin"),function(a){with(a)return{x:_frame.origin.x,
y:_frame.origin.y}}),new objj_method(sel_getUid("frameSize"),function(a){with(a)return{width:_frame.size.width,height:_frame.size.height}}),new objj_method(sel_getUid("setCenter:"),function(a,b,e){with(a)objj_msgSend(a,"setFrameOrigin:",CGPointMake(e.x-_frame.size.width/2,e.y-_frame.size.height/2))}),new objj_method(sel_getUid("center"),function(a){with(a)return CGPointMake(_frame.size.width/2+_frame.origin.x,_frame.size.height/2+_frame.origin.y)}),new objj_method(sel_getUid("setFrameOrigin:"),function(a,
b,e){with(a){b=_frame.origin;if(!e||b.x==e.x&&b.y==e.y)return;b.x=e.x;b.y=e.y;_postsFrameChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications&&objj_msgSend(d,"postNotificationName:object:",CPViewFrameDidChangeNotification,a);a=(a=_superview?_superview._boundsTransform:NULL)?{x:CGPointMake(b.x,b.y).x*a.a+CGPointMake(b.x,b.y).y*a.c+a.tx,y:CGPointMake(b.x,b.y).x*a.b+CGPointMake(b.x,b.y).y*a.d+a.ty}:{x:b.x,y:b.y};_DOMElement.style.left=ROUND(a.x)+"px";_DOMElement.style.top=ROUND(a.y)+"px"}}),
new objj_method(sel_getUid("setFrameSize:"),function(a,b,e){with(a){b=_frame.size;if(!e||b.width==e.width&&b.height==e.height)return;var c={width:b.width,height:b.height};b.width=e.width;b.height=e.height;if(YES)_bounds.size.width=e.width,_bounds.size.height=e.height;_layer&&objj_msgSend(_layer,"_owningViewBoundsChanged");_autoresizesSubviews&&objj_msgSend(a,"resizeSubviewsWithOldSize:",c);objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES);_DOMElement.style.width=MAX(0,ROUND(b.width))+
"px";_DOMElement.style.height=MAX(0,ROUND(b.height))+"px";if(_DOMContentsElement)_DOMContentsElement.width=MAX(0,ROUND(b.width)),_DOMContentsElement.height=MAX(0,ROUND(b.height)),_DOMContentsElement.style.width=MAX(0,ROUND(b.width))+"px",_DOMContentsElement.style.height=MAX(0,ROUND(b.height))+"px";if(_backgroundType!==0)if(_backgroundType===4)_DOMImageParts[0].style.width=MAX(0,ROUND(b.width))+"px",_DOMImageParts[0].style.height=MAX(0,ROUND(b.height))+"px";else if(objj_msgSend(objj_msgSend(_backgroundColor,
"patternImage"),"imageSlices"),_backgroundType===1)_DOMImageParts[1].style.width=MAX(0,ROUND(b.width))+"px",_DOMImageParts[1].style.height=MAX(0,ROUND(b.height-_DOMImageSizes[0].height-_DOMImageSizes[2].height))+"px";else if(_backgroundType===2)_DOMImageParts[1].style.width=MAX(0,ROUND(b.width-_DOMImageSizes[0].width-_DOMImageSizes[2].width))+"px",_DOMImageParts[1].style.height=MAX(0,ROUND(b.height))+"px";else if(_backgroundType===3)e=b.width-_DOMImageSizes[0].width-_DOMImageSizes[2].width,b=b.height-
_DOMImageSizes[0].height-_DOMImageSizes[6].height,_DOMImageParts[1].style.width=MAX(0,ROUND(e))+"px",_DOMImageParts[1].style.height=MAX(0,ROUND(_DOMImageSizes[0].height))+"px",_DOMImageParts[3].style.width=MAX(0,ROUND(_DOMImageSizes[3].width))+"px",_DOMImageParts[3].style.height=MAX(0,ROUND(b))+"px",_DOMImageParts[4].style.width=MAX(0,ROUND(e))+"px",_DOMImageParts[4].style.height=MAX(0,ROUND(b))+"px",_DOMImageParts[5].style.width=MAX(0,ROUND(_DOMImageSizes[5].width))+"px",_DOMImageParts[5].style.height=
MAX(0,ROUND(b))+"px",_DOMImageParts[7].style.width=MAX(0,ROUND(e))+"px",_DOMImageParts[7].style.height=MAX(0,ROUND(_DOMImageSizes[7].height))+"px";_postsFrameChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications&&objj_msgSend(d,"postNotificationName:object:",CPViewFrameDidChangeNotification,a)}}),new objj_method(sel_getUid("setBounds:"),function(a,b,e){with(a){if(_bounds.origin.x==e.origin.x&&_bounds.origin.y==e.origin.y&&_bounds.size.width==e.size.width&&_bounds.size.height==e.size.height)return;
_inhibitFrameAndBoundsChangedNotifications=YES;objj_msgSend(a,"setBoundsOrigin:",e.origin);objj_msgSend(a,"setBoundsSize:",e.size);_inhibitFrameAndBoundsChangedNotifications=NO;_postsBoundsChangedNotifications&&objj_msgSend(d,"postNotificationName:object:",CPViewBoundsDidChangeNotification,a)}}),new objj_method(sel_getUid("bounds"),function(a){with(a)return{origin:{x:_bounds.origin.x,y:_bounds.origin.y},size:{width:_bounds.size.width,height:_bounds.size.height}}}),new objj_method(sel_getUid("boundsOrigin"),
function(a){with(a)return{x:_bounds.origin.x,y:_bounds.origin.y}}),new objj_method(sel_getUid("boundsSize"),function(a){with(a)return{width:_bounds.size.width,height:_bounds.size.height}}),new objj_method(sel_getUid("setBoundsOrigin:"),function(a,b,e){with(a){b=_bounds.origin;if(b.x==e.x&&b.y==e.y)return;b.x=e.x;b.y=e.y;b.x!=0||b.y!=0?(_boundsTransform={a:1,b:0,c:0,d:1,tx:-b.x,ty:-b.y},_inverseBoundsTransform=CGAffineTransformInvert(_boundsTransform)):_inverseBoundsTransform=_boundsTransform=nil;
for(e=_subviews.length;e--;){var c=_subviews[e];b=c._frame.origin;b=_boundsTransform?{x:CGPointMake(b.x,b.y).x*_boundsTransform.a+CGPointMake(b.x,b.y).y*_boundsTransform.c+_boundsTransform.tx,y:CGPointMake(b.x,b.y).x*_boundsTransform.b+CGPointMake(b.x,b.y).y*_boundsTransform.d+_boundsTransform.ty}:{x:b.x,y:b.y};c._DOMElement.style.left=ROUND(b.x)+"px";c._DOMElement.style.top=ROUND(b.y)+"px"}_postsBoundsChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications&&objj_msgSend(d,"postNotificationName:object:",
CPViewBoundsDidChangeNotification,a)}}),new objj_method(sel_getUid("setBoundsSize:"),function(a,b,e){with(a){b=_bounds.size;if(b.width==e.width&&b.height==e.height)return;var c=_frame.size;if(!(b.width==c.width&&b.height==c.height)){var i=_bounds.origin;i.x/=b.width/c.width;i.y/=b.height/c.height}b.width=e.width;b.height=e.height;if(!(b.width==c.width&&b.height==c.height))i=_bounds.origin,i.x*=b.width/c.width,i.y*=b.height/c.height;_postsBoundsChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications&&
objj_msgSend(d,"postNotificationName:object:",CPViewBoundsDidChangeNotification,a)}}),new objj_method(sel_getUid("resizeWithOldSuperviewSize:"),function(a,b,e){with(a){b=objj_msgSend(a,"autoresizingMask");if(b==CPViewNotSizable)return;var c=_superview._frame,i={origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:_frame.size.width,height:_frame.size.height}},j=(c.size.width-e.width)/((b&CPViewMinXMargin?1:0)+(b&CPViewWidthSizable?1:0)+(b&CPViewMaxXMargin?1:0));e=(c.size.height-e.height)/((b&CPViewMinYMargin?
1:0)+(b&CPViewHeightSizable?1:0)+(b&CPViewMaxYMargin?1:0));b&CPViewMinXMargin&&(i.origin.x+=j);b&CPViewWidthSizable&&(i.size.width+=j);b&CPViewMinYMargin&&(i.origin.y+=e);b&CPViewHeightSizable&&(i.size.height+=e);objj_msgSend(a,"setFrame:",i)}}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(a,b,e){with(a)for(a=_subviews.length;a--;)objj_msgSend(_subviews[a],"resizeWithOldSuperviewSize:",e)}),new objj_method(sel_getUid("setAutoresizesSubviews:"),function(a,b,e){with(a)_autoresizesSubviews=
!!e}),new objj_method(sel_getUid("autoresizesSubviews"),function(a){with(a)return _autoresizesSubviews}),new objj_method(sel_getUid("setAutoresizingMask:"),function(a,b,e){with(a)_autoresizingMask=e}),new objj_method(sel_getUid("autoresizingMask"),function(a){with(a)return _autoresizingMask}),new objj_method(sel_getUid("enterFullScreenMode"),function(a){with(a)return objj_msgSend(a,"enterFullScreenMode:withOptions:",nil,nil)}),new objj_method(sel_getUid("enterFullScreenMode:withOptions:"),function(a){with(a){var b=
a._superview;_fullScreenModeState={autoresizingMask:a._autoresizingMask,frame:CGRectMakeCopy(a._frame),index:b?objj_msgSend(b._subviews,"indexOfObjectIdenticalTo:",a):0,superview:b};b=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",objj_msgSend(objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),"contentBounds"),CPBorderlessWindowMask);objj_msgSend(b,"setLevel:",CPScreenSaverWindowLevel);objj_msgSend(b,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
var e=objj_msgSend(b,"contentView");objj_msgSend(e,"setBackgroundColor:",objj_msgSend(CPColor,"blackColor"));objj_msgSend(e,"addSubview:",a);objj_msgSend(a,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);objj_msgSend(a,"setFrame:",CGRectMakeCopy(objj_msgSend(e,"bounds")));objj_msgSend(b,"makeKeyAndOrderFront:",a);objj_msgSend(b,"makeFirstResponder:",a);return _isInFullScreenMode=YES}}),new objj_method(sel_getUid("exitFullScreenMode"),function(a){with(a)objj_msgSend(a,"exitFullScreenModeWithOptions:",
nil)}),new objj_method(sel_getUid("exitFullScreenModeWithOptions:"),function(a){with(a){if(!_isInFullScreenMode)return;_isInFullScreenMode=NO;objj_msgSend(a,"setFrame:",_fullScreenModeState.frame);objj_msgSend(a,"setAutoresizingMask:",_fullScreenModeState.autoresizingMask);objj_msgSend(_fullScreenModeState.superview,"_insertSubview:atIndex:",a,_fullScreenModeState.index);objj_msgSend(objj_msgSend(a,"window"),"orderOut:",a)}}),new objj_method(sel_getUid("isInFullScreenMode"),function(a){with(a)return _isInFullScreenMode}),
new objj_method(sel_getUid("setHidden:"),function(a,b,e){with(a){e=!!e;if(_isHidden===e)return;_isHidden=e;_DOMElement.style.display=_isHidden?"none":"block";if(e){b=objj_msgSend(_window,"firstResponder");if(objj_msgSend(b,"isKindOfClass:",objj_msgSend(CPView,"class"))){do if(a==b){objj_msgSend(_window,"makeFirstResponder:",objj_msgSend(a,"nextValidKeyView"));break}while(b=objj_msgSend(b,"superview"))}objj_msgSend(a,"_notifyViewDidHide")}else objj_msgSend(a,"_notifyViewDidUnhide")}}),new objj_method(sel_getUid("_notifyViewDidHide"),
function(a){with(a){objj_msgSend(a,"viewDidHide");for(a=objj_msgSend(_subviews,"count");a--;)objj_msgSend(_subviews[a],"_notifyViewDidHide")}}),new objj_method(sel_getUid("_notifyViewDidUnhide"),function(a){with(a){objj_msgSend(a,"viewDidUnhide");for(a=objj_msgSend(_subviews,"count");a--;)objj_msgSend(_subviews[a],"_notifyViewDidUnhide")}}),new objj_method(sel_getUid("isHidden"),function(a){with(a)return _isHidden}),new objj_method(sel_getUid("setClipsToBounds:"),function(a,b,e){with(a){if(_clipsToBounds===
e)return;_clipsToBounds=e;_DOMElement.style.overflow=_clipsToBounds?"hidden":"visible"}}),new objj_method(sel_getUid("clipsToBounds"),function(a){with(a)return _clipsToBounds}),new objj_method(sel_getUid("setAlphaValue:"),function(a,b,e){with(a){if(_opacity==e)return;_opacity=e;if(CPFeatureIsCompatible(CPOpacityRequiresFilterFeature))if(e===1)try{_DOMElement.style.removeAttribute("filter")}catch(c){}else _DOMElement.style.filter="alpha(opacity="+e*100+")";else _DOMElement.style.opacity=e}}),new objj_method(sel_getUid("alphaValue"),
function(a){with(a)return _opacity}),new objj_method(sel_getUid("isHiddenOrHasHiddenAncestor"),function(a){with(a){for(;a&&!objj_msgSend(a,"isHidden");)a=objj_msgSend(a,"superview");return a!==nil}}),new objj_method(sel_getUid("viewDidHide"),function(a){with(a);}),new objj_method(sel_getUid("viewDidUnhide"),function(a){with(a);}),new objj_method(sel_getUid("acceptsFirstMouse:"),function(a){with(a)return YES}),new objj_method(sel_getUid("hitTests"),function(a){with(a)return _hitTests}),new objj_method(sel_getUid("setHitTests:"),
function(a,b,e){with(a)_hitTests=!!e}),new objj_method(sel_getUid("hitTest:"),function(a,b,e){with(a){if(_isHidden||!_hitTests||!CPRectContainsPoint(_frame,e))return nil;b=nil;var c=_subviews.length;e={x:e.x-_frame.origin.x,y:e.y-_frame.origin.y};for(_inverseBoundsTransform&&(e={x:e.x*_inverseBoundsTransform.a+e.y*_inverseBoundsTransform.c+_inverseBoundsTransform.tx,y:e.x*_inverseBoundsTransform.b+e.y*_inverseBoundsTransform.d+_inverseBoundsTransform.ty});c--;)if(b=objj_msgSend(_subviews[c],"hitTest:",
e))return b;return a}}),new objj_method(sel_getUid("needsPanelToBecomeKey"),function(a){with(a)return NO}),new objj_method(sel_getUid("mouseDownCanMoveWindow"),function(a){with(a)return!objj_msgSend(a,"isOpaque")}),new objj_method(sel_getUid("mouseDown:"),function(a,b,e){with(a)objj_msgSend(a,"mouseDownCanMoveWindow")&&objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPView").super_class},"mouseDown:",e)}),new objj_method(sel_getUid("rightMouseDown:"),function(a,b,e){with(a)(b=objj_msgSend(a,
"menuForEvent:",e))?objj_msgSend(CPMenu,"popUpContextMenu:withEvent:forView:",b,e,a):objj_msgSend(objj_msgSend(a,"nextResponder"),"isKindOfClass:",CPView)?objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPView").super_class},"rightMouseDown:",e):objj_msgSend(objj_msgSend(objj_msgSend(e,"window"),"platformWindow"),"_propagateContextMenuDOMEvent:",YES)}),new objj_method(sel_getUid("menuForEvent:"),function(a){with(a)return objj_msgSend(a,"menu")||objj_msgSend(objj_msgSend(a,"class"),"defaultMenu")}),
new objj_method(sel_getUid("setBackgroundColor:"),function(a,b,e){with(a){if(_backgroundColor==e)return;e==objj_msgSend(CPNull,"null")&&(e=nil);_backgroundColor=e;e=objj_msgSend(_backgroundColor,"patternImage");var i=_backgroundColor&&(objj_msgSend(_backgroundColor,"patternImage")||objj_msgSend(_backgroundColor,"alphaComponent")>0),d=i&&objj_msgSend(_backgroundColor,"alphaComponent")<1;b=CPFeatureIsCompatible(CPCSSRGBAFeature);d=d&&!b;var j=0;objj_msgSend(e,"isThreePartImage")?(_backgroundType=objj_msgSend(e,
"isVertical")?1:2,j=3-_DOMImageParts.length):objj_msgSend(e,"isNinePartImage")?(_backgroundType=3,j=9-_DOMImageParts.length):(_backgroundType=d?4:0,j=(d?1:0)-_DOMImageParts.length);if(j>0)for(;j--;){var g=c.cloneNode(!1);g.style.zIndex=-1E3;_DOMImageParts.push(g);_DOMElement.appendChild(g)}else for(j=-j;j--;)_DOMElement.removeChild(_DOMImageParts.pop());if(_backgroundType===0||_backgroundType===4)b=i?objj_msgSend(_backgroundColor,"cssString"):"",d?(_DOMElement.style.background="",_DOMImageParts[0].style.background=
objj_msgSend(_backgroundColor,"cssString"),CPFeatureIsCompatible(CPOpacityRequiresFilterFeature)?_DOMImageParts[0].style.filter="alpha(opacity="+objj_msgSend(_backgroundColor,"alphaComponent")*100+")":_DOMImageParts[0].style.opacity=objj_msgSend(_backgroundColor,"alphaComponent"),e=objj_msgSend(a,"bounds").size,_DOMImageParts[0].style.width=MAX(0,ROUND(e.width))+"px",_DOMImageParts[0].style.height=MAX(0,ROUND(e.height))+"px"):_DOMElement.style.background=b;else{i=objj_msgSend(e,"imageSlices");d=MIN(_DOMImageParts.length,
i.length);for(a=_frame.size;d--;)if(j=i[d],e=_DOMImageSizes[d]=j?objj_msgSend(j,"size"):{width:0,height:0},_DOMImageParts[d].style.width=MAX(0,ROUND(e.width))+"px",_DOMImageParts[d].style.height=MAX(0,ROUND(e.height))+"px",_DOMImageParts[d].style.background=j?'url("'+objj_msgSend(j,"filename")+'")':"",!b)if(CPFeatureIsCompatible(CPOpacityRequiresFilterFeature))try{_DOMImageParts[d].style.removeAttribute("filter")}catch(f){}else _DOMImageParts[d].style.opacity=1;if(_backgroundType==3)b=a.width-_DOMImageSizes[0].width-
_DOMImageSizes[2].width,a=a.height-_DOMImageSizes[0].height-_DOMImageSizes[6].height,_DOMImageParts[1].style.width=MAX(0,ROUND(b))+"px",_DOMImageParts[1].style.height=MAX(0,ROUND(_DOMImageSizes[0].height))+"px",_DOMImageParts[3].style.width=MAX(0,ROUND(_DOMImageSizes[3].width))+"px",_DOMImageParts[3].style.height=MAX(0,ROUND(a))+"px",_DOMImageParts[4].style.width=MAX(0,ROUND(b))+"px",_DOMImageParts[4].style.height=MAX(0,ROUND(a))+"px",_DOMImageParts[5].style.width=MAX(0,ROUND(_DOMImageSizes[5].width))+
"px",_DOMImageParts[5].style.height=MAX(0,ROUND(a))+"px",_DOMImageParts[7].style.width=MAX(0,ROUND(b))+"px",_DOMImageParts[7].style.height=MAX(0,ROUND(_DOMImageSizes[7].height))+"px",b=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[0].style.left=ROUND(b.x)+"px",_DOMImageParts[0].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.a+CGPointMake(_DOMImageSizes[0].width,
0).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.b+CGPointMake(_DOMImageSizes[0].width,0).y*NULL.d+NULL.ty}:{x:_DOMImageSizes[0].width,y:0},_DOMImageParts[1].style.left=ROUND(b.x)+"px",_DOMImageParts[1].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[2].style.right=ROUND(b.x)+"px",_DOMImageParts[2].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(0,
_DOMImageSizes[1].height).x*NULL.a+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.c+NULL.tx,y:CGPointMake(0,_DOMImageSizes[1].height).x*NULL.b+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.d+NULL.ty}:{x:0,y:_DOMImageSizes[1].height},_DOMImageParts[3].style.left=ROUND(b.x)+"px",_DOMImageParts[3].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(_DOMImageSizes[0].width,_DOMImageSizes[0].height).x*NULL.a+CGPointMake(_DOMImageSizes[0].width,_DOMImageSizes[0].height).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[0].width,
_DOMImageSizes[0].height).x*NULL.b+CGPointMake(_DOMImageSizes[0].width,_DOMImageSizes[0].height).y*NULL.d+NULL.ty}:{x:_DOMImageSizes[0].width,y:_DOMImageSizes[0].height},_DOMImageParts[4].style.left=ROUND(b.x)+"px",_DOMImageParts[4].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(0,_DOMImageSizes[1].height).x*NULL.a+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.c+NULL.tx,y:CGPointMake(0,_DOMImageSizes[1].height).x*NULL.b+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.d+NULL.ty}:{x:0,y:_DOMImageSizes[1].height},
_DOMImageParts[5].style.right=ROUND(b.x)+"px",_DOMImageParts[5].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[6].style.left=ROUND(b.x)+"px",_DOMImageParts[6].style.bottom=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(_DOMImageSizes[6].width,0).x*NULL.a+CGPointMake(_DOMImageSizes[6].width,0).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[6].width,0).x*NULL.b+CGPointMake(_DOMImageSizes[6].width,
0).y*NULL.d+NULL.ty}:{x:_DOMImageSizes[6].width,y:0},_DOMImageParts[7].style.left=ROUND(b.x)+"px",_DOMImageParts[7].style.bottom=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[8].style.right=ROUND(b.x)+"px",_DOMImageParts[8].style.bottom=ROUND(b.y)+"px";else if(_backgroundType==1)_DOMImageParts[1].style.width=MAX(0,ROUND(a.width))+"px",_DOMImageParts[1].style.height=MAX(0,
ROUND(a.height-_DOMImageSizes[0].height-_DOMImageSizes[2].height))+"px",b=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[0].style.left=ROUND(b.x)+"px",_DOMImageParts[0].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(0,_DOMImageSizes[0].height).x*NULL.a+CGPointMake(0,_DOMImageSizes[0].height).y*NULL.c+NULL.tx,y:CGPointMake(0,_DOMImageSizes[0].height).x*NULL.b+CGPointMake(0,_DOMImageSizes[0].height).y*
NULL.d+NULL.ty}:{x:0,y:_DOMImageSizes[0].height},_DOMImageParts[1].style.left=ROUND(b.x)+"px",_DOMImageParts[1].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[2].style.left=ROUND(b.x)+"px",_DOMImageParts[2].style.bottom=ROUND(b.y)+"px";else if(_backgroundType==2)_DOMImageParts[1].style.width=MAX(0,ROUND(a.width-_DOMImageSizes[0].width-_DOMImageSizes[2].width))+"px",
_DOMImageParts[1].style.height=MAX(0,ROUND(a.height))+"px",b=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[0].style.left=ROUND(b.x)+"px",_DOMImageParts[0].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.a+CGPointMake(_DOMImageSizes[0].width,0).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.b+CGPointMake(_DOMImageSizes[0].width,0).y*NULL.d+
NULL.ty}:{x:_DOMImageSizes[0].width,y:0},_DOMImageParts[1].style.left=ROUND(b.x)+"px",_DOMImageParts[1].style.top=ROUND(b.y)+"px",b=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[2].style.right=ROUND(b.x)+"px",_DOMImageParts[2].style.top=ROUND(b.y)+"px"}}}),new objj_method(sel_getUid("backgroundColor"),function(a){with(a)return _backgroundColor}),new objj_method(sel_getUid("convertPoint:fromView:"),
function(a,b,e,c){with(a)return CGPointApplyAffineTransform(e,i(c,a))}),new objj_method(sel_getUid("convertPointFromBase:"),function(a,b,e){with(a)return CGPointApplyAffineTransform(e,i(nil,a))}),new objj_method(sel_getUid("convertPoint:toView:"),function(a,b,e,c){with(a)return CGPointApplyAffineTransform(e,i(a,c))}),new objj_method(sel_getUid("convertPointToBase:"),function(a,b,e){with(a)return CGPointApplyAffineTransform(e,i(a,nil))}),new objj_method(sel_getUid("convertSize:fromView:"),function(a,
b,e,c){with(a)return CGSizeApplyAffineTransform(e,i(c,a))}),new objj_method(sel_getUid("convertSize:toView:"),function(a,b,e,c){with(a)return CGSizeApplyAffineTransform(e,i(a,c))}),new objj_method(sel_getUid("convertRect:fromView:"),function(a,b,e,c){with(a)return CGRectApplyAffineTransform(e,i(c,a))}),new objj_method(sel_getUid("convertRectFromBase:"),function(a,b,e){with(a)return CGRectApplyAffineTransform(e,i(nil,a))}),new objj_method(sel_getUid("convertRect:toView:"),function(a,b,e,c){with(a)return CGRectApplyAffineTransform(e,
i(a,c))}),new objj_method(sel_getUid("convertRectToBase:"),function(a,b,e){with(a)return CGRectApplyAffineTransform(e,i(a,nil))}),new objj_method(sel_getUid("setPostsFrameChangedNotifications:"),function(a,b,e){with(a){e=!!e;if(_postsFrameChangedNotifications===e)return;(_postsFrameChangedNotifications=e)&&objj_msgSend(d,"postNotificationName:object:",CPViewFrameDidChangeNotification,a)}}),new objj_method(sel_getUid("postsFrameChangedNotifications"),function(a){with(a)return _postsFrameChangedNotifications}),
new objj_method(sel_getUid("setPostsBoundsChangedNotifications:"),function(a,b,e){with(a){e=!!e;if(_postsBoundsChangedNotifications===e)return;(_postsBoundsChangedNotifications=e)&&objj_msgSend(d,"postNotificationName:object:",CPViewBoundsDidChangeNotification,a)}}),new objj_method(sel_getUid("postsBoundsChangedNotifications"),function(a){with(a)return _postsBoundsChangedNotifications}),new objj_method(sel_getUid("dragImage:at:offset:event:pasteboard:source:slideBack:"),function(a,b,e,c,i,j,d,g,f){with(a)objj_msgSend(_window,
"dragImage:at:offset:event:pasteboard:source:slideBack:",e,objj_msgSend(a,"convertPoint:toView:",c,nil),i,j,d,g,f)}),new objj_method(sel_getUid("dragView:at:offset:event:pasteboard:source:slideBack:"),function(a,b,e,c,i,j,d,g,f){with(a)objj_msgSend(_window,"dragView:at:offset:event:pasteboard:source:slideBack:",e,objj_msgSend(a,"convertPoint:toView:",c,nil),i,j,d,g,f)}),new objj_method(sel_getUid("registerForDraggedTypes:"),function(a,b,e){with(a){if(!e||!objj_msgSend(e,"count"))return;a=objj_msgSend(a,
"window");objj_msgSend(a,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes);objj_msgSend(_registeredDraggedTypes,"addObjectsFromArray:",e);objj_msgSend(a,"_noteRegisteredDraggedTypes:",_registeredDraggedTypes);_registeredDraggedTypesArray=nil}}),new objj_method(sel_getUid("registeredDraggedTypes"),function(a){with(a)return _registeredDraggedTypesArray||(_registeredDraggedTypesArray=objj_msgSend(_registeredDraggedTypes,"allObjects")),_registeredDraggedTypesArray}),new objj_method(sel_getUid("unregisterDraggedTypes"),
function(a){with(a)objj_msgSend(objj_msgSend(a,"window"),"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes),_registeredDraggedTypes=objj_msgSend(CPSet,"set"),_registeredDraggedTypesArray=[]}),new objj_method(sel_getUid("drawRect:"),function(a){with(a);}),new objj_method(sel_getUid("setNeedsDisplay:"),function(a,b,e){with(a)e&&objj_msgSend(a,"setNeedsDisplayInRect:",objj_msgSend(a,"bounds"))}),new objj_method(sel_getUid("setNeedsDisplayInRect:"),function(a,b,e){with(a){if(!(_viewClassFlags&
1))return;if(e.size.width<=0||e.size.height<=0)return;_dirtyRect=_dirtyRect&&!(_dirtyRect.size.width<=0||_dirtyRect.size.height<=0)?CGRectUnion(e,_dirtyRect):{origin:{x:e.origin.x,y:e.origin.y},size:{width:e.size.width,height:e.size.height}};_CPDisplayServerAddDisplayObject(a)}}),new objj_method(sel_getUid("needsDisplay"),function(a){with(a)return _dirtyRect&&!(_dirtyRect.size.width<=0||_dirtyRect.size.height<=0)}),new objj_method(sel_getUid("displayIfNeeded"),function(a){with(a)objj_msgSend(a,"needsDisplay")&&
objj_msgSend(a,"displayRect:",_dirtyRect)}),new objj_method(sel_getUid("display"),function(a){with(a)objj_msgSend(a,"displayRect:",objj_msgSend(a,"visibleRect"))}),new objj_method(sel_getUid("displayIfNeededInRect:"),function(a,b,e){with(a)objj_msgSend(a,"needsDisplay")&&objj_msgSend(a,"displayRect:",e)}),new objj_method(sel_getUid("displayRect:"),function(a,b,e){with(a)objj_msgSend(a,"viewWillDraw"),objj_msgSend(a,"displayRectIgnoringOpacity:inContext:",e,nil),_dirtyRect=NULL}),new objj_method(sel_getUid("displayRectIgnoringOpacity:inContext:"),
function(a,b,e){with(a){if(objj_msgSend(a,"isHidden"))return;objj_msgSend(a,"lockFocus");CGContextClearRect(objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),e);objj_msgSend(a,"drawRect:",e);objj_msgSend(a,"unlockFocus")}}),new objj_method(sel_getUid("viewWillDraw"),function(a){with(a);}),new objj_method(sel_getUid("lockFocus"),function(a){with(a){if(!_graphicsContext)a=CGBitmapGraphicsContextCreate(),_DOMContentsElement=a.DOMElement,_DOMContentsElement.style.zIndex=-100,
_DOMContentsElement.style.overflow="hidden",_DOMContentsElement.style.position="absolute",_DOMContentsElement.style.visibility="visible",_DOMContentsElement.width=ROUND(_frame.size.width),_DOMContentsElement.height=ROUND(_frame.size.height),_DOMContentsElement.style.top="0px",_DOMContentsElement.style.left="0px",_DOMContentsElement.style.width=ROUND(_frame.size.width)+"px",_DOMContentsElement.style.height=ROUND(_frame.size.height)+"px",_DOMElement.appendChild(_DOMContentsElement),_graphicsContext=
objj_msgSend(CPGraphicsContext,"graphicsContextWithGraphicsPort:flipped:",a,YES);objj_msgSend(CPGraphicsContext,"setCurrentContext:",_graphicsContext);CGContextSaveGState(objj_msgSend(_graphicsContext,"graphicsPort"))}}),new objj_method(sel_getUid("unlockFocus"),function(a){with(a)CGContextRestoreGState(objj_msgSend(_graphicsContext,"graphicsPort")),objj_msgSend(CPGraphicsContext,"setCurrentContext:",nil)}),new objj_method(sel_getUid("setNeedsLayout"),function(a){with(a){if(!(_viewClassFlags&2))return;
_needsLayout=YES;_CPDisplayServerAddLayoutObject(a)}}),new objj_method(sel_getUid("layoutIfNeeded"),function(a){with(a)_needsLayout&&(_needsLayout=NO,objj_msgSend(a,"layoutSubviews"))}),new objj_method(sel_getUid("layoutSubviews"),function(a){with(a);}),new objj_method(sel_getUid("isOpaque"),function(a){with(a)return NO}),new objj_method(sel_getUid("visibleRect"),function(a){with(a){if(!_superview)return _bounds;return CGRectIntersection(objj_msgSend(a,"convertRect:fromView:",objj_msgSend(_superview,
"visibleRect"),_superview),_bounds)}}),new objj_method(sel_getUid("_enclosingClipView"),function(a){with(a){a=_superview;for(var b=objj_msgSend(CPClipView,"class");a&&!objj_msgSend(a,"isKindOfClass:",b);)a=a._superview;return a}}),new objj_method(sel_getUid("scrollPoint:"),function(a,b,e){with(a){b=objj_msgSend(a,"_enclosingClipView");if(!b)return;objj_msgSend(b,"scrollToPoint:",objj_msgSend(a,"convertPoint:toView:",e,b))}}),new objj_method(sel_getUid("scrollRectToVisible:"),function(a,b,e){with(a){b=
objj_msgSend(a,"visibleRect");e=CGRectIntersection(e,_bounds);if(e.size.width<=0||e.size.height<=0||CGRectContainsRect(b,e))return NO;a=objj_msgSend(a,"_enclosingClipView");if(!a)return NO;var c={x:b.origin.x,y:b.origin.y};e.origin.x<=b.origin.x?c.x=e.origin.x:e.origin.x+e.size.width>b.origin.x+b.size.width&&(c.x+=e.origin.x+e.size.width-(b.origin.x+b.size.width));e.origin.y<=b.origin.y?c.y=CGRectGetMinY(e):e.origin.y+e.size.height>b.origin.y+b.size.height&&(c.y+=e.origin.y+e.size.height-(b.origin.y+
b.size.height));objj_msgSend(a,"scrollToPoint:",CGPointMake(c.x,c.y));return YES}}),new objj_method(sel_getUid("autoscroll:"),function(a,b,e){with(a)return objj_msgSend(objj_msgSend(a,"superview"),"autoscroll:",e)}),new objj_method(sel_getUid("adjustScroll:"),function(a,b,e){with(a)return e}),new objj_method(sel_getUid("scrollRect:by:"),function(a){with(a);}),new objj_method(sel_getUid("enclosingScrollView"),function(a){with(a){a=_superview;for(var b=objj_msgSend(CPScrollView,"class");a&&!objj_msgSend(a,
"isKindOfClass:",b);)a=a._superview;return a}}),new objj_method(sel_getUid("scrollClipView:toPoint:"),function(a,b,e,c){with(a)objj_msgSend(e,"scrollToPoint:",c)}),new objj_method(sel_getUid("reflectScrolledClipView:"),function(a){with(a);})]);class_addMethods(e,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==objj_msgSend(CPView,"class"))return;c=document.createElement("div");a=c.style;a.overflow="hidden";a.position="absolute";a.visibility="visible";a.zIndex=0;d=objj_msgSend(CPNotificationCenter,
"defaultCenter")}}),new objj_method(sel_getUid("keyPathsForValuesAffectingFrame"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","frameOrigin","frameSize")}),new objj_method(sel_getUid("keyPathsForValuesAffectingBounds"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","boundsOrigin","boundsSize")}),new objj_method(sel_getUid("defaultMenu"),function(a){with(a)return nil})]);a=objj_getClass("CPView");if(!a)throw new SyntaxError('*** Could not find definition for class "CPView"');
e=a.isa;class_addMethods(a,[new objj_method(sel_getUid("performKeyEquivalent:"),function(a,b,e){with(a){for(a=objj_msgSend(_subviews,"count");a--;)if(objj_msgSend(_subviews[a],"performKeyEquivalent:",e))return YES;return NO}}),new objj_method(sel_getUid("canBecomeKeyView"),function(a){with(a)return objj_msgSend(a,"acceptsFirstResponder")&&!objj_msgSend(a,"isHiddenOrHasHiddenAncestor")}),new objj_method(sel_getUid("nextKeyView"),function(a){with(a)return _nextKeyView}),new objj_method(sel_getUid("nextValidKeyView"),
function(a){with(a){for(var b=a=objj_msgSend(a,"nextKeyView");a&&!objj_msgSend(a,"canBecomeKeyView");)if(a=objj_msgSend(a,"nextKeyView"),a===b)return nil;return a}}),new objj_method(sel_getUid("previousKeyView"),function(a){with(a)return _previousKeyView}),new objj_method(sel_getUid("previousValidKeyView"),function(a){with(a){for(var b=a=objj_msgSend(a,"previousKeyView");a&&!objj_msgSend(a,"canBecomeKeyView");)if(a=objj_msgSend(a,"previousKeyView"),a===b)return nil;return a}}),new objj_method(sel_getUid("_setPreviousKeyView:"),
function(a,b,e){with(a)_previousKeyView=objj_msgSend(e,"isEqual:",a)?nil:e}),new objj_method(sel_getUid("setNextKeyView:"),function(a,b,e){with(a)objj_msgSend(e,"isEqual:",a)?_nextKeyView=nil:(_nextKeyView=e,objj_msgSend(_nextKeyView,"_setPreviousKeyView:",a))})]);a=objj_getClass("CPView");if(!a)throw new SyntaxError('*** Could not find definition for class "CPView"');e=a.isa;class_addMethods(a,[new objj_method(sel_getUid("setLayer:"),function(a,b,e){with(a){if(_layer==e)return;if(_layer)_layer._owningView=
nil,_DOMElement.removeChild(_layer._DOMElement);if(_layer=e)CGRectMakeCopy(objj_msgSend(a,"bounds")),objj_msgSend(_layer,"_setOwningView:",a),_layer._DOMElement.style.zIndex=100,_DOMElement.appendChild(_layer._DOMElement)}}),new objj_method(sel_getUid("layer"),function(a){with(a)return _layer}),new objj_method(sel_getUid("setWantsLayer:"),function(a,b,e){with(a)_wantsLayer=!!e}),new objj_method(sel_getUid("wantsLayer"),function(a){with(a)return _wantsLayer})]);a=objj_getClass("CPView");if(!a)throw new SyntaxError('*** Could not find definition for class "CPView"');
e=a.isa;class_addMethods(a,[new objj_method(sel_getUid("themeState"),function(a){with(a)return _themeState}),new objj_method(sel_getUid("hasThemeState:"),function(a,b,e){with(a){if(e===CPThemeStateNormal&&_themeState===CPThemeStateNormal)return YES;return!!(_themeState&(typeof e==="string"?CPThemeState(e):e))}}),new objj_method(sel_getUid("setThemeState:"),function(a,b,e){with(a){b=typeof e==="string"?CPThemeState(e):e;if(_themeState&b)return NO;_themeState|=b;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,
"setNeedsDisplay:",YES);return YES}}),new objj_method(sel_getUid("unsetThemeState:"),function(a,b,e){with(a){b=typeof e==="string"?CPThemeState(e):e;if(!(_themeState&b))return NO;_themeState&=~b;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES);return YES}}),new objj_method(sel_getUid("themeClass"),function(a){with(a){if(_themeClass)return _themeClass;return objj_msgSend(objj_msgSend(a,"class"),"defaultThemeClass")}}),new objj_method(sel_getUid("setThemeClass:"),function(a,b,
e){with(a)_themeClass=e,objj_msgSend(a,"_loadThemeAttributes"),objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("_loadThemeAttributes"),function(a){with(a){var b=objj_msgSend(a,"class");b=objj_msgSend(b,"_themeAttributes");var e=b.length;if(!e)return;var c=objj_msgSend(a,"theme");a=objj_msgSend(a,"themeClass");for(_themeAttributes={};e--;){var i=b[e--],j=objj_msgSend(objj_msgSend(_CPThemeAttribute,"alloc"),"initWithName:defaultValue:",i,b[e]);objj_msgSend(j,
"setParentAttribute:",objj_msgSend(c,"attributeWithName:forClass:",i,a));_themeAttributes[i]=j}}}),new objj_method(sel_getUid("setTheme:"),function(a,b,e){with(a){if(_theme===e)return;_theme=e;objj_msgSend(a,"viewDidChangeTheme")}}),new objj_method(sel_getUid("theme"),function(a){with(a)return _theme}),new objj_method(sel_getUid("viewDidChangeTheme"),function(a){with(a){if(!_themeAttributes)return;var b=objj_msgSend(a,"theme"),e=objj_msgSend(a,"themeClass"),c;for(c in _themeAttributes)_themeAttributes.hasOwnProperty(c)&&
objj_msgSend(_themeAttributes[c],"setParentAttribute:",objj_msgSend(b,"attributeWithName:forClass:",c,e));objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("_themeAttributeDictionary"),function(a){with(a){var b=objj_msgSend(CPDictionary,"dictionary");if(_themeAttributes)for(var e in objj_msgSend(a,"theme"),_themeAttributes)_themeAttributes.hasOwnProperty(e)&&objj_msgSend(b,"setObject:forKey:",_themeAttributes[e],e);return b}}),new objj_method(sel_getUid("setValue:forThemeAttribute:inState:"),
function(a,b,e,c,i){with(a){(!_themeAttributes||!_themeAttributes[c])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+c+"'");b=objj_msgSend(a,"currentValueForThemeAttribute:",c);objj_msgSend(_themeAttributes[c],"setValue:forState:",e,i);if(objj_msgSend(a,"currentValueForThemeAttribute:",c)===b)return;objj_msgSend(a,"setNeedsDisplay:",YES);objj_msgSend(a,"setNeedsLayout")}}),new objj_method(sel_getUid("setValue:forThemeAttribute:"),
function(a,b,e,c){with(a){(!_themeAttributes||!_themeAttributes[c])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+c+"'");b=objj_msgSend(a,"currentValueForThemeAttribute:",c);objj_msgSend(_themeAttributes[c],"setValue:",e);if(objj_msgSend(a,"currentValueForThemeAttribute:",c)===b)return;objj_msgSend(a,"setNeedsDisplay:",YES);objj_msgSend(a,"setNeedsLayout")}}),new objj_method(sel_getUid("valueForThemeAttribute:inState:"),
function(a,b,e,c){with(a)return(!_themeAttributes||!_themeAttributes[e])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+e+"'"),objj_msgSend(_themeAttributes[e],"valueForState:",c)}),new objj_method(sel_getUid("valueForThemeAttribute:"),function(a,b,e){with(a)return(!_themeAttributes||!_themeAttributes[e])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+
e+"'"),objj_msgSend(_themeAttributes[e],"value")}),new objj_method(sel_getUid("currentValueForThemeAttribute:"),function(a,b,e){with(a)return(!_themeAttributes||!_themeAttributes[e])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+e+"'"),objj_msgSend(_themeAttributes[e],"valueForState:",_themeState)}),new objj_method(sel_getUid("hasThemeAttribute:"),function(a,b,e){with(a)return _themeAttributes&&_themeAttributes[e]!==
void 0}),new objj_method(sel_getUid("createEphemeralSubviewNamed:"),function(a){with(a)return nil}),new objj_method(sel_getUid("rectForEphemeralSubviewNamed:"),function(a){with(a)return{origin:{x:0,y:0},size:{width:0,height:0}}}),new objj_method(sel_getUid("layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:"),function(a,b,e,c,i){with(a)return _ephemeralSubviewsForNames||(_ephemeralSubviewsForNames={},_ephemeralSubviews=objj_msgSend(CPSet,"set")),(b=objj_msgSend(a,"rectForEphemeralSubviewNamed:",
e))?(_ephemeralSubviewsForNames[e]||(_ephemeralSubviewsForNames[e]=objj_msgSend(a,"createEphemeralSubviewNamed:",e),objj_msgSend(_ephemeralSubviews,"addObject:",_ephemeralSubviewsForNames[e]),_ephemeralSubviewsForNames[e]&&objj_msgSend(a,"addSubview:positioned:relativeTo:",_ephemeralSubviewsForNames[e],c,_ephemeralSubviewsForNames[i])),_ephemeralSubviewsForNames[e]&&objj_msgSend(_ephemeralSubviewsForNames[e],"setFrame:",b)):_ephemeralSubviewsForNames[e]&&(objj_msgSend(_ephemeralSubviewsForNames[e],
"removeFromSuperview"),objj_msgSend(_ephemeralSubviews,"removeObject:",_ephemeralSubviewsForNames[e]),delete _ephemeralSubviewsForNames[e]),_ephemeralSubviewsForNames[e]}),new objj_method(sel_getUid("ephemeralSubviewNamed:"),function(a,b,e){with(a){if(!_ephemeralSubviewsForNames)return nil;return _ephemeralSubviewsForNames[e]||nil}})]);class_addMethods(e,[new objj_method(sel_getUid("defaultThemeClass"),function(a){with(a)return nil}),new objj_method(sel_getUid("themeAttributes"),function(a){with(a)return nil}),
new objj_method(sel_getUid("_themeAttributes"),function(a){with(a){g||(g={});for(var b=objj_msgSend(a,"class"),e=objj_msgSend(CPView,"class"),c=[],i=objj_msgSend(CPNull,"null");b&&b!==e;b=objj_msgSend(b,"superclass")){var j=g[class_getName(b)];if(j){c=c.length?c.concat(j):c;g[objj_msgSend(a,"className")]=c;break}if(j=objj_msgSend(b,"themeAttributes"))for(var d=objj_msgSend(j,"allKeys"),f=d.length;f--;){var h=d[f],q=objj_msgSend(j,"objectForKey:",h);c.push(q===i?nil:q);c.push(h)}}return c}})]);a=objj_getClass("CPView");
if(!a)throw new SyntaxError('*** Could not find definition for class "CPView"');e=a.isa;class_addMethods(a,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,e){with(a){_DOMElement=c.cloneNode(!1);_frame=objj_msgSend(e,"decodeRectForKey:","CPViewFrameKey");_bounds=objj_msgSend(e,"decodeRectForKey:","CPViewBoundsKey");if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPView").super_class},"initWithCoder:",e)){_tag=objj_msgSend(e,"containsValueForKey:","CPViewTagKey")?objj_msgSend(e,
"decodeIntForKey:","CPViewTagKey"):-1;_window=objj_msgSend(e,"decodeObjectForKey:","CPViewWindowKey");_subviews=objj_msgSend(e,"decodeObjectForKey:","CPViewSubviewsKey")||[];_superview=objj_msgSend(e,"decodeObjectForKey:","CPViewSuperviewKey");_registeredDraggedTypes=objj_msgSend(CPSet,"set");_registeredDraggedTypesArray=[];_autoresizingMask===nil&&(_autoresizingMask=objj_msgSend(e,"decodeIntForKey:","CPViewAutoresizingMask")||CPViewNotSizable);_autoresizesSubviews=!objj_msgSend(e,"containsValueForKey:",
"CPViewAutoresizesSubviews")||objj_msgSend(e,"decodeBoolForKey:","CPViewAutoresizesSubviews");_hitTests=!objj_msgSend(e,"containsValueForKey:","CPViewHitTestsKey")||objj_msgSend(e,"decodeObjectForKey:","CPViewHitTestsKey");_DOMImageParts=[];_DOMImageSizes=[];b=NULL?{x:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.a+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.c+NULL.tx,y:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.b+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.d+NULL.ty}:
{x:_frame.origin.x,y:_frame.origin.y};_DOMElement.style.left=ROUND(b.x)+"px";_DOMElement.style.top=ROUND(b.y)+"px";_DOMElement.style.width=MAX(0,ROUND(_frame.size.width))+"px";_DOMElement.style.height=MAX(0,ROUND(_frame.size.height))+"px";var i=0;for(b=_subviews.length;i<b;++i)_DOMElement.appendChild(_subviews[i]._DOMElement);objj_msgSend(e,"containsValueForKey:","CPViewIsHiddenKey")?objj_msgSend(a,"setHidden:",objj_msgSend(e,"decodeBoolForKey:","CPViewIsHiddenKey")):_isHidden=NO;objj_msgSend(e,"containsValueForKey:",
"CPViewOpacityKey")?objj_msgSend(a,"setAlphaValue:",objj_msgSend(e,"decodeIntForKey:","CPViewOpacityKey")):_opacity=1;objj_msgSend(a,"setBackgroundColor:",objj_msgSend(e,"decodeObjectForKey:","CPViewBackgroundColor"));objj_msgSend(a,"setupViewFlags");_theme=objj_msgSend(CPTheme,"defaultTheme");_themeClass=objj_msgSend(e,"decodeObjectForKey:","CPViewThemeClassKey");_themeState=CPThemeState(objj_msgSend(e,"decodeIntForKey:","CPViewThemeStateKey"));_themeAttributes={};b=objj_msgSend(a,"class");i=objj_msgSend(a,
"themeClass");var d=objj_msgSend(b,"_themeAttributes");for(b=d.length;b--;){var j=d[b--];_themeAttributes[j]=CPThemeAttributeDecode(e,j,d[b],_theme,i)}objj_msgSend(a,"setNeedsDisplay:",YES);objj_msgSend(a,"setNeedsLayout")}return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,e){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPView").super_class},"encodeWithCoder:",e);_tag!==-1&&objj_msgSend(e,"encodeInt:forKey:",_tag,"CPViewTagKey");objj_msgSend(e,"encodeRect:forKey:",
_frame,"CPViewFrameKey");objj_msgSend(e,"encodeRect:forKey:",_bounds,"CPViewBoundsKey");_window!==nil&&objj_msgSend(e,"encodeConditionalObject:forKey:",_window,"CPViewWindowKey");b=objj_msgSend(_subviews,"count");var c=_subviews;if(b>0&&objj_msgSend(_ephemeralSubviews,"count")>0)for(c=objj_msgSend(c,"copy");b--;)objj_msgSend(_ephemeralSubviews,"containsObject:",c[b])&&c.splice(b,1);c.length>0&&objj_msgSend(e,"encodeObject:forKey:",c,"CPViewSubviewsKey");_superview!==nil&&objj_msgSend(e,"encodeConditionalObject:forKey:",
_superview,"CPViewSuperviewKey");_autoresizingMask!==CPViewNotSizable&&objj_msgSend(e,"encodeInt:forKey:",_autoresizingMask,"CPViewAutoresizingMask");_autoresizesSubviews||objj_msgSend(e,"encodeBool:forKey:",_autoresizesSubviews,"CPViewAutoresizesSubviews");_backgroundColor!==nil&&objj_msgSend(e,"encodeObject:forKey:",_backgroundColor,"CPViewBackgroundColor");_hitTests!==YES&&objj_msgSend(e,"encodeBool:forKey:",_hitTests,"CPViewHitTestsKey");_opacity!==1&&objj_msgSend(e,"encodeFloat:forKey:",_opacity,
"CPViewOpacityKey");_isHidden&&objj_msgSend(e,"encodeBool:forKey:",_isHidden,"CPViewIsHiddenKey");b=objj_msgSend(a,"nextKeyView");b!==nil&&!objj_msgSend(b,"isEqual:",a)&&objj_msgSend(e,"encodeConditionalObject:forKey:",b,"CPViewNextKeyViewKey");b=objj_msgSend(a,"previousKeyView");b!==nil&&!objj_msgSend(b,"isEqual:",a)&&objj_msgSend(e,"encodeConditionalObject:forKey:",b,"CPViewPreviousKeyViewKey");objj_msgSend(e,"encodeObject:forKey:",objj_msgSend(a,"themeClass"),"CPViewThemeClassKey");objj_msgSend(e,
"encodeInt:forKey:",CPThemeStateName(_themeState),"CPViewThemeStateKey");for(var i in _themeAttributes)_themeAttributes.hasOwnProperty(i)&&CPThemeAttributeEncode(e,_themeAttributes[i])}})]);var i=function(a,b){var e=CGAffineTransformMakeIdentity(),c=YES,i=nil,j=nil;if(a){for(i=a;i&&i!=b;){var d=i._frame;e.tx+=d.origin.x;e.ty+=d.origin.y;if(i._boundsTransform){d=e.tx*i._boundsTransform.a+e.ty*i._boundsTransform.c+i._boundsTransform.tx;e.ty=e.tx*i._boundsTransform.b+e.ty*i._boundsTransform.d+i._boundsTransform.ty;
e.tx=d;d=e.a*i._boundsTransform.a+e.b*i._boundsTransform.c;var g=e.a*i._boundsTransform.b+e.b*i._boundsTransform.d,f=e.c*i._boundsTransform.a+e.d*i._boundsTransform.c;e.d=e.c*i._boundsTransform.b+e.d*i._boundsTransform.d;e.a=d;e.b=g;e.c=f}i=i._superview}if(i===b)return e;else a&&b&&(i=objj_msgSend(a,"window"),j=objj_msgSend(b,"window"),i&&j&&i!==j&&(c=NO,d=objj_msgSend(i,"frame"),e.tx+=d.origin.x,e.ty+=d.origin.y))}for(i=b;i;){d=i._frame;e.tx-=d.origin.x;e.ty-=d.origin.y;if(i._boundsTransform)d=e.tx*
i._inverseBoundsTransform.a+e.ty*i._inverseBoundsTransform.c+i._inverseBoundsTransform.tx,e.ty=e.tx*i._inverseBoundsTransform.b+e.ty*i._inverseBoundsTransform.d+i._inverseBoundsTransform.ty,e.tx=d,d=e.a*i._inverseBoundsTransform.a+e.b*i._inverseBoundsTransform.c,g=e.a*i._inverseBoundsTransform.b+e.b*i._inverseBoundsTransform.d,f=e.c*i._inverseBoundsTransform.a+e.d*i._inverseBoundsTransform.c,e.d=e.c*i._inverseBoundsTransform.b+e.d*i._inverseBoundsTransform.d,e.a=d,e.b=g,e.c=f;i=i._superview}c||(d=
objj_msgSend(j,"frame"),e.tx-=d.origin.x,e.ty-=d.origin.y);return e}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPTextField.j",baseURL),function(h,f){f("CPControl.j",YES);f("CPStringDrawing.j",YES);f("CPCompatibility.j",YES);f("_CPImageAndTextView.j",YES);CPTextFieldSquareBezel=0;CPTextFieldRoundedBezel=1;CPTextFieldDidFocusNotification="CPTextFieldDidFocusNotification";CPTextFieldDidBlurNotification="CPTextFieldDidBlurNotification";var d=nil,g=nil,c=nil,b=nil,a=NO,e=NO,i=NO,k=nil,n=nil,o=nil,m=objj_getClass("CPString");if(!m)throw new SyntaxError('*** Could not find definition for class "CPString"');
var l=m.isa;class_addMethods(m,[new objj_method(sel_getUid("string"),function(a){with(a)return a})]);CPTextFieldStateRounded=CPThemeState("rounded");CPTextFieldStatePlaceholder=CPThemeState("placeholder");m=objj_allocateClassPair(CPControl,"CPTextField");l=m.isa;class_addIvars(m,[new objj_ivar("_isEditing"),new objj_ivar("_isEditable"),new objj_ivar("_isSelectable"),new objj_ivar("_isSecure"),new objj_ivar("_willBecomeFirstResponderByClick"),new objj_ivar("_drawsBackground"),new objj_ivar("_textFieldBackgroundColor"),
new objj_ivar("_placeholderString"),new objj_ivar("_delegate"),new objj_ivar("_textDidChangeValue"),new objj_ivar("_bezelStyle"),new objj_ivar("_isBordered"),new objj_ivar("_controlSize")]);objj_registerClassPair(m);class_addMethods(m,[new objj_method(sel_getUid("_inputElement"),function(i){with(i){if(!d)d=document.createElement("input"),d.style.position="absolute",d.style.border="0px",d.style.padding="0px",d.style.margin="0px",d.style.whiteSpace="pre",d.style.background="transparent",d.style.outline=
"none",o=function(c){if(!(b&&b._DOMElement!=d.parentNode))if(a)return CPTextFieldHandleBlur(c,d),e=YES,!0;else objj_msgSend(objj_msgSend(b,"window"),"makeFirstResponder:",nil)},CPTextFieldHandleBlur=function(){b=nil;objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode)},d.onblur=o,c=d;if(CPFeatureIsCompatible(CPInputTypeCanBeChangedFeature))return d.type=objj_msgSend(i,"isSecure")?"password":"text",d;if(objj_msgSend(i,"isSecure")){if(!g)g=document.createElement("input"),
g.style.position="absolute",g.style.border="0px",g.style.padding="0px",g.style.margin="0px",g.style.whiteSpace="pre",g.style.background="transparent",g.style.outline="none",g.type="password",g.onblur=o;d=g}else d=c;return d}}),new objj_method(sel_getUid("initWithFrame:"),function(a,b,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"initWithFrame:",e))objj_msgSend(a,"setStringValue:",""),objj_msgSend(a,"setPlaceholderString:",""),_sendActionOn=CPKeyUpMask|
CPKeyDownMask,objj_msgSend(a,"setValue:forThemeAttribute:",CPLeftTextAlignment,"alignment");return a}}),new objj_method(sel_getUid("setEditable:"),function(a,b,e){with(a){if(_isEditable===e)return;(_isEditable=e)&&(_isSelectable=YES);!e&&objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a&&objj_msgSend(objj_msgSend(a,"window"),"makeFirstResponder:",nil)}}),new objj_method(sel_getUid("isEditable"),function(a){with(a)return _isEditable}),new objj_method(sel_getUid("setEnabled:"),function(a,
b,e){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"setEnabled:",e),!e&&objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a&&objj_msgSend(objj_msgSend(a,"window"),"makeFirstResponder:",nil)}),new objj_method(sel_getUid("setSelectable:"),function(a,b,e){with(a)_isSelectable=e}),new objj_method(sel_getUid("isSelectable"),function(a){with(a)return _isSelectable}),new objj_method(sel_getUid("setSecure:"),function(a,b,e){with(a)_isSecure=e}),new objj_method(sel_getUid("isSecure"),
function(a){with(a)return _isSecure}),new objj_method(sel_getUid("setBezeled:"),function(a,b,e){with(a)e?objj_msgSend(a,"setThemeState:",CPThemeStateBezeled):objj_msgSend(a,"unsetThemeState:",CPThemeStateBezeled)}),new objj_method(sel_getUid("isBezeled"),function(a){with(a)return objj_msgSend(a,"hasThemeState:",CPThemeStateBezeled)}),new objj_method(sel_getUid("setBezelStyle:"),function(a,b,e){with(a)e===CPTextFieldRoundedBezel?objj_msgSend(a,"setThemeState:",CPTextFieldStateRounded):objj_msgSend(a,
"unsetThemeState:",CPTextFieldStateRounded)}),new objj_method(sel_getUid("bezelStyle"),function(a){with(a){if(objj_msgSend(a,"hasThemeState:",CPTextFieldStateRounded))return CPTextFieldRoundedBezel;return CPTextFieldSquareBezel}}),new objj_method(sel_getUid("setBordered:"),function(a,b,e){with(a)e?objj_msgSend(a,"setThemeState:",CPThemeStateBordered):objj_msgSend(a,"unsetThemeState:",CPThemeStateBordered)}),new objj_method(sel_getUid("isBordered"),function(a){with(a)return objj_msgSend(a,"hasThemeState:",
CPThemeStateBordered)}),new objj_method(sel_getUid("setDrawsBackground:"),function(a,b,e){with(a){if(_drawsBackground==e)return;_drawsBackground=e;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("drawsBackground"),function(a){with(a)return _drawsBackground}),new objj_method(sel_getUid("setTextFieldBackgroundColor:"),function(a,e,b){with(a){if(_textFieldBackgroundColor==b)return;_textFieldBackgroundColor=b;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,
"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("textFieldBackgroundColor"),function(a){with(a)return _textFieldBackgroundColor}),new objj_method(sel_getUid("acceptsFirstResponder"),function(a){with(a)return objj_msgSend(a,"isEditable")&&objj_msgSend(a,"isEnabled")}),new objj_method(sel_getUid("becomeFirstResponder"),function(a){with(a){b&&objj_msgSend(b,"window")!==objj_msgSend(a,"window")&&objj_msgSend(objj_msgSend(b,"window"),"makeFirstResponder:",nil);objj_msgSend(a,"setThemeState:",CPThemeStateEditing);
objj_msgSend(a,"_updatePlaceholderState");objj_msgSend(a,"setNeedsLayout");_isEditing=NO;var e=objj_msgSend(a,"stringValue"),c=objj_msgSend(a,"_inputElement"),d=objj_msgSend(a,"currentValueForThemeAttribute:","font");objj_msgSend(d,"_getMetrics");c.value=e;c.style.color=objj_msgSend(objj_msgSend(a,"currentValueForThemeAttribute:","text-color"),"cssString");c.style.font=objj_msgSend(d,"cssString");c.style.zIndex=1E3;switch(objj_msgSend(a,"alignment")){case CPCenterTextAlignment:c.style.textAlign="center";
break;case CPRightTextAlignment:c.style.textAlign="right";break;default:c.style.textAlign="left"}e=objj_msgSend(a,"contentRectForBounds:",objj_msgSend(a,"bounds"));switch(objj_msgSend(a,"currentValueForThemeAttribute:","vertical-alignment")){case CPTopVerticalTextAlignment:var g=e.origin.y+1+"px";break;case CPCenterVerticalTextAlignment:g=e.origin.y+e.size.height/2-d._lineHeight/2+1+"px";break;case CPBottomVerticalTextAlignment:g=e.origin.y+e.size.height-d._lineHeight+"px";break;default:g=e.origin.y+
1+"px"}c.style.top=g;c.style.left=e.origin.x-1+"px";c.style.width=e.size.width+"px";c.style.height=d._lineHeight+"px";_DOMElement.appendChild(c);window.setTimeout(function(){c.focus();_willBecomeFirstResponderByClick||objj_msgSend(a,"selectText:",a);_willBecomeFirstResponderByClick=NO;objj_msgSend(a,"textDidFocus:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPTextFieldDidFocusNotification,a,nil));b=a},0);c.value=objj_msgSend(a,"stringValue");objj_msgSend(objj_msgSend(objj_msgSend(a,
"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);i=YES;if(document.attachEvent)k=objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart,n=objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.ondrag,objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.ondrag=function(){},objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart=function(){};return YES}}),new objj_method(sel_getUid("resignFirstResponder"),
function(b){with(b){objj_msgSend(b,"unsetThemeState:",CPThemeStateEditing);objj_msgSend(b,"_updatePlaceholderState");objj_msgSend(b,"setNeedsLayout");var c=objj_msgSend(b,"_inputElement");objj_msgSend(b,"stringValue")!==c.value&&objj_msgSend(b,"_setStringValue:",c.value);a=YES;i&&c.blur();e||o();a=e=NO;c.parentNode==_DOMElement&&c.parentNode.removeChild(c);i=NO;if(document.attachEvent)objj_msgSend(objj_msgSend(b,"window"),"platformWindow")._DOMBodyElement.ondrag=n,objj_msgSend(objj_msgSend(b,"window"),
"platformWindow")._DOMBodyElement.onselectstart=k,n=k=nil;_isEditing&&(_isEditing=NO,objj_msgSend(b,"textDidEndEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidEndEditingNotification,b,nil)),objj_msgSend(b,"sendsActionOnEndEditing")&&objj_msgSend(b,"sendAction:to:",objj_msgSend(b,"action"),objj_msgSend(b,"target")));objj_msgSend(b,"textDidBlur:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPTextFieldDidBlurNotification,b,nil));return YES}}),
new objj_method(sel_getUid("needsPanelToBecomeKey"),function(a){with(a)return YES}),new objj_method(sel_getUid("mouseDown:"),function(a,b,e){with(a)if(objj_msgSend(a,"isEditable")&&objj_msgSend(a,"isEnabled"))_willBecomeFirstResponderByClick=YES,objj_msgSend(objj_msgSend(a,"window"),"makeFirstResponder:",a);else if(objj_msgSend(a,"isSelectable")){if(document.attachEvent)k=objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart,n=objj_msgSend(objj_msgSend(a,"window"),
"platformWindow")._DOMBodyElement.ondrag,objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.ondrag=function(){},objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart=function(){};return objj_msgSend(objj_msgSend(objj_msgSend(e,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES)}else return objj_msgSend(objj_msgSend(a,"nextResponder"),"mouseDown:",e)}),new objj_method(sel_getUid("mouseUp:"),function(a,b,e){with(a)if(!objj_msgSend(a,"isSelectable")&&
(!objj_msgSend(a,"isEditable")||!objj_msgSend(a,"isEnabled")))objj_msgSend(objj_msgSend(a,"nextResponder"),"mouseUp:",e);else if(objj_msgSend(a,"isSelectable")){if(document.attachEvent)objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.ondrag=n,objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart=k,n=k=nil;return objj_msgSend(objj_msgSend(objj_msgSend(e,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES)}}),new objj_method(sel_getUid("mouseDragged:"),
function(a,b,e){with(a)if(!objj_msgSend(a,"isSelectable")&&(!objj_msgSend(a,"isEditable")||!objj_msgSend(a,"isEnabled")))objj_msgSend(objj_msgSend(a,"nextResponder"),"mouseDragged:",e);else if(objj_msgSend(a,"isSelectable"))return objj_msgSend(objj_msgSend(objj_msgSend(e,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES)}),new objj_method(sel_getUid("keyUp:"),function(a){with(a){var b=objj_msgSend(a,"stringValue");objj_msgSend(a,"_setStringValue:",objj_msgSend(a,"_inputElement").value);
b!==objj_msgSend(a,"stringValue")&&(_isEditing||(_isEditing=YES,objj_msgSend(a,"textDidBeginEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidBeginEditingNotification,a,nil))),objj_msgSend(a,"textDidChange:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidChangeNotification,a,nil)));objj_msgSend(objj_msgSend(objj_msgSend(a,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES)}}),new objj_method(sel_getUid("keyDown:"),
function(a,b,e){with(a){if(objj_msgSend(e,"_couldBeKeyEquivalent")&&objj_msgSend(a,"performKeyEquivalent:",e))return;objj_msgSend(objj_msgSend(objj_msgSend(a,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);objj_msgSend(a,"interpretKeyEvents:",[e]);objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode)}}),new objj_method(sel_getUid("doCommandBySelector:"),function(a,b,e){with(a)objj_msgSend(a,"respondsToSelector:",e)&&objj_msgSend(a,"performSelector:",
e)}),new objj_method(sel_getUid("insertNewline:"),function(a){with(a)_isEditing&&(_isEditing=NO,objj_msgSend(a,"textDidEndEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidEndEditingNotification,a,nil))),objj_msgSend(a,"sendAction:to:",objj_msgSend(a,"action"),objj_msgSend(a,"target")),objj_msgSend(a,"selectText:",nil),objj_msgSend(objj_msgSend(objj_msgSend(a,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",NO)}),new objj_method(sel_getUid("insertNewlineIgnoringFieldEditor:"),
function(a){with(a){var e=objj_msgSend(a,"stringValue");objj_msgSend(a,"_inputElement").value+=CPNewlineCharacter;objj_msgSend(a,"_setStringValue:",objj_msgSend(a,"_inputElement").value);e!==objj_msgSend(a,"stringValue")&&(_isEditing||(_isEditing=YES,objj_msgSend(a,"textDidBeginEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidBeginEditingNotification,a,nil))),objj_msgSend(a,"textDidChange:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",
CPControlTextDidChangeNotification,a,nil)))}}),new objj_method(sel_getUid("insertTabIgnoringFieldEditor:"),function(a){with(a){var e=objj_msgSend(a,"stringValue");objj_msgSend(a,"_inputElement").value+=CPTabCharacter;objj_msgSend(a,"_setStringValue:",objj_msgSend(a,"_inputElement").value);e!==objj_msgSend(a,"stringValue")&&(_isEditing||(_isEditing=YES,objj_msgSend(a,"textDidBeginEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidBeginEditingNotification,
a,nil))),objj_msgSend(a,"textDidChange:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidChangeNotification,a,nil)))}}),new objj_method(sel_getUid("textDidBlur:"),function(a,e,b){with(a){if(objj_msgSend(b,"object")!=a)return;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotification:",b)}}),new objj_method(sel_getUid("textDidFocus:"),function(a,e,b){with(a){if(objj_msgSend(b,"object")!=a)return;objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotification:",b)}}),new objj_method(sel_getUid("textDidChange:"),function(a,e,b){with(a){if(objj_msgSend(b,"object")!==a)return;objj_msgSend(a,"_continuouslyReverseSetBinding");objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"textDidChange:",b)}}),new objj_method(sel_getUid("sendAction:to:"),function(a,b,e,c){with(a)objj_msgSend(a,"_reverseSetBinding"),objj_msgSend(CPApp,"sendAction:to:from:",e,c,a)}),new objj_method(sel_getUid("objectValue"),
function(a){with(a)return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"objectValue")}),new objj_method(sel_getUid("_setStringValue:"),function(a,e,b){with(a)objj_msgSend(a,"willChangeValueForKey:","objectValue"),objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"setObjectValue:",String(b)),objj_msgSend(a,"_updatePlaceholderState"),objj_msgSend(a,"didChangeValueForKey:","objectValue")}),new objj_method(sel_getUid("setObjectValue:"),
function(a,e,c){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"setObjectValue:",c);if(b===a||objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a)objj_msgSend(a,"_inputElement").value=c;objj_msgSend(a,"_updatePlaceholderState")}}),new objj_method(sel_getUid("_updatePlaceholderState"),function(a){with(a){var e=objj_msgSend(a,"stringValue");(!e||e.length===0)&&!objj_msgSend(a,"hasThemeState:",CPThemeStateEditing)?objj_msgSend(a,"setThemeState:",CPTextFieldStatePlaceholder):
objj_msgSend(a,"unsetThemeState:",CPTextFieldStatePlaceholder)}}),new objj_method(sel_getUid("setPlaceholderString:"),function(a,e,b){with(a){if(_placeholderString===b)return;_placeholderString=b;objj_msgSend(a,"hasThemeState:",CPTextFieldStatePlaceholder)&&(objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,"setNeedsDisplay:",YES))}}),new objj_method(sel_getUid("placeholderString"),function(a){with(a)return _placeholderString}),new objj_method(sel_getUid("sizeToFit"),function(a){with(a)objj_msgSend(a,
"setFrameSize:",objj_msgSend(a,"_minimumFrameSize"))}),new objj_method(sel_getUid("_minimumFrameSize"),function(a){with(a){var e=objj_msgSend(a,"frameSize"),b=objj_msgSend(a,"currentValueForThemeAttribute:","content-inset"),c=objj_msgSend(a,"currentValueForThemeAttribute:","min-size"),i=objj_msgSend(a,"currentValueForThemeAttribute:","max-size"),d=objj_msgSend(a,"lineBreakMode"),k=objj_msgSend(a,"stringValue")||" ",g={width:e.width,height:e.height},n=objj_msgSend(a,"currentValueForThemeAttribute:",
"font");g.width-=b.left+b.right;g.height-=b.top+b.bottom;g=e.width!==0&&!objj_msgSend(a,"isBezeled")&&(d===CPLineBreakByWordWrapping||d===CPLineBreakByCharWrapping)?objj_msgSend(k,"sizeWithFont:inWidth:",n,g.width):objj_msgSend(k,"sizeWithFont:",n);e.height=g.height+b.top+b.bottom;if(objj_msgSend(a,"isBezeled")){e.height=MAX(e.height,c.height);if(i.width>0)e.width=MIN(e.width,i.width);if(i.height>0)e.height=MIN(e.height,i.height)}else e.width=g.width+b.left+b.right;e.width=MAX(e.width,c.width);return e}}),
new objj_method(sel_getUid("selectText:"),function(a,e,b){with(a)if(objj_msgSend(a,"isEditable")||objj_msgSend(a,"isSelectable")){var c=objj_msgSend(a,"_inputElement");objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a?window.setTimeout(function(){c.select()},0):objj_msgSend(a,"window")!==nil&&objj_msgSend(objj_msgSend(a,"window"),"makeFirstResponder:",a)&&window.setTimeout(function(){objj_msgSend(a,"selectText:",b)},0)}}),new objj_method(sel_getUid("copy:"),function(a){with(a)if(!objj_msgSend(CPPlatform,
"isBrowser")){var e=objj_msgSend(a,"selectedRange");if(e.length<1)return;var b=objj_msgSend(CPPasteboard,"generalPasteboard");a=objj_msgSend(a,"stringValue");e=objj_msgSend(a,"substringWithRange:",e);objj_msgSend(b,"declareTypes:owner:",[CPStringPboardType],nil);objj_msgSend(b,"setString:forType:",e,CPStringPboardType)}}),new objj_method(sel_getUid("cut:"),function(a,e,b){with(a)objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",
0,a,sel_getUid("keyUp:"),nil,NO):(objj_msgSend(a,"copy:",b),objj_msgSend(a,"deleteBackward:",b))}),new objj_method(sel_getUid("paste:"),function(a,e,b){with(a)if(objj_msgSend(CPPlatform,"isBrowser"))objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",0,a,sel_getUid("keyUp:"),nil,NO);else{e=objj_msgSend(CPPasteboard,"generalPasteboard");if(!objj_msgSend(objj_msgSend(e,"types"),"containsObject:",CPStringPboardType))return;objj_msgSend(a,"deleteBackward:",b);b=objj_msgSend(a,
"selectedRange");var c=objj_msgSend(a,"stringValue");e=objj_msgSend(e,"stringForType:",CPStringPboardType);c=objj_msgSend(c,"stringByReplacingCharactersInRange:withString:",b,e);objj_msgSend(a,"setStringValue:",c);objj_msgSend(a,"setSelectedRange:",CPMakeRange(b.location+e.length,0))}}),new objj_method(sel_getUid("selectedRange"),function(a){with(a){if(objj_msgSend(objj_msgSend(a,"window"),"firstResponder")!==a)return CPMakeRange(0,0);try{var e=objj_msgSend(a,"_inputElement"),b=e.selectionStart,c=
e.selectionEnd;if(objj_msgSend(b,"isKindOfClass:",CPNumber))return CPMakeRange(b,c-b);var i=(e.ownerDocument||e.document).selection.createRange(),d=e.createTextRange();if(d.inRange(i))return d.setEndPoint("EndToStart",i),CPMakeRange(d.text.length,i.text.length)}catch(k){}return CPMakeRange(0,0)}}),new objj_method(sel_getUid("setSelectedRange:"),function(a,e,b){with(a){if(!objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a)return;a=objj_msgSend(a,"_inputElement");try{if(objj_msgSend(a.selectionStart,
"isKindOfClass:",CPNumber))a.selectionStart=b.location,a.selectionEnd=CPMaxRange(b);else{var c=(a.ownerDocument||a.document).selection.createRange(),i=a.createTextRange();i.inRange(c)&&(i.collapse(!0),i.move("character",b.location),i.moveEnd("character",b.length),i.select())}}catch(d){}}}),new objj_method(sel_getUid("selectAll:"),function(a,e,b){with(a)objj_msgSend(a,"selectText:",b)}),new objj_method(sel_getUid("deleteBackward:"),function(a){with(a){var e=objj_msgSend(a,"selectedRange");if(e.length<
2)return;e.location+=1;e.length-=1;var b=objj_msgSend(a,"stringValue");b=objj_msgSend(b,"stringByReplacingCharactersInRange:withString:",e,"");objj_msgSend(a,"setStringValue:",b);objj_msgSend(a,"setSelectedRange:",CPMakeRange(e.location,0))}}),new objj_method(sel_getUid("setDelegate:"),function(a,e,b){with(a)e=objj_msgSend(CPNotificationCenter,"defaultCenter"),_delegate&&(objj_msgSend(e,"removeObserver:name:object:",_delegate,CPControlTextDidBeginEditingNotification,a),objj_msgSend(e,"removeObserver:name:object:",
_delegate,CPControlTextDidChangeNotification,a),objj_msgSend(e,"removeObserver:name:object:",_delegate,CPControlTextDidEndEditingNotification,a),objj_msgSend(e,"removeObserver:name:object:",_delegate,CPTextFieldDidFocusNotification,a),objj_msgSend(e,"removeObserver:name:object:",_delegate,CPTextFieldDidBlurNotification,a)),_delegate=b,objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidBeginEditing:"))&&objj_msgSend(e,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidBeginEditing:"),
CPControlTextDidBeginEditingNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidChange:"))&&objj_msgSend(e,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidChange:"),CPControlTextDidChangeNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidEndEditing:"))&&objj_msgSend(e,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidEndEditing:"),CPControlTextDidEndEditingNotification,a),objj_msgSend(_delegate,
"respondsToSelector:",sel_getUid("controlTextDidFocus:"))&&objj_msgSend(e,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidFocus:"),CPTextFieldDidFocusNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidBlur:"))&&objj_msgSend(e,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidBlur:"),CPTextFieldDidBlurNotification,a)}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("contentRectForBounds:"),
function(a,e,b){with(a){a=objj_msgSend(a,"currentValueForThemeAttribute:","content-inset");if(!a)return b;b.origin.x+=a.left;b.origin.y+=a.top;b.size.width-=a.left+a.right;b.size.height-=a.top+a.bottom;return b}}),new objj_method(sel_getUid("bezelRectForBounds:"),function(a,e,b){with(a){a=objj_msgSend(a,"currentValueForThemeAttribute:","bezel-inset");if(a.top===0&&a.right===0&&a.bottom===0&&a.left===0)return b;b.origin.x+=a.left;b.origin.y+=a.top;b.size.width-=a.left+a.right;b.size.height-=a.top+
a.bottom;return b}}),new objj_method(sel_getUid("rectForEphemeralSubviewNamed:"),function(a,e,b){with(a){if(b==="bezel-view")return objj_msgSend(a,"bezelRectForBounds:",objj_msgSend(a,"bounds"));else if(b==="content-view")return objj_msgSend(a,"contentRectForBounds:",objj_msgSend(a,"bounds"));return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"rectForEphemeralSubviewNamed:",b)}}),new objj_method(sel_getUid("createEphemeralSubviewNamed:"),function(a,e,b){with(a)return a=
b==="bezel-view"?objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}}):objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}}),objj_msgSend(a,"setHitTests:",NO),a}),new objj_method(sel_getUid("layoutSubviews"),function(a){with(a){var e=objj_msgSend(a,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","bezel-view",CPWindowBelow,"content-view");e&&objj_msgSend(e,"setBackgroundColor:",
objj_msgSend(a,"currentValueForThemeAttribute:","bezel-color"));if(e=objj_msgSend(a,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","content-view",CPWindowAbove,"bezel-view")){objj_msgSend(e,"setHidden:",objj_msgSend(a,"hasThemeState:",CPThemeStateEditing));var b="";objj_msgSend(a,"hasThemeState:",CPTextFieldStatePlaceholder)?b=objj_msgSend(a,"placeholderString"):(b=objj_msgSend(a,"stringValue"),objj_msgSend(a,"isSecure")&&(b=b?Array(b.length+1).join("•"):""));objj_msgSend(e,
"setText:",b);objj_msgSend(e,"setTextColor:",objj_msgSend(a,"currentValueForThemeAttribute:","text-color"));objj_msgSend(e,"setFont:",objj_msgSend(a,"currentValueForThemeAttribute:","font"));objj_msgSend(e,"setAlignment:",objj_msgSend(a,"currentValueForThemeAttribute:","alignment"));objj_msgSend(e,"setVerticalAlignment:",objj_msgSend(a,"currentValueForThemeAttribute:","vertical-alignment"));objj_msgSend(e,"setLineBreakMode:",objj_msgSend(a,"currentValueForThemeAttribute:","line-break-mode"));objj_msgSend(e,
"setTextShadowColor:",objj_msgSend(a,"currentValueForThemeAttribute:","text-shadow-color"));objj_msgSend(e,"setTextShadowOffset:",objj_msgSend(a,"currentValueForThemeAttribute:","text-shadow-offset"))}}}),new objj_method(sel_getUid("takeValueFromKeyPath:ofObjects:"),function(a,e,b,c){with(a){e=c.length;var i=objj_msgSend(c[0],"valueForKeyPath:",b);objj_msgSend(a,"setStringValue:",i);for(objj_msgSend(a,"setPlaceholderString:","");e-- >1;)i!==objj_msgSend(c[e],"valueForKeyPath:",b)&&(objj_msgSend(a,
"setPlaceholderString:","Multiple Values"),objj_msgSend(a,"setStringValue:",""))}})]);class_addMethods(l,[new objj_method(sel_getUid("textFieldWithStringValue:placeholder:width:"),function(a,e,b,c,i){with(a)return objj_msgSend(a,"textFieldWithStringValue:placeholder:width:theme:",b,c,i,objj_msgSend(CPTheme,"defaultTheme"))}),new objj_method(sel_getUid("textFieldWithStringValue:placeholder:width:theme:"),function(a,e,b,c,i,d){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"initWithFrame:",CGRectMake(0,
0,i,29)),objj_msgSend(a,"setTheme:",d),objj_msgSend(a,"setStringValue:",b),objj_msgSend(a,"setPlaceholderString:",c),objj_msgSend(a,"setBordered:",YES),objj_msgSend(a,"setBezeled:",YES),objj_msgSend(a,"setEditable:",YES),objj_msgSend(a,"sizeToFit"),a}),new objj_method(sel_getUid("roundedTextFieldWithStringValue:placeholder:width:"),function(a,e,b,c,i){with(a)return objj_msgSend(a,"roundedTextFieldWithStringValue:placeholder:width:theme:",b,c,i,objj_msgSend(CPTheme,"defaultTheme"))}),new objj_method(sel_getUid("roundedTextFieldWithStringValue:placeholder:width:theme:"),
function(a,e,b,c,i,d){with(a)return a=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,0,i,29)),objj_msgSend(a,"setTheme:",d),objj_msgSend(a,"setStringValue:",b),objj_msgSend(a,"setPlaceholderString:",c),objj_msgSend(a,"setBezelStyle:",CPTextFieldRoundedBezel),objj_msgSend(a,"setBordered:",YES),objj_msgSend(a,"setBezeled:",YES),objj_msgSend(a,"setEditable:",YES),objj_msgSend(a,"sizeToFit"),a}),new objj_method(sel_getUid("labelWithTitle:"),function(a,e,b){with(a)return objj_msgSend(a,
"labelWithTitle:theme:",b,objj_msgSend(CPTheme,"defaultTheme"))}),new objj_method(sel_getUid("labelWithTitle:theme:"),function(a,e,b){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"init"),objj_msgSend(a,"setStringValue:",b),objj_msgSend(a,"sizeToFit"),a}),new objj_method(sel_getUid("defaultThemeClass"),function(a){with(a)return"textfield"}),new objj_method(sel_getUid("_binderClassForBinding:"),function(a,e,b){with(a){if(b===CPValueBinding)return objj_msgSend(_CPTextFieldValueBinder,"class");
return objj_msgSendSuper({receiver:a,super_class:objj_getMetaClass("CPTextField").super_class},"_binderClassForBinding:",b)}}),new objj_method(sel_getUid("themeAttributes"),function(a){with(a)return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[{top:0,right:0,bottom:0,left:0},{top:2,right:2,bottom:2,left:2},objj_msgSend(CPNull,"null")],["bezel-inset","content-inset","bezel-color"])})]);m=objj_getClass("CPTextField");if(!m)throw new SyntaxError('*** Could not find definition for class "CPTextField"');
l=m.isa;class_addMethods(m,[new objj_method(sel_getUid("initWithCoder:"),function(a,e,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"initWithCoder:",b))objj_msgSend(a,"setEditable:",objj_msgSend(b,"decodeBoolForKey:","CPTextFieldIsEditableKey")),objj_msgSend(a,"setSelectable:",objj_msgSend(b,"decodeBoolForKey:","CPTextFieldIsSelectableKey")),objj_msgSend(a,"setDrawsBackground:",objj_msgSend(b,"decodeBoolForKey:","CPTextFieldDrawsBackgroundKey")),
objj_msgSend(a,"setTextFieldBackgroundColor:",objj_msgSend(b,"decodeObjectForKey:","CPTextFieldBackgroundColorKey")),objj_msgSend(a,"setLineBreakMode:",objj_msgSend(b,"decodeIntForKey:","CPTextFieldLineBreakModeKey")),objj_msgSend(a,"setAlignment:",objj_msgSend(b,"decodeIntForKey:","CPTextFieldAlignmentKey")),objj_msgSend(a,"setPlaceholderString:",objj_msgSend(b,"decodeObjectForKey:","CPTextFieldPlaceholderStringKey"));return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,e){with(a)objj_msgSendSuper({receiver:a,
super_class:objj_getClass("CPTextField").super_class},"encodeWithCoder:",e),objj_msgSend(e,"encodeBool:forKey:",_isEditable,"CPTextFieldIsEditableKey"),objj_msgSend(e,"encodeBool:forKey:",_isSelectable,"CPTextFieldIsSelectableKey"),objj_msgSend(e,"encodeBool:forKey:",_drawsBackground,"CPTextFieldDrawsBackgroundKey"),objj_msgSend(e,"encodeObject:forKey:",_textFieldBackgroundColor,"CPTextFieldBackgroundColorKey"),objj_msgSend(e,"encodeInt:forKey:",objj_msgSend(a,"lineBreakMode"),"CPTextFieldLineBreakModeKey"),
objj_msgSend(e,"encodeInt:forKey:",objj_msgSend(a,"alignment"),"CPTextFieldAlignmentKey"),objj_msgSend(e,"encodeObject:forKey:",_placeholderString,"CPTextFieldPlaceholderStringKey")})]);m=objj_allocateClassPair(CPBinder,"_CPTextFieldValueBinder");l=m.isa;objj_registerClassPair(m);class_addMethods(m,[new objj_method(sel_getUid("setValueFor:"),function(a){with(a){var e=objj_msgSend(_info,"objectForKey:",CPObservedObjectKey),b=objj_msgSend(_info,"objectForKey:",CPObservedKeyPathKey),c=objj_msgSend(_info,
"objectForKey:",CPOptionsKey);e=objj_msgSend(e,"valueForKeyPath:",b);if(CPIsControllerMarker(e)){switch(e){case CPMultipleValuesMarker:e=objj_msgSend(c,"objectForKey:",CPMultipleValuesPlaceholderBindingOption)||"Multiple Values";break;case CPNoSelectionMarker:e=objj_msgSend(c,"objectForKey:",CPNoSelectionPlaceholderBindingOption)||"No Selection";break;case CPNotApplicableMarker:objj_msgSend(c,"objectForKey:",CPRaisesForNotApplicableKeysBindingOption)&&objj_msgSend(CPException,"raise:reason:",CPGenericException,
"can't transform non applicable key on: "+_source+" value: "+e);e=objj_msgSend(c,"objectForKey:",CPNotApplicablePlaceholderBindingOption)||"Not Applicable";break;case CPNullMarker:e=objj_msgSend(c,"objectForKey:",CPNullPlaceholderBindingOption)||""}objj_msgSend(_source,"setPlaceholderString:",e);objj_msgSend(_source,"setObjectValue:",nil)}else e=objj_msgSend(a,"transformValue:withOptions:",e,c),objj_msgSend(_source,"setObjectValue:",e)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPMenu.j",baseURL),function(h,f){f("Foundation/CPArray.j",NO);f("Foundation/CPDictionary.j",NO);f("Foundation/CPNotificationCenter.j",NO);f("Foundation/CPString.j",NO);f("_CPMenuManager.j",YES);f("CPApplication.j",YES);f("CPClipView.j",YES);f("CPMenuItem.j",YES);f("CPPanel.j",YES);CPMenuDidAddItemNotification="CPMenuDidAddItemNotification";CPMenuDidChangeItemNotification="CPMenuDidChangeItemNotification";CPMenuDidRemoveItemNotification=
"CPMenuDidRemoveItemNotification";CPMenuDidEndTrackingNotification="CPMenuDidEndTrackingNotification";var d=NO,g="",c=nil,b=1,a=nil,e=nil,i=objj_allocateClassPair(CPObject,"CPMenu"),k=i.isa;class_addIvars(i,[new objj_ivar("_supermenu"),new objj_ivar("_title"),new objj_ivar("_name"),new objj_ivar("_font"),new objj_ivar("_minimumWidth"),new objj_ivar("_items"),new objj_ivar("_autoenablesItems"),new objj_ivar("_showsStateColumn"),new objj_ivar("_delegate"),new objj_ivar("_highlightedIndex"),new objj_ivar("_menuWindow")]);
objj_registerClassPair(i);class_addMethods(i,[new objj_method(sel_getUid("menuBarHeight"),function(a){with(a){if(a===objj_msgSend(CPApp,"mainMenu"))return 28;return 0}}),new objj_method(sel_getUid("initWithTitle:"),function(a,e,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPMenu").super_class},"init"))_title=b,_items=[],_showsStateColumn=_autoenablesItems=YES,objj_msgSend(a,"setMinimumWidth:",0);return a}}),new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,
"initWithTitle:","")}),new objj_method(sel_getUid("insertItem:atIndex:"),function(a,e,b,c){with(a)objj_msgSend(a,"insertObject:inItemsAtIndex:",b,c)}),new objj_method(sel_getUid("insertItemWithTitle:action:keyEquivalent:atIndex:"),function(a,e,b,c,i,d){with(a)return e=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:",b,c,i),objj_msgSend(a,"insertItem:atIndex:",e,d),e}),new objj_method(sel_getUid("addItem:"),function(a,e,b){with(a)objj_msgSend(a,"insertItem:atIndex:",
b,objj_msgSend(_items,"count"))}),new objj_method(sel_getUid("addItemWithTitle:action:keyEquivalent:"),function(a,e,b,c,i){with(a)return objj_msgSend(a,"insertItemWithTitle:action:keyEquivalent:atIndex:",b,c,i,objj_msgSend(_items,"count"))}),new objj_method(sel_getUid("removeItem:"),function(a,e,b){with(a)objj_msgSend(a,"removeItemAtIndex:",objj_msgSend(_items,"indexOfObjectIdenticalTo:",b))}),new objj_method(sel_getUid("removeItemAtIndex:"),function(a,e,b){with(a)objj_msgSend(a,"removeObjectFromItemsAtIndex:",
b)}),new objj_method(sel_getUid("itemChanged:"),function(a,e,b){with(a){if(objj_msgSend(b,"menu")!==a)return;objj_msgSend(b,"setValue:forKey:",objj_msgSend(b,"valueForKey:","changeCount")+1,"changeCount");objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPMenuDidChangeItemNotification,a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",objj_msgSend(_items,"indexOfObjectIdenticalTo:",b),"CPMenuItemIndex"))}}),new objj_method(sel_getUid("itemWithTag:"),
function(a,e,b){with(a){a=objj_msgSend(a,"indexOfItemWithTag:",b);if(a==CPNotFound)return nil;return _items[a]}}),new objj_method(sel_getUid("itemWithTitle:"),function(a,e,b){with(a){a=objj_msgSend(a,"indexOfItemWithTitle:",b);if(a==CPNotFound)return nil;return _items[a]}}),new objj_method(sel_getUid("itemAtIndex:"),function(a,e,b){with(a)return objj_msgSend(_items,"objectAtIndex:",b)}),new objj_method(sel_getUid("numberOfItems"),function(a){with(a)return objj_msgSend(_items,"count")}),new objj_method(sel_getUid("itemArray"),
function(a){with(a)return _items}),new objj_method(sel_getUid("indexOfItem:"),function(a,e,b){with(a){if(objj_msgSend(b,"menu")!==a)return CPNotFound;return objj_msgSend(_items,"indexOfObjectIdenticalTo:",b)}}),new objj_method(sel_getUid("indexOfItemWithTitle:"),function(a,b,e){with(a){a=0;for(b=_items.length;a<b;++a)if(objj_msgSend(_items[a],"title")===e)return a;return CPNotFound}}),new objj_method(sel_getUid("indexOfItemWithTag:"),function(a,b,e){with(a){a=0;for(b=_items.length;a<b;++a)if(objj_msgSend(_items[a],
"tag")==e)return a;return CPNotFound}}),new objj_method(sel_getUid("indexOfItemWithTarget:andAction:"),function(a,b,e,c){with(a){a=0;for(b=_items.length;a<b;++a){var i=_items[a];if(objj_msgSend(i,"target")==e&&(!c||objj_msgSend(i,"action")==c))return a}return CPNotFound}}),new objj_method(sel_getUid("indexOfItemWithRepresentedObject:"),function(a,b,e){with(a){a=0;for(b=_items.length;a<b;++a)if(objj_msgSend(objj_msgSend(_items[a],"representedObject"),"isEqual:",e))return a;return CPNotFound}}),new objj_method(sel_getUid("indexOfItemWithSubmenu:"),
function(a,b,e){with(a){a=0;for(b=_items.length;a<b;++a)if(objj_msgSend(_items[a],"submenu")==e)return a;return CPNotFound}}),new objj_method(sel_getUid("setSubmenu:forItem:"),function(a,b,e,c){with(a)objj_msgSend(c,"setTarget:",c),objj_msgSend(c,"setAction:",sel_getUid("submenuAction:")),objj_msgSend(c,"setSubmenu:",e)}),new objj_method(sel_getUid("submenuAction:"),function(a){with(a);}),new objj_method(sel_getUid("supermenu"),function(a){with(a)return _supermenu}),new objj_method(sel_getUid("setSupermenu:"),
function(a,b,e){with(a)_supermenu=e}),new objj_method(sel_getUid("isTornOff"),function(a){with(a)return!_supermenu||a==objj_msgSend(CPApp,"mainMenu")}),new objj_method(sel_getUid("setAutoenablesItems:"),function(a,b,e){with(a)_autoenablesItems=e}),new objj_method(sel_getUid("autoenablesItems"),function(a){with(a)return _autoenablesItems}),new objj_method(sel_getUid("update"),function(a){with(a){if(!objj_msgSend(a,"autoenablesItems"))return;a=objj_msgSend(a,"itemArray");for(var b=0;b<objj_msgSend(a,
"count");b++){var e=objj_msgSend(a,"objectAtIndex:",b);if(!objj_msgSend(e,"hasSubmenu")){var c=objj_msgSend(CPApp,"targetForAction:to:from:",objj_msgSend(e,"action"),objj_msgSend(e,"target"),e);!c||!objj_msgSend(c,"respondsToSelector:",objj_msgSend(e,"action"))?objj_msgSend(e,"_setEnabled:",NO):objj_msgSend(c,"respondsToSelector:",sel_getUid("validateMenuItem:"))?objj_msgSend(e,"_setEnabled:",objj_msgSend(c,"validateMenuItem:",e)):objj_msgSend(c,"respondsToSelector:",sel_getUid("validateUserInterfaceItem:"))&&
objj_msgSend(e,"_setEnabled:",objj_msgSend(c,"validateUserInterfaceItem:",e))}}objj_msgSend(objj_msgSend(_menuWindow,"_menuView"),"tile")}}),new objj_method(sel_getUid("setTitle:"),function(a,e,b){with(a)_title=b}),new objj_method(sel_getUid("title"),function(a){with(a)return _title}),new objj_method(sel_getUid("setMinimumWidth:"),function(a,e,b){with(a)_minimumWidth=b}),new objj_method(sel_getUid("minimumWidth"),function(a){with(a)return _minimumWidth}),new objj_method(sel_getUid("_performActionOfHighlightedItemChain"),
function(a){with(a){for(a=objj_msgSend(a,"highlightedItem");objj_msgSend(a,"submenu")&&objj_msgSend(a,"action")===sel_getUid("submenuAction:");)a=objj_msgSend(objj_msgSend(a,"submenu"),"highlightedItem");a&&objj_msgSend(a,"isEnabled")&&objj_msgSend(CPApp,"sendAction:to:from:",objj_msgSend(a,"action"),objj_msgSend(a,"target"),a)}}),new objj_method(sel_getUid("popUpMenuPositioningItem:atLocation:inView:callback:"),function(a,e,b,c,i,d){with(a)objj_msgSend(a,"_popUpMenuPositioningItem:atLocation:topY:bottomY:inView:callback:",
b,c,c.y,c.y,i,d)}),new objj_method(sel_getUid("_popUpMenuPositioningItem:atLocation:topY:bottomY:inView:callback:"),function(a,e,b,c,i,d,k,g){with(a){var f=0;if(b&&(f=objj_msgSend(a,"indexOfItem:",b),f===CPNotFound))throw"In call to popUpMenuPositioningItem:atLocation:inView:callback:, menu item "+b+" is not present in menu "+a;e=objj_msgSend(k,"window");if(k&&!e)throw"In call to popUpMenuPositioningItem:atLocation:inView:callback:, view is not in any window.";var h=objj_msgSend(a,"delegate");objj_msgSend(h,
"respondsToSelector:",sel_getUid("menuWillOpen:"))&&objj_msgSend(h,"menuWillOpen:",a);k&&(c=objj_msgSend(e,"convertBaseToGlobal:",objj_msgSend(k,"convertPoint:toView:",c,nil)));h=objj_msgSend(_CPMenuWindow,"menuWindowWithMenu:font:",a,objj_msgSend(a,"font"));objj_msgSend(h,"setBackgroundStyle:",_CPMenuWindowPopUpBackgroundStyle);b&&(c.y-=objj_msgSend(h,"deltaYForItemAtIndex:",f));b=objj_msgSend(CPMenu,"_constraintRectForView:",k);objj_msgSend(h,"setFrameOrigin:",c);objj_msgSend(h,"setConstraintRect:",
b);if(!objj_msgSend(h,"hasMinimumNumberOfVisibleItems")){c=objj_msgSend(h,"unconstrainedFrame");f=CGRectGetMinY(c);if(f>=CGRectGetMaxY(b)||objj_msgSend(h,"canScrollDown")){if(k)i=objj_msgSend(e,"convertBaseToGlobal:",objj_msgSend(k,"convertPoint:toView:",CGPointMake(0,i),nil)).y;c.origin.y=MIN(CGRectGetMaxY(b),i)-CGRectGetHeight(c)}else if(f<CGRectGetMinY(b)||objj_msgSend(h,"canScrollUp")){if(k)d=objj_msgSend(e,"convertBaseToGlobal:",objj_msgSend(k,"convertPoint:toView:",CGPointMake(0,d),nil)).y;
c.origin.y=MAX(CGRectGetMinY(b),d)}objj_msgSend(h,"setFrameOrigin:",CGRectIntersection(c,b).origin)}objj_msgSend(CPPlatform,"isBrowser")&&objj_msgSend(h,"setPlatformWindow:",objj_msgSend(objj_msgSend(k,"window"),"platformWindow"));objj_msgSend(h,"orderFront:",a);objj_msgSend(objj_msgSend(_CPMenuManager,"sharedMenuManager"),"beginTracking:menuContainer:constraintRect:callback:",objj_msgSend(CPApp,"currentEvent"),h,b,objj_msgSend(CPMenu,"trackingCallbackWithCallback:",g))}}),new objj_method(sel_getUid("setShowsStateColumn:"),
function(a,b,e){with(a)_showsStateColumn=e}),new objj_method(sel_getUid("showsStateColumn"),function(a){with(a)return _showsStateColumn}),new objj_method(sel_getUid("highlightedItem"),function(a){with(a)return _highlightedIndex>=0?_items[_highlightedIndex]:nil}),new objj_method(sel_getUid("setDelegate:"),function(a,b,e){with(a)_delegate=e}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("cancelTracking"),function(a){with(a)objj_msgSend(objj_msgSend(CPRunLoop,
"currentRunLoop"),"performSelector:target:argument:order:modes:",sel_getUid("_fireCancelTrackingEvent"),a,nil,0,[CPDefaultRunLoopMode])}),new objj_method(sel_getUid("_fireCancelTrackingEvent"),function(a){with(a)objj_msgSend(CPApp,"sendEvent:",objj_msgSend(CPEvent,"otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",CPAppKitDefined,{x:0,y:0},0,0,0,0,0,0,0)),objj_msgSend(_CPDisplayServer,"run")}),new objj_method(sel_getUid("_setMenuWindow:"),function(a,b,
e){with(a)_menuWindow=e}),new objj_method(sel_getUid("setFont:"),function(a,b,e){with(a)_font=e}),new objj_method(sel_getUid("font"),function(a){with(a)return _font}),new objj_method(sel_getUid("performKeyEquivalent:"),function(a,b,e){with(a){_autoenablesItems&&objj_msgSend(a,"update");b=0;var c=_items.length;objj_msgSend(e,"charactersIgnoringModifiers");for(objj_msgSend(e,"modifierFlags");b<c;++b){var i=_items[b];objj_msgSend(i,"keyEquivalentModifierMask");if(objj_msgSend(e,"_triggersKeyEquivalent:withModifierMask:",
objj_msgSend(i,"keyEquivalent"),objj_msgSend(i,"keyEquivalentModifierMask")))return objj_msgSend(i,"isEnabled")&&objj_msgSend(a,"performActionForItemAtIndex:",b),YES;if(objj_msgSend(objj_msgSend(i,"submenu"),"performKeyEquivalent:",e))return YES}return NO}}),new objj_method(sel_getUid("performActionForItemAtIndex:"),function(a,b,e){with(a)a=_items[e],objj_msgSend(CPApp,"sendAction:to:from:",objj_msgSend(a,"action"),objj_msgSend(a,"target"),a)}),new objj_method(sel_getUid("_itemIsHighlighted:"),function(a,
b,e){with(a)return _items[_highlightedIndex]==e}),new objj_method(sel_getUid("_highlightItemAtIndex:"),function(a,b,e){with(a){if(_highlightedIndex===e)return;_highlightedIndex!==CPNotFound&&objj_msgSend(objj_msgSend(_items[_highlightedIndex],"_menuItemView"),"highlight:",NO);_highlightedIndex=e;_highlightedIndex!==CPNotFound&&objj_msgSend(objj_msgSend(_items[_highlightedIndex],"_menuItemView"),"highlight:",YES);_highlightedIndex!==CPNotFound&&_menuWindow&&objj_msgSend(_menuWindow._menuView,"scrollRectToVisible:",
objj_msgSend(objj_msgSend(_items[_highlightedIndex],"_menuItemView"),"frame"))}}),new objj_method(sel_getUid("_setMenuName:"),function(a,e,b){with(a){if(_name===b)return;_name=b;_name==="CPMainMenu"&&objj_msgSend(CPApp,"setMainMenu:",a)}}),new objj_method(sel_getUid("_menuName"),function(a){with(a)return _name}),new objj_method(sel_getUid("awakeFromCib"),function(a){with(a)_name==="_CPMainMenu"&&(objj_msgSend(a,"_setMenuName:","CPMainMenu"),objj_msgSend(CPMenu,"setMenuBarVisible:",YES))}),new objj_method(sel_getUid("_menuWithName:"),
function(a,b,e){with(a){if(e===_name)return a;a=0;for(b=objj_msgSend(_items,"count");a<b;a++){var c=objj_msgSend(objj_msgSend(_items[a],"submenu"),"_menuWithName:",e);if(c)return c}return nil}})]);class_addMethods(k,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==CPMenu)return;objj_msgSend(objj_msgSend(a,"class"),"setMenuBarAttributes:",objj_msgSend(CPDictionary,"dictionary"))}}),new objj_method(sel_getUid("menuBarVisible"),function(a){with(a)return d}),new objj_method(sel_getUid("setMenuBarVisible:"),
function(i,k,f){with(i){if(d===f)return;d=f;if(objj_msgSend(CPPlatform,"supportsNativeMainMenu"))return;f?(e||(e=objj_msgSend(objj_msgSend(_CPMenuBarWindow,"alloc"),"init")),objj_msgSend(e,"setMenu:",objj_msgSend(CPApp,"mainMenu")),objj_msgSend(e,"setTitle:",g),objj_msgSend(e,"setIconImage:",c),objj_msgSend(e,"setIconImageAlphaValue:",b),objj_msgSend(e,"setColor:",objj_msgSend(a,"objectForKey:","CPMenuBarBackgroundColor")),objj_msgSend(e,"setTextColor:",objj_msgSend(a,"objectForKey:","CPMenuBarTextColor")),
objj_msgSend(e,"setTitleColor:",objj_msgSend(a,"objectForKey:","CPMenuBarTitleColor")),objj_msgSend(e,"setTextShadowColor:",objj_msgSend(a,"objectForKey:","CPMenuBarTextShadowColor")),objj_msgSend(e,"setTitleShadowColor:",objj_msgSend(a,"objectForKey:","CPMenuBarTitleShadowColor")),objj_msgSend(e,"setHighlightColor:",objj_msgSend(a,"objectForKey:","CPMenuBarHighlightColor")),objj_msgSend(e,"setHighlightTextColor:",objj_msgSend(a,"objectForKey:","CPMenuBarHighlightTextColor")),objj_msgSend(e,"setHighlightTextShadowColor:",
objj_msgSend(a,"objectForKey:","CPMenuBarHighlightTextShadowColor")),objj_msgSend(e,"orderFront:",i)):objj_msgSend(e,"orderOut:",i);objj_msgSend(objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),"resizeEvent:",nil)}}),new objj_method(sel_getUid("setMenuBarTitle:"),function(a,b,c){with(a)g=c,objj_msgSend(e,"setTitle:",g)}),new objj_method(sel_getUid("menuBarTitle"),function(a){with(a)return g}),new objj_method(sel_getUid("setMenuBarIconImage:"),function(a,b,c){with(a)_CPMenuBarImage=c,objj_msgSend(e,
"setIconImage:",c)}),new objj_method(sel_getUid("menuBarIconImage"),function(a){with(a)return _CPMenuBarImage}),new objj_method(sel_getUid("setMenuBarAttributes:"),function(b,c,i){with(b){if(a==i)return;a=objj_msgSend(i,"copy");b=objj_msgSend(i,"objectForKey:","CPMenuBarTextColor");c=objj_msgSend(i,"objectForKey:","CPMenuBarTitleColor");var d=objj_msgSend(i,"objectForKey:","CPMenuBarTextShadowColor"),k=objj_msgSend(i,"objectForKey:","CPMenuBarTitleShadowColor"),g=objj_msgSend(i,"objectForKey:","CPMenuBarHighlightColor"),
f=objj_msgSend(i,"objectForKey:","CPMenuBarHighlightTextColor");i=objj_msgSend(i,"objectForKey:","CPMenuBarHighlightTextShadowColor");!b&&c?objj_msgSend(a,"setObject:forKey:",c,"CPMenuBarTextColor"):b&&!c?objj_msgSend(a,"setObject:forKey:",b,"CPMenuBarTitleColor"):!b&&!c&&(objj_msgSend(a,"setObject:forKey:",objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",0.051,0.2,0.275,1),"CPMenuBarTextColor"),objj_msgSend(a,"setObject:forKey:",objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",0.051,0.2,
0.275,1),"CPMenuBarTitleColor"));!d&&k?objj_msgSend(a,"setObject:forKey:",k,"CPMenuBarTextShadowColor"):d&&!k?objj_msgSend(a,"setObject:forKey:",d,"CPMenuBarTitleShadowColor"):!d&&!k&&(objj_msgSend(a,"setObject:forKey:",objj_msgSend(CPColor,"whiteColor"),"CPMenuBarTextShadowColor"),objj_msgSend(a,"setObject:forKey:",objj_msgSend(CPColor,"whiteColor"),"CPMenuBarTitleShadowColor"));g||objj_msgSend(a,"setObject:forKey:",objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",94/255,130/255,186/
255,1),"CPMenuBarHighlightColor");f||objj_msgSend(a,"setObject:forKey:",objj_msgSend(CPColor,"whiteColor"),"CPMenuBarHighlightTextColor");i||objj_msgSend(a,"setObject:forKey:",objj_msgSend(CPColor,"blackColor"),"CPMenuBarHighlightTextShadowColor");e&&(objj_msgSend(e,"setColor:",objj_msgSend(a,"objectForKey:","CPMenuBarBackgroundColor")),objj_msgSend(e,"setTextColor:",objj_msgSend(a,"objectForKey:","CPMenuBarTextColor")),objj_msgSend(e,"setTitleColor:",objj_msgSend(a,"objectForKey:","CPMenuBarTitleColor")),
objj_msgSend(e,"setTextShadowColor:",objj_msgSend(a,"objectForKey:","CPMenuBarTextShadowColor")),objj_msgSend(e,"setTitleShadowColor:",objj_msgSend(a,"objectForKey:","CPMenuBarTitleShadowColor")),objj_msgSend(e,"setHighlightColor:",objj_msgSend(a,"objectForKey:","CPMenuBarHighlightColor")),objj_msgSend(e,"setHighlightTextColor:",objj_msgSend(a,"objectForKey:","CPMenuBarHighlightTextColor")),objj_msgSend(e,"setHighlightTextShadowColor:",objj_msgSend(a,"objectForKey:","CPMenuBarHighlightTextShadowColor")))}}),
new objj_method(sel_getUid("menuBarAttributes"),function(b){with(b)return a}),new objj_method(sel_getUid("_setMenuBarIconImageAlphaValue:"),function(a,c,i){with(a)b=i,objj_msgSend(e,"setIconImageAlphaValue:",i)}),new objj_method(sel_getUid("menuBarHeight"),function(a){with(a)return 28}),new objj_method(sel_getUid("_constraintRectForView:"),function(a,b,e){with(a){if(objj_msgSend(CPPlatform,"isBrowser"))return CGRectInset(objj_msgSend(objj_msgSend(objj_msgSend(e,"window"),"platformWindow"),"contentBounds"),
5,5);return CGRectInset(objj_msgSend(objj_msgSend(objj_msgSend(e,"window"),"screen"),"visibleFrame"),5,5)}}),new objj_method(sel_getUid("trackingCallbackWithCallback:"),function(a,b,e){with(a)return function(b,c){objj_msgSend(b,"setMenu:",nil);objj_msgSend(b,"orderOut:",a);objj_msgSend(_CPMenuWindow,"poolMenuWindow:",b);e&&e(c);objj_msgSend(c,"_performActionOfHighlightedItemChain")}}),new objj_method(sel_getUid("popUpContextMenu:withEvent:forView:"),function(a,b,e,c,i){with(a)objj_msgSend(a,"popUpContextMenu:withEvent:forView:withFont:",
e,c,i,nil)}),new objj_method(sel_getUid("popUpContextMenu:withEvent:forView:withFont:"),function(a,b,e,c,i,d){with(a){b=objj_msgSend(e,"delegate");objj_msgSend(b,"respondsToSelector:",sel_getUid("menuWillOpen:"))&&objj_msgSend(b,"menuWillOpen:",e);d||(d=objj_msgSend(CPFont,"systemFontOfSize:",12));objj_msgSend(i,"window");e=objj_msgSend(_CPMenuWindow,"menuWindowWithMenu:font:",e,d);objj_msgSend(e,"setBackgroundStyle:",_CPMenuWindowPopUpBackgroundStyle);d=objj_msgSend(CPMenu,"_constraintRectForView:",
i);b=objj_msgSend(objj_msgSend(c,"window"),"convertBaseToGlobal:",objj_msgSend(c,"locationInWindow"));objj_msgSend(e,"setConstraintRect:",d);objj_msgSend(e,"setFrameOrigin:",b);if(!objj_msgSend(e,"hasMinimumNumberOfVisibleItems")){var k=objj_msgSend(e,"unconstrainedFrame"),g=CGRectGetMinY(k);if(g>=CGRectGetMaxY(d)||objj_msgSend(e,"canScrollDown"))k.origin.y=MIN(CGRectGetMaxY(d),b.y)-CGRectGetHeight(k);else if(g<CGRectGetMinY(d)||objj_msgSend(e,"canScrollUp"))k.origin.y=MAX(CGRectGetMinY(d),b.y);objj_msgSend(e,
"setFrameOrigin:",CGRectIntersection(k,d).origin)}objj_msgSend(CPPlatform,"isBrowser")&&objj_msgSend(e,"setPlatformWindow:",objj_msgSend(objj_msgSend(i,"window"),"platformWindow"));objj_msgSend(e,"orderFront:",a);objj_msgSend(objj_msgSend(_CPMenuManager,"sharedMenuManager"),"beginTracking:menuContainer:constraintRect:callback:",c,e,objj_msgSend(CPMenu,"_constraintRectForView:",i),objj_msgSend(CPMenu,"trackingCallbackWithCallback:",nil))}})]);i=objj_getClass("CPMenu");if(!i)throw new SyntaxError('*** Could not find definition for class "CPMenu"');
k=i.isa;class_addMethods(i,[new objj_method(sel_getUid("countOfItems"),function(a){with(a)return objj_msgSend(_items,"count")}),new objj_method(sel_getUid("objectInItemsAtIndex:"),function(a,b,e){with(a)return objj_msgSend(_items,"objectAtIndex:",e)}),new objj_method(sel_getUid("itemsAtIndexes:"),function(a,b,e){with(a)return objj_msgSend(_items,"objectsAtIndexes:",e)})]);i=objj_getClass("CPMenu");if(!i)throw new SyntaxError('*** Could not find definition for class "CPMenu"');k=i.isa;class_addMethods(i,
[new objj_method(sel_getUid("insertObject:inItemsAtIndex:"),function(a,b,e,c){with(a){if(b=objj_msgSend(e,"menu"))if(b!==a)objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,"Attempted to insert item into menu that was already in another menu.");else return;objj_msgSend(e,"setMenu:",a);objj_msgSend(_items,"insertObject:atIndex:",e,c);objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPMenuDidAddItemNotification,a,objj_msgSend(CPDictionary,
"dictionaryWithObject:forKey:",c,"CPMenuItemIndex"))}}),new objj_method(sel_getUid("removeObjectFromItemsAtIndex:"),function(a,e,b){with(a){if(b<0||b>=objj_msgSend(_items,"count"))return;objj_msgSend(objj_msgSend(_items,"objectAtIndex:",b),"setMenu:",nil);objj_msgSend(_items,"removeObjectAtIndex:",b);objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPMenuDidRemoveItemNotification,a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",b,"CPMenuItemIndex"))}})]);
i=objj_getClass("CPMenu");if(!i)throw new SyntaxError('*** Could not find definition for class "CPMenu"');k=i.isa;class_addMethods(i,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPMenu").super_class},"init"))_title=objj_msgSend(e,"decodeObjectForKey:","CPMenuTitleKey"),_items=objj_msgSend(e,"decodeObjectForKey:","CPMenuItemsKey"),objj_msgSend(a,"_setMenuName:",objj_msgSend(e,"decodeObjectForKey:","CPMenuNameKey")),
_showsStateColumn=!objj_msgSend(e,"containsValueForKey:","CPMenuShowsStateColumnKey")||objj_msgSend(e,"decodeBoolForKey:","CPMenuShowsStateColumnKey"),_autoenablesItems=YES,objj_msgSend(a,"setMinimumWidth:",0);return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,e,b){with(a)objj_msgSend(b,"encodeObject:forKey:",_title,"CPMenuTitleKey"),_name&&objj_msgSend(b,"encodeObject:forKey:",_name,"CPMenuNameKey"),objj_msgSend(b,"encodeObject:forKey:",_items,"CPMenuItemsKey"),_showsStateColumn||
objj_msgSend(b,"encodeBool:forKey:",_showsStateColumn,"CPMenuShowsStateColumnKey")})]);f("_CPMenuBarWindow.j",YES);f("_CPMenuWindow.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CALayer.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("CABackingStore.j",YES);f("CGContext.j",YES);f("CGGeometry.j",YES);var d=NO,g=nil,c=objj_allocateClassPair(CPObject,"CALayer"),b=c.isa;class_addIvars(c,[new objj_ivar("_frame"),new objj_ivar("_bounds"),new objj_ivar("_position"),new objj_ivar("_zPosition"),new objj_ivar("_anchorPoint"),new objj_ivar("_affineTransform"),new objj_ivar("_sublayerTransform"),new objj_ivar("_sublayerTransformForSublayers"),
new objj_ivar("_backingStoreFrame"),new objj_ivar("_standardBackingStoreFrame"),new objj_ivar("_hasSublayerTransform"),new objj_ivar("_hasCustomBackingStoreFrame"),new objj_ivar("_opacity"),new objj_ivar("_isHidden"),new objj_ivar("_backgroundColor"),new objj_ivar("_superlayer"),new objj_ivar("_sublayers"),new objj_ivar("_runLoopUpdateMask"),new objj_ivar("_needsDisplayOnBoundsChange"),new objj_ivar("_delegate"),new objj_ivar("_delegateRespondsToDisplayLayerSelector"),new objj_ivar("_delegateRespondsToDrawLayerInContextSelector"),
new objj_ivar("_DOMElement"),new objj_ivar("_DOMContentsElement"),new objj_ivar("_contents"),new objj_ivar("_context"),new objj_ivar("_owningView"),new objj_ivar("_transformToLayer"),new objj_ivar("_transformFromLayer")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CALayer").super_class},"init"))_frame=CGRectMakeZero(),_backingStoreFrame=CGRectMakeZero(),_standardBackingStoreFrame=
CGRectMakeZero(),_bounds=CGRectMakeZero(),_position=CGPointMakeZero(),_zPosition=0,_anchorPoint=CGPointMake(0.5,0.5),_affineTransform=CGAffineTransformMakeIdentity(),_sublayerTransform=CGAffineTransformMakeIdentity(),_transformToLayer=CGAffineTransformMakeIdentity(),_transformFromLayer=CGAffineTransformMakeIdentity(),_opacity=1,_masksToBounds=_isHidden=NO,_sublayers=[],_DOMElement=document.createElement("div"),_DOMElement.style.overflow="visible",_DOMElement.style.position="absolute",_DOMElement.style.visibility=
"visible",_DOMElement.style.top="0px",_DOMElement.style.left="0px",_DOMElement.style.zIndex=0,_DOMElement.style.width="0px",_DOMElement.style.height="0px";return a}}),new objj_method(sel_getUid("setBounds:"),function(a,b,c){with(a){if(CGRectEqualToRect(_bounds,c))return;_bounds={origin:{x:c.origin.x,y:c.origin.y},size:{width:c.size.width,height:c.size.height}};_hasSublayerTransform&&_CALayerUpdateSublayerTransformForSublayers(a);_CALayerRecalculateGeometry(a,1)}}),new objj_method(sel_getUid("bounds"),
function(a){with(a)return _bounds}),new objj_method(sel_getUid("setPosition:"),function(a,b,c){with(a){if(CGPointEqualToPoint(_position,c))return;_position={x:c.x,y:c.y};_CALayerRecalculateGeometry(a,2)}}),new objj_method(sel_getUid("position"),function(a){with(a)return _position}),new objj_method(sel_getUid("setZPosition:"),function(a,b,c){with(a){if(_zPosition==c)return;_zPosition=c;objj_msgSend(a,"registerRunLoopUpdateWithMask:",4)}}),new objj_method(sel_getUid("setAnchorPoint:"),function(a,b,
c){with(a){c={x:c.x,y:c.y};c.x=MIN(1,MAX(0,c.x));c.y=MIN(1,MAX(0,c.y));if(CGPointEqualToPoint(_anchorPoint,c))return;_anchorPoint=c;_hasSublayerTransform&&_CALayerUpdateSublayerTransformForSublayers(a);_owningView&&(_position=CGPointMake(_bounds.size.width*_anchorPoint.x,_bounds.size.height*_anchorPoint.y));_CALayerRecalculateGeometry(a,4)}}),new objj_method(sel_getUid("anchorPoint"),function(a){with(a)return _anchorPoint}),new objj_method(sel_getUid("setAffineTransform:"),function(a,b,c){with(a){if(CGAffineTransformEqualToTransform(_affineTransform,
c))return;_affineTransform={a:c.a,b:c.b,c:c.c,d:c.d,tx:c.tx,ty:c.ty};_CALayerRecalculateGeometry(a,8)}}),new objj_method(sel_getUid("affineTransform"),function(a){with(a)return _affineTransform}),new objj_method(sel_getUid("setSublayerTransform:"),function(a,b,c){with(a){if(CGAffineTransformEqualToTransform(_sublayerTransform,c))return;_sublayerTransform={a:c.a,b:c.b,c:c.c,d:c.d,tx:c.tx,ty:c.ty};if(_hasSublayerTransform=!(_sublayerTransform.a==1&&_sublayerTransform.b==0&&_sublayerTransform.c==0&&
_sublayerTransform.d==1&&_sublayerTransform.tx==0&&_sublayerTransform.ty==0)){_CALayerUpdateSublayerTransformForSublayers(a);for(a=_sublayers.length;a--;)_CALayerRecalculateGeometry(_sublayers[a],16)}}}),new objj_method(sel_getUid("sublayerTransform"),function(a){with(a)return _sublayerTransform}),new objj_method(sel_getUid("transformToLayer"),function(a){with(a)return _transformToLayer}),new objj_method(sel_getUid("setFrame:"),function(a){with(a)alert("FIXME IMPLEMENT")}),new objj_method(sel_getUid("frame"),
function(a){with(a)return _frame||(_frame=objj_msgSend(a,"convertRect:toLayer:",_bounds,_superlayer)),_frame}),new objj_method(sel_getUid("backingStoreFrame"),function(a){with(a)return _backingStoreFrame}),new objj_method(sel_getUid("setBackingStoreFrame:"),function(a,b,c){with(a)_hasCustomBackingStoreFrame=c!=nil,c==nil?c=CGRectMakeCopy(_standardBackingStoreFrame):_superlayer?(c=objj_msgSend(_superlayer,"convertRect:toLayer:",c,nil),b=objj_msgSend(_superlayer,"bounds"),b=objj_msgSend(_superlayer,
"convertRect:toLayer:",b,nil),c.origin.x-=b.origin.x,c.origin.y-=b.origin.y):c=CGRectMakeCopy(c),CGPointEqualToPoint(_backingStoreFrame.origin,c.origin)||objj_msgSend(a,"registerRunLoopUpdateWithMask:",1),CGSizeEqualToSize(_backingStoreFrame.size,c.size)||objj_msgSend(a,"registerRunLoopUpdateWithMask:",2),_backingStoreFrame=c}),new objj_method(sel_getUid("contents"),function(a){with(a)return _contents}),new objj_method(sel_getUid("setContents:"),function(a,b,c){with(a){if(_contents==c)return;_contents=
c;objj_msgSend(a,"composite")}}),new objj_method(sel_getUid("composite"),function(a){with(a){if(d&&!_contents||!_context)return;CGContextClearRect(_context,{origin:{x:0,y:0},size:{width:_backingStoreFrame.size.width,height:_backingStoreFrame.size.height}});var b;if(_superlayer){b=_CALayerGetTransform(_superlayer,nil);var c=CGPointApplyAffineTransform(_superlayer._bounds.origin,b);b=CGAffineTransformConcat(_transformFromLayer,b);b.tx-=c.x;b.ty-=c.y}else b=CGAffineTransformCreateCopy(_transformFromLayer);
b.tx-=_backingStoreFrame.origin.x;b.ty-=_backingStoreFrame.origin.y;CGContextSaveGState(_context);CGContextConcatCTM(_context,b);d?_context.drawImage(_contents.buffer,_bounds.origin.x,_bounds.origin.y):objj_msgSend(a,"drawInContext:",_context);CGContextRestoreGState(_context)}}),new objj_method(sel_getUid("display"),function(a){with(a){if(!_context)_context=CGBitmapGraphicsContextCreate(),_DOMContentsElement=_context.DOMElement,_DOMContentsElement.style.zIndex=-100,_DOMContentsElement.style.overflow=
"hidden",_DOMContentsElement.style.position="absolute",_DOMContentsElement.style.visibility="visible",_DOMContentsElement.width=ROUND(_backingStoreFrame.size.width),_DOMContentsElement.height=ROUND(_backingStoreFrame.size.height),_DOMContentsElement.style.top="0px",_DOMContentsElement.style.left="0px",_DOMContentsElement.style.width=ROUND(_backingStoreFrame.size.width)+"px",_DOMContentsElement.style.height=ROUND(_backingStoreFrame.size.height)+"px",_DOMElement.appendChild(_DOMContentsElement);if(d){if(_delegateRespondsToDisplayLayerSelector)return objj_msgSend(_delegate,
"displayInLayer:",a);if(_backingStoreFrame.size.width==0||_backingStoreFrame.size.height==0)return;_contents||(_contents=CABackingStoreCreate());CABackingStoreSetSize(_contents,_bounds.size);objj_msgSend(a,"drawInContext:",CABackingStoreGetContext(_contents))}objj_msgSend(a,"composite")}}),new objj_method(sel_getUid("drawInContext:"),function(a,b,c){with(a)_backgroundColor&&(CGContextSetFillColor(c,_backgroundColor),CGContextFillRect(c,_bounds)),_delegateRespondsToDrawLayerInContextSelector&&objj_msgSend(_delegate,
"drawLayer:inContext:",a,c)}),new objj_method(sel_getUid("opacity"),function(a){with(a)return _opacity}),new objj_method(sel_getUid("setOpacity:"),function(a,b,c){with(a){if(_opacity==c)return;_opacity=c;_DOMElement.style.opacity=c;_DOMElement.style.filter="alpha(opacity="+c*100+")"}}),new objj_method(sel_getUid("setHidden:"),function(a,b,c){with(a)_isHidden=c,_DOMElement.style.display=c?"none":"block"}),new objj_method(sel_getUid("hidden"),function(a){with(a)return _isHidden}),new objj_method(sel_getUid("isHidden"),
function(a){with(a)return _isHidden}),new objj_method(sel_getUid("setMasksToBounds:"),function(a,b,c){with(a){if(_masksToBounds==c)return;_masksToBounds=c;_DOMElement.style.overflow=_masksToBounds?"hidden":"visible"}}),new objj_method(sel_getUid("setBackgroundColor:"),function(a,b,c){with(a)_backgroundColor=c,objj_msgSend(a,"setNeedsDisplay")}),new objj_method(sel_getUid("backgroundColor"),function(a){with(a)return _backgroundColor}),new objj_method(sel_getUid("sublayers"),function(a){with(a)return _sublayers}),
new objj_method(sel_getUid("superlayer"),function(a){with(a)return _superlayer}),new objj_method(sel_getUid("addSublayer:"),function(a,b,c){with(a)objj_msgSend(a,"insertSublayer:atIndex:",c,_sublayers.length)}),new objj_method(sel_getUid("removeFromSuperlayer"),function(a){with(a){_owningView&&objj_msgSend(_owningView,"setLayer:",nil);if(!_superlayer)return;_superlayer._DOMElement.removeChild(_DOMElement);objj_msgSend(_superlayer._sublayers,"removeObject:",a);_superlayer=nil}}),new objj_method(sel_getUid("insertSublayer:atIndex:"),
function(a,b,c,d){with(a){if(!c)return;b=objj_msgSend(c,"superlayer");if(b==a){var g=objj_msgSend(_sublayers,"indexOfObjectIdenticalTo:",c);if(g==d)return;objj_msgSend(_sublayers,"removeObjectAtIndex:",g);g<d&&--d}else b!=nil&&objj_msgSend(c,"removeFromSuperlayer");_DOMContentsElement&&c._zPosition>_DOMContentsElement.style.zIndex&&(_DOMContentsElement.style.zIndex-=100);objj_msgSend(_sublayers,"insertObject:atIndex:",c,d);d>=_sublayers.length-1?_DOMElement.appendChild(c._DOMElement):_DOMElement.insertBefore(c._DOMElement,
_sublayers[d+1]._DOMElement);c._superlayer=a;a!=b&&_CALayerRecalculateGeometry(c,268435455)}}),new objj_method(sel_getUid("insertSublayer:below:"),function(a,b,c,d){with(a)b=d?objj_msgSend(_sublayers,"indexOfObjectIdenticalTo:",d):0,objj_msgSend(a,"insertSublayer:atIndex:",c,b==CPNotFound?_sublayers.length:b)}),new objj_method(sel_getUid("insertSublayer:above:"),function(a,b,c,d){with(a)a=d?objj_msgSend(_sublayers,"indexOfObjectIdenticalTo:",d):_sublayers.length,a==CPNotFound&&objj_msgSend(CPException,
"raise:reason:","CALayerNotFoundException","aSublayer is not a sublayer of this layer"),objj_msgSend(_sublayers,"insertObject:atIndex:",c,a==CPNotFound?_sublayers.length:a+1)}),new objj_method(sel_getUid("replaceSublayer:with:"),function(a,b,c,d){with(a){if(c==d)return;if(c._superlayer!=a){alert("EXCEPTION");return}_DOMContentsElement&&d._zPosition>_DOMContentsElement.style.zIndex&&(_DOMContentsElement.style.zIndex-=100);objj_msgSend(_sublayers,"replaceObjectAtIndex:withObject:",objj_msgSend(_sublayers,
"indexOfObjectIdenticalTo:",c),d);_DOMElement.replaceChild(c._DOMElement,d._DOMElement)}}),new objj_method(sel_getUid("registerRunLoopUpdateWithMask:"),function(a,b,c){with(a)g==nil&&(g={},objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"performSelector:target:argument:order:modes:",sel_getUid("runLoopUpdateLayers"),CALayer,nil,0,[CPDefaultRunLoopMode])),_runLoopUpdateMask|=c,g[objj_msgSend(a,"UID")]=a}),new objj_method(sel_getUid("setNeedsComposite"),function(a){with(a)objj_msgSend(a,"registerRunLoopUpdateWithMask:",
16)}),new objj_method(sel_getUid("setNeedsDisplay"),function(a){with(a)objj_msgSend(a,"registerRunLoopUpdateWithMask:",8)}),new objj_method(sel_getUid("setNeedsDisplayOnBoundsChange:"),function(a,b,c){with(a)_needsDisplayOnBoundsChange=c}),new objj_method(sel_getUid("needsDisplayOnBoundsChange"),function(a){with(a)return _needsDisplayOnBoundsChange}),new objj_method(sel_getUid("setNeedsDisplayInRect:"),function(a,b,c){with(a)_dirtyRect=c,objj_msgSend(a,"display")}),new objj_method(sel_getUid("convertPoint:fromLayer:"),
function(a,b,c,d){with(a)return CGPointApplyAffineTransform(c,_CALayerGetTransform(d,a))}),new objj_method(sel_getUid("convertPoint:toLayer:"),function(a,b,c,d){with(a)return CGPointApplyAffineTransform(c,_CALayerGetTransform(a,d))}),new objj_method(sel_getUid("convertRect:fromLayer:"),function(a,b,c,d){with(a)return CGRectApplyAffineTransform(c,_CALayerGetTransform(d,a))}),new objj_method(sel_getUid("convertRect:toLayer:"),function(a,b,c,d){with(a)return CGRectApplyAffineTransform(c,_CALayerGetTransform(a,
d))}),new objj_method(sel_getUid("containsPoint:"),function(a,b,c){with(a)return c.x>=_bounds.origin.x&&c.y>=_bounds.origin.y&&c.x<_bounds.origin.x+_bounds.size.width&&c.y<_bounds.origin.y+_bounds.size.height}),new objj_method(sel_getUid("hitTest:"),function(a,b,c){with(a){if(_isHidden)return nil;b=CGPointApplyAffineTransform(c,_transformToLayer);if(!(b.x>=_bounds.origin.x&&b.y>=_bounds.origin.y&&b.x<_bounds.origin.x+_bounds.size.width&&b.y<_bounds.origin.y+_bounds.size.height))return nil;c=nil;for(var d=
_sublayers.length;d--;)if(c=objj_msgSend(_sublayers[d],"hitTest:",b))return c;return a}}),new objj_method(sel_getUid("setDelegate:"),function(a,b,c){with(a){if(_delegate==c)return;_delegate=c;_delegateRespondsToDisplayLayerSelector=objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("displayLayer:"));_delegateRespondsToDrawLayerInContextSelector=objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("drawLayer:inContext:"));(_delegateRespondsToDisplayLayerSelector||_delegateRespondsToDrawLayerInContextSelector)&&
objj_msgSend(a,"setNeedsDisplay")}}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("_setOwningView:"),function(a,b,c){with(a){if(_owningView=c)_owningView=c,_bounds.size=CGSizeMakeCopy(objj_msgSend(_owningView,"bounds").size),_position=CGPointMake(_bounds.size.width*_anchorPoint.x,_bounds.size.height*_anchorPoint.y);_CALayerRecalculateGeometry(a,3)}}),new objj_method(sel_getUid("_owningViewBoundsChanged"),function(a){with(a)_bounds.size=CGSizeMakeCopy(objj_msgSend(_owningView,
"bounds").size),_position=CGPointMake(_bounds.size.width*_anchorPoint.x,_bounds.size.height*_anchorPoint.y),_CALayerRecalculateGeometry(a,3)}),new objj_method(sel_getUid("_update"),function(a){with(a){window.loop=!0;var b=_runLoopUpdateMask;b&7&&_CALayerUpdateDOM(a,b);b&8?objj_msgSend(a,"display"):(b&2||b&16)&&objj_msgSend(a,"composite");_runLoopUpdateMask=0;window.loop=!1}})]);class_addMethods(b,[new objj_method(sel_getUid("layer"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,
"class"),"alloc"),"init")}),new objj_method(sel_getUid("runLoopUpdateLayers"),function(a){with(a){for(UID in g){a=g[UID];var b=a._runLoopUpdateMask;b&7&&_CALayerUpdateDOM(a,b);b&8?objj_msgSend(a,"display"):(b&2||b&16)&&objj_msgSend(a,"composite");a._runLoopUpdateMask=0}window.loop=!1;g=nil}})]);_CALayerUpdateSublayerTransformForSublayers=function(a){var b=a._bounds,c=a._anchorPoint,d=b.size.width*c.x;b=b.size.height*c.y;a._sublayerTransformForSublayers=CGAffineTransformConcat(CGAffineTransformMakeTranslation(-d,
-b),CGAffineTransformConcat(a._sublayerTransform,CGAffineTransformMakeTranslation(d,b)))};_CALayerUpdateDOM=function(a,b){var c=a._DOMElement.style;if(b&4)c.zIndex=a._zPosition;var d=a._backingStoreFrame;if(b&1)c.top=ROUND(d.origin.y)+"px",c.left=ROUND(d.origin.x)+"px";if(b&2){var g=MAX(0,ROUND(d.size.width));d=MAX(0,ROUND(d.size.height));var f=a._DOMContentsElement;c.width=g+"px";c.height=d+"px";if(f)f.width=g,f.height=d,f.style.width=g+"px",f.style.height=d+"px"}};_CALayerRecalculateGeometry=function(a,
b){var c=a._bounds,d=a._superlayer,g=a._position,f=a._anchorPoint,h=a._affineTransform,l=a._hasCustomBackingStoreFrame;a._transformFromLayer=CGAffineTransformConcat(CGAffineTransformMakeTranslation(-c.size.width*f.x-a._bounds.origin.x,-c.size.height*f.y-a._bounds.origin.y),CGAffineTransformConcat(h,CGAffineTransformMakeTranslation(g.x,g.y)));if(d&&d._hasSublayerTransform)g=a._transformFromLayer.tx*d._sublayerTransformForSublayers.a+a._transformFromLayer.ty*d._sublayerTransformForSublayers.c+d._sublayerTransformForSublayers.tx,
a._transformFromLayer.ty=a._transformFromLayer.tx*d._sublayerTransformForSublayers.b+a._transformFromLayer.ty*d._sublayerTransformForSublayers.d+d._sublayerTransformForSublayers.ty,a._transformFromLayer.tx=g,g=a._transformFromLayer.a*d._sublayerTransformForSublayers.a+a._transformFromLayer.b*d._sublayerTransformForSublayers.c,f=a._transformFromLayer.a*d._sublayerTransformForSublayers.b+a._transformFromLayer.b*d._sublayerTransformForSublayers.d,h=a._transformFromLayer.c*d._sublayerTransformForSublayers.a+
a._transformFromLayer.d*d._sublayerTransformForSublayers.c,a._transformFromLayer.d=a._transformFromLayer.c*d._sublayerTransformForSublayers.b+a._transformFromLayer.d*d._sublayerTransformForSublayers.d,a._transformFromLayer.a=g,a._transformFromLayer.b=f,a._transformFromLayer.c=h;a._transformToLayer=CGAffineTransformInvert(a._transformFromLayer);a._frame=nil;a._standardBackingStoreFrame=objj_msgSend(a,"convertRect:toLayer:",c,nil);d&&(c=objj_msgSend(d,"bounds"),c=objj_msgSend(d,"convertRect:toLayer:",
c,nil),a._standardBackingStoreFrame.origin.x-=c.origin.x,a._standardBackingStoreFrame.origin.y-=c.origin.y);c=a._standardBackingStoreFrame.origin;d=a._standardBackingStoreFrame.size;c.x=FLOOR(c.x);c.y=FLOOR(c.y);d.width=CEIL(d.width)+1;d.height=CEIL(d.height)+1;if(!l)c=CGRectMakeCopy(a._standardBackingStoreFrame),(ROUND(c.origin.x)!=ROUND(a._backingStoreFrame.origin.x)||ROUND(c.origin.y)!=ROUND(a._backingStoreFrame.origin.y))&&objj_msgSend(a,"registerRunLoopUpdateWithMask:",1),(c.size.width!=ROUND(a._backingStoreFrame.size.width)||
c.size.height!=ROUND(a._backingStoreFrame.size.height))&&objj_msgSend(a,"registerRunLoopUpdateWithMask:",2),a._backingStoreFrame=c;b&1&&a._needsDisplayOnBoundsChange?objj_msgSend(a,"setNeedsDisplay"):(l||b&-7)&&objj_msgSend(a,"setNeedsComposite");l=a._sublayers;c=0;for(d=l.length;c<d;++c)_CALayerRecalculateGeometry(l[c],b)};_CALayerGetTransform=function(a,b){var c=CGAffineTransformMakeIdentity();if(a){for(var d=a;d&&d!=b;){var g=d._transformFromLayer,f=c.tx*g.a+c.ty*g.c+g.tx;c.ty=c.tx*g.b+c.ty*g.d+
g.ty;c.tx=f;f=c.a*g.a+c.b*g.c;var h=c.a*g.b+c.b*g.d,l=c.c*g.a+c.d*g.c;c.d=c.c*g.b+c.d*g.d;c.a=f;c.b=h;c.c=l;d=d._superlayer}if(d==b)return c}g=[];for(d=b;d;)g.push(d),d=d._superlayer;for(d=g.length;d--;){var j=g[d]._transformToLayer;f=c.tx*j.a+c.ty*j.c+j.tx;c.ty=c.tx*j.b+c.ty*j.d+j.ty;c.tx=f;f=c.a*j.a+c.b*j.c;h=c.a*j.b+c.b*j.d;l=c.c*j.a+c.d*j.c;c.d=c.c*j.b+c.d*j.d;c.a=f;c.b=h;c.c=l}return c}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPControl.j",baseURL),function(h,f){f("CPFont.j",YES);f("CPShadow.j",YES);f("CPView.j",YES);f("CPKeyValueBinding.j",YES);CPLeftTextAlignment=0;CPRightTextAlignment=1;CPCenterTextAlignment=2;CPJustifiedTextAlignment=3;CPNaturalTextAlignment=4;CPRegularControlSize=0;CPSmallControlSize=1;CPMiniControlSize=2;CPLineBreakByWordWrapping=0;CPLineBreakByCharWrapping=1;CPLineBreakByClipping=2;CPLineBreakByTruncatingHead=3;CPLineBreakByTruncatingTail=
4;CPLineBreakByTruncatingMiddle=5;CPTopVerticalTextAlignment=1;CPCenterVerticalTextAlignment=2;CPBottomVerticalTextAlignment=3;CPScaleProportionally=0;CPScaleToFit=1;CPScaleNone=2;CPNoImage=0;CPImageOnly=1;CPImageLeft=2;CPImageRight=3;CPImageBelow=4;CPImageAbove=5;CPImageOverlaps=6;CPOnState=1;CPOffState=0;CPMixedState=-1;CPControlNormalBackgroundColor="CPControlNormalBackgroundColor";CPControlSelectedBackgroundColor="CPControlSelectedBackgroundColor";CPControlHighlightedBackgroundColor="CPControlHighlightedBackgroundColor";
CPControlDisabledBackgroundColor="CPControlDisabledBackgroundColor";CPControlTextDidBeginEditingNotification="CPControlTextDidBeginEditingNotification";CPControlTextDidChangeNotification="CPControlTextDidChangeNotification";CPControlTextDidEndEditingNotification="CPControlTextDidEndEditingNotification";objj_msgSend(CPColor,"blackColor");var d=objj_allocateClassPair(CPView,"CPControl"),g=d.isa;class_addIvars(d,[new objj_ivar("_value"),new objj_ivar("_target"),new objj_ivar("_action"),new objj_ivar("_sendActionOn"),
new objj_ivar("_sendsActionOnEndEditing"),new objj_ivar("_continuousTracking"),new objj_ivar("_trackingWasWithinFrame"),new objj_ivar("_trackingMouseDownFlags"),new objj_ivar("_previousTrackingLocation"),new objj_ivar("_toolTip")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("sendsActionOnEndEditing"),function(a){with(a)return _sendsActionOnEndEditing}),new objj_method(sel_getUid("setSendsActionOnEndEditing:"),function(a,b,c){with(a)_sendsActionOnEndEditing=c}),new objj_method(sel_getUid("_continuouslyReverseSetBinding"),
function(a){with(a){var b=objj_msgSend(objj_msgSend(a,"class"),"_binderClassForBinding:",CPValueBinding);a=objj_msgSend(b,"getBinding:forObject:",CPValueBinding,a);objj_msgSend(a,"continuouslyUpdatesValue")&&objj_msgSend(a,"reverseSetValueFor:","objectValue")}}),new objj_method(sel_getUid("_reverseSetBinding"),function(a){with(a){var b=objj_msgSend(objj_msgSend(a,"class"),"_binderClassForBinding:",CPValueBinding);a=objj_msgSend(b,"getBinding:forObject:",CPValueBinding,a);objj_msgSend(a,"reverseSetValueFor:",
"objectValue")}}),new objj_method(sel_getUid("initWithFrame:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPControl").super_class},"initWithFrame:",c))_sendActionOn=CPLeftMouseUpMask,_trackingMouseDownFlags=0;return a}}),new objj_method(sel_getUid("setAction:"),function(a,b,c){with(a)_action=c}),new objj_method(sel_getUid("action"),function(a){with(a)return _action}),new objj_method(sel_getUid("setTarget:"),function(a,b,c){with(a)_target=c}),new objj_method(sel_getUid("target"),
function(a){with(a)return _target}),new objj_method(sel_getUid("sendAction:to:"),function(a,b,c,d){with(a)objj_msgSend(a,"_reverseSetBinding"),objj_msgSend(CPApp,"sendAction:to:from:",c,d,a)}),new objj_method(sel_getUid("sendActionOn:"),function(a,b,c){with(a)return _sendActionOn=c}),new objj_method(sel_getUid("isContinuous"),function(a){with(a)return(_sendActionOn&CPPeriodicMask)!==0}),new objj_method(sel_getUid("setContinuous:"),function(a,b,c){with(a)c?_sendActionOn|=CPPeriodicMask:_sendActionOn&=
~CPPeriodicMask}),new objj_method(sel_getUid("tracksMouseOutsideOfFrame"),function(a){with(a)return NO}),new objj_method(sel_getUid("trackMouse:"),function(a,b,c){with(a){b=objj_msgSend(c,"type");var d=objj_msgSend(a,"convertPoint:fromView:",objj_msgSend(c,"locationInWindow"),nil),g=objj_msgSend(a,"tracksMouseOutsideOfFrame")||CGRectContainsPoint(objj_msgSend(a,"bounds"),d);b===CPLeftMouseUp?(objj_msgSend(a,"stopTracking:at:mouseIsUp:",_previousTrackingLocation,d,YES),_trackingMouseDownFlags=0,g&&
objj_msgSend(a,"setThemeState:",CPThemeStateHovered)):(objj_msgSend(a,"unsetThemeState:",CPThemeStateHovered),b===CPLeftMouseDown?(_trackingMouseDownFlags=objj_msgSend(c,"modifierFlags"),_continuousTracking=objj_msgSend(a,"startTrackingAt:",d)):b===CPLeftMouseDragged&&(g?_trackingWasWithinFrame?_continuousTracking&&(_continuousTracking=objj_msgSend(a,"continueTracking:at:",_previousTrackingLocation,d)):_continuousTracking=objj_msgSend(a,"startTrackingAt:",d):objj_msgSend(a,"stopTracking:at:mouseIsUp:",
_previousTrackingLocation,d,NO)),objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",a,sel_getUid("trackMouse:"),CPLeftMouseDraggedMask|CPLeftMouseUpMask,nil,nil,YES));_sendActionOn&1<<b&&g&&objj_msgSend(a,"sendAction:to:",_action,_target);_trackingWasWithinFrame=g;_previousTrackingLocation=d}}),new objj_method(sel_getUid("setState:"),function(a){with(a);}),new objj_method(sel_getUid("nextState"),function(a){with(a)return 0}),new objj_method(sel_getUid("performClick:"),
function(a){with(a){if(!objj_msgSend(a,"isEnabled"))return;objj_msgSend(a,"highlight:",YES);objj_msgSend(a,"setState:",objj_msgSend(a,"nextState"));try{objj_msgSend(a,"sendAction:to:",objj_msgSend(a,"action"),objj_msgSend(a,"target"))}catch(b){throw b;}finally{objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",0.1,a,sel_getUid("unhighlightButtonTimerDidFinish:"),nil,NO)}}}),new objj_method(sel_getUid("unhighlightButtonTimerDidFinish:"),function(a){with(a)objj_msgSend(a,
"highlight:",NO)}),new objj_method(sel_getUid("mouseDownFlags"),function(a){with(a)return _trackingMouseDownFlags}),new objj_method(sel_getUid("startTrackingAt:"),function(a){with(a)return objj_msgSend(a,"highlight:",YES),_sendActionOn&CPPeriodicMask||_sendActionOn&CPLeftMouseDraggedMask}),new objj_method(sel_getUid("continueTracking:at:"),function(a){with(a)return _sendActionOn&CPPeriodicMask||_sendActionOn&CPLeftMouseDraggedMask}),new objj_method(sel_getUid("stopTracking:at:mouseIsUp:"),function(a){with(a)objj_msgSend(a,
"highlight:",NO)}),new objj_method(sel_getUid("mouseDown:"),function(a,b,c){with(a){if(!objj_msgSend(a,"isEnabled"))return;objj_msgSend(a,"trackMouse:",c)}}),new objj_method(sel_getUid("mouseEntered:"),function(a){with(a){if(!objj_msgSend(a,"isEnabled"))return;objj_msgSend(a,"setThemeState:",CPThemeStateHovered)}}),new objj_method(sel_getUid("mouseExited:"),function(a,b,c){with(a)b=objj_msgSend(a,"convertPoint:fromView:",objj_msgSend(c,"locationInWindow"),nil),objj_msgSend(a,"tracksMouseOutsideOfFrame")||
CGRectContainsPoint(objj_msgSend(a,"bounds"),b)||objj_msgSend(a,"unsetThemeState:",CPThemeStateHovered)}),new objj_method(sel_getUid("objectValue"),function(a){with(a)return _value}),new objj_method(sel_getUid("setObjectValue:"),function(a,b,c){with(a)_value=c,objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("floatValue"),function(a){with(a)return a=parseFloat(_value,10),isNaN(a)?0:a}),new objj_method(sel_getUid("setFloatValue:"),function(a,b,c){with(a)objj_msgSend(a,
"setObjectValue:",c)}),new objj_method(sel_getUid("doubleValue"),function(a){with(a)return a=parseFloat(_value,10),isNaN(a)?0:a}),new objj_method(sel_getUid("setDoubleValue:"),function(a,b,c){with(a)objj_msgSend(a,"setObjectValue:",c)}),new objj_method(sel_getUid("intValue"),function(a){with(a)return a=parseInt(_value,10),isNaN(a)?0:a}),new objj_method(sel_getUid("setIntValue:"),function(a,b,c){with(a)objj_msgSend(a,"setObjectValue:",c)}),new objj_method(sel_getUid("integerValue"),function(a){with(a)return a=
parseInt(_value,10),isNaN(a)?0:a}),new objj_method(sel_getUid("setIntegerValue:"),function(a,b,c){with(a)objj_msgSend(a,"setObjectValue:",c)}),new objj_method(sel_getUid("stringValue"),function(a){with(a)return _value===void 0||_value===nil?"":String(_value)}),new objj_method(sel_getUid("setStringValue:"),function(a,b,c){with(a)objj_msgSend(a,"setObjectValue:",c)}),new objj_method(sel_getUid("takeDoubleValueFrom:"),function(a,b,c){with(a)objj_msgSend(c,"respondsToSelector:",sel_getUid("doubleValue"))&&
objj_msgSend(a,"setDoubleValue:",objj_msgSend(c,"doubleValue"))}),new objj_method(sel_getUid("takeFloatValueFrom:"),function(a,b,c){with(a)objj_msgSend(c,"respondsToSelector:",sel_getUid("floatValue"))&&objj_msgSend(a,"setFloatValue:",objj_msgSend(c,"floatValue"))}),new objj_method(sel_getUid("takeIntegerValueFrom:"),function(a,b,c){with(a)objj_msgSend(c,"respondsToSelector:",sel_getUid("integerValue"))&&objj_msgSend(a,"setIntegerValue:",objj_msgSend(c,"integerValue"))}),new objj_method(sel_getUid("takeIntValueFrom:"),
function(a,b,c){with(a)objj_msgSend(c,"respondsToSelector:",sel_getUid("intValue"))&&objj_msgSend(a,"setIntValue:",objj_msgSend(c,"intValue"))}),new objj_method(sel_getUid("takeObjectValueFrom:"),function(a,b,c){with(a)objj_msgSend(c,"respondsToSelector:",sel_getUid("objectValue"))&&objj_msgSend(a,"setObjectValue:",objj_msgSend(c,"objectValue"))}),new objj_method(sel_getUid("takeStringValueFrom:"),function(a,b,c){with(a)objj_msgSend(c,"respondsToSelector:",sel_getUid("stringValue"))&&objj_msgSend(a,
"setStringValue:",objj_msgSend(c,"stringValue"))}),new objj_method(sel_getUid("textDidBeginEditing:"),function(a,b,c){with(a){if(objj_msgSend(c,"object")!=a)return;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPControlTextDidBeginEditingNotification,a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",objj_msgSend(c,"object"),"CPFieldEditor"))}}),new objj_method(sel_getUid("textDidChange:"),function(a,b,c){with(a){if(objj_msgSend(c,
"object")!=a)return;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPControlTextDidChangeNotification,a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",objj_msgSend(c,"object"),"CPFieldEditor"))}}),new objj_method(sel_getUid("textDidEndEditing:"),function(a,b,c){with(a){if(objj_msgSend(c,"object")!=a)return;objj_msgSend(a,"_reverseSetBinding");objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",
CPControlTextDidEndEditingNotification,a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",objj_msgSend(c,"object"),"CPFieldEditor"))}}),new objj_method(sel_getUid("setAlignment:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"alignment")}),new objj_method(sel_getUid("alignment"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","alignment")}),new objj_method(sel_getUid("setVerticalAlignment:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",
c,"vertical-alignment")}),new objj_method(sel_getUid("verticalAlignment"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","vertical-alignment")}),new objj_method(sel_getUid("setLineBreakMode:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"line-break-mode")}),new objj_method(sel_getUid("lineBreakMode"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","line-break-mode")}),new objj_method(sel_getUid("setTextColor:"),function(a,b,c){with(a)objj_msgSend(a,
"setValue:forThemeAttribute:",c,"text-color")}),new objj_method(sel_getUid("textColor"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","text-color")}),new objj_method(sel_getUid("setTextShadowColor:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"text-shadow-color")}),new objj_method(sel_getUid("textShadowColor"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","text-shadow-color")}),new objj_method(sel_getUid("setTextShadowOffset:"),
function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"text-shadow-offset")}),new objj_method(sel_getUid("textShadowOffset"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","text-shadow-offset")}),new objj_method(sel_getUid("setFont:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"font")}),new objj_method(sel_getUid("font"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","font")}),new objj_method(sel_getUid("setImagePosition:"),
function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"image-position")}),new objj_method(sel_getUid("imagePosition"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","image-position")}),new objj_method(sel_getUid("setImageScaling:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"image-scaling")}),new objj_method(sel_getUid("imageScaling"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","image-scaling")}),new objj_method(sel_getUid("setEnabled:"),
function(a,b,c){with(a)c?objj_msgSend(a,"unsetThemeState:",CPThemeStateDisabled):objj_msgSend(a,"setThemeState:",CPThemeStateDisabled)}),new objj_method(sel_getUid("isEnabled"),function(a){with(a)return!objj_msgSend(a,"hasThemeState:",CPThemeStateDisabled)}),new objj_method(sel_getUid("highlight:"),function(a,b,c){with(a)objj_msgSend(a,"setHighlighted:",c)}),new objj_method(sel_getUid("setHighlighted:"),function(a,b,c){with(a)c?objj_msgSend(a,"setThemeState:",CPThemeStateHighlighted):objj_msgSend(a,
"unsetThemeState:",CPThemeStateHighlighted)}),new objj_method(sel_getUid("isHighlighted"),function(a){with(a)return objj_msgSend(a,"hasThemeState:",CPThemeStateHighlighted)})]);class_addMethods(g,[new objj_method(sel_getUid("themeAttributes"),function(a){with(a)return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[CPLeftTextAlignment,CPTopVerticalTextAlignment,CPLineBreakByClipping,objj_msgSend(CPColor,"blackColor"),objj_msgSend(CPFont,"systemFontOfSize:",12),objj_msgSend(CPNull,"null"),
{width:0,height:0},CPImageLeft,CPScaleToFit,{width:0,height:0},{width:-1,height:-1}],["alignment","vertical-alignment","line-break-mode","text-color","font","text-shadow-color","text-shadow-offset","image-position","image-scaling","min-size","max-size"])}),new objj_method(sel_getUid("initialize"),function(a){with(a)a===objj_msgSend(CPControl,"class")&&(objj_msgSend(a,"exposeBinding:","value"),objj_msgSend(a,"exposeBinding:","objectValue"),objj_msgSend(a,"exposeBinding:","stringValue"),objj_msgSend(a,
"exposeBinding:","integerValue"),objj_msgSend(a,"exposeBinding:","intValue"),objj_msgSend(a,"exposeBinding:","doubleValue"),objj_msgSend(a,"exposeBinding:","floatValue"),objj_msgSend(a,"exposeBinding:","enabled"))}),new objj_method(sel_getUid("_binderClassForBinding:"),function(a,b,c){with(a){if(c===CPValueBinding)return objj_msgSend(_CPValueBinder,"class");return objj_msgSendSuper({receiver:a,super_class:objj_getMetaClass("CPControl").super_class},"_binderClassForBinding:",c)}})]);d=objj_getClass("CPControl");
if(!d)throw new SyntaxError('*** Could not find definition for class "CPControl"');g=d.isa;class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPControl").super_class},"initWithCoder:",c))objj_msgSend(a,"setObjectValue:",objj_msgSend(c,"decodeObjectForKey:","CPControlValueKey")),objj_msgSend(a,"setTarget:",objj_msgSend(c,"decodeObjectForKey:","CPControlTargetKey")),objj_msgSend(a,"setAction:",objj_msgSend(c,
"decodeObjectForKey:","CPControlActionKey")),objj_msgSend(a,"sendActionOn:",objj_msgSend(c,"decodeIntForKey:","CPControlSendActionOnKey")),objj_msgSend(a,"setSendsActionOnEndEditing:",objj_msgSend(c,"decodeBoolForKey:","CPControlSendsActionOnEndEditingKey"));return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPControl").super_class},"encodeWithCoder:",c),_sendsActionOnEndEditing&&objj_msgSend(c,"encodeBool:forKey:",
_sendsActionOnEndEditing,"CPControlSendsActionOnEndEditingKey"),a=objj_msgSend(a,"objectValue"),a!==nil&&objj_msgSend(c,"encodeObject:forKey:",a,"CPControlValueKey"),_target!==nil&&objj_msgSend(c,"encodeConditionalObject:forKey:",_target,"CPControlTargetKey"),_action!==NULL&&objj_msgSend(c,"encodeObject:forKey:",_action,"CPControlActionKey"),objj_msgSend(c,"encodeInt:forKey:",_sendActionOn,"CPControlSendActionOnKey")})]);var c=[],b={},a={};c[CPRegularControlSize]="Regular";c[CPSmallControlSize]="Small";
c[CPMiniControlSize]="Mini";_CPControlIdentifierForControlSize=function(a){return c[a]};_CPControlColorWithPatternImage=function(a,c){for(var d=1,g=arguments.length,f="";d<g;++d)f+=arguments[d];d=b[f];d||(d=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPControl,"class")),d=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(d,"pathForResource:",c+"/"+f+".png"),a[f])),b[f]=d);return d};_CPControlThreePartImagePattern=
function(b,c,d){for(var g=2,f=arguments.length,h="";g<f;++g)h+=arguments[g];g=a[h];g||(g=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPControl,"class")),f=d+"/"+h,c=c[h],g=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPThreePartImage,"alloc"),"initWithImageSlices:isVertical:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(g,"pathForResource:",f+"0.png"),c[0]),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(g,"pathForResource:",f+"1.png"),c[1]),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(g,"pathForResource:",f+"2.png"),c[2])],b)),a[h]=g);return g}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPUndoManager.j",baseURL),function(h,f){f("CPArray.j",YES);f("CPException.j",YES);f("CPInvocation.j",YES);f("CPNotificationCenter.j",YES);f("CPObject.j",YES);f("CPProxy.j",YES);f("CPKeyValueObserving.j",YES);f("CPRunLoop.j",YES);CPUndoManagerCheckpointNotification="CPUndoManagerCheckpointNotification";CPUndoManagerDidOpenUndoGroupNotification="CPUndoManagerDidOpenUndoGroupNotification";CPUndoManagerDidRedoChangeNotification=
"CPUndoManagerDidRedoChangeNotification";CPUndoManagerDidUndoChangeNotification="CPUndoManagerDidUndoChangeNotification";CPUndoManagerWillCloseUndoGroupNotification="CPUndoManagerWillCloseUndoGroupNotification";CPUndoManagerWillRedoChangeNotification="CPUndoManagerWillRedoChangeNotification";CPUndoManagerWillUndoChangeNotification="CPUndoManagerWillUndoChangeNotification";CPUndoCloseGroupingRunLoopOrdering=35E4;var d=[],g=objj_allocateClassPair(CPObject,"_CPUndoGrouping"),c=g.isa;class_addIvars(g,
[new objj_ivar("_parent"),new objj_ivar("_invocations"),new objj_ivar("_actionName")]);objj_registerClassPair(g);class_addMethods(g,[new objj_method(sel_getUid("initWithParent:"),function(b,a,c){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPUndoGrouping").super_class},"init"))_parent=c,_invocations=[],_actionName="";return b}}),new objj_method(sel_getUid("parent"),function(b){with(b)return _parent}),new objj_method(sel_getUid("addInvocation:"),function(b,a,c){with(b)_invocations.push(c)}),
new objj_method(sel_getUid("addInvocationsFromArray:"),function(b,a,c){with(b)objj_msgSend(_invocations,"addObjectsFromArray:",c)}),new objj_method(sel_getUid("removeInvocationsWithTarget:"),function(b,a,c){with(b)for(b=_invocations.length;b--;)objj_msgSend(_invocations[b],"target")==c&&_invocations.splice(b,1)}),new objj_method(sel_getUid("invocations"),function(b){with(b)return _invocations}),new objj_method(sel_getUid("invoke"),function(b){with(b)for(b=_invocations.length;b--;)objj_msgSend(_invocations[b],
"invoke")}),new objj_method(sel_getUid("setActionName:"),function(b,a,c){with(b)_actionName=c}),new objj_method(sel_getUid("actionName"),function(b){with(b)return _actionName})]);class_addMethods(c,[new objj_method(sel_getUid("_poolUndoGrouping:"),function(b,a,c){with(b){if(!c||d.length>=5)return;d.push(c)}}),new objj_method(sel_getUid("undoGroupingWithParent:"),function(b,a,c){with(b){if(d.length){b=d.pop();b._parent=c;if(b._invocations.length)b._invocations=[];return b}return objj_msgSend(objj_msgSend(b,
"alloc"),"initWithParent:",c)}})]);g=objj_getClass("_CPUndoGrouping");if(!g)throw new SyntaxError('*** Could not find definition for class "_CPUndoGrouping"');c=g.isa;class_addMethods(g,[new objj_method(sel_getUid("initWithCoder:"),function(b,a,c){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPUndoGrouping").super_class},"init"))_parent=objj_msgSend(c,"decodeObjectForKey:","_CPUndoGroupingParentKey"),_invocations=objj_msgSend(c,"decodeObjectForKey:","_CPUndoGroupingInvocationsKey"),
_actionName=objj_msgSend(c,"decodeObjectForKey:","_CPUndoGroupingActionNameKey");return b}}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,a,c){with(b)objj_msgSend(c,"encodeObject:forKey:",_parent,"_CPUndoGroupingParentKey"),objj_msgSend(c,"encodeObject:forKey:",_invocations,"_CPUndoGroupingInvocationsKey"),objj_msgSend(c,"encodeObject:forKey:",_actionName,"_CPUndoGroupingActionNameKey")})]);g=objj_allocateClassPair(CPObject,"CPUndoManager");c=g.isa;class_addIvars(g,[new objj_ivar("_redoStack"),
new objj_ivar("_undoStack"),new objj_ivar("_groupsByEvent"),new objj_ivar("_disableCount"),new objj_ivar("_levelsOfUndo"),new objj_ivar("_currentGrouping"),new objj_ivar("_state"),new objj_ivar("_preparedTarget"),new objj_ivar("_undoManagerProxy"),new objj_ivar("_runLoopModes"),new objj_ivar("_registeredWithRunLoop")]);objj_registerClassPair(g);class_addMethods(g,[new objj_method(sel_getUid("init"),function(b){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPUndoManager").super_class},
"init"))_redoStack=[],_undoStack=[],_state=0,objj_msgSend(b,"setRunLoopModes:",[CPDefaultRunLoopMode]),objj_msgSend(b,"setGroupsByEvent:",YES),_undoManagerProxy=objj_msgSend(_CPUndoManagerProxy,"alloc"),_undoManagerProxy._undoManager=b;return b}}),new objj_method(sel_getUid("_addUndoInvocation:"),function(b,a,c){with(b)_currentGrouping||(objj_msgSend(b,"groupsByEvent")?objj_msgSend(b,"_beginUndoGroupingForEvent"):objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,"No undo group is currently open")),
objj_msgSend(_currentGrouping,"addInvocation:",c),_state===0&&objj_msgSend(_redoStack,"removeAllObjects")}),new objj_method(sel_getUid("registerUndoWithTarget:selector:object:"),function(b,a,c,d,g){with(b){if(_disableCount>0)return;a=objj_msgSend(CPInvocation,"invocationWithMethodSignature:",nil);objj_msgSend(a,"setTarget:",c);objj_msgSend(a,"setSelector:",d);objj_msgSend(a,"setArgument:atIndex:",g,2);objj_msgSend(b,"_addUndoInvocation:",a)}}),new objj_method(sel_getUid("prepareWithInvocationTarget:"),
function(b,a,c){with(b)return _preparedTarget=c,_undoManagerProxy}),new objj_method(sel_getUid("_methodSignatureOfPreparedTargetForSelector:"),function(b,a,c){with(b){if(objj_msgSend(_preparedTarget,"respondsToSelector:",c))return 1;return nil}}),new objj_method(sel_getUid("_forwardInvocationToPreparedTarget:"),function(b,a,c){with(b){if(_disableCount>0)return;objj_msgSend(c,"setTarget:",_preparedTarget);objj_msgSend(b,"_addUndoInvocation:",c);_preparedTarget=nil}}),new objj_method(sel_getUid("canRedo"),
function(b){with(b)return objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPUndoManagerCheckpointNotification,b),objj_msgSend(_redoStack,"count")>0}),new objj_method(sel_getUid("canUndo"),function(b){with(b){if(_undoStack.length>0)return YES;return objj_msgSend(objj_msgSend(_currentGrouping,"invocations"),"count")>0}}),new objj_method(sel_getUid("undo"),function(b){with(b)objj_msgSend(b,"groupingLevel")===1&&objj_msgSend(b,"endUndoGrouping"),objj_msgSend(b,
"undoNestedGroup")}),new objj_method(sel_getUid("undoNestedGroup"),function(b){with(b){if(objj_msgSend(_undoStack,"count")<=0)return;var a=objj_msgSend(CPNotificationCenter,"defaultCenter");objj_msgSend(a,"postNotificationName:object:",CPUndoManagerCheckpointNotification,b);objj_msgSend(a,"postNotificationName:object:",CPUndoManagerWillUndoChangeNotification,b);var c=_undoStack.pop(),d=objj_msgSend(c,"actionName");_state=1;objj_msgSend(b,"_beginUndoGrouping");objj_msgSend(c,"invoke");objj_msgSend(b,
"endUndoGrouping");objj_msgSend(_CPUndoGrouping,"_poolUndoGrouping:",c);_state=0;objj_msgSend(objj_msgSend(_redoStack,"lastObject"),"setActionName:",d);objj_msgSend(a,"postNotificationName:object:",CPUndoManagerDidUndoChangeNotification,b)}}),new objj_method(sel_getUid("redo"),function(b){with(b){if(objj_msgSend(_redoStack,"count")<=0)return;var a=objj_msgSend(CPNotificationCenter,"defaultCenter");objj_msgSend(a,"postNotificationName:object:",CPUndoManagerCheckpointNotification,b);objj_msgSend(a,
"postNotificationName:object:",CPUndoManagerWillRedoChangeNotification,b);var c=_currentGrouping,d=_redoStack.pop(),g=objj_msgSend(d,"actionName");_currentGrouping=nil;_state=2;objj_msgSend(b,"_beginUndoGrouping");objj_msgSend(d,"invoke");objj_msgSend(b,"endUndoGrouping");objj_msgSend(_CPUndoGrouping,"_poolUndoGrouping:",d);_currentGrouping=c;_state=0;objj_msgSend(objj_msgSend(_undoStack,"lastObject"),"setActionName:",g);objj_msgSend(a,"postNotificationName:object:",CPUndoManagerDidRedoChangeNotification,
b)}}),new objj_method(sel_getUid("beginUndoGrouping"),function(b){with(b)!_currentGrouping&&objj_msgSend(b,"groupsByEvent")&&objj_msgSend(b,"_beginUndoGroupingForEvent"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPUndoManagerCheckpointNotification,b),objj_msgSend(b,"_beginUndoGrouping")}),new objj_method(sel_getUid("_beginUndoGroupingForEvent"),function(b){with(b)objj_msgSend(b,"_beginUndoGrouping"),objj_msgSend(b,"_registerWithRunLoop")}),new objj_method(sel_getUid("_beginUndoGrouping"),
function(b){with(b)_currentGrouping=objj_msgSend(_CPUndoGrouping,"undoGroupingWithParent:",_currentGrouping)}),new objj_method(sel_getUid("endUndoGrouping"),function(b){with(b){_currentGrouping||objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,"endUndoGrouping. No undo group is currently open.");var a=objj_msgSend(CPNotificationCenter,"defaultCenter");objj_msgSend(a,"postNotificationName:object:",CPUndoManagerCheckpointNotification,b);var c=objj_msgSend(_currentGrouping,"parent");
!c&&objj_msgSend(_currentGrouping,"invocations").length>0?(objj_msgSend(a,"postNotificationName:object:",CPUndoManagerWillCloseUndoGroupNotification,b),b=_state===1?_redoStack:_undoStack,b.push(_currentGrouping),_levelsOfUndo>0&&b.length>_levelsOfUndo&&b.splice(0,1)):(objj_msgSend(c,"addInvocationsFromArray:",objj_msgSend(_currentGrouping,"invocations")),objj_msgSend(_CPUndoGrouping,"_poolUndoGrouping:",_currentGrouping));_currentGrouping=c}}),new objj_method(sel_getUid("enableUndoRegistration"),
function(b){with(b)_disableCount<=0&&objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,"enableUndoRegistration. There are no disable messages in effect right now."),_disableCount--}),new objj_method(sel_getUid("groupsByEvent"),function(b){with(b)return _groupsByEvent}),new objj_method(sel_getUid("setGroupsByEvent:"),function(b,a,c){with(b){c=!!c;if(_groupsByEvent===c)return;_groupsByEvent=c;objj_msgSend(b,"groupsByEvent")||objj_msgSend(b,"_unregisterWithRunLoop")}}),new objj_method(sel_getUid("groupingLevel"),
function(b){with(b){for(var a=(b=_currentGrouping)?1:0;b=objj_msgSend(b,"parent");)++a;return a}}),new objj_method(sel_getUid("disableUndoRegistration"),function(b){with(b)++_disableCount}),new objj_method(sel_getUid("isUndoRegistrationEnabled"),function(b){with(b)return _disableCount==0}),new objj_method(sel_getUid("isUndoing"),function(b){with(b)return _state===1}),new objj_method(sel_getUid("isRedoing"),function(b){with(b)return _state===2}),new objj_method(sel_getUid("removeAllActions"),function(b){with(b){for(;_currentGrouping;)objj_msgSend(b,
"endUndoGrouping");objj_msgSend(b,"_unregisterWithRunLoop");_state=0;_redoStack=[];_undoStack=[];_disableCount=0}}),new objj_method(sel_getUid("removeAllActionsWithTarget:"),function(b,a,c){with(b){objj_msgSend(_currentGrouping,"removeInvocationsWithTarget:",c);for(b=_redoStack.length;b--;)a=_redoStack[b],objj_msgSend(a,"removeInvocationsWithTarget:",c),objj_msgSend(a,"invocations").length||_redoStack.splice(b,1);for(b=_undoStack.length;b--;)a=_undoStack[b],objj_msgSend(a,"removeInvocationsWithTarget:",
c),objj_msgSend(a,"invocations").length||_undoStack.splice(b,1)}}),new objj_method(sel_getUid("setActionName:"),function(b,a,c){with(b)c!==nil&&_currentGrouping&&objj_msgSend(_currentGrouping,"setActionName:",c)}),new objj_method(sel_getUid("redoActionName"),function(b){with(b){if(!objj_msgSend(b,"canRedo"))return nil;return objj_msgSend(objj_msgSend(_redoStack,"lastObject"),"actionName")}}),new objj_method(sel_getUid("redoMenuItemTitle"),function(b){with(b)return objj_msgSend(b,"redoMenuTitleForUndoActionName:",
objj_msgSend(b,"redoActionName"))}),new objj_method(sel_getUid("redoMenuTitleForUndoActionName:"),function(b,a,c){with(b){if(c||c===0)return"Redo "+c;return"Redo"}}),new objj_method(sel_getUid("undoActionName"),function(b){with(b){if(!objj_msgSend(b,"canUndo"))return nil;return objj_msgSend(objj_msgSend(_undoStack,"lastObject"),"actionName")}}),new objj_method(sel_getUid("undoMenuItemTitle"),function(b){with(b)return objj_msgSend(b,"undoMenuTitleForUndoActionName:",objj_msgSend(b,"undoActionName"))}),
new objj_method(sel_getUid("undoMenuTitleForUndoActionName:"),function(b,a,c){with(b){if(c||c===0)return"Undo "+c;return"Undo"}}),new objj_method(sel_getUid("runLoopModes"),function(b){with(b)return _runLoopModes}),new objj_method(sel_getUid("setRunLoopModes:"),function(b,a,c){with(b)_runLoopModes=objj_msgSend(c,"copy"),_registeredWithRunLoop&&(objj_msgSend(b,"_unregisterWithRunLoop"),objj_msgSend(b,"_registerWithRunLoop"))}),new objj_method(sel_getUid("_runLoopEndUndoGrouping"),function(b){with(b)objj_msgSend(b,
"endUndoGrouping"),_registeredWithRunLoop=NO}),new objj_method(sel_getUid("_registerWithRunLoop"),function(b){with(b){if(_registeredWithRunLoop)return;_registeredWithRunLoop=YES;objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"performSelector:target:argument:order:modes:",sel_getUid("_runLoopEndUndoGrouping"),b,nil,CPUndoCloseGroupingRunLoopOrdering,_runLoopModes)}}),new objj_method(sel_getUid("_unregisterWithRunLoop"),function(b){with(b){if(!_registeredWithRunLoop)return;_registeredWithRunLoop=
NO;objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"cancelPerformSelector:target:argument:",sel_getUid("_runLoopEndUndoGrouping"),b,nil)}}),new objj_method(sel_getUid("observeChangesForKeyPath:ofObject:"),function(b,a,c,d){with(b)objj_msgSend(d,"addObserver:forKeyPath:options:context:",b,c,CPKeyValueObservingOptionOld|CPKeyValueObservingOptionNew,NULL)}),new objj_method(sel_getUid("stopObservingChangesForKeyPath:ofObject:"),function(b,a,c,d){with(b)objj_msgSend(d,"removeObserver:forKeyPath:",
b,c)}),new objj_method(sel_getUid("observeValueForKeyPath:ofObject:change:context:"),function(b,a,c,d,g){with(b){a=objj_msgSend(g,"valueForKey:",CPKeyValueChangeOldKey);var f=objj_msgSend(g,"valueForKey:",CPKeyValueChangeNewKey);if(a===f||a!==nil&&a.isa&&(f===nil||f.isa)&&objj_msgSend(a,"isEqual:",f))return;objj_msgSend(objj_msgSend(b,"prepareWithInvocationTarget:",d),"applyChange:toKeyPath:",objj_msgSend(g,"inverseChangeDictionary"),c)}})]);g=objj_getClass("CPUndoManager");if(!g)throw new SyntaxError('*** Could not find definition for class "CPUndoManager"');
c=g.isa;class_addMethods(g,[new objj_method(sel_getUid("initWithCoder:"),function(b,a,c){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPUndoManager").super_class},"init"))_redoStack=objj_msgSend(c,"decodeObjectForKey:","CPUndoManagerRedoStackKey"),_undoStack=objj_msgSend(c,"decodeObjectForKey:","CPUndoManagerUndoStackKey"),_levelsOfUndo=objj_msgSend(c,"decodeObjectForKey:","CPUndoManagerLevelsOfUndoKey"),_actionName=objj_msgSend(c,"decodeObjectForKey:","CPUndoManagerActionNameKey"),
_currentGrouping=objj_msgSend(c,"decodeObjectForKey:","CPUndoManagerCurrentGroupingKey"),_state=0,objj_msgSend(b,"setRunLoopModes:",objj_msgSend(c,"decodeObjectForKey:","CPUndoManagerRunLoopModesKey")),objj_msgSend(b,"setGroupsByEvent:",objj_msgSend(c,"decodeBoolForKey:","CPUndoManagerGroupsByEventKey"));return b}}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,a,c){with(b)objj_msgSend(c,"encodeObject:forKey:",_redoStack,"CPUndoManagerRedoStackKey"),objj_msgSend(c,"encodeObject:forKey:",
_undoStack,"CPUndoManagerUndoStackKey"),objj_msgSend(c,"encodeInt:forKey:",_levelsOfUndo,"CPUndoManagerLevelsOfUndoKey"),objj_msgSend(c,"encodeObject:forKey:",_actionName,"CPUndoManagerActionNameKey"),objj_msgSend(c,"encodeObject:forKey:",_currentGrouping,"CPUndoManagerCurrentGroupingKey"),objj_msgSend(c,"encodeObject:forKey:",_runLoopModes,"CPUndoManagerRunLoopModesKey"),objj_msgSend(c,"encodeBool:forKey:",_groupsByEvent,"CPUndoManagerGroupsByEventKey")})]);g=objj_allocateClassPair(CPProxy,"_CPUndoManagerProxy");
c=g.isa;class_addIvars(g,[new objj_ivar("_undoManager")]);objj_registerClassPair(g);class_addMethods(g,[new objj_method(sel_getUid("methodSignatureForSelector:"),function(b,a,c){with(b)return objj_msgSend(_undoManager,"_methodSignatureOfPreparedTargetForSelector:",c)}),new objj_method(sel_getUid("forwardInvocation:"),function(b,a,c){with(b)objj_msgSend(_undoManager,"_forwardInvocationToPreparedTarget:",c)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPPopUpButton.j",baseURL),function(h,f){f("CPButton.j",YES);f("CPGeometry.j",YES);f("CPMenu.j",YES);f("CPMenuItem.j",YES);CPPopUpButtonStatePullsDown=CPThemeState("pulls-down");var d=objj_allocateClassPair(CPButton,"CPPopUpButton"),g=d.isa;class_addIvars(d,[new objj_ivar("_selectedIndex"),new objj_ivar("_preferredEdge")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithFrame:pullsDown:"),function(c,
b,a,e){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPPopUpButton").super_class},"initWithFrame:",a))objj_msgSend(c,"selectItemAtIndex:",CPNotFound),_preferredEdge=CPMaxYEdge,objj_msgSend(c,"setValue:forThemeAttribute:",CPImageLeft,"image-position"),objj_msgSend(c,"setValue:forThemeAttribute:",CPLeftTextAlignment,"alignment"),objj_msgSend(c,"setValue:forThemeAttribute:",CPLineBreakByTruncatingTail,"line-break-mode"),objj_msgSend(c,"setMenu:",objj_msgSend(objj_msgSend(CPMenu,
"alloc"),"initWithTitle:","")),objj_msgSend(c,"setPullsDown:",e),b=CPKeyValueObservingOptionNew|CPKeyValueObservingOptionOld,objj_msgSend(c,"addObserver:forKeyPath:options:context:",c,"menu.items",b,nil),objj_msgSend(c,"addObserver:forKeyPath:options:context:",c,"_firstItem.changeCount",b,nil),objj_msgSend(c,"addObserver:forKeyPath:options:context:",c,"selectedItem.changeCount",b,nil);return c}}),new objj_method(sel_getUid("initWithFrame:"),function(c,b,a){with(c)return objj_msgSend(c,"initWithFrame:pullsDown:",
a,NO)}),new objj_method(sel_getUid("setPullsDown:"),function(c,b,a){with(c){if(!(a?objj_msgSend(c,"setThemeState:",CPPopUpButtonStatePullsDown):objj_msgSend(c,"unsetThemeState:",CPPopUpButtonStatePullsDown)))return;b=objj_msgSend(objj_msgSend(c,"menu"),"itemArray");if(objj_msgSend(b,"count")<=0)return;objj_msgSend(b[0],"setHidden:",objj_msgSend(c,"pullsDown"));objj_msgSend(c,"synchronizeTitleAndSelectedItem")}}),new objj_method(sel_getUid("pullsDown"),function(c){with(c)return objj_msgSend(c,"hasThemeState:",
CPPopUpButtonStatePullsDown)}),new objj_method(sel_getUid("addItem:"),function(c,b,a){with(c)objj_msgSend(objj_msgSend(c,"menu"),"addItem:",a)}),new objj_method(sel_getUid("addItemWithTitle:"),function(c,b,a){with(c)objj_msgSend(objj_msgSend(c,"menu"),"addItemWithTitle:action:keyEquivalent:",a,NULL,nil)}),new objj_method(sel_getUid("addItemsWithTitles:"),function(c,b,a){with(c){b=0;for(var e=objj_msgSend(a,"count");b<e;++b)objj_msgSend(c,"addItemWithTitle:",a[b])}}),new objj_method(sel_getUid("insertItemWithTitle:atIndex:"),
function(c,b,a,e){with(c){b=objj_msgSend(c,"itemArray");for(var d=objj_msgSend(b,"count");d--;)objj_msgSend(b[d],"title")==a&&objj_msgSend(c,"removeItemAtIndex:",d);objj_msgSend(objj_msgSend(c,"menu"),"insertItemWithTitle:action:keyEquivalent:atIndex:",a,NULL,nil,e)}}),new objj_method(sel_getUid("removeAllItems"),function(c){with(c){c=objj_msgSend(c,"menu");for(var b=objj_msgSend(c,"numberOfItems");b--;)objj_msgSend(c,"removeItemAtIndex:",0)}}),new objj_method(sel_getUid("removeItemWithTitle:"),function(c,
b,a){with(c)objj_msgSend(c,"removeItemAtIndex:",objj_msgSend(c,"indexOfItemWithTitle:",a)),objj_msgSend(c,"synchronizeTitleAndSelectedItem")}),new objj_method(sel_getUid("removeItemAtIndex:"),function(c,b,a){with(c)objj_msgSend(objj_msgSend(c,"menu"),"removeItemAtIndex:",a),objj_msgSend(c,"synchronizeTitleAndSelectedItem")}),new objj_method(sel_getUid("selectedItem"),function(c){with(c){var b=objj_msgSend(c,"indexOfSelectedItem");if(b<0||b>objj_msgSend(c,"numberOfItems")-1)return nil;return objj_msgSend(objj_msgSend(c,
"menu"),"itemAtIndex:",b)}}),new objj_method(sel_getUid("titleOfSelectedItem"),function(c){with(c)return objj_msgSend(objj_msgSend(c,"selectedItem"),"title")}),new objj_method(sel_getUid("indexOfSelectedItem"),function(c){with(c)return _selectedIndex}),new objj_method(sel_getUid("selectedTag"),function(c){with(c)return objj_msgSend(objj_msgSend(c,"selectedItem"),"tag")}),new objj_method(sel_getUid("_setSelectedTag:"),function(c,b,a){with(c)objj_msgSend(c,"selectItemWithTag:",a)}),new objj_method(sel_getUid("selectItem:"),
function(c,b,a){with(c)objj_msgSend(c,"selectItemAtIndex:",objj_msgSend(c,"indexOfItem:",a))}),new objj_method(sel_getUid("selectItemAtIndex:"),function(c,b,a){with(c)objj_msgSend(c,"setObjectValue:",a)}),new objj_method(sel_getUid("setSelectedIndex:"),function(c,b,a){with(c)objj_msgSend(c,"setObjectValue:",a)}),new objj_method(sel_getUid("selectedIndex"),function(c){with(c)return objj_msgSend(c,"objectValue")}),new objj_method(sel_getUid("setObjectValue:"),function(c,b,a){with(c){b=objj_msgSend(c,
"objectValue");a=parseInt(+a,10);if(b===a)return;b>=0&&!objj_msgSend(c,"pullsDown")&&objj_msgSend(objj_msgSend(c,"selectedItem"),"setState:",CPOffState);_selectedIndex=a;b>=0&&!objj_msgSend(c,"pullsDown")&&objj_msgSend(objj_msgSend(c,"selectedItem"),"setState:",CPOnState);objj_msgSend(c,"synchronizeTitleAndSelectedItem")}}),new objj_method(sel_getUid("objectValue"),function(c){with(c)return _selectedIndex}),new objj_method(sel_getUid("selectItemWithTag:"),function(c,b,a){with(c)objj_msgSend(c,"selectItemAtIndex:",
objj_msgSend(c,"indexOfItemWithTag:",a))}),new objj_method(sel_getUid("selectItemWithTitle:"),function(c,b,a){with(c)objj_msgSend(c,"selectItemAtIndex:",objj_msgSend(c,"indexOfItemWithTitle:",a))}),new objj_method(sel_getUid("numberOfItems"),function(c){with(c)return objj_msgSend(objj_msgSend(c,"menu"),"numberOfItems")}),new objj_method(sel_getUid("itemArray"),function(c){with(c)return objj_msgSend(objj_msgSend(c,"menu"),"itemArray")}),new objj_method(sel_getUid("itemAtIndex:"),function(c,b,a){with(c)return objj_msgSend(objj_msgSend(c,
"menu"),"itemAtIndex:",a)}),new objj_method(sel_getUid("itemTitleAtIndex:"),function(c,b,a){with(c)return objj_msgSend(objj_msgSend(objj_msgSend(c,"menu"),"itemAtIndex:",a),"title")}),new objj_method(sel_getUid("itemTitles"),function(c){with(c){var b=[];c=objj_msgSend(c,"itemArray");for(var a=0,e=objj_msgSend(c,"count");a<e;++a)b.push(objj_msgSend(c[a],"title"));return b}}),new objj_method(sel_getUid("itemWithTitle:"),function(c,b,a){with(c)return c=objj_msgSend(c,"menu"),objj_msgSend(c,"itemAtIndex:",
objj_msgSend(c,"indexOfItemWithTitle:",a))}),new objj_method(sel_getUid("lastItem"),function(c){with(c)return objj_msgSend(objj_msgSend(objj_msgSend(c,"menu"),"itemArray"),"lastObject")}),new objj_method(sel_getUid("indexOfItem:"),function(c,b,a){with(c)return objj_msgSend(objj_msgSend(c,"menu"),"indexOfItem:",a)}),new objj_method(sel_getUid("indexOfItemWithTag:"),function(c,b,a){with(c)return objj_msgSend(objj_msgSend(c,"menu"),"indexOfItemWithTag:",a)}),new objj_method(sel_getUid("indexOfItemWithTitle:"),
function(c,b,a){with(c)return objj_msgSend(objj_msgSend(c,"menu"),"indexOfItemWithTitle:",a)}),new objj_method(sel_getUid("indexOfItemWithRepresentedObject:"),function(c,b,a){with(c)return objj_msgSend(objj_msgSend(c,"menu"),"indexOfItemWithRepresentedObject:",a)}),new objj_method(sel_getUid("indexOfItemWithTarget:action:"),function(c,b,a,e){with(c)return objj_msgSend(objj_msgSend(c,"menu"),"indexOfItemWithTarget:action:",a,e)}),new objj_method(sel_getUid("preferredEdge"),function(c){with(c)return _preferredEdge}),
new objj_method(sel_getUid("setPreferredEdge:"),function(c,b,a){with(c)_preferredEdge=a}),new objj_method(sel_getUid("setTitle:"),function(c,b,a){with(c){if(objj_msgSend(c,"title")===a)return;objj_msgSend(c,"pullsDown")?(b=objj_msgSend(objj_msgSend(c,"menu"),"itemArray"),objj_msgSend(b,"count")<=0?objj_msgSend(c,"addItemWithTitle:",a):(objj_msgSend(b[0],"setTitle:",a),objj_msgSend(c,"synchronizeTitleAndSelectedItem"))):(b=objj_msgSend(c,"indexOfItemWithTitle:",a),b<0&&(objj_msgSend(c,"addItemWithTitle:",
a),b=objj_msgSend(c,"numberOfItems")-1),objj_msgSend(c,"selectItemAtIndex:",b))}}),new objj_method(sel_getUid("setImage:"),function(c){with(c);}),new objj_method(sel_getUid("synchronizeTitleAndSelectedItem"),function(c){with(c){var b=nil;if(objj_msgSend(c,"pullsDown")){var a=objj_msgSend(objj_msgSend(c,"menu"),"itemArray");objj_msgSend(a,"count")>0&&(b=a[0])}else b=objj_msgSend(c,"selectedItem");objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPPopUpButton").super_class},"setImage:",objj_msgSend(b,
"image"));objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPPopUpButton").super_class},"setTitle:",objj_msgSend(b,"title"))}}),new objj_method(sel_getUid("observeValueForKeyPath:ofObject:change:context:"),function(c,b,a,e,d){with(c)if(b=objj_msgSend(c,"pullsDown"),(!b&&a==="selectedItem.changeCount"||b&&(a==="_firstItem"||a==="_firstItem.changeCount"))&&objj_msgSend(c,"synchronizeTitleAndSelectedItem"),a==="menu"&&(a="menu.items",objj_msgSend(d,"setObject:forKey:",CPKeyValueChangeSetting,
CPKeyValueChangeKindKey),objj_msgSend(d,"setObject:forKey:",objj_msgSend(objj_msgSend(c,"menu"),"itemArray"),CPKeyValueChangeNewKey)),a==="menu.items")if(e=objj_msgSend(d,"objectForKey:",CPKeyValueChangeKindKey),a=objj_msgSend(c,"indexOfSelectedItem"),e===CPKeyValueChangeRemoval){b=CPNotFound;d=objj_msgSend(d,"objectForKey:",CPKeyValueChangeIndexesKey);for(objj_msgSend(d,"containsIndex:",0)&&objj_msgSend(c,"pullsDown")&&objj_msgSend(c,"_firstItemDidChange");(b=objj_msgSend(d,"indexGreaterThanIndex:",
b))!==CPNotFound&&b<=a;)--a;objj_msgSend(c,"selectItemAtIndex:",a)}else if(e===CPKeyValueChangeReplacement)d=objj_msgSend(d,"objectForKey:",CPKeyValueChangeIndexesKey),(b&&objj_msgSend(d,"containsIndex:",0)||!b&&objj_msgSend(d,"containsIndex:",a))&&objj_msgSend(c,"synchronizeTitleAndSelectedItem");else if(b=objj_msgSend(d,"objectForKey:",CPKeyValueChangeNewKey),objj_msgSend(b,"enumerateObjectsUsingBlock:",function(a){var b=objj_msgSend(a,"action");b||objj_msgSend(a,"setAction:",b=sel_getUid("_popUpItemAction:"));
b===sel_getUid("_popUpItemAction:")&&objj_msgSend(a,"setTarget:",c)}),e===CPKeyValueChangeSetting)objj_msgSend(c,"_firstItemDidChange"),objj_msgSend(c,"selectItemAtIndex:",CPNotFound),objj_msgSend(c,"selectItemAtIndex:",MIN(objj_msgSend(b,"count")-1,a));else{d=objj_msgSend(d,"objectForKey:",CPKeyValueChangeIndexesKey);if(objj_msgSend(c,"pullsDown")&&objj_msgSend(d,"containsIndex:",0)&&(objj_msgSend(c,"_firstItemDidChange"),objj_msgSend(c,"numberOfItems")>1)){b=CPNotFound;for(e=0;(b=objj_msgSend(d,
"indexGreaterThanIndex:",b))!==CPNotFound&&b<=e;)++e;objj_msgSend(objj_msgSend(c,"itemAtIndex:",e),"setHidden:",NO)}if(a<0)objj_msgSend(c,"selectItemAtIndex:",0);else{for(b=CPNotFound;(b=objj_msgSend(d,"indexGreaterThanIndex:",b))!==CPNotFound&&b<=a;)++a;objj_msgSend(c,"selectItemAtIndex:",a)}}}),new objj_method(sel_getUid("mouseDown:"),function(c){with(c){if(!objj_msgSend(c,"isEnabled")||!objj_msgSend(c,"numberOfItems"))return;objj_msgSend(c,"highlight:",YES);var b=objj_msgSend(c,"menu"),a=objj_msgSend(c,
"bounds"),e=CGRectGetWidth(a);objj_msgSend(b,"setFont:",objj_msgSend(c,"font"));if(objj_msgSend(c,"pullsDown"))var d=nil,g=CGPointMake(0,CGRectGetMaxY(a));else{g=objj_msgSend(c,"contentRectForBounds:",a);d=objj_msgSend(c,"selectedItem");var f=objj_msgSend(_CPMenuWindow,"_standardLeftMargin")+objj_msgSend(_CPMenuItemStandardView,"_standardLeftMargin");g=CGPointMake(CGRectGetMinX(g)-f,0);e+=f;objj_msgSend(b,"_highlightItemAtIndex:",CPNotFound)}objj_msgSend(b,"setMinimumWidth:",e);objj_msgSend(b,"_popUpMenuPositioningItem:atLocation:topY:bottomY:inView:callback:",
d,g,CGRectGetMinY(a),CGRectGetMaxY(a),c,function(a){objj_msgSend(c,"highlight:",NO);a=objj_msgSend(a,"highlightedItem");objj_msgSend(a,"_isSelectable")&&objj_msgSend(c,"selectItem:",a)})}}),new objj_method(sel_getUid("rightMouseDown:"),function(c){with(c);}),new objj_method(sel_getUid("_popUpItemAction:"),function(c){with(c)objj_msgSend(c,"sendAction:to:",objj_msgSend(c,"action"),objj_msgSend(c,"target"))}),new objj_method(sel_getUid("_firstItemDidChange"),function(c){with(c)objj_msgSend(c,"willChangeValueForKey:",
"_firstItem"),objj_msgSend(c,"didChangeValueForKey:","_firstItem"),objj_msgSend(objj_msgSend(c,"_firstItem"),"setHidden:",YES)}),new objj_method(sel_getUid("_firstItem"),function(c){with(c){if(objj_msgSend(c,"numberOfItems")<=0)return nil;return objj_msgSend(objj_msgSend(c,"menu"),"itemAtIndex:",0)}}),new objj_method(sel_getUid("takeValueFromKeyPath:ofObjects:"),function(c,b,a,e){with(c){b=e.length;var d=objj_msgSend(e[0],"valueForKeyPath:",a);objj_msgSend(c,"selectItemWithTag:",d);for(objj_msgSend(c,
"setEnabled:",YES);b-- >1;)d!==objj_msgSend(e[b],"valueForKeyPath:",a)&&objj_msgSend(objj_msgSend(c,"selectedItem"),"setState:",CPOffState)}})]);class_addMethods(g,[new objj_method(sel_getUid("defaultThemeClass"),function(c){with(c)return"popup-button"}),new objj_method(sel_getUid("keyPathsForValuesAffectingSelectedIndex"),function(c){with(c)return objj_msgSend(CPSet,"setWithObject:","objectValue")}),new objj_method(sel_getUid("keyPathsForValuesAffectingSelectedTag"),function(c){with(c)return objj_msgSend(CPSet,
"setWithObject:","objectValue")}),new objj_method(sel_getUid("keyPathsForValuesAffectingSelectedItem"),function(c){with(c)return objj_msgSend(CPSet,"setWithObject:","objectValue")})]);d=objj_getClass("CPPopUpButton");if(!d)throw new SyntaxError('*** Could not find definition for class "CPPopUpButton"');g=d.isa;class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(c,b,a){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPPopUpButton").super_class},"initWithCoder:",
a))objj_msgSend(c,"synchronizeTitleAndSelectedItem"),objj_msgSend(a,"containsValueForKey:","CPPopUpButtonMenuKey")&&(CPLog.warn(c+" was encoded with an older version of Cappuccino. Please nib2cib the original nib again or open and re-save in Atlas."),objj_msgSend(c,"setMenu:",objj_msgSend(a,"decodeObjectForKey:","CPPopUpButtonMenuKey")),objj_msgSend(c,"setObjectValue:",objj_msgSend(a,"decodeObjectForKey:","CPPopUpButtonSelectedIndexKey"))),b=CPKeyValueObservingOptionNew|CPKeyValueObservingOptionOld,
objj_msgSend(c,"addObserver:forKeyPath:options:context:",c,"menu.items",b,nil),objj_msgSend(c,"addObserver:forKeyPath:options:context:",c,"_firstItem.changeCount",b,nil),objj_msgSend(c,"addObserver:forKeyPath:options:context:",c,"selectedItem.changeCount",b,nil);return c}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPDragServer.j",baseURL),function(h,f){f("CPApplication.j",YES);f("CPEvent.j",YES);f("CPImageView.j",YES);f("CPPasteboard.j",YES);f("CPView.j",YES);f("CPWindow.j",YES);CPDragOperationNone=0;CPDragOperationLink=CPDragOperationCopy=2;CPDragOperationGeneric=4;CPDragOperationPrivate=8;CPDragOperationMove=16;CPDragOperationDelete=32;CPDragOperationEvery=-1;var d=nil,g=nil,c=objj_allocateClassPair(CPObject,"CPDraggingInfo"),b=c.isa;objj_registerClassPair(c);
class_addMethods(c,[new objj_method(sel_getUid("draggingPasteboard"),function(a){with(a){if(objj_msgSend(CPPlatform,"supportsDragAndDrop"))return objj_msgSend(_CPDOMDataTransferPasteboard,"DOMDataTransferPasteboard");return objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingPasteboard")}}),new objj_method(sel_getUid("draggingSource"),function(a){with(a)return objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingSource")}),new objj_method(sel_getUid("draggingLocation"),
function(a){with(a)return objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingLocation")}),new objj_method(sel_getUid("draggingDestinationWindow"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingDestination"),"isKindOfClass:",objj_msgSend(CPWindow,"class"))?objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingDestination"):objj_msgSend(objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingDestination"),
"window")}),new objj_method(sel_getUid("draggedImage"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"draggedView"),"image")}),new objj_method(sel_getUid("draggedImageLocation"),function(a){with(a)return objj_msgSend(a,"draggedViewLocation")}),new objj_method(sel_getUid("draggedView"),function(a){with(a)return objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggedView")}),new objj_method(sel_getUid("draggedViewLocation"),function(a){with(a)return a=objj_msgSend(CPDragServer,"sharedDragServer"),
objj_msgSend(objj_msgSend(objj_msgSend(a,"draggingDestination"),"isKindOfClass:",objj_msgSend(CPWindow,"class"))?objj_msgSend(a,"draggingDestination"):objj_msgSend(objj_msgSend(a,"draggingDestination"),"window"),"convertPlatformWindowToBase:",objj_msgSend(objj_msgSend(a,"draggedView"),"frame").origin)})]);c=objj_allocateClassPair(CPObject,"CPDragServer");b=c.isa;class_addIvars(c,[new objj_ivar("_isDragging"),new objj_ivar("_draggedWindow"),new objj_ivar("_draggedView"),new objj_ivar("_imageView"),
new objj_ivar("_isDraggingImage"),new objj_ivar("_draggingOffset"),new objj_ivar("_draggingPasteboard"),new objj_ivar("_draggingSource"),new objj_ivar("_implementedDraggingSourceMethods"),new objj_ivar("_draggingLocation"),new objj_ivar("_draggingDestination"),new objj_ivar("_draggingDestinationWantsPeriodicUpdates"),new objj_ivar("_startDragLocation"),new objj_ivar("_shouldSlideBack"),new objj_ivar("_dragOperation"),new objj_ivar("_draggingUpdateTimer")]);objj_registerClassPair(c);class_addMethods(c,
[new objj_method(sel_getUid("isDragging"),function(a){with(a)return _isDragging}),new objj_method(sel_getUid("draggedWindow"),function(a){with(a)return _draggedWindow}),new objj_method(sel_getUid("draggedView"),function(a){with(a)return _draggedView}),new objj_method(sel_getUid("draggingOffset"),function(a){with(a)return _draggingOffset}),new objj_method(sel_getUid("draggingPasteboard"),function(a){with(a)return _draggingPasteboard}),new objj_method(sel_getUid("draggingSource"),function(a){with(a)return _draggingSource}),
new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPDragServer").super_class},"init"))_draggedWindow=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",{origin:{x:0,y:0},size:{width:0,height:0}},CPBorderlessWindowMask),objj_msgSend(_draggedWindow,"setLevel:",CPDraggingWindowLevel);return a}}),new objj_method(sel_getUid("draggingDestination"),function(a){with(a)return _draggingDestination}),new objj_method(sel_getUid("draggingLocation"),
function(a){with(a)return _draggingLocation}),new objj_method(sel_getUid("draggingStartedInPlatformWindow:globalLocation:"),function(a,b,c,d){with(a)_isDraggingImage?objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedImage:beganAt:"))&&objj_msgSend(_draggingSource,"draggedImage:beganAt:",objj_msgSend(_draggedView,"image"),d):objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedView:beganAt:"))&&objj_msgSend(_draggingSource,"draggedView:beganAt:",_draggedView,d),
objj_msgSend(CPPlatform,"supportsDragAndDrop")||objj_msgSend(_draggedWindow,"orderFront:",a)}),new objj_method(sel_getUid("draggingSourceUpdatedWithGlobalLocation:"),function(a,b,c){with(a)objj_msgSend(CPPlatform,"supportsDragAndDrop")||objj_msgSend(_draggedWindow,"setFrameOrigin:",{x:c.x-_draggingOffset.width,y:c.y-_draggingOffset.height}),_implementedDraggingSourceMethods&1?objj_msgSend(_draggingSource,"draggedImage:movedTo:",objj_msgSend(_draggedView,"image"),c):_implementedDraggingSourceMethods&
4&&objj_msgSend(_draggingSource,"draggedView:movedTo:",_draggedView,c)}),new objj_method(sel_getUid("draggingUpdatedInPlatformWindow:location:"),function(a,b,c,d){with(a){objj_msgSend(_draggingUpdateTimer,"invalidate");_draggingUpdateTimer=nil;b=CPDragOperationCopy;var f=objj_msgSend(c,"_dragHitTest:pasteboard:",d,objj_msgSend(g,"draggingPasteboard"));f&&(_draggingLocation=objj_msgSend(objj_msgSend(f,"isKindOfClass:",objj_msgSend(CPWindow,"class"))?f:objj_msgSend(f,"window"),"convertPlatformWindowToBase:",
d));f!==_draggingDestination?(objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("draggingExited:"))&&objj_msgSend(_draggingDestination,"draggingExited:",g),_draggingDestination=f,_draggingDestinationWantsPeriodicUpdates=objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("wantsPeriodicDraggingUpdates"))?objj_msgSend(_draggingDestination,"wantsPeriodicDraggingUpdates"):YES,objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("draggingEntered:"))&&(b=objj_msgSend(_draggingDestination,
"draggingEntered:",g))):objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("draggingUpdated:"))&&(b=objj_msgSend(_draggingDestination,"draggingUpdated:",g));if(_draggingDestination){if(_draggingDestinationWantsPeriodicUpdates&&(_draggingUpdateTimer=objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",0.05,a,sel_getUid("_sendPeriodicDraggingUpdate:"),objj_msgSend(CPDictionary,"dictionaryWithJSObject:",{platformWindow:c,location:d}),NO)),a=objj_msgSend(_draggingDestination,
"isKindOfClass:",objj_msgSend(CPView,"class"))?objj_msgSend(_draggingDestination,"enclosingScrollView"):nil){c=objj_msgSend(a,"contentView");d=objj_msgSend(c,"bounds");f=CGRectInset(d,30,30);var h=objj_msgSend(c,"convertPoint:fromView:",_draggingLocation,nil),m=0,l=0;if(!CGRectContainsPoint(f,h)){if(objj_msgSend(a,"hasVerticalScroller")&&(h.y<CGRectGetMinY(f)?l=CGRectGetMinY(f)-h.y:h.y>CGRectGetMaxY(f)&&(l=CGRectGetMaxY(f)-h.y),l<-f.size.height&&(l=-f.size.height),l>f.size.height))l=f.size.height;
if(objj_msgSend(a,"hasHorizontalScroller")&&(h.x<CGRectGetMinX(f)?m=CGRectGetMinX(f)-h.x:h.x>CGRectGetMaxX(f)&&(m=CGRectGetMaxX(f)-h.x),m<-f.size.width&&(m=-f.size.width),m>f.size.width))m=f.size.width;objj_msgSend(c,"scrollToPoint:",CGPointMake(d.origin.x-m,d.origin.y-l))}}}else b=CPDragOperationNone;return b}}),new objj_method(sel_getUid("_sendPeriodicDraggingUpdate:"),function(a,b,c){with(a)b=objj_msgSend(c,"userInfo"),_dragOperation=objj_msgSend(a,"draggingUpdatedInPlatformWindow:location:",objj_msgSend(b,
"objectForKey:","platformWindow"),objj_msgSend(b,"objectForKey:","location"))}),new objj_method(sel_getUid("draggingEndedInPlatformWindow:globalLocation:operation:"),function(a,b,c,d,g){with(a)objj_msgSend(_draggingUpdateTimer,"invalidate"),_draggingUpdateTimer=nil,objj_msgSend(_draggedView,"removeFromSuperview"),objj_msgSend(CPPlatform,"supportsDragAndDrop")||objj_msgSend(_draggedWindow,"orderOut:",a),_implementedDraggingSourceMethods&2?objj_msgSend(_draggingSource,"draggedImage:endedAt:operation:",
objj_msgSend(_draggedView,"image"),d,g):_implementedDraggingSourceMethods&8&&objj_msgSend(_draggingSource,"draggedView:endedAt:operation:",_draggedView,d,g),_isDragging=NO}),new objj_method(sel_getUid("performDragOperationInPlatformWindow:"),function(a){with(a)_draggingDestination&&(!objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("prepareForDragOperation:"))||objj_msgSend(_draggingDestination,"prepareForDragOperation:",g))&&(!objj_msgSend(_draggingDestination,"respondsToSelector:",
sel_getUid("performDragOperation:"))||objj_msgSend(_draggingDestination,"performDragOperation:",g))&&objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("concludeDragOperation:"))&&objj_msgSend(_draggingDestination,"concludeDragOperation:",g)}),new objj_method(sel_getUid("dragView:fromWindow:at:offset:event:pasteboard:source:slideBack:"),function(a,b,c,d,g,f,h,l,j,p){with(a)_isDragging=YES,_draggedView=c,_draggingPasteboard=l||objj_msgSend(CPPasteboard,"pasteboardWithName:",CPDragPboard),
_draggingSource=j,_draggingDestination=nil,_shouldSlideBack=p,b=objj_msgSend(h,"window"),(f=objj_msgSend(h,"locationInWindow"))?(b&&(f=objj_msgSend(b,"convertBaseToGlobal:",f)),_draggingOffset={width:f.x-g.x,height:f.y-g.y}):_draggingOffset={width:0,height:0},objj_msgSend(CPPlatform,"isBrowser")&&objj_msgSend(_draggedWindow,"setPlatformWindow:",objj_msgSend(d,"platformWindow")),objj_msgSend(c,"setFrameOrigin:",{x:0,y:0}),g=objj_msgSend(CPEvent,"mouseLocation"),_startDragLocation={x:g.x-_draggingOffset.width,
y:g.y-_draggingOffset.height},objj_msgSend(_draggedWindow,"setFrameOrigin:",_startDragLocation),objj_msgSend(_draggedWindow,"setFrameSize:",objj_msgSend(c,"frame").size),objj_msgSend(objj_msgSend(_draggedWindow,"contentView"),"addSubview:",c),_implementedDraggingSourceMethods=0,_draggedView===_imageView?(objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedImage:movedTo:"))&&(_implementedDraggingSourceMethods|=1),objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedImage:endedAt:operation:"))&&
(_implementedDraggingSourceMethods|=2)):(objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedView:movedTo:"))&&(_implementedDraggingSourceMethods|=4),objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedView:endedAt:operation:"))&&(_implementedDraggingSourceMethods|=8)),objj_msgSend(CPPlatform,"supportsDragAndDrop")||(objj_msgSend(a,"draggingStartedInPlatformWindow:globalLocation:",objj_msgSend(d,"platformWindow"),g),objj_msgSend(a,"trackDragging:",h))}),new objj_method(sel_getUid("dragImage:fromWindow:at:offset:event:pasteboard:source:slideBack:"),
function(a,b,c,d,g,f,h,l,j,p){with(a)_isDraggingImage=YES,b=objj_msgSend(c,"size"),_imageView||(_imageView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:b.width,height:b.height}})),objj_msgSend(_imageView,"setImage:",c),objj_msgSend(a,"dragView:fromWindow:at:offset:event:pasteboard:source:slideBack:",_imageView,d,g,f,h,l,j,p)}),new objj_method(sel_getUid("trackDragging:"),function(a,b,c){with(a){b=objj_msgSend(c,"type");var d=objj_msgSend(_draggedWindow,
"platformWindow"),g=objj_msgSend(objj_msgSend(c,"window"),"convertBaseToPlatformWindow:",objj_msgSend(c,"locationInWindow"));if(b===CPLeftMouseUp){_dragOperation!==CPDragOperationNone&&objj_msgSend(a,"performDragOperationInPlatformWindow:",d);objj_msgSend(a,"draggingEndedInPlatformWindow:globalLocation:operation:",d,g,_dragOperation);return}else if(b===CPKeyDown){if(objj_msgSend(c,"characters")===CPEscapeFunctionKey){_dragOperation=CPDragOperationNone;objj_msgSend(a,"draggingEndedInPlatformWindow:globalLocation:operation:",
d,CGPointMakeZero(),_dragOperation);return}}else objj_msgSend(a,"draggingSourceUpdatedWithGlobalLocation:",g),_dragOperation=objj_msgSend(a,"draggingUpdatedInPlatformWindow:location:",d,g);objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",a,sel_getUid("trackDragging:"),CPMouseMovedMask|CPLeftMouseDraggedMask|CPLeftMouseUpMask|CPKeyDownMask,nil,0,NO)}})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==objj_msgSend(CPDragServer,
"class"))return;g=objj_msgSend(objj_msgSend(CPDraggingInfo,"alloc"),"init")}}),new objj_method(sel_getUid("sharedDragServer"),function(a){with(a)return d||(d=objj_msgSend(objj_msgSend(CPDragServer,"alloc"),"init")),d})]);c=objj_getClass("CPWindow");if(!c)throw new SyntaxError('*** Could not find definition for class "CPWindow"');b=c.isa;class_addMethods(c,[new objj_method(sel_getUid("_dragHitTest:pasteboard:"),function(a,b,c,d){with(a){if(!_inclusiveRegisteredDraggedTypes)return nil;b=objj_msgSend(a,
"convertPlatformWindowToBase:",c);for(b=objj_msgSend(_windowView,"hitTest:",b);b&&!objj_msgSend(d,"availableTypeFromArray:",objj_msgSend(b,"registeredDraggedTypes"));)b=objj_msgSend(b,"superview");if(b)return b;if(objj_msgSend(d,"availableTypeFromArray:",objj_msgSend(a,"registeredDraggedTypes")))return a;return nil}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuBarWindow.j",baseURL),function(h,f){f("CPPanel.j",YES);f("_CPMenuWindow.j",YES);var d=nil,g=nil,c=objj_allocateClassPair(CPPanel,"_CPMenuBarWindow"),b=c.isa;class_addIvars(c,[new objj_ivar("_menu"),new objj_ivar("_highlightView"),new objj_ivar("_menuItemViews"),new objj_ivar("_trackingMenuItem"),new objj_ivar("_iconImageView"),new objj_ivar("_titleField"),new objj_ivar("_textColor"),new objj_ivar("_titleColor"),new objj_ivar("_textShadowColor"),
new objj_ivar("_titleShadowColor"),new objj_ivar("_highlightColor"),new objj_ivar("_highlightTextColor"),new objj_ivar("_highlightTextShadowColor")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("init"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),"contentBounds");b.size.height=28;if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuBarWindow").super_class},"initWithContentRect:styleMask:",b,CPBorderlessWindowMask))objj_msgSend(a,
"setLevel:",CPMainMenuWindowLevel),objj_msgSend(a,"setAutoresizingMask:",CPWindowWidthSizable),b=objj_msgSend(a,"contentView"),objj_msgSend(b,"setAutoresizesSubviews:",NO),objj_msgSend(a,"setBecomesKeyOnlyIfNeeded:",YES),_iconImageView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMake(0,0,16,16)),objj_msgSend(b,"addSubview:",_iconImageView),_titleField=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_titleField,"setFont:",objj_msgSend(CPFont,
"boldSystemFontOfSize:",13)),objj_msgSend(_titleField,"setAlignment:",CPCenterTextAlignment),objj_msgSend(_titleField,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(b,"addSubview:",_titleField);return a}}),new objj_method(sel_getUid("setTitle:"),function(a,b,c){with(a)b=objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"objectForInfoDictionaryKey:","CPBundleName"),document.title=objj_msgSend(b,"length")?objj_msgSend(c,"length")?c+" - "+b:b:c,objj_msgSend(_titleField,"setStringValue:",c),objj_msgSend(_titleField,
"sizeToFit"),objj_msgSend(a,"tile")}),new objj_method(sel_getUid("setIconImage:"),function(a,b,c){with(a)objj_msgSend(_iconImageView,"setImage:",c),objj_msgSend(_iconImageView,"setHidden:",c==nil),objj_msgSend(a,"tile")}),new objj_method(sel_getUid("setIconImageAlphaValue:"),function(a,b,c){with(a)objj_msgSend(_iconImageView,"setAlphaValue:",c)}),new objj_method(sel_getUid("setColor:"),function(a,b,c){with(a)c?objj_msgSend(objj_msgSend(a,"contentView"),"setBackgroundColor:",c):(d||(d=objj_msgSend(CPColor,
"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_CPMenuBarWindow,"class")),"pathForResource:","_CPMenuBarWindow/_CPMenuBarWindowBackground.png"),CGSizeMake(1,28)))),objj_msgSend(objj_msgSend(a,"contentView"),"setBackgroundColor:",d))}),new objj_method(sel_getUid("setTextColor:"),function(a,b,c){with(a){if(_textColor==c)return;_textColor=c;objj_msgSend(_menuItemViews,"makeObjectsPerformSelector:withObject:",
sel_getUid("setTextColor:"),_textColor)}}),new objj_method(sel_getUid("setTitleColor:"),function(a,b,c){with(a){if(_titleColor==c)return;_titleColor=c;objj_msgSend(_titleField,"setTextColor:",c?c:objj_msgSend(CPColor,"blackColor"))}}),new objj_method(sel_getUid("setTextShadowColor:"),function(a,b,c){with(a){if(_textShadowColor==c)return;_textShadowColor=c;objj_msgSend(_menuItemViews,"makeObjectsPerformSelector:withObject:",sel_getUid("setTextShadowColor:"),_textShadowColor)}}),new objj_method(sel_getUid("setTitleShadowColor:"),
function(a,b,c){with(a){if(_titleShadowColor==c)return;_titleShadowColor=c;objj_msgSend(_titleField,"setTextShadowColor:",c?c:objj_msgSend(CPColor,"whiteColor"))}}),new objj_method(sel_getUid("setHighlightColor:"),function(a,b,c){with(a){if(_highlightColor==c)return;_highlightColor=c}}),new objj_method(sel_getUid("setHighlightTextColor:"),function(a,b,c){with(a){if(_highlightTextColor==c)return;_highlightTextColor=c}}),new objj_method(sel_getUid("setHighlightTextShadowColor:"),function(a,b,c){with(a){if(_highlightTextShadowColor==
c)return;_highlightTextShadowColor=c}}),new objj_method(sel_getUid("setMenu:"),function(a,b,c){with(a){if(_menu==c)return;var d=objj_msgSend(CPNotificationCenter,"defaultCenter");if(_menu){objj_msgSend(d,"removeObserver:name:object:",a,CPMenuDidAddItemNotification,_menu);objj_msgSend(d,"removeObserver:name:object:",a,CPMenuDidChangeItemNotification,_menu);objj_msgSend(d,"removeObserver:name:object:",a,CPMenuDidRemoveItemNotification,_menu);b=objj_msgSend(_menu,"itemArray");for(var g=b.length;g--;)objj_msgSend(objj_msgSend(b[g],
"_menuItemView"),"removeFromSuperview")}if(_menu=c)objj_msgSend(d,"addObserver:selector:name:object:",a,sel_getUid("menuDidAddItem:"),CPMenuDidAddItemNotification,_menu),objj_msgSend(d,"addObserver:selector:name:object:",a,sel_getUid("menuDidChangeItem:"),CPMenuDidChangeItemNotification,_menu),objj_msgSend(d,"addObserver:selector:name:object:",a,sel_getUid("menuDidRemoveItem:"),CPMenuDidRemoveItemNotification,_menu);_menuItemViews=[];c=objj_msgSend(a,"contentView");b=objj_msgSend(_menu,"itemArray");
g=b.length;for(index=0;index<g;++index){d=b[index];var f=objj_msgSend(d,"_menuItemView");_menuItemViews.push(f);objj_msgSend(f,"setTextColor:",_textColor);objj_msgSend(f,"setHidden:",objj_msgSend(d,"isHidden"));objj_msgSend(f,"synchronizeWithMenuItem");objj_msgSend(c,"addSubview:",f)}objj_msgSend(a,"tile")}}),new objj_method(sel_getUid("menuDidChangeItem:"),function(a,b,c){with(a)b=objj_msgSend(_menu,"itemAtIndex:",objj_msgSend(objj_msgSend(c,"userInfo"),"objectForKey:","CPMenuItemIndex")),c=objj_msgSend(b,
"_menuItemView"),objj_msgSend(c,"setHidden:",objj_msgSend(b,"isHidden")),objj_msgSend(c,"synchronizeWithMenuItem"),objj_msgSend(a,"tile")}),new objj_method(sel_getUid("menuDidAddItem:"),function(a,b,c){with(a){b=objj_msgSend(objj_msgSend(c,"userInfo"),"objectForKey:","CPMenuItemIndex");c=objj_msgSend(_menu,"itemAtIndex:",b);var d=objj_msgSend(c,"_menuItemView");objj_msgSend(_menuItemViews,"insertObject:atIndex:",d,b);objj_msgSend(d,"setTextColor:",_textColor);objj_msgSend(d,"setHidden:",objj_msgSend(c,
"isHidden"));objj_msgSend(d,"synchronizeWithMenuItem");objj_msgSend(objj_msgSend(a,"contentView"),"addSubview:",d);objj_msgSend(a,"tile")}}),new objj_method(sel_getUid("menuDidRemoveItem:"),function(a,b,c){with(a)b=objj_msgSend(objj_msgSend(c,"userInfo"),"objectForKey:","CPMenuItemIndex"),c=objj_msgSend(_menuItemViews,"objectAtIndex:",b),objj_msgSend(_menuItemViews,"removeObjectAtIndex:",b),objj_msgSend(c,"removeFromSuperview"),objj_msgSend(a,"tile")}),new objj_method(sel_getUid("mouseDown:"),function(a,
b,c){with(a)b=CGRectInset(objj_msgSend(objj_msgSend(a,"platformWindow"),"visibleFrame"),5,0),b.size.height-=5,objj_msgSend(objj_msgSend(_CPMenuManager,"sharedMenuManager"),"beginTracking:menuContainer:constraintRect:callback:",c,a,b,function(a,b){objj_msgSend(b,"_performActionOfHighlightedItemChain");objj_msgSend(b,"_highlightItemAtIndex:",CPNotFound)})}),new objj_method(sel_getUid("font"),function(a){with(a)objj_msgSend(CPFont,"systemFontOfSize:",12)}),new objj_method(sel_getUid("tile"),function(a){with(a){for(var b=
objj_msgSend(_menu,"itemArray"),c=0,d=b.length,g=10,f=YES;c<d;++c){var h=b[c];if(objj_msgSend(h,"isSeparatorItem"))g=CGRectGetWidth(objj_msgSend(a,"frame"))-10,f=NO;else if(!objj_msgSend(h,"isHidden")){h=objj_msgSend(h,"_menuItemView");var l=objj_msgSend(h,"frame");f?(objj_msgSend(h,"setFrame:",CGRectMake(g,0,CGRectGetWidth(l),28)),g+=CGRectGetWidth(objj_msgSend(h,"frame"))):(objj_msgSend(h,"setFrame:",CGRectMake(g-CGRectGetWidth(l),0,CGRectGetWidth(l),28)),g=CGRectGetMinX(objj_msgSend(h,"frame")))}}a=
objj_msgSend(objj_msgSend(a,"contentView"),"bounds");b=objj_msgSend(_titleField,"frame");objj_msgSend(_iconImageView,"isHidden")?objj_msgSend(_titleField,"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-CGRectGetWidth(b))/2,(CGRectGetHeight(a)-CGRectGetHeight(b))/2)):(c=objj_msgSend(_iconImageView,"frame"),d=CGRectGetWidth(c),g=d+CGRectGetWidth(b),objj_msgSend(_iconImageView,"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-g)/2,(CGRectGetHeight(a)-CGRectGetHeight(c))/2)),objj_msgSend(_titleField,
"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-g)/2+d,(CGRectGetHeight(a)-CGRectGetHeight(b))/2)))}}),new objj_method(sel_getUid("setFrame:display:animate:"),function(a,b,c,d,g){with(a)b=objj_msgSend(a,"frame").size,objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuBarWindow").super_class},"setFrame:display:animate:",c,d,g),b.width==c.size.width&&b.height==c.size.height||objj_msgSend(a,"tile")})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=
objj_msgSend(_CPMenuBarWindow,"class"))return;objj_msgSend(CPBundle,"bundleForClass:",a);g=objj_msgSend(CPFont,"boldSystemFontOfSize:",12)}}),new objj_method(sel_getUid("font"),function(a){with(a)return g})]);c=objj_getClass("_CPMenuBarWindow");if(!c)throw new SyntaxError('*** Could not find definition for class "_CPMenuBarWindow"');b=c.isa;class_addMethods(c,[new objj_method(sel_getUid("isMenuBar"),function(a){with(a)return YES}),new objj_method(sel_getUid("globalFrame"),function(a){with(a)return objj_msgSend(a,
"frame")}),new objj_method(sel_getUid("scrollingStateForPoint:"),function(a){with(a)return _CPMenuManagerScrollingStateNone}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(a,b,c){with(a){b=objj_msgSend(_menu,"itemArray");for(var d=b.length;d--;){var g=b[d];if(!objj_msgSend(g,"isHidden")&&!objj_msgSend(g,"isSeparatorItem")&&CGRectContainsPoint(objj_msgSend(a,"rectForItemAtIndex:",d),c))return d}return CPNotFound}}),new objj_method(sel_getUid("rectForItemAtIndex:"),function(a,b,c){with(a)return a=
objj_msgSend(_menu,"itemAtIndex:",c===CPNotFound?0:c),objj_msgSend(objj_msgSend(a,"_menuItemView"),"frame")})]);c=objj_allocateClassPair(_CPMenuView,"_CPMenuBarView");b=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("rectForItemAtIndex:"),function(a,b,c){with(a)return objj_msgSend(_menuItemViews[c===CPNotFound?0:c],"frame")}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(a,b,c){with(a){a=objj_msgSend(a,"bounds");if(!CGRectContainsPoint(a,c))return CPNotFound;
c=c.x;a=0;for(b=_visibleMenuItemInfos.length-1;a<=b;){var d=FLOOR(a+(b-a)/2),g=_visibleMenuItemInfos[d],f=objj_msgSend(g.view,"frame");if(c<CGRectGetMinX(f))b=d-1;else if(c>CGRectGetMaxX(f))a=d+1;else return g.index}return CPNotFound}}),new objj_method(sel_getUid("tile"),function(a){with(a){for(var b=objj_msgSend(_menu,"itemArray"),c=0,d=b.length,g=10,f=YES;c<d;++c){var h=b[c];if(objj_msgSend(h,"isSeparatorItem"))g=CGRectGetWidth(objj_msgSend(a,"frame"))-10,f=NO;else if(!objj_msgSend(h,"isHidden")){h=
objj_msgSend(h,"_menuItemView");var l=objj_msgSend(h,"frame");f?(objj_msgSend(h,"setFrameOrigin:",CGPointMake(g,(27-CGRectGetHeight(l))/2)),g+=CGRectGetWidth(objj_msgSend(h,"frame"))+10):(objj_msgSend(h,"setFrameOrigin:",CGPointMake(g-CGRectGetWidth(l),(27-CGRectGetHeight(l))/2)),g=CGRectGetMinX(objj_msgSend(h,"frame"))-10)}}a=objj_msgSend(objj_msgSend(a,"contentView"),"bounds");b=objj_msgSend(_titleField,"frame");objj_msgSend(_iconImageView,"isHidden")?objj_msgSend(_titleField,"setFrameOrigin:",
CGPointMake((CGRectGetWidth(a)-CGRectGetWidth(b))/2,(CGRectGetHeight(a)-CGRectGetHeight(b))/2)):(c=objj_msgSend(_iconImageView,"frame"),d=CGRectGetWidth(c),g=d+CGRectGetWidth(b),objj_msgSend(_iconImageView,"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-g)/2,(CGRectGetHeight(a)-CGRectGetHeight(c))/2)),objj_msgSend(_titleField,"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-g)/2+d,(CGRectGetHeight(a)-CGRectGetHeight(b))/2)))}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPString.j",baseURL),function(h,f){f("CPException.j",YES);f("CPObject.j",YES);f("CPObjJRuntime.j",YES);f("CPRange.j",YES);f("CPSortDescriptor.j",YES);f("CPURL.j",YES);f("CPValue.j",YES);CPCaseInsensitiveSearch=1;CPLiteralSearch=2;CPBackwardsSearch=4;CPAnchoredSearch=8;CPNumericSearch=64;CPDiacriticInsensitiveSearch=128;var d=new CFMutableDictionary,g=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\$|\\^|\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g"),
c=RegExp("(^\\s+|\\s+$)","g"),b=objj_allocateClassPair(CPObject,"CPString"),a=b.isa;objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("initWithString:"),function(a,b,c){with(a){if(objj_msgSend(a,"class")===CPString)return String(c);b=new String(c);b.isa=objj_msgSend(a,"class");return b}}),new objj_method(sel_getUid("initWithFormat:"),function(a,b,c){with(a)return c||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"initWithFormat: the format can't be 'nil'"),
a=ObjectiveJ.sprintf.apply(this,Array.prototype.slice.call(arguments,2))}),new objj_method(sel_getUid("description"),function(a){with(a)return a}),new objj_method(sel_getUid("length"),function(a){with(a)return length}),new objj_method(sel_getUid("characterAtIndex:"),function(a,b,c){with(a)return charAt(c)}),new objj_method(sel_getUid("stringByAppendingFormat:"),function(a,b,c){with(a)return c||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"initWithFormat: the format can't be 'nil'"),
a+ObjectiveJ.sprintf.apply(this,Array.prototype.slice.call(arguments,2))}),new objj_method(sel_getUid("stringByAppendingString:"),function(a,b,c){with(a)return a+c}),new objj_method(sel_getUid("stringByPaddingToLength:withString:startingAtIndex:"),function(a,b,c,e,d){with(a){if(length==c)return a;if(c<length)return substr(0,c);e=e.substring(d);for(c-=length;(c-=e.length)>=0;)a+=e;-c<e.length&&(a+=e.substring(0,-c));return a}}),new objj_method(sel_getUid("componentsSeparatedByString:"),function(a,
b,c){with(a)return split(c)}),new objj_method(sel_getUid("substringFromIndex:"),function(a,b,c){with(a)return substr(c)}),new objj_method(sel_getUid("substringWithRange:"),function(a,b,c){with(a)return(c.location<0||c.location+c.length>length)&&objj_msgSend(CPException,"raise:reason:",CPRangeException,"aRange out of bounds"),substr(c.location,c.length)}),new objj_method(sel_getUid("substringToIndex:"),function(a,b,c){with(a)return substring(0,c)}),new objj_method(sel_getUid("rangeOfString:"),function(a,
b,c){with(a)return objj_msgSend(a,"rangeOfString:options:",c,0)}),new objj_method(sel_getUid("rangeOfString:options:"),function(a,b,c,e){with(a)return objj_msgSend(a,"rangeOfString:options:range:",c,e,nil)}),new objj_method(sel_getUid("rangeOfString:options:range:"),function(a,b,c,e,d){with(a){if(!c)return CPMakeRange(CPNotFound,0);a=d==nil?a:objj_msgSend(a,"substringWithRange:",d);b=CPNotFound;e&CPCaseInsensitiveSearch&&(a=a.toLowerCase(),c=c.toLowerCase());e&CPBackwardsSearch?(b=a.lastIndexOf(c),
e&CPAnchoredSearch&&b+c.length!=a.length&&(b=CPNotFound)):b=e&CPAnchoredSearch?a.substr(0,c.length).indexOf(c)!=CPNotFound?0:CPNotFound:a.indexOf(c);if(b==CPNotFound)return CPMakeRange(CPNotFound,0);return CPMakeRange(b+(d?d.location:0),c.length)}}),new objj_method(sel_getUid("stringByEscapingRegexControlCharacters"),function(a){with(a)return a.replace(g,"\\$1")}),new objj_method(sel_getUid("stringByReplacingOccurrencesOfString:withString:"),function(a,b,c,e){with(a)return a.replace(RegExp(objj_msgSend(c,
"stringByEscapingRegexControlCharacters"),"g"),e)}),new objj_method(sel_getUid("stringByReplacingOccurrencesOfString:withString:options:range:"),function(a,b,c,e,d,g){with(a){b=substring(0,g.location);var f=substr(g.location,g.length);a=substring(g.location+g.length,a.length);c=objj_msgSend(c,"stringByEscapingRegexControlCharacters");return b+""+f.replace(d&CPCaseInsensitiveSearch?RegExp(c,"gi"):RegExp(c,"g"),e)+""+a}}),new objj_method(sel_getUid("stringByReplacingCharactersInRange:withString:"),
function(a,b,c,e){with(a)return""+substring(0,c.location)+e+substring(c.location+c.length,a.length)}),new objj_method(sel_getUid("stringByTrimmingWhitespace"),function(a){with(a)return a.replace(c,"")}),new objj_method(sel_getUid("compare:"),function(a,b,c){with(a)return objj_msgSend(a,"compare:options:",c,nil)}),new objj_method(sel_getUid("caseInsensitiveCompare:"),function(a,b,c){with(a)return objj_msgSend(a,"compare:options:",c,CPCaseInsensitiveSearch)}),new objj_method(sel_getUid("compare:options:"),
function(a,b,c,e){with(a){e&CPCaseInsensitiveSearch&&(a=a.toLowerCase(),c=c.toLowerCase());e&CPDiacriticInsensitiveSearch&&(a=a.stripDiacritics(),c=c.stripDiacritics());if(a<c)return CPOrderedAscending;if(a>c)return CPOrderedDescending;return CPOrderedSame}}),new objj_method(sel_getUid("compare:options:range:"),function(a,b,c,e,d){with(a)return a=objj_msgSend(a,"substringWithRange:",d),objj_msgSend(a,"compare:options:",c,e)}),new objj_method(sel_getUid("hasPrefix:"),function(a,b,c){with(a)return c&&
c!=""&&indexOf(c)==0}),new objj_method(sel_getUid("hasSuffix:"),function(a,b,c){with(a)return c&&c!=""&&length>=c.length&&lastIndexOf(c)==length-c.length}),new objj_method(sel_getUid("isEqual:"),function(a,b,c){with(a){if(a===c)return YES;if(!c||!objj_msgSend(c,"isKindOfClass:",objj_msgSend(CPString,"class")))return NO;return objj_msgSend(a,"isEqualToString:",c)}}),new objj_method(sel_getUid("isEqualToString:"),function(a,b,c){with(a)return a==String(c)}),new objj_method(sel_getUid("UID"),function(a){with(a){var b=
d.valueForKey(a);b||(b=objj_generateObjectUID(),d.setValueForKey(a,b));return b+""}}),new objj_method(sel_getUid("commonPrefixWithString:"),function(a,b,c){with(a)return objj_msgSend(a,"commonPrefixWithString:options:",c,0)}),new objj_method(sel_getUid("commonPrefixWithString:options:"),function(a,b,c,e){with(a){b=0;var d=a,g=MIN(objj_msgSend(d,"length"),objj_msgSend(c,"length"));e&CPCaseInsensitiveSearch&&(d=objj_msgSend(d,"lowercaseString"),c=objj_msgSend(c,"lowercaseString"));for(;b<g;b++)if(objj_msgSend(d,
"characterAtIndex:",b)!==objj_msgSend(c,"characterAtIndex:",b))break;return objj_msgSend(a,"substringToIndex:",b)}}),new objj_method(sel_getUid("capitalizedString"),function(a){with(a){a=a.split(/\b/g);for(var b=0,c=a.length;b<c;b++)a[b]=b==0||/\s$/.test(a[b-1])?a[b].substring(0,1).toUpperCase()+a[b].substring(1).toLowerCase():a[b].toLowerCase();return a.join("")}}),new objj_method(sel_getUid("lowercaseString"),function(a){with(a)return toLowerCase()}),new objj_method(sel_getUid("uppercaseString"),
function(a){with(a)return toUpperCase()}),new objj_method(sel_getUid("doubleValue"),function(a){with(a)return parseFloat(a,10)}),new objj_method(sel_getUid("boolValue"),function(a){with(a)return/^[Y,y,t,T,1-9]/.test(a.replace(/^\s*[\+,\-]?0*/,""))}),new objj_method(sel_getUid("floatValue"),function(a){with(a)return parseFloat(a,10)}),new objj_method(sel_getUid("intValue"),function(a){with(a)return parseInt(a,10)}),new objj_method(sel_getUid("pathComponents"),function(a){with(a)return a=split("/"),
a[0]===""&&(a[0]="/"),a[a.length-1]===""&&a.pop(),a}),new objj_method(sel_getUid("pathExtension"),function(a){with(a){if(lastIndexOf(".")===CPNotFound)return"";return substr(lastIndexOf(".")+1)}}),new objj_method(sel_getUid("lastPathComponent"),function(a){with(a)return a=objj_msgSend(a,"pathComponents"),a[a.length-1]}),new objj_method(sel_getUid("stringByDeletingLastPathComponent"),function(a){with(a){for(var b=length-1;a.charAt(b)==="/";)b--;a=a.substr(0,a.lastIndexOf("/",b));if(a===""&&charAt(0)===
"/")return"/";return a}}),new objj_method(sel_getUid("stringByDeletingPathExtension"),function(a){with(a){var b=objj_msgSend(a,"pathExtension");if(b==="")return a;if(lastIndexOf(".")<1)return a;return substr(0,objj_msgSend(a,"length")-(b.length+1))}}),new objj_method(sel_getUid("stringByStandardizingPath"),function(a){with(a)return objj_msgSend(objj_msgSend(CPURL,"URLWithString:",a),"absoluteString")})]);class_addMethods(a,[new objj_method(sel_getUid("alloc"),function(a){with(a){if(objj_msgSend(a,
"class")!==CPString)return objj_msgSendSuper({receiver:a,super_class:objj_getMetaClass("CPString").super_class},"alloc");return new String}}),new objj_method(sel_getUid("string"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")}),new objj_method(sel_getUid("stringWithHash:"),function(a,b,c){with(a)return a=parseInt(c,10).toString(16),"000000".substring(0,MAX(6-a.length,0))+a}),new objj_method(sel_getUid("stringWithString:"),function(a,b,c){with(a)return c||objj_msgSend(CPException,
"raise:reason:",CPInvalidArgumentException,"stringWithString: the string can't be 'nil'"),objj_msgSend(objj_msgSend(a,"alloc"),"initWithString:",c)}),new objj_method(sel_getUid("stringWithFormat:"),function(a,b,c){with(a)return c||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"initWithFormat: the format can't be 'nil'"),ObjectiveJ.sprintf.apply(this,Array.prototype.slice.call(arguments,2))})]);b=objj_getClass("CPString");if(!b)throw new SyntaxError('*** Could not find definition for class "CPString"');
a=b.isa;class_addMethods(b,[new objj_method(sel_getUid("objectFromJSON"),function(a){with(a)return JSON.parse(a)})]);class_addMethods(a,[new objj_method(sel_getUid("JSONFromObject:"),function(a,b,c){with(a)return JSON.stringify(c)})]);b=objj_getClass("CPString");if(!b)throw new SyntaxError('*** Could not find definition for class "CPString"');a=b.isa;class_addMethods(a,[new objj_method(sel_getUid("UUID"),function(a){with(a){a="";for(var b=0;b<32;b++)a+=FLOOR(RAND()*15).toString(15);return a}})]);
var e=[[192,198],[224,230],[231,231],[232,235],[236,239],[242,246],[249,252]],i=[65,97,99,101,105,111,117];String.prototype.stripDiacritics=function(){for(var a="",b=0;b<this.length;b++){for(var c=this.charCodeAt(b),d=0;d<e.length;d++){var g=e[d];if(c>=g[0]&&c<=g[g.length-1]){c=i[d];break}}a+=String.fromCharCode(c)}return a};String.prototype.isa=CPString});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPSlider.j",baseURL),function(h,f){f("CPControl.j",YES);CPLinearSlider=0;CPCircularSlider=1;var d=objj_allocateClassPair(CPControl,"CPSlider"),g=d.isa;class_addIvars(d,[new objj_ivar("_minValue"),new objj_ivar("_maxValue"),new objj_ivar("_altIncrementValue"),new objj_ivar("_isVertical")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithFrame:"),function(c,b,a){with(c){if(c=objj_msgSendSuper({receiver:c,
super_class:objj_getClass("CPSlider").super_class},"initWithFrame:",a))_minValue=0,_maxValue=100,objj_msgSend(c,"setObjectValue:",50),objj_msgSend(c,"setContinuous:",YES),objj_msgSend(c,"_recalculateIsVertical");return c}}),new objj_method(sel_getUid("setMinValue:"),function(c,b,a){with(c){if(_minValue===a)return;_minValue=a;objj_msgSend(c,"doubleValue")<_minValue&&objj_msgSend(c,"setDoubleValue:",_minValue);objj_msgSend(c,"setNeedsLayout");objj_msgSend(c,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("minValue"),
function(c){with(c)return _minValue}),new objj_method(sel_getUid("setMaxValue:"),function(c,b,a){with(c){if(_maxValue===a)return;_maxValue=a;objj_msgSend(c,"doubleValue")>_maxValue&&objj_msgSend(c,"setDoubleValue:",_maxValue);objj_msgSend(c,"setNeedsLayout");objj_msgSend(c,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("maxValue"),function(c){with(c)return _maxValue}),new objj_method(sel_getUid("setObjectValue:"),function(c,b,a){with(c)objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPSlider").super_class},
"setObjectValue:",MIN(MAX(a,_minValue),_maxValue)),objj_msgSend(c,"setNeedsLayout"),objj_msgSend(c,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("setSliderType:"),function(c,b,a){with(c)a===CPCircularSlider?objj_msgSend(c,"setThemeState:",CPThemeStateCircular):objj_msgSend(c,"unsetThemeState:",CPThemeStateCircular)}),new objj_method(sel_getUid("sliderType"),function(c){with(c)return objj_msgSend(c,"hasThemeState:",CPThemeStateCircular)?CPCircularSlider:CPLinearSlider}),new objj_method(sel_getUid("trackRectForBounds:"),
function(c,b,a){with(c){if(objj_msgSend(c,"hasThemeState:",CPThemeStateCircular))c=CGRectCreateCopy(a),a.size.width=MIN(a.size.width,a.size.height),a.size.height=a.size.width,a.size.width<c.size.width?a.origin.x+=(c.size.width-a.size.width)/2:a.origin.y+=(c.size.height-a.size.height)/2;else{b=objj_msgSend(c,"currentValueForThemeAttribute:","track-width");if(b<=0)return{origin:{x:0,y:0},size:{width:0,height:0}};objj_msgSend(c,"isVertical")?(a.origin.x=(a.size.width-b)/2,a.size.width=b):(a.origin.y=
(a.size.height-b)/2,a.size.height=b)}return a}}),new objj_method(sel_getUid("knobRectForBounds:"),function(c,b,a){with(c){var e=objj_msgSend(c,"currentValueForThemeAttribute:","knob-size");if(e.width<=0||e.height<=0)return{origin:{x:0,y:0},size:{width:0,height:0}};b={origin:{x:0,y:0},size:{width:e.width,height:e.height}};var d=objj_msgSend(c,"trackRectForBounds:",a);if(!d||d.size.width<=0||d.size.height<=0)d=a;objj_msgSend(c,"hasThemeState:",CPThemeStateCircular)?(c=3*PI_2-(1-objj_msgSend(c,"doubleValue")-
_minValue)/(_maxValue-_minValue)*PI2,a=CGRectGetWidth(d)/2-8,b.origin.x=a*COS(c)+CGRectGetMidX(d)-3,b.origin.y=a*SIN(c)+CGRectGetMidY(d)-2):objj_msgSend(c,"isVertical")?(b.origin.x=d.origin.x+d.size.width/2-e.width/2,b.origin.y=(_maxValue-objj_msgSend(c,"doubleValue"))/(_maxValue-_minValue)*(d.size.height-e.height)):(b.origin.x=(objj_msgSend(c,"doubleValue")-_minValue)/(_maxValue-_minValue)*(d.size.width-e.width),b.origin.y=d.origin.y+d.size.height/2-e.height/2);return b}}),new objj_method(sel_getUid("rectForEphemeralSubviewNamed:"),
function(c,b,a){with(c){if(a==="track-view")return objj_msgSend(c,"trackRectForBounds:",objj_msgSend(c,"bounds"));else if(a==="knob-view")return objj_msgSend(c,"knobRectForBounds:",objj_msgSend(c,"bounds"));return objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPSlider").super_class},"rectForEphemeralSubviewNamed:",a)}}),new objj_method(sel_getUid("createEphemeralSubviewNamed:"),function(c,b,a){with(c){if(a==="track-view"||a==="knob-view")return c=objj_msgSend(objj_msgSend(CPView,"alloc"),
"init"),objj_msgSend(c,"setHitTests:",NO),c;return objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPSlider").super_class},"createEphemeralSubviewNamed:",a)}}),new objj_method(sel_getUid("setAltIncrementValue:"),function(c,b,a){with(c)_altIncrementValue=a}),new objj_method(sel_getUid("altIncrementValue"),function(c){with(c)return _altIncrementValue}),new objj_method(sel_getUid("setFrameSize:"),function(c,b,a){with(c)objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPSlider").super_class},
"setFrameSize:",a),objj_msgSend(c,"_recalculateIsVertical")}),new objj_method(sel_getUid("_recalculateIsVertical"),function(c){with(c){var b=objj_msgSend(c,"bounds"),a=b.size.width;b=b.size.height;_isVertical=a<b?1:a>b?0:-1;_isVertical===1?objj_msgSend(c,"setThemeState:",CPThemeStateVertical):_isVertical===0&&objj_msgSend(c,"unsetThemeState:",CPThemeStateVertical)}}),new objj_method(sel_getUid("isVertical"),function(c){with(c)return _isVertical}),new objj_method(sel_getUid("layoutSubviews"),function(c){with(c){var b=
objj_msgSend(c,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","track-view",CPWindowBelow,"knob-view");b&&objj_msgSend(b,"setBackgroundColor:",objj_msgSend(c,"currentValueForThemeAttribute:","track-color"));(b=objj_msgSend(c,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","knob-view",CPWindowAbove,"track-view"))&&objj_msgSend(b,"setBackgroundColor:",objj_msgSend(c,"currentValueForThemeAttribute:","knob-color"))}}),new objj_method(sel_getUid("tracksMouseOutsideOfFrame"),
function(c){with(c)return YES}),new objj_method(sel_getUid("_valueAtPoint:"),function(c,b,a){with(c){b=objj_msgSend(c,"bounds");var e=objj_msgSend(c,"knobRectForBounds:",b);b=objj_msgSend(c,"trackRectForBounds:",b);return objj_msgSend(c,"hasThemeState:",CPThemeStateCircular)?(e=e.size.width,b.origin.x+=e/2,b.size.width-=e,e=objj_msgSend(c,"minValue"),MAX(0,MIN(1,1-(3*PI_2-ATAN2(a.y-(b.origin.y+b.size.height/2),a.x-(b.origin.x+b.size.width/2)))%PI2/PI2))*(objj_msgSend(c,"maxValue")-e)+e):objj_msgSend(c,
"isVertical")?(e=e.size.height,b.origin.y+=e/2,b.size.height-=e,e=objj_msgSend(c,"minValue"),MAX(0,MIN(1,(b.origin.y+b.size.height-a.y)/b.size.height))*(objj_msgSend(c,"maxValue")-e)+e):(e=e.size.width,b.origin.x+=e/2,b.size.width-=e,e=objj_msgSend(c,"minValue"),MAX(0,MIN(1,(a.x-b.origin.x)/b.size.width))*(objj_msgSend(c,"maxValue")-e)+e)}}),new objj_method(sel_getUid("startTrackingAt:"),function(c,b,a){with(c){b=objj_msgSend(c,"bounds");var e=objj_msgSend(c,"knobRectForBounds:",{origin:{x:b.origin.x,
y:b.origin.y},size:{width:b.size.width,height:b.size.height}});if(a.x>=e.origin.x&&a.y>=e.origin.y&&a.x<e.origin.x+e.size.width&&a.y<e.origin.y+e.size.height)_dragOffset={width:e.origin.x+e.size.width/2-a.x,height:e.origin.y+e.size.height/2-a.y};else if((b=objj_msgSend(c,"trackRectForBounds:",b))&&a.x>=b.origin.x&&a.y>=b.origin.y&&a.x<b.origin.x+b.size.width&&a.y<b.origin.y+b.size.height)_dragOffset={width:0,height:0},objj_msgSend(c,"setObjectValue:",objj_msgSend(c,"_valueAtPoint:",a));else return NO;
objj_msgSend(c,"setHighlighted:",YES);objj_msgSend(c,"setNeedsLayout");objj_msgSend(c,"setNeedsDisplay:",YES);return YES}}),new objj_method(sel_getUid("continueTracking:at:"),function(c,b,a,e){with(c)return objj_msgSend(c,"setObjectValue:",objj_msgSend(c,"_valueAtPoint:",{x:e.x+_dragOffset.width,y:e.y+_dragOffset.height})),YES}),new objj_method(sel_getUid("stopTracking:at:mouseIsUp:"),function(c){with(c)objj_msgSend(c,"setHighlighted:",NO),objj_msgSend(_target,"respondsToSelector:",sel_getUid("sliderDidFinish:"))&&
objj_msgSend(_target,"sliderDidFinish:",c),objj_msgSend(c,"setNeedsLayout"),objj_msgSend(c,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("isContinuous"),function(c){with(c)return(_sendActionOn&CPLeftMouseDraggedMask)!==0}),new objj_method(sel_getUid("setContinuous:"),function(c,b,a){with(c)a?_sendActionOn|=CPLeftMouseDraggedMask:_sendActionOn&=~CPLeftMouseDraggedMask}),new objj_method(sel_getUid("takeValueFromKeyPath:ofObjects:"),function(c,b,a,e){with(c){b=e.length;var d=objj_msgSend(e[0],
"valueForKeyPath:",a);for(objj_msgSend(c,"setObjectValue:",d);b-- >1;)if(d!==objj_msgSend(e[b],"valueForKeyPath:",a))return objj_msgSend(c,"setFloatValue:",1)}})]);class_addMethods(g,[new objj_method(sel_getUid("defaultThemeClass"),function(c){with(c)return"slider"}),new objj_method(sel_getUid("themeAttributes"),function(c){with(c)return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[objj_msgSend(CPNull,"null"),{width:0,height:0},0,objj_msgSend(CPNull,"null")],["knob-color","knob-size",
"track-width","track-color"])})]);d=objj_getClass("CPSlider");if(!d)throw new SyntaxError('*** Could not find definition for class "CPSlider"');g=d.isa;class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(c,b,a){with(c){_minValue=objj_msgSend(a,"decodeDoubleForKey:","CPSliderMinValueKey");_maxValue=objj_msgSend(a,"decodeDoubleForKey:","CPSliderMaxValueKey");if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPSlider").super_class},"initWithCoder:",a))_altIncrementValue=
objj_msgSend(a,"decodeDoubleForKey:","CPSliderAltIncrValueKey"),objj_msgSend(c,"_recalculateIsVertical"),objj_msgSend(c,"setNeedsLayout"),objj_msgSend(c,"setNeedsDisplay:",YES);return c}}),new objj_method(sel_getUid("encodeWithCoder:"),function(c,b,a){with(c)objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPSlider").super_class},"encodeWithCoder:",a),objj_msgSend(a,"encodeDouble:forKey:",_minValue,"CPSliderMinValueKey"),objj_msgSend(a,"encodeDouble:forKey:",_maxValue,"CPSliderMaxValueKey"),
objj_msgSend(a,"encodeDouble:forKey:",_altIncrementValue,"CPSliderAltIncrValueKey")})]);d=objj_getClass("CPSlider");if(!d)throw new SyntaxError('*** Could not find definition for class "CPSlider"');g=d.isa;class_addMethods(d,[new objj_method(sel_getUid("value"),function(c){with(c)return CPLog.warn("[CPSlider value] is deprecated, use doubleValue or objectValue instead."),objj_msgSend(c,"doubleValue")}),new objj_method(sel_getUid("setValue:"),function(c,b,a){with(c)CPLog.warn("[CPSlider setValue:] is deprecated, use setDoubleValue: or setObjectValue: instead."),
objj_msgSend(c,"setObjectValue:",a)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPImageView.j",baseURL),function(h,f){f("Foundation/CPNotificationCenter.j",NO);f("CPControl.j",YES);f("CPImage.j",YES);f("CPShadowView.j",YES);CPScaleProportionally=0;CPScaleToFit=1;CPScaleNone=2;CPImageAlignCenter=0;CPImageAlignTop=1;CPImageAlignTopLeft=2;CPImageAlignTopRight=3;CPImageAlignLeft=4;CPImageAlignBottom=5;CPImageAlignBottomLeft=6;CPImageAlignBottomRight=7;CPImageAlignRight=8;var d=nil,g=objj_allocateClassPair(CPControl,
"CPImageView"),c=g.isa;class_addIvars(g,[new objj_ivar("_DOMImageElement"),new objj_ivar("_hasShadow"),new objj_ivar("_shadowView"),new objj_ivar("_isEditable"),new objj_ivar("_imageRect"),new objj_ivar("_imageAlignment")]);objj_registerClassPair(g);class_addMethods(g,[new objj_method(sel_getUid("initWithFrame:"),function(b,a,c){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPImageView").super_class},"initWithFrame:",c))_DOMImageElement=document.createElement("img"),_DOMImageElement.style.position=
"absolute",_DOMImageElement.style.left="0px",_DOMImageElement.style.top="0px",objj_msgSend(CPPlatform,"supportsDragAndDrop")&&(_DOMImageElement.setAttribute("draggable","true"),_DOMImageElement.style["-khtml-user-drag"]="element"),_DOMElement.appendChild(_DOMImageElement),_DOMImageElement.style.visibility="hidden";return b}}),new objj_method(sel_getUid("image"),function(b){with(b)return objj_msgSend(b,"objectValue")}),new objj_method(sel_getUid("setImage:"),function(b,a,c){with(b)objj_msgSend(b,"setObjectValue:",
c)}),new objj_method(sel_getUid("setObjectValue:"),function(b,a,c){with(b){a=objj_msgSend(b,"objectValue");if(a===c)return;objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPImageView").super_class},"setObjectValue:",c);c=objj_msgSend(CPNotificationCenter,"defaultCenter");a&&objj_msgSend(c,"removeObserver:name:object:",b,CPImageDidLoadNotification,a);a=objj_msgSend(b,"objectValue");_DOMImageElement.src=a?objj_msgSend(a,"filename"):objj_msgSend(d,"filename");var g=objj_msgSend(a,"size");g&&
g.width===-1&&g.height===-1?(objj_msgSend(c,"addObserver:selector:name:object:",b,sel_getUid("imageDidLoad:"),CPImageDidLoadNotification,a),_DOMImageElement.width=0,_DOMImageElement.height=0,objj_msgSend(_shadowView,"setHidden:",YES)):(objj_msgSend(b,"hideOrDisplayContents"),objj_msgSend(b,"setNeedsLayout"),objj_msgSend(b,"setNeedsDisplay:",YES))}}),new objj_method(sel_getUid("imageDidLoad:"),function(b){with(b)objj_msgSend(b,"hideOrDisplayContents"),objj_msgSend(b,"setNeedsLayout"),objj_msgSend(b,
"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("hasShadow"),function(b){with(b)return _hasShadow}),new objj_method(sel_getUid("setHasShadow:"),function(b,a,c){with(b){if(_hasShadow==c)return;(_hasShadow=c)?(_shadowView=objj_msgSend(objj_msgSend(CPShadowView,"alloc"),"initWithFrame:",objj_msgSend(b,"bounds")),objj_msgSend(b,"addSubview:",_shadowView),objj_msgSend(b,"setNeedsLayout"),objj_msgSend(b,"setNeedsDisplay:",YES)):(objj_msgSend(_shadowView,"removeFromSuperview"),_shadowView=nil);objj_msgSend(b,
"hideOrDisplayContents")}}),new objj_method(sel_getUid("setImageAlignment:"),function(b,a,c){with(b){if(_imageAlignment==c)return;_imageAlignment=c;if(!objj_msgSend(b,"image"))return;objj_msgSend(b,"setNeedsLayout");objj_msgSend(b,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("imageAlignment"),function(b){with(b)return _imageAlignment}),new objj_method(sel_getUid("setImageScaling:"),function(b,a,c){with(b){objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPImageView").super_class},
"setImageScaling:",c);if(objj_msgSend(b,"currentValueForThemeAttribute:","image-scaling")===CPScaleToFit)a=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageElement.style.left=ROUND(a.x)+"px",_DOMImageElement.style.top=ROUND(a.y)+"px";objj_msgSend(b,"setNeedsLayout");objj_msgSend(b,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("imageScaling"),function(b){with(b)return objj_msgSend(b,"currentValueForThemeAttribute:",
"image-scaling")}),new objj_method(sel_getUid("hideOrDisplayContents"),function(b){with(b)objj_msgSend(b,"image")?(_DOMImageElement.style.visibility="visible",objj_msgSend(_shadowView,"setHidden:",NO)):(_DOMImageElement.style.visibility="hidden",objj_msgSend(_shadowView,"setHidden:",YES))}),new objj_method(sel_getUid("imageRect"),function(b){with(b)return _imageRect}),new objj_method(sel_getUid("layoutSubviews"),function(b){with(b){if(!objj_msgSend(b,"image"))return;var a=objj_msgSend(b,"bounds"),
c=objj_msgSend(b,"image"),d=objj_msgSend(b,"currentValueForThemeAttribute:","image-scaling"),g=0,f=0;b=_hasShadow?6:0;var h=_hasShadow?8:0,m=a.size.width,l=a.size.height;a=m-b;var j=l-h;if(d===CPScaleToFit)_DOMImageElement.width=ROUND(a),_DOMImageElement.height=ROUND(j);else{c=objj_msgSend(c,"size");if(c.width==-1&&c.height==-1)return;d===CPScaleProportionally?(a>=c.width&&j>=c.height?(a=c.width,j=c.height):(g=c.width/c.height,a/j>g?a=j*g:j=a/g),_DOMImageElement.width=ROUND(a),_DOMImageElement.height=
ROUND(j)):(a=c.width,j=c.height);if(d==CPScaleNone)_DOMImageElement.width=ROUND(c.width),_DOMImageElement.height=ROUND(c.height);switch(_imageAlignment){case CPImageAlignLeft:case CPImageAlignTopLeft:case CPImageAlignBottomLeft:g=0;break;case CPImageAlignRight:case CPImageAlignTopRight:case CPImageAlignBottomRight:g=m-a;break;default:g=(m-a)/2}switch(_imageAlignment){case CPImageAlignTop:case CPImageAlignTopLeft:case CPImageAlignTopRight:f=0;break;case CPImageAlignBottom:case CPImageAlignBottomLeft:case CPImageAlignBottomRight:f=
l-j;break;default:f=(l-j)/2}d=NULL?{x:CGPointMake(g,f).x*NULL.a+CGPointMake(g,f).y*NULL.c+NULL.tx,y:CGPointMake(g,f).x*NULL.b+CGPointMake(g,f).y*NULL.d+NULL.ty}:{x:g,y:f};_DOMImageElement.style.left=ROUND(d.x)+"px";_DOMImageElement.style.top=ROUND(d.y)+"px"}_imageRect={origin:{x:g,y:f},size:{width:a,height:j}};_hasShadow&&objj_msgSend(_shadowView,"setFrame:",{origin:{x:g-3,y:f-3},size:{width:a+b,height:j+h}})}}),new objj_method(sel_getUid("mouseDown:"),function(b,a,c){with(b)objj_msgSend(objj_msgSend(b,
"nextResponder"),"mouseDown:",c)}),new objj_method(sel_getUid("setEditable:"),function(b,a,c){with(b){if(_isEditable===c)return;(_isEditable=c)?objj_msgSend(b,"registerForDraggedTypes:",[CPImagesPboardType]):(a=objj_msgSend(b,"registeredDraggedTypes"),objj_msgSend(b,"unregisterDraggedTypes"),objj_msgSend(a,"removeObjectIdenticalTo:",CPImagesPboardType),objj_msgSend(b,"registerForDraggedTypes:",a))}}),new objj_method(sel_getUid("isEditable"),function(b){with(b)return _isEditable}),new objj_method(sel_getUid("performDragOperation:"),
function(b,a,c){with(b)return a=objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",objj_msgSend(objj_msgSend(c,"draggingPasteboard"),"dataForType:",CPImagesPboardType)),objj_msgSend(a,"count")&&(objj_msgSend(b,"setImage:",a[0]),objj_msgSend(b,"sendAction:to:",objj_msgSend(b,"action"),objj_msgSend(b,"target"))),YES})]);class_addMethods(c,[new objj_method(sel_getUid("initialize"),function(b){with(b)b=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPView,"class")),d=objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:",objj_msgSend(b,"pathForResource:","empty.png"))})]);g=objj_getClass("CPImageView");if(!g)throw new SyntaxError('*** Could not find definition for class "CPImageView"');c=g.isa;class_addMethods(g,[new objj_method(sel_getUid("initWithCoder:"),function(b,a,c){with(b){_DOMImageElement=document.createElement("img");_DOMImageElement.style.position="absolute";_DOMImageElement.style.left="0px";_DOMImageElement.style.top="0px";_DOMImageElement.style.visibility="hidden";objj_msgSend(CPPlatform,
"supportsDragAndDrop")&&(_DOMImageElement.setAttribute("draggable","true"),_DOMImageElement.style["-khtml-user-drag"]="element");if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPImageView").super_class},"initWithCoder:",c))_DOMElement.appendChild(_DOMImageElement),objj_msgSend(b,"setHasShadow:",objj_msgSend(c,"decodeBoolForKey:","CPImageViewHasShadowKey")),objj_msgSend(b,"setImageAlignment:",objj_msgSend(c,"decodeIntForKey:","CPImageViewImageAlignmentKey")),(objj_msgSend(c,"decodeBoolForKey:",
"CPImageViewIsEditableKey")||NO)&&objj_msgSend(b,"setEditable:",YES),objj_msgSend(b,"setNeedsLayout"),objj_msgSend(b,"setNeedsDisplay:",YES);return b}}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,a,c){with(b){if(_shadowView){var d=_subviews;_subviews=objj_msgSend(_subviews,"copy");objj_msgSend(_subviews,"removeObjectIdenticalTo:",_shadowView)}objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPImageView").super_class},"encodeWithCoder:",c);_shadowView&&(_subviews=d);objj_msgSend(c,
"encodeBool:forKey:",_hasShadow,"CPImageViewHasShadowKey");objj_msgSend(c,"encodeInt:forKey:",_imageAlignment,"CPImageViewImageAlignmentKey");_isEditable&&objj_msgSend(c,"encodeBool:forKey:",_isEditable,"CPImageViewIsEditableKey")}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPDocumentController.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("Foundation/CPBundle.j",NO);f("CPDocument.j",YES);f("CPOpenPanel.j",YES);var d=nil,g=objj_allocateClassPair(CPObject,"CPDocumentController"),c=g.isa;class_addIvars(g,[new objj_ivar("_documents"),new objj_ivar("_documentTypes")]);objj_registerClassPair(g);class_addMethods(g,[new objj_method(sel_getUid("init"),function(b){with(b){if(b=objj_msgSendSuper({receiver:b,
super_class:objj_getClass("CPDocumentController").super_class},"init"))_documents=objj_msgSend(objj_msgSend(CPArray,"alloc"),"init"),d||(d=b),_documentTypes=objj_msgSend(objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"infoDictionary"),"objectForKey:","CPBundleDocumentTypes");return b}}),new objj_method(sel_getUid("documentForURL:"),function(b,a,c){with(b){b=0;for(a=objj_msgSend(_documents,"count");b<a;++b){var d=_documents[b];if(objj_msgSend(objj_msgSend(d,"fileURL"),"isEqual:",c))return d}return nil}}),
new objj_method(sel_getUid("openUntitledDocumentOfType:display:"),function(b,a,c,d){with(b)return(a=objj_msgSend(b,"makeUntitledDocumentOfType:error:",c,nil))&&objj_msgSend(b,"addDocument:",a),d&&(objj_msgSend(a,"makeWindowControllers"),objj_msgSend(a,"showWindows")),a}),new objj_method(sel_getUid("makeUntitledDocumentOfType:error:"),function(b,a,c,d){with(b)return objj_msgSend(objj_msgSend(objj_msgSend(b,"documentClassForType:",c),"alloc"),"initWithType:error:",c,d)}),new objj_method(sel_getUid("openDocumentWithContentsOfURL:display:error:"),
function(b,a,c,d,g){with(b)return(a=objj_msgSend(b,"documentForURL:",c))?d&&objj_msgSend(a,"showWindows"):(g=objj_msgSend(b,"typeForContentsOfURL:error:",c,g),a=objj_msgSend(b,"makeDocumentWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:",c,g,b,sel_getUid("document:didRead:contextInfo:"),objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",d,"shouldDisplay")),objj_msgSend(b,"addDocument:",a),a&&objj_msgSend(b,"noteNewRecentDocument:",a)),a}),new objj_method(sel_getUid("reopenDocumentForURL:withContentsOfURL:error:"),
function(b,a,c,d){with(b)return objj_msgSend(b,"makeDocumentForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:",c,d,objj_msgSend(objj_msgSend(_documentTypes,"objectAtIndex:",0),"objectForKey:","CPBundleTypeName"),b,sel_getUid("document:didRead:contextInfo:"),nil)}),new objj_method(sel_getUid("makeDocumentWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(b,a,c,d,g,f,h){with(b)return objj_msgSend(objj_msgSend(objj_msgSend(b,"documentClassForType:",d),"alloc"),
"initWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:",c,d,g,f,h)}),new objj_method(sel_getUid("makeDocumentForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(b,a,c,d,g,f,h,m){with(b)return objj_msgSend(objj_msgSend(objj_msgSend(b,"documentClassForType:",g),"alloc"),"initForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:",c,d,g,f,h,m)}),new objj_method(sel_getUid("document:didRead:contextInfo:"),function(b,a,c,d,g){with(b){if(!d)return;
objj_msgSend(c,"makeWindowControllers");objj_msgSend(g,"objectForKey:","shouldDisplay")&&objj_msgSend(c,"showWindows")}}),new objj_method(sel_getUid("newDocument:"),function(b){with(b)objj_msgSend(b,"openUntitledDocumentOfType:display:",objj_msgSend(objj_msgSend(_documentTypes,"objectAtIndex:",0),"objectForKey:","CPBundleTypeName"),YES)}),new objj_method(sel_getUid("openDocument:"),function(b){with(b){var a=objj_msgSend(CPOpenPanel,"openPanel");objj_msgSend(a,"runModal");a=objj_msgSend(a,"URLs");
for(var c=0,d=objj_msgSend(a,"count");c<d;++c)objj_msgSend(b,"openDocumentWithContentsOfURL:display:error:",objj_msgSend(CPURL,"URLWithString:",a[c]),YES,nil)}}),new objj_method(sel_getUid("documents"),function(b){with(b)return _documents}),new objj_method(sel_getUid("addDocument:"),function(b,a,c){with(b)objj_msgSend(_documents,"addObject:",c)}),new objj_method(sel_getUid("removeDocument:"),function(b,a,c){with(b)objj_msgSend(_documents,"removeObjectIdenticalTo:",c)}),new objj_method(sel_getUid("defaultType"),
function(b){with(b)return objj_msgSend(_documentTypes[0],"objectForKey:","CPBundleTypeName")}),new objj_method(sel_getUid("typeForContentsOfURL:error:"),function(b,a,c){with(b){a=0;var d=_documentTypes.length;c=objj_msgSend(objj_msgSend(c,"pathExtension"),"lowercaseString");for(var g=nil;a<d;++a)for(var f=_documentTypes[a],h=objj_msgSend(f,"objectForKey:","CFBundleTypeExtensions"),m=0,l=h.length;m<l;++m){var j=objj_msgSend(h[m],"lowercaseString");if(j===c)return objj_msgSend(f,"objectForKey:","CPBundleTypeName");
j==="****"&&(g=objj_msgSend(f,"objectForKey:","CPBundleTypeName"))}return g||objj_msgSend(b,"defaultType")}}),new objj_method(sel_getUid("_infoForType:"),function(b,a,c){with(b){b=0;for(a=objj_msgSend(_documentTypes,"count");b<a;++b){var d=_documentTypes[b];if(objj_msgSend(d,"objectForKey:","CPBundleTypeName")==c)return d}return nil}}),new objj_method(sel_getUid("documentClassForType:"),function(b,a,c){with(b)return(b=objj_msgSend(objj_msgSend(b,"_infoForType:",c),"objectForKey:","CPDocumentClass"))?
CPClassFromString(b):nil})]);class_addMethods(c,[new objj_method(sel_getUid("sharedDocumentController"),function(b){with(b)return d||objj_msgSend(objj_msgSend(b,"alloc"),"init"),d})]);g=objj_getClass("CPDocumentController");if(!g)throw new SyntaxError('*** Could not find definition for class "CPDocumentController"');c=g.isa;class_addMethods(g,[new objj_method(sel_getUid("closeAllDocumentsWithDelegate:didCloseAllSelector:contextInfo:"),function(b,a,c,d,g){with(b)objj_msgSend(b,"_closeDocumentsStartingWith:shouldClose:context:",
nil,YES,{delegate:c,selector:d,context:g})}),new objj_method(sel_getUid("_closeDocumentsStartingWith:shouldClose:context:"),function(b,a,c,d,g){with(b){if(d&&(objj_msgSend(c,"close"),objj_msgSend(objj_msgSend(b,"documents"),"count")>0)){objj_msgSend(objj_msgSend(objj_msgSend(b,"documents"),"lastObject"),"canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:",b,sel_getUid("_closeDocumentsStartingWith:shouldClose:context:"),g);return}objj_msgSend(g.delegate,"respondsToSelector:",g.selector)&&
objj_msgSend(g.delegate,g.selector,b,objj_msgSend(objj_msgSend(b,"documents"),"count")===0,g.context)}})]);g=objj_getClass("CPDocumentController");if(!g)throw new SyntaxError('*** Could not find definition for class "CPDocumentController"');c=g.isa;class_addMethods(g,[new objj_method(sel_getUid("recentDocumentURLs"),function(b){with(b){if(typeof window.cpRecentDocumentURLs==="function")return window.cpRecentDocumentURLs();return[]}}),new objj_method(sel_getUid("clearRecentDocuments:"),function(b){with(b)typeof window.cpClearRecentDocuments===
"function"&&window.cpClearRecentDocuments(),objj_msgSend(b,"_updateRecentDocumentsMenu")}),new objj_method(sel_getUid("noteNewRecentDocument:"),function(b,a,c){with(b)objj_msgSend(b,"noteNewRecentDocumentURL:",objj_msgSend(c,"fileURL"))}),new objj_method(sel_getUid("noteNewRecentDocumentURL:"),function(b,a,c){with(b)a=objj_msgSend(c,"isKindOfClass:",CPString)?c:objj_msgSend(c,"absoluteString"),typeof window.cpNoteNewRecentDocumentPath==="function"&&window.cpNoteNewRecentDocumentPath(a),objj_msgSend(b,
"_updateRecentDocumentsMenu")}),new objj_method(sel_getUid("_removeAllRecentDocumentsFromMenu:"),function(b,a,c){with(b){b=objj_msgSend(c,"itemArray");for(a=objj_msgSend(b,"count");a--;)objj_msgSend(b[a],"action")===sel_getUid("_openRecentDocument:")&&objj_msgSend(c,"removeItemAtIndex:",a)}}),new objj_method(sel_getUid("_updateRecentDocumentsMenu"),function(b){with(b){var a=objj_msgSend(objj_msgSend(CPApp,"mainMenu"),"_menuWithName:","_CPRecentDocumentsMenu"),c=objj_msgSend(b,"recentDocumentURLs"),
d=objj_msgSend(a,"itemArray"),g=objj_msgSend(c,"count"),f=objj_msgSend(d,"count");objj_msgSend(b,"_removeAllRecentDocumentsFromMenu:",a);for(f&&(g?objj_msgSend(d[0],"isSeparatorItem")||objj_msgSend(a,"insertItem:atIndex:",objj_msgSend(CPMenuItem,"separatorItem"),0):objj_msgSend(d[0],"isSeparatorItem")&&objj_msgSend(a,"removeItemAtIndex:",0));g--;)b=c[g],d=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:",objj_msgSend(b,"lastPathComponent"),sel_getUid("_openRecentDocument:"),
nil),objj_msgSend(d,"setTag:",b),objj_msgSend(a,"insertItem:atIndex:",d,0)}}),new objj_method(sel_getUid("_openRecentDocument:"),function(b,a,c){with(b)objj_msgSend(b,"openDocumentWithContentsOfURL:display:error:",objj_msgSend(c,"tag"),YES,nil)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPSet.j",baseURL),function(h,f){f("CPArray.j",YES);f("CPEnumerator.j",YES);f("CPNumber.j",YES);f("CPObject.j",YES);var d=objj_allocateClassPair(CPObject,"CPSet"),g=d.isa;objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("setByAddingObject:"),function(b,a,c){with(b)return objj_msgSend(objj_msgSend(b,"class"),"setWithArray:",objj_msgSend(objj_msgSend(b,"allObjects"),"arrayByAddingObject:",c))}),new objj_method(sel_getUid("setByAddingObjectsFromSet:"),
function(b,a,c){with(b)return objj_msgSend(b,"setByAddingObjectsFromArray:",objj_msgSend(c,"allObjects"))}),new objj_method(sel_getUid("setByAddingObjectsFromArray:"),function(b,a,c){with(b)return objj_msgSend(objj_msgSend(b,"class"),"setWithArray:",objj_msgSend(objj_msgSend(b,"allObjects"),"arrayByAddingObjectsFromArray:",c))}),new objj_method(sel_getUid("init"),function(b){with(b)return objj_msgSend(b,"initWithObjects:count:",nil,0)}),new objj_method(sel_getUid("initWithArray:"),function(b,a,c){with(b)return objj_msgSend(b,
"initWithObjects:count:",c,objj_msgSend(c,"count"))}),new objj_method(sel_getUid("initWithObjects:"),function(b){with(b){for(var a=2,c=arguments.length;a<c;++a)if(arguments[a]===nil)break;return objj_msgSend(b,"initWithObjects:count:",Array.prototype.slice.call(arguments,2,a),a-2)}}),new objj_method(sel_getUid("initWithObjects:count:"),function(b,a,e,d){with(b){if(b===c)return objj_msgSend(objj_msgSend(_CPConcreteMutableSet,"alloc"),"initWithObjects:count:",e,d);return objj_msgSendSuper({receiver:b,
super_class:objj_getClass("CPSet").super_class},"init")}}),new objj_method(sel_getUid("initWithSet:"),function(b,a,c){with(b)return objj_msgSend(b,"initWithArray:",objj_msgSend(c,"allObjects"))}),new objj_method(sel_getUid("initWithSet:copyItems:"),function(b,a,c,d){with(b){if(d)return objj_msgSend(c,"valueForKey:","copy");return objj_msgSend(b,"initWithSet:",c)}}),new objj_method(sel_getUid("count"),function(b,a){with(b)_CPRaiseInvalidAbstractInvocation(b,a)}),new objj_method(sel_getUid("allObjects"),
function(b){with(b){for(var a=[],c=objj_msgSend(b,"objectEnumerator");(b=objj_msgSend(c,"nextObject"))!==nil;)a.push(b);return a}}),new objj_method(sel_getUid("anyObject"),function(b){with(b)return objj_msgSend(objj_msgSend(b,"objectEnumerator"),"nextObject")}),new objj_method(sel_getUid("containsObject:"),function(b,a,c){with(b)return objj_msgSend(b,"member:",c)!==nil}),new objj_method(sel_getUid("filteredSetUsingPredicate:"),function(b,a,c){with(b){a=[];for(var d,g=objj_msgSend(b,"objectEnumerator");(d=
objj_msgSend(g,"nextObject"))!==nil;)objj_msgSend(c,"evaluateWithObject:",d)&&a.push(d);return objj_msgSend(objj_msgSend(objj_msgSend(b,"class"),"alloc"),"initWithArray:",a)}}),new objj_method(sel_getUid("makeObjectsPerformSelector:"),function(b,a,c){with(b)objj_msgSend(b,"makeObjectsPerformSelector:withObjects:",c,nil)}),new objj_method(sel_getUid("makeObjectsPerformSelector:withObject:"),function(b,a,c,d){with(b)objj_msgSend(b,"makeObjectsPerformSelector:withObjects:",c,[d])}),new objj_method(sel_getUid("makeObjectsPerformSelector:withObjects:"),
function(b,a,c,d){with(b){b=objj_msgSend(b,"objectEnumerator");for(d=[nil,c].concat(d||[]);(c=objj_msgSend(b,"nextObject"))!==nil;)d[0]=c,objj_msgSend.apply(this,d)}}),new objj_method(sel_getUid("member:"),function(b,a){with(b)_CPRaiseInvalidAbstractInvocation(b,a)}),new objj_method(sel_getUid("objectEnumerator"),function(b,a){with(b)_CPRaiseInvalidAbstractInvocation(b,a)}),new objj_method(sel_getUid("enumerateObjectsUsingBlock:"),function(b,a,c){with(b)for(a=objj_msgSend(b,"objectEnumerator");(b=
objj_msgSend(a,"nextObject"))!==nil;)if(c(b))break}),new objj_method(sel_getUid("objectsPassingTest:"),function(b,a,c){with(b){a=[];for(var d=nil,g=objj_msgSend(b,"objectEnumerator");(d=objj_msgSend(g,"nextObject"))!==nil;)c(d)&&a.push(d);return objj_msgSend(objj_msgSend(objj_msgSend(b,"class"),"alloc"),"initWithArray:",a)}}),new objj_method(sel_getUid("isSubsetOfSet:"),function(b,a,c){with(b){a=nil;for(b=objj_msgSend(b,"objectEnumerator");(a=objj_msgSend(b,"nextObject"))!==nil;)if(!objj_msgSend(c,
"containsObject:",a))return NO;return YES}}),new objj_method(sel_getUid("intersectsSet:"),function(b,a,c){with(b){if(b===c)return objj_msgSend(b,"count")>0;a=nil;for(b=objj_msgSend(b,"objectEnumerator");(a=objj_msgSend(b,"nextObject"))!==nil;)if(objj_msgSend(c,"containsObject:",a))return YES;return NO}}),new objj_method(sel_getUid("isEqualToSet:"),function(b,a,c){with(b)return objj_msgSend(b,"isEqual:",c)}),new objj_method(sel_getUid("isEqual:"),function(b,a,c){with(b)return b===c||objj_msgSend(c,
"isKindOfClass:",objj_msgSend(CPSet,"class"))&&objj_msgSend(b,"count")===objj_msgSend(c,"count")&&objj_msgSend(c,"isSubsetOfSet:",b)}),new objj_method(sel_getUid("description"),function(b){with(b){var a="{(\n";b=objj_msgSend(b,"allObjects");for(var c=0,d=objj_msgSend(b,"count");c<d;++c)a+="\t"+String(b[c]).split("\n").join("\n\t")+"\n";return a+")}"}})]);class_addMethods(g,[new objj_method(sel_getUid("alloc"),function(b){with(b){if(b===objj_msgSend(CPSet,"class")||b===objj_msgSend(CPMutableSet,"class"))return objj_msgSend(_CPPlaceholderSet,
"alloc");return objj_msgSendSuper({receiver:b,super_class:objj_getMetaClass("CPSet").super_class},"alloc")}}),new objj_method(sel_getUid("set"),function(b){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"init")}),new objj_method(sel_getUid("setWithArray:"),function(b,a,c){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithArray:",c)}),new objj_method(sel_getUid("setWithObject:"),function(b,a,c){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithObjects:",c)}),new objj_method(sel_getUid("setWithObjects:count:"),
function(b,a,c,d){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithObjects:count:",c,d)}),new objj_method(sel_getUid("setWithObjects:"),function(b){with(b){var a=Array.prototype.slice.apply(arguments);a[0]=objj_msgSend(b,"alloc");a[1]=sel_getUid("initWithObjects:");return objj_msgSend.apply(this,a)}}),new objj_method(sel_getUid("setWithSet:"),function(b,a,c){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithSet:",c)})]);d=objj_getClass("CPSet");if(!d)throw new SyntaxError('*** Could not find definition for class "CPSet"');
g=d.isa;class_addMethods(d,[new objj_method(sel_getUid("copy"),function(b){with(b)return objj_msgSend(objj_msgSend(b,"class"),"setWithSet:",b)}),new objj_method(sel_getUid("mutableCopy"),function(b){with(b)return objj_msgSend(b,"copy")})]);d=objj_getClass("CPSet");if(!d)throw new SyntaxError('*** Could not find definition for class "CPSet"');g=d.isa;class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(b,a,c){with(b)return objj_msgSend(b,"initWithArray:",objj_msgSend(c,"decodeObjectForKey:",
"CPSetObjectsKey"))}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,a,c){with(b)objj_msgSend(c,"encodeObject:forKey:",objj_msgSend(b,"allObjects"),"CPSetObjectsKey")})]);d=objj_getClass("CPSet");if(!d)throw new SyntaxError('*** Could not find definition for class "CPSet"');g=d.isa;class_addMethods(d,[new objj_method(sel_getUid("valueForKey:"),function(b,a,c){with(b){if(c==="@count")return objj_msgSend(b,"count");a=objj_msgSend(CPSet,"set");var d;for(b=objj_msgSend(b,"objectEnumerator");(d=
objj_msgSend(b,"nextObject"))!==nil;)d=objj_msgSend(d,"valueForKey:",c),d!==nil&&d!==void 0&&objj_msgSend(a,"addObject:",d);return a}}),new objj_method(sel_getUid("setValue:forKey:"),function(b,a,c,d){with(b)for(a=objj_msgSend(b,"objectEnumerator");(b=objj_msgSend(a,"nextObject"))!==nil;)objj_msgSend(b,"setValue:forKey:",c,d)})]);var c=nil;d=objj_allocateClassPair(CPSet,"_CPPlaceholderSet");g=d.isa;objj_registerClassPair(d);class_addMethods(g,[new objj_method(sel_getUid("alloc"),function(b){with(b)return c||
(c=objj_msgSendSuper({receiver:b,super_class:objj_getMetaClass("_CPPlaceholderSet").super_class},"alloc")),c})]);f("CPMutableSet.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/three.j",baseURL),function(){var h=objj_allocateClassPair(PatternMaker,"PatternThree"),f=h.isa;objj_registerClassPair(h);class_addMethods(h,[new objj_method(sel_getUid("_draw:"),function(d,g,c){with(d)objj_msgSend(d,"draw_frame_4:",c),objj_msgSend(d,"draw_frame_5:",c),objj_msgSend(d,"draw_frame_6:",c),objj_msgSend(d,"showShapes")||(objj_msgSend(d,"draw_frame_3:",c),objj_msgSend(d,"draw_frame_2:",c))}),new objj_method(sel_getUid("obtain_triangle_sides:"),
function(d,g,c){with(d){var b=objj_msgSend(objj_msgSend(objj_msgSend(d,"circle"),"cpt"),"point_on_segment:ratio:",objj_msgSend(c,"cpt"),0.25),a=objj_msgSend(objj_msgSend(objj_msgSend(d,"circle"),"cpt"),"point_on_segment:ratio:",objj_msgSend(objj_msgSend(c,"nextCircle"),"cpt"),0.25);g=objj_msgSend(objj_msgSend(c,"cpt"),"point_on_segment:ratio:",objj_msgSend(objj_msgSend(c,"nextCircle"),"cpt"),0.75);var e=objj_msgSend(objj_msgSend(c,"cpt"),"point_on_segment:ratio:",objj_msgSend(objj_msgSend(c,"nextCircle"),
"cpt"),0.25);g=objj_msgSend(GRLine,"lineWithPoint:andPoint:",b,g);var f=objj_msgSend(GRLine,"lineWithPoint:andPoint:",e,a);e=objj_msgSend(g,"intersection:",f);b=objj_msgSend(objj_msgSend(objj_msgSend(d,"circle"),"cpt"),"point_on_segment:ratio:",objj_msgSend(c,"cpt"),0.75);a=objj_msgSend(objj_msgSend(objj_msgSend(d,"circle"),"cpt"),"point_on_segment:ratio:",objj_msgSend(objj_msgSend(c,"nextCircle"),"cpt"),0.75);a=objj_msgSend(GRLine,"lineWithPoint:andPoint:",b,a);b=objj_msgSend(g,"intersection:",a);
a=objj_msgSend(f,"intersection:",a);g=objj_msgSend(GRLine,"lineWithPoint:andPoint:",b,objj_msgSend(objj_msgSend(objj_msgSend(c,"nextCircle"),"cpt"),"point_on_segment:ratio:",b,2));f=objj_msgSend(GRLine,"lineWithPoint:andPoint:",e,objj_msgSend(objj_msgSend(objj_msgSend(d,"circle"),"cpt"),"point_on_segment:ratio:",e,2));d=objj_msgSend(g,"intersection:",f);return[b,a,e,d]}}),new objj_method(sel_getUid("draw_frame_2:"),function(d,g,c){with(d){objj_msgSend(d,"setupColorWithIndex:context:",0,c);objj_msgSend(objj_msgSend(d,
"circle"),"draw:",c);objj_msgSend(d,"fillAndStroke:",c);g=objj_msgSend(d,"sub_circles");for(var b=objj_msgSend(g,"count");b--;)objj_msgSend(d,"setupColorWithIndex:context:",0,c),objj_msgSend(g[b],"draw:",c),objj_msgSend(d,"fillAndStroke:",c)}}),new objj_method(sel_getUid("draw_frame_3:"),function(d,g,c){with(d){g=objj_msgSend(d,"sub_circles");for(var b=0;b<objj_msgSend(d,"numPoints");b++){var a=g[b],e=objj_msgSend(objj_msgSend(objj_msgSend(d,"circle"),"cpt"),"point_on_segment:ratio:",objj_msgSend(a,
"cpt"),0.25),f=objj_msgSend(objj_msgSend(objj_msgSend(d,"circle"),"cpt"),"point_on_segment:ratio:",objj_msgSend(objj_msgSend(a,"nextCircle"),"cpt"),0.25),h=objj_msgSend(objj_msgSend(a,"cpt"),"point_on_segment:ratio:",objj_msgSend(objj_msgSend(a,"nextCircle"),"cpt"),0.75),n=objj_msgSend(objj_msgSend(a,"cpt"),"point_on_segment:ratio:",objj_msgSend(objj_msgSend(a,"nextCircle"),"cpt"),0.25),o=objj_msgSend(objj_msgSend(objj_msgSend(d,"circle"),"cpt"),"point_on_segment:ratio:",objj_msgSend(objj_msgSend(a,
"nextCircle"),"cpt"),0.75);a=objj_msgSend(objj_msgSend(objj_msgSend(d,"circle"),"cpt"),"point_on_segment:ratio:",objj_msgSend(a,"cpt"),0.75);objj_msgSend(d,"setupColorWithIndex:context:",1,c);objj_msgSend(objj_msgSend(GRLine,"lineWithPoint:andPoint:",e,h),"draw:",c);objj_msgSend(d,"fillAndStroke:",c);objj_msgSend(objj_msgSend(GRLine,"lineWithPoint:andPoint:",n,f),"draw:",c);objj_msgSend(d,"fillAndStroke:",c);objj_msgSend(objj_msgSend(GRLine,"lineWithPoint:andPoint:",o,a),"draw:",c);objj_msgSend(d,
"fillAndStroke:",c)}}}),new objj_method(sel_getUid("draw_frame_4:"),function(d,g,c){with(d){g=objj_msgSend(d,"sub_circles");for(var b=0;b<objj_msgSend(d,"numPoints");b++){var a=g[b];objj_msgSend(d,"setupColorWithIndex:context:",b%2+4,c);objj_msgSend(objj_msgSend(GRTriangle,"triangleWithPoints:",[objj_msgSend(objj_msgSend(d,"circle"),"cpt"),objj_msgSend(a,"cpt"),objj_msgSend(objj_msgSend(a,"nextCircle"),"cpt")]),"draw:",c);objj_msgSend(d,"fillAndStroke:",c)}}}),new objj_method(sel_getUid("draw_frame_5:"),
function(d,g,c){with(d){g=objj_msgSend(d,"sub_circles");for(var b=0;b<objj_msgSend(d,"numPoints");b++){var a=g[b],e=objj_msgSend(d,"obtain_triangle_sides:",a),f=e[1];e=objj_msgSend(e[2],"point_on_segment:ratio:",e[3],2);f=objj_msgSend(f,"point_on_segment:ratio:",e,2);e=objj_msgSend(GRLine,"lineWithPoint:andPoint:",f,objj_msgSend(objj_msgSend(d,"circle"),"cpt"));var h=objj_msgSend(objj_msgSend(objj_msgSend(d,"circle"),"cpt"),"point_on_segment:ratio:",objj_msgSend(a,"cpt"),0.25),n=objj_msgSend(objj_msgSend(objj_msgSend(d,
"circle"),"cpt"),"point_on_segment:ratio:",objj_msgSend(objj_msgSend(a,"nextCircle"),"cpt"),0.5);f=objj_msgSend(objj_msgSend(objj_msgSend(d,"circle"),"cpt"),"point_on_segment:ratio:",objj_msgSend(a,"cpt"),0.5);h=objj_msgSend(GRLine,"lineWithPoint:andPoint:",h,n);e=objj_msgSend(e,"intersection:",h);h=objj_msgSend(f,"point_on_segment:ratio:",objj_msgSend(objj_msgSend(d,"circle"),"cpt"),0.5);e=objj_msgSend(e,"point_on_segment:ratio:",h,Math.PI/10);h=objj_msgSend(e,"point_on_segment:ratio:",f,2);n=objj_msgSend(objj_msgSend(a,
"cpt"),"point_on_segment:ratio:",objj_msgSend(objj_msgSend(a,"nextCircle"),"cpt"),0.5);var o=objj_msgSend(n,"point_on_segment:ratio:",objj_msgSend(a,"cpt"),0.5);o=objj_msgSend(o,"point_on_segment:ratio:",f,Math.PI/10);var m=objj_msgSend(o,"point_on_segment:ratio:",n,2);objj_msgSend(d,"setupColorWithIndex:context:",b%2+4,c);objj_msgSend(objj_msgSend(GRBezier,"bezierWithPoints:",[objj_msgSend(objj_msgSend(a,"nextCircle"),"cpt"),m,m,n]),"draw:",c);objj_msgSend(d,"fillAndStroke:",c);objj_msgSend(objj_msgSend(GRBezier,
"bezierWithPoints:",[objj_msgSend(a,"cpt"),h,h,f]),"draw:",c);objj_msgSend(d,"fillAndStroke:",c);objj_msgSend(d,"setupColorWithIndex:context:",(b+1)%2+4,c);objj_msgSend(objj_msgSend(GRBezier,"bezierWithPoints:",[objj_msgSend(objj_msgSend(d,"circle"),"cpt"),e,e,f]),"draw:",c);objj_msgSend(d,"fillAndStroke:",c);objj_msgSend(objj_msgSend(GRBezier,"bezierWithPoints:",[objj_msgSend(a,"cpt"),o,o,n]),"draw:",c);objj_msgSend(d,"fillAndStroke:",c)}}}),new objj_method(sel_getUid("draw_frame_6:"),function(d,
g,c){with(d){g=objj_msgSend(d,"sub_circles");for(var b=0;b<objj_msgSend(d,"numPoints");b++){var a=objj_msgSend(d,"obtain_triangle_sides:",g[b]),e=a[0],f=a[1],h=a[2],n=a[3];a=objj_msgSend(h,"point_on_segment:ratio:",n,2);var o=objj_msgSend(e,"point_on_segment:ratio:",n,2);n=objj_msgSend(f,"point_on_segment:ratio:",n,2);var m=objj_msgSend(f,"point_on_segment:ratio:",a,2),l=objj_msgSend(e,"point_on_segment:ratio:",a,2),j=objj_msgSend(f,"point_on_segment:ratio:",o,2),p=objj_msgSend(h,"point_on_segment:ratio:",
n,2),r=objj_msgSend(a,"point_on_segment:ratio:",f,2),s=objj_msgSend(o,"point_on_segment:ratio:",h,2);objj_msgSend(d,"setupColorWithIndex:context:",3,c);objj_msgSend(d,"setupPath:",c);objj_msgSend(d,"moveTo:",e);objj_msgSend(d,"lineTo:",m);objj_msgSend(d,"lineTo:",a);objj_msgSend(d,"lineTo:",l);objj_msgSend(d,"lineTo:",f);objj_msgSend(d,"lineTo:",r);objj_msgSend(d,"lineTo:",o);objj_msgSend(d,"lineTo:",j);objj_msgSend(d,"lineTo:",h);objj_msgSend(d,"lineTo:",s);objj_msgSend(d,"lineTo:",n);objj_msgSend(d,
"lineTo:",p);objj_msgSend(d,"closePath:",c);objj_msgSend(d,"fillAndStroke:",c)}}})]);class_addMethods(f,[new objj_method(sel_getUid("defaultConfig"),function(d){with(d)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",6,"number_of_points",2,"recurse_depth",1.22,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",88,"radius",YES,"show_shapes",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",62,255,45,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",
255,33,44,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",85,85,85,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,254,244,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,0)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,0,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",
0,0,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",130,18,120,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",76,156,180,1)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/controllers/pattern_settings_controller.j",baseURL),function(){var h=objj_allocateClassPair(CPWindowController,"PatternSettingsController");class_addIvars(h,[new objj_ivar("m_circleCountView"),new objj_ivar("m_factorView"),new objj_ivar("m_rotationView"),new objj_ivar("m_sizeView"),new objj_ivar("m_framePosView"),new objj_ivar("m_rotationSlider"),new objj_ivar("m_circleCountSlider"),new objj_ivar("m_factorSlider"),new objj_ivar("m_framePosSlider"),
new objj_ivar("m_rotationValue"),new objj_ivar("m_circleCountValue"),new objj_ivar("m_factorValue"),new objj_ivar("m_framePosValue"),new objj_ivar("m_sizeSegment"),new objj_ivar("m_showShapesButton"),new objj_ivar("m_gradientDirectionButton"),new objj_ivar("m_radiusSlider"),new objj_ivar("m_radiusView"),new objj_ivar("m_radiusValue"),new objj_ivar("m_strokeColorView"),new objj_ivar("m_fillColorView"),new objj_ivar("m_bgColorView"),new objj_ivar("m_pattern_view")]);objj_registerClassPair(h);class_addMethods(h,
[new objj_method(sel_getUid("initWithWindowCibName:patternView:"),function(f,d,g,c){with(f)return(f=objj_msgSendSuper({receiver:f,super_class:objj_getClass("PatternSettingsController").super_class},"initWithWindowCibName:",g))&&(m_pattern_view=c),f}),new objj_method(sel_getUid("pattern"),function(f){with(f)return objj_msgSend(m_pattern_view,"pattern")}),new objj_method(sel_getUid("awakeFromCib"),function(f){with(f){objj_msgSend(CPBox,"makeBorder:",m_rotationView);objj_msgSend(CPBox,"makeBorder:",
m_factorView);objj_msgSend(CPBox,"makeBorder:",m_circleCountView);objj_msgSend(CPBox,"makeBorder:",m_radiusView);objj_msgSend(CPBox,"makeBorder:",m_fillColorView);objj_msgSend(CPBox,"makeBorder:",m_strokeColorView);objj_msgSend(CPBox,"makeBorder:",m_sizeView);objj_msgSend(CPBox,"makeBorder:",m_framePosView);objj_msgSend(CPBox,"makeBorder:",m_bgColorView);objj_msgSend(m_framePosView,"setHidden:",YES);objj_msgSend(m_gradientDirectionButton,"setState:",objj_msgSend(objj_msgSend(f,"pattern"),"bgColorDirection")==
0?CPOnState:CPOffState);objj_msgSend(m_rotationSlider,"setObjectValue:",objj_msgSend(m_pattern_view,"rotation")*(180/Math.PI));objj_msgSend(f,"updateSlider:textField:sender:",m_rotationSlider,m_rotationValue,m_rotationSlider);objj_msgSend(m_circleCountSlider,"setObjectValue:",objj_msgSend(objj_msgSend(f,"pattern"),"numPoints"));objj_msgSend(f,"updateSlider:textField:sender:",m_circleCountSlider,m_circleCountValue,m_circleCountSlider);objj_msgSend(m_factorSlider,"setObjectValue:",100*(objj_msgSend(objj_msgSend(f,
"pattern"),"factorLarger")/2));objj_msgSend(f,"updateSlider:textField:sender:",m_factorSlider,m_factorValue,m_factorSlider);objj_msgSend(m_showShapesButton,"setState:",objj_msgSend(objj_msgSend(f,"pattern"),"showShapes")?CPOnState:CPOffState);objj_msgSend(m_radiusSlider,"setObjectValue:",objj_msgSend(objj_msgSend(f,"pattern"),"radius"));objj_msgSend(f,"updateSlider:textField:sender:",m_radiusSlider,m_radiusValue,m_radiusSlider);objj_msgSend(m_sizeSegment,"selectSegmentWithTag:",objj_msgSend(objj_msgSend(objj_msgSend(f,
"pattern"),"recurseDepth"),"intValue")+1);objj_msgSend(m_rotationSlider,"setObjectValue:",objj_msgSend(objj_msgSend(f,"pattern"),"rotation"));objj_msgSend(f,"updateSlider:textField:sender:",m_rotationSlider,m_rotationValue,m_rotationSlider);var d=objj_msgSend(f,"findColorWellsWithTags:inViews:",[1],objj_msgSend(m_bgColorView,"subviews"))[0];objj_msgSend(CPBox,"makeBorder:",d);objj_msgSend(d,"setColor:",objj_msgSend(objj_msgSend(f,"pattern"),"bgColor"));objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"addObserver:selector:name:object:",f,sel_getUid("updateBackgroundColor:"),GRColorStopWasSetNotification,objj_msgSend(objj_msgSend(f,"pattern"),"bgColor"));d=objj_msgSend(f,"findColorWellsWithTags:inViews:",[0,1,2,3,4,5],objj_msgSend(m_strokeColorView,"subviews"));for(var g=0;g<objj_msgSend(d,"count");g++)objj_msgSend(d[g],"setColor:",objj_msgSend(objj_msgSend(f,"pattern"),"strokeColorAt:",g)),objj_msgSend(CPBox,"makeBorder:",d[g]);d=objj_msgSend(f,"findColorWellsWithTags:inViews:",
[0,1,2,3,4,5],objj_msgSend(m_fillColorView,"subviews"));for(g=0;g<objj_msgSend(d,"count");g++)objj_msgSend(d[g],"setColor:",objj_msgSend(objj_msgSend(f,"pattern"),"fillColorAt:",g)),objj_msgSend(CPBox,"makeBorder:",d[g]);objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",f,sel_getUid("windowWillClose:"),CPWindowWillCloseNotification,_window)}}),new objj_method(sel_getUid("updateFramePos:"),function(f,d,g){with(f)objj_msgSend(f,"updateSlider:textField:sender:",
m_framePosSlider,m_framePosValue,g)}),new objj_method(sel_getUid("updateFillColor:"),function(f,d,g){with(f)objj_msgSend(objj_msgSend(f,"pattern"),"setFillColorAt:color:",objj_msgSend(g,"tag"),objj_msgSend(g,"color")),objj_msgSend(m_pattern_view,"redisplay")}),new objj_method(sel_getUid("updateStrokeColor:"),function(f,d,g){with(f)objj_msgSend(objj_msgSend(f,"pattern"),"setStrokeColorAt:color:",objj_msgSend(g,"tag"),objj_msgSend(g,"color")),objj_msgSend(m_pattern_view,"redisplay")}),new objj_method(sel_getUid("updateRotationValue:"),
function(f,d,g){with(f)objj_msgSend(f,"updateSlider:textField:sender:",m_rotationSlider,m_rotationValue,g),objj_msgSend(m_pattern_view,"setRotation:",objj_msgSend(m_rotationSlider,"intValue")*(Math.PI/180)),objj_msgSend(objj_msgSend(f,"pattern"),"setRotation:",objj_msgSend(m_rotationSlider,"intValue"))}),new objj_method(sel_getUid("updateShowShapes:"),function(f,d,g){with(f)objj_msgSend(objj_msgSend(f,"pattern"),"setShowShapes:",objj_msgSend(g,"state")==CPOnState),objj_msgSend(m_pattern_view,"redisplay")}),
new objj_method(sel_getUid("updateGradientDirection:"),function(f,d,g){with(f)objj_msgSend(objj_msgSend(f,"pattern"),"setBgColorDirection:",objj_msgSend(g,"state")==CPOnState?0:1),objj_msgSend(m_pattern_view,"redisplay")}),new objj_method(sel_getUid("circleCountUpdate:"),function(f,d,g){with(f)objj_msgSend(f,"updateSlider:textField:sender:",m_circleCountSlider,m_circleCountValue,g),objj_msgSend(f,"compareOld:withNew:",objj_msgSend(f,"pattern"),objj_msgSend(objj_msgSend(f,"pattern"),"setNumPoints:",
objj_msgSend(m_circleCountValue,"intValue")))}),new objj_method(sel_getUid("updateRadiusValue:"),function(f,d,g){with(f)objj_msgSend(f,"updateSlider:textField:sender:",m_radiusSlider,m_radiusValue,g),objj_msgSend(f,"compareOld:withNew:",objj_msgSend(f,"pattern"),objj_msgSend(objj_msgSend(f,"pattern"),"setRadius:",objj_msgSend(m_radiusSlider,"intValue")))}),new objj_method(sel_getUid("updateFactorValue:"),function(f,d,g){with(f)objj_msgSend(f,"updateSlider:textField:sender:",m_factorSlider,m_factorValue,
g),objj_msgSend(f,"compareOld:withNew:",objj_msgSend(f,"pattern"),objj_msgSend(objj_msgSend(f,"pattern"),"setFactorLarger:",2*(objj_msgSend(m_factorSlider,"intValue")/100)))}),new objj_method(sel_getUid("updateSizeValue:"),function(f,d,g){with(f)objj_msgSend(f,"compareOld:withNew:",objj_msgSend(f,"pattern"),objj_msgSend(objj_msgSend(f,"pattern"),"setRecurseDepth:",objj_msgSend(objj_msgSend(g,"selectedTag"),"intValue")-1))}),new objj_method(sel_getUid("updateBackgroundColor:"),function(f){with(f)objj_msgSend(m_pattern_view,
"redisplay")}),new objj_method(sel_getUid("windowWillClose:"),function(f){with(f)objj_msgSend(objj_msgSend(CPColorPanel,"sharedColorPanel"),"close"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"removeObserver:name:object:",f,GRColorStopWasSetNotification,objj_msgSend(objj_msgSend(f,"pattern"),"bgColor"))}),new objj_method(sel_getUid("updateSlider:textField:sender:"),function(f,d,g,c,b){with(f)objj_msgSend(b,"isKindOfClass:",CPTextField)?objj_msgSend(g,"setObjectValue:",objj_msgSend(objj_msgSend(b,
"stringValue"),"intValue")):objj_msgSend(c,"setStringValue:",""+objj_msgSend(b,"intValue"))}),new objj_method(sel_getUid("findColorWellsWithTags:inViews:"),function(f,d,g,c){with(f){f=objj_msgSend(CPArray,"arrayWithArray:",g);d=objj_msgSend(c,"count");for(g=0;g<d;g++)if(objj_msgSend(c[g],"isKindOfClass:",CPColorWell)){var b=objj_msgSend(f,"indexOfObject:",objj_msgSend(c[g],"tag"));b!=CPNotFound&&objj_msgSend(f,"replaceObjectAtIndex:withObject:",b,c[g])}return f}}),new objj_method(sel_getUid("compareOld:withNew:"),
function(f,d,g,c){with(f)g!=c&&(objj_msgSend(m_pattern_view,"setPattern:",c),objj_msgSend(m_pattern_view,"redisplay"))})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuItemMenuBarView.j",baseURL),function(h,f){f("CPView.j",YES);var d=nil,g=nil,c=objj_allocateClassPair(CPView,"_CPMenuItemMenuBarView"),b=c.isa;class_addIvars(c,[new objj_ivar("_menuItem"),new objj_ivar("_font"),new objj_ivar("_textColor"),new objj_ivar("_textShadowColor"),new objj_ivar("_isDirty"),new objj_ivar("_imageAndTextView"),new objj_ivar("_submenuIndicatorView")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("menuItem"),
function(a){with(a)return _menuItem}),new objj_method(sel_getUid("setMenuItem:"),function(a,b,c){with(a)_menuItem=c}),new objj_method(sel_getUid("initWithFrame:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuItemMenuBarView").super_class},"initWithFrame:",c))_imageAndTextView=objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",CGRectMake(8,0,0,0)),objj_msgSend(_imageAndTextView,"setImagePosition:",CPImageLeft),objj_msgSend(_imageAndTextView,
"setImageOffset:",3),objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(_imageAndTextView,"setAutoresizingMask:",CPViewMinYMargin|CPViewMaxYMargin),objj_msgSend(a,"addSubview:",_imageAndTextView),_submenuIndicatorView=objj_msgSend(objj_msgSend(_CPMenuItemMenuBarSubmenuIndicatorView,"alloc"),"initWithFrame:",CGRectMake(0,0,9,6)),objj_msgSend(_submenuIndicatorView,"setAutoresizingMask:",CPViewMinYMargin|CPViewMaxYMargin),objj_msgSend(a,"addSubview:",_submenuIndicatorView),
objj_msgSend(a,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);return a}}),new objj_method(sel_getUid("textColor"),function(a){with(a){if(!objj_msgSend(_menuItem,"isEnabled"))return objj_msgSend(CPColor,"lightGrayColor");return _textColor||objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",70/255,69/255,69/255,1)}}),new objj_method(sel_getUid("textShadowColor"),function(a){with(a){if(!objj_msgSend(_menuItem,"isEnabled"))return objj_msgSend(CPColor,"colorWithWhite:alpha:",
0.8,0.8);return _textShadowColor||objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.8)}}),new objj_method(sel_getUid("update"),function(a){with(a){var b=8,c=0;objj_msgSend(_imageAndTextView,"setFont:",objj_msgSend(_menuItem,"font")||objj_msgSend(_CPMenuBarWindow,"font"));objj_msgSend(_imageAndTextView,"setVerticalAlignment:",CPCenterVerticalTextAlignment);objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image"));objj_msgSend(_imageAndTextView,"setText:",objj_msgSend(_menuItem,"title"));
objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(a,"textColor"));objj_msgSend(_imageAndTextView,"setTextShadowColor:",objj_msgSend(a,"textShadowColor"));objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1));objj_msgSend(_imageAndTextView,"sizeToFit");var d=objj_msgSend(_imageAndTextView,"frame");d.origin.x=b;b+=CGRectGetWidth(d);c=MAX(c,CGRectGetHeight(d));var g=objj_msgSend(_menuItem,"hasSubmenu")&&objj_msgSend(_menuItem,"action");if(g){objj_msgSend(_submenuIndicatorView,
"setHidden:",NO);objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(a,"textColor"));objj_msgSend(_submenuIndicatorView,"setShadowColor:",objj_msgSend(a,"textShadowColor"));var f=objj_msgSend(_submenuIndicatorView,"frame");f.origin.x=b+3;b=CGRectGetMaxX(f);c=MAX(c,CGRectGetHeight(f))}else objj_msgSend(_submenuIndicatorView,"setHidden:",YES);c+=8;d.origin.y=FLOOR((c-CGRectGetHeight(d))/2);objj_msgSend(_imageAndTextView,"setFrame:",d);if(g)f.origin.y=FLOOR((c-CGRectGetHeight(f))/2)+1,objj_msgSend(_submenuIndicatorView,
"setFrame:",f);_minSize=CGSizeMake(b+8,c);objj_msgSend(a,"setAutoresizesSubviews:",NO);objj_msgSend(a,"setFrameSize:",_minSize);objj_msgSend(a,"setAutoresizesSubviews:",YES)}}),new objj_method(sel_getUid("highlight:"),function(a,b,c){with(a)objj_msgSend(_menuItem,"isEnabled")||(c=NO),c?(objj_msgSend(_menuItem,"_isMenuBarButton")||objj_msgSend(a,"setBackgroundColor:",d),objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"alternateImage")||objj_msgSend(_menuItem,"image")),objj_msgSend(_imageAndTextView,
"setTextColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_imageAndTextView,"setTextShadowColor:",g),objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_submenuIndicatorView,"setShadowColor:",objj_msgSend(CPColor,"colorWithWhite:alpha:",0.1,0.7))):(objj_msgSend(a,"setBackgroundColor:",nil),objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image")),objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(a,"textColor")),objj_msgSend(_imageAndTextView,
"setTextShadowColor:",objj_msgSend(a,"textShadowColor")),objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(a,"textColor")),objj_msgSend(_submenuIndicatorView,"setShadowColor:",objj_msgSend(a,"textShadowColor")))})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==objj_msgSend(_CPMenuItemMenuBarView,"class"))return;a=objj_msgSend(CPBundle,"bundleForClass:",a);d=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),
"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuBarWindow/_CPMenuBarWindowBackgroundSelected.png"),CGSizeMake(1,28)));objj_msgSend(CPColor,"grayColor");objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",95/255,131/255,185/255,1);g=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",26/255,73/255,109/255,1);objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPMenuItem/CPMenuItemOnState.png"),
CGSizeMake(14,14));objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPMenuItem/CPMenuItemOnStateHighlighted.png"),CGSizeMake(14,14))}}),new objj_method(sel_getUid("view"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")})]);c=objj_allocateClassPair(CPView,"_CPMenuItemMenuBarSubmenuIndicatorView");b=c.isa;class_addIvars(c,[new objj_ivar("_color"),new objj_ivar("_shadowColor")]);objj_registerClassPair(c);class_addMethods(c,
[new objj_method(sel_getUid("setColor:"),function(a,b,c){with(a){if(_color===c)return;_color=c;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("setShadowColor:"),function(a,b,c){with(a){if(_shadowColor===c)return;_shadowColor=c;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("drawRect:"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");a=objj_msgSend(a,"bounds");a.size.height-=1;a.size.width-=2;a.origin.x+=
1;CGContextBeginPath(b);CGContextMoveToPoint(b,CGRectGetMinX(a),CGRectGetMinY(a));CGContextAddLineToPoint(b,CGRectGetMaxX(a),CGRectGetMinY(a));CGContextAddLineToPoint(b,CGRectGetMidX(a),CGRectGetMaxY(a));CGContextClosePath(b);CGContextSetShadowWithColor(b,CGSizeMake(0,1),1.1,_shadowColor||objj_msgSend(CPColor,"whiteColor"));CGContextSetFillColor(b,_color||objj_msgSend(CPColor,"blackColor"));CGContextFillPath(b)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPFont.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("Foundation/CPBundle.j",NO);f("CPView.j",YES);CPFontDefaultSystemFontFace="Arial, sans-serif";CPFontDefaultSystemFontSize=12;var d={},g=CPFontDefaultSystemFontFace,c=12,b=CPFontDefaultSystemFontFace.split(", "),a=RegExp("(^\\s*[\"']?|[\"']?\\s*$)","g"),e=objj_allocateClassPair(CPObject,"CPFont"),i=e.isa;class_addIvars(e,[new objj_ivar("_name"),new objj_ivar("_size"),
new objj_ivar("_ascender"),new objj_ivar("_descender"),new objj_ivar("_lineHeight"),new objj_ivar("_isBold"),new objj_ivar("_isItalic"),new objj_ivar("_cssString")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("isBold"),function(a){with(a)return _isBold}),new objj_method(sel_getUid("isItalic"),function(a){with(a)return _isItalic}),new objj_method(sel_getUid("_initWithName:size:bold:"),function(a,b,c,e,d){with(a)return objj_msgSend(a,"_initWithName:size:bold:italic:",c,
e,d,NO)}),new objj_method(sel_getUid("_initWithName:size:bold:italic:"),function(a,b,c,e,g,f){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPFont").super_class},"init"))_name=n(c).join(", "),_size=e,_lineHeight=_descender=_ascender=0,_isBold=g,_isItalic=f,_cssString=k(_name,_size,_isBold,_isItalic),d[_cssString]=a;return a}}),new objj_method(sel_getUid("ascender"),function(a){with(a)return _ascender||objj_msgSend(a,"_getMetrics"),_ascender}),new objj_method(sel_getUid("descender"),
function(a){with(a)return _descender||objj_msgSend(a,"_getMetrics"),_descender}),new objj_method(sel_getUid("defaultLineHeightForFont"),function(a){with(a)return _lineHeight||objj_msgSend(a,"_getMetrics"),_lineHeight}),new objj_method(sel_getUid("size"),function(a){with(a)return _size}),new objj_method(sel_getUid("cssString"),function(a){with(a)return _cssString}),new objj_method(sel_getUid("familyName"),function(a){with(a)return _name}),new objj_method(sel_getUid("isEqual:"),function(a,b,c){with(a)return objj_msgSend(c,
"isKindOfClass:",objj_msgSend(CPFont,"class"))&&objj_msgSend(c,"cssString")===_cssString}),new objj_method(sel_getUid("description"),function(a){with(a)return objj_msgSend(CPString,"stringWithFormat:","%@ %@",objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPFont").super_class},"description"),objj_msgSend(a,"cssString"))}),new objj_method(sel_getUid("copy"),function(a){with(a)return objj_msgSend(objj_msgSend(CPFont,"alloc"),"_initWithName:size:bold:italic:",_name,_size,_isBold,_isItalic)}),
new objj_method(sel_getUid("_getMetrics"),function(a){with(a)a=objj_msgSend(CPString,"metricsOfFont:",a),_ascender=objj_msgSend(a,"objectForKey:","ascender"),_descender=objj_msgSend(a,"objectForKey:","descender"),_lineHeight=objj_msgSend(a,"objectForKey:","lineHeight")})]);class_addMethods(i,[new objj_method(sel_getUid("initialize"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"objectForInfoDictionaryKey:","CPSystemFontFace");b||(b=objj_msgSend(objj_msgSend(CPBundle,
"bundleForClass:",objj_msgSend(CPView,"class")),"objectForInfoDictionaryKey:","CPSystemFontFace"));b&&objj_msgSend(a,"setSystemFontFace:",b);(a=objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"objectForInfoDictionaryKey:","CPSystemFontSize"))||(a=objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPView,"class")),"objectForInfoDictionaryKey:","CPSystemFontSize"));a&&(c=a)}}),new objj_method(sel_getUid("systemFontFace"),function(a){with(a)return g}),new objj_method(sel_getUid("setSystemFontFace:"),
function(a,b,c){with(a)g=n(c).join(", ")}),new objj_method(sel_getUid("systemFontSize"),function(a){with(a)return c}),new objj_method(sel_getUid("setSystemFontSize:"),function(a,b,e){with(a)e>0&&(c=e)}),new objj_method(sel_getUid("fontWithName:size:"),function(a,b,c,e){with(a)return d[k(n(c).join(", "),e,NO,NO)]||objj_msgSend(objj_msgSend(CPFont,"alloc"),"_initWithName:size:bold:italic:",c,e,NO,NO)}),new objj_method(sel_getUid("fontWithName:size:italic:"),function(a,b,c,e,g){with(a)return d[k(n(c).join(", "),
e,NO,NO)]||objj_msgSend(objj_msgSend(CPFont,"alloc"),"_initWithName:size:bold:italic:",c,e,NO,g)}),new objj_method(sel_getUid("boldFontWithName:size:"),function(a,b,c,e){with(a)return d[k(n(c).join(", "),e,YES,NO)]||objj_msgSend(objj_msgSend(CPFont,"alloc"),"_initWithName:size:bold:italic:",c,e,YES,NO)}),new objj_method(sel_getUid("boldFontWithName:size:italic:"),function(a,b,c,e,g){with(a)return d[k(n(c).join(", "),e,NO,NO)]||objj_msgSend(objj_msgSend(CPFont,"alloc"),"_initWithName:size:bold:italic:",
c,e,YES,g)}),new objj_method(sel_getUid("systemFontOfSize:"),function(a,b,c){with(a)return d[k(n(g).join(", "),c,NO,NO)]||objj_msgSend(objj_msgSend(CPFont,"alloc"),"_initWithName:size:bold:italic:",g,c,NO,NO)}),new objj_method(sel_getUid("boldSystemFontOfSize:"),function(a,b,c){with(a)return d[k(n(g).join(", "),c,YES,NO)]||objj_msgSend(objj_msgSend(CPFont,"alloc"),"_initWithName:size:bold:italic:",g,c,YES,NO)})]);e=objj_getClass("CPFont");if(!e)throw new SyntaxError('*** Could not find definition for class "CPFont"');
i=e.isa;class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a){b=objj_msgSend(c,"decodeObjectForKey:","CPFontNameKey");var e=objj_msgSend(c,"decodeFloatForKey:","CPFontSizeKey"),d=objj_msgSend(c,"decodeBoolForKey:","CPFontIsBoldKey");c=objj_msgSend(c,"decodeBoolForKey:","CPFontIsItalicKey");return objj_msgSend(a,"_initWithName:size:bold:italic:",b,e,d,c)}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a)objj_msgSend(c,"encodeObject:forKey:",
_name,"CPFontNameKey"),objj_msgSend(c,"encodeFloat:forKey:",_size,"CPFontSizeKey"),objj_msgSend(c,"encodeBool:forKey:",_isBold,"CPFontIsBoldKey"),objj_msgSend(c,"encodeBool:forKey:",_isItalic,"CPFontIsItalicKey")})]);var k=function(a,c,e,d){c=(d?"italic ":"")+(e?"bold ":"")+c+"px ";a=n(a);e=b.slice(0);for(d=0;d<a.length;++d){for(var g=0;g<e.length;++g)if(a[d].toLowerCase()===e[g].toLowerCase()){e.splice(g,1);break}a[d].indexOf(" ")>0&&(a[d]='"'+a[d]+'"')}a=a.concat(e).join(", ");return c+a},n=function(b){b=
b.split(",");for(var c=0;c<b.length;++c)b[c]=b[c].replace(a,"");return b}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGGeometry.j",baseURL),function(){CGPointMake=function(h,f){return{x:h,y:f}};CGPointMakeZero=function(){return{x:0,y:0}};CGPointMakeCopy=function(h){return{x:h.x,y:h.y}};CGPointCreateCopy=function(h){return{x:h.x,y:h.y}};CGPointEqualToPoint=function(h,f){return h.x==f.x&&h.y==f.y};CGStringFromPoint=function(h){return"{"+h.x+", "+h.y+"}"};CGSizeMake=function(h,f){return{width:h,height:f}};CGSizeMakeZero=function(){return{width:0,
height:0}};CGSizeMakeCopy=function(h){return{width:h.width,height:h.height}};CGSizeCreateCopy=function(h){return{width:h.width,height:h.height}};CGSizeEqualToSize=function(h,f){return h.width==f.width&&h.height==f.height};CGStringFromSize=function(h){return"{"+h.width+", "+h.height+"}"};CGRectMake=function(h,f,d,g){return{origin:{x:h,y:f},size:{width:d,height:g}}};CGRectMakeZero=function(){return{origin:{x:0,y:0},size:{width:0,height:0}}};CGRectMakeCopy=function(h){return{origin:{x:h.origin.x,y:h.origin.y},
size:{width:h.size.width,height:h.size.height}}};CGRectCreateCopy=function(h){return{origin:{x:h.origin.x,y:h.origin.y},size:{width:h.size.width,height:h.size.height}}};CGRectEqualToRect=function(h,f){return h.origin.x==f.origin.x&&h.origin.y==f.origin.y&&h.size.width==f.size.width&&h.size.height==f.size.height};CGStringFromRect=function(h){return"{"+("{"+h.origin.x+", "+h.origin.y+"}")+", "+("{"+h.size.width+", "+h.size.height+"}")+"}"};CGRectOffset=function(h,f,d){return{origin:{x:h.origin.x+f,
y:h.origin.y+d},size:{width:h.size.width,height:h.size.height}}};CGRectInset=function(h,f,d){return{origin:{x:h.origin.x+f,y:h.origin.y+d},size:{width:h.size.width-2*f,height:h.size.height-2*d}}};CGRectGetHeight=function(h){return h.size.height};CGRectGetMaxX=function(h){return h.origin.x+h.size.width};CGRectGetMaxY=function(h){return h.origin.y+h.size.height};CGRectGetMidX=function(h){return h.origin.x+h.size.width/2};CGRectGetMidY=function(h){return h.origin.y+h.size.height/2};CGRectGetMinX=function(h){return h.origin.x};
CGRectGetMinY=function(h){return h.origin.y};CGRectGetWidth=function(h){return h.size.width};CGRectIsEmpty=function(h){return h.size.width<=0||h.size.height<=0};CGRectIsNull=function(h){return h.size.width<=0||h.size.height<=0};CGRectContainsPoint=function(h,f){return f.x>=h.origin.x&&f.y>=h.origin.y&&f.x<h.origin.x+h.size.width&&f.y<h.origin.y+h.size.height};CGInsetMake=function(h,f,d,g){return{top:h,right:f,bottom:d,left:g}};CGInsetMakeZero=function(){return{top:0,right:0,bottom:0,left:0}};CGInsetMakeCopy=
function(h){return{top:h.top,right:h.right,bottom:h.bottom,left:h.left}};CGInsetIsEmpty=function(h){return h.top===0&&h.right===0&&h.bottom===0&&h.left===0};CGInsetEqualToInset=function(h,f){return h.top===f.top&&h.right===f.right&&h.bottom===f.bottom&&h.left===f.left};CGMinXEdge=0;CGMinYEdge=1;CGMaxXEdge=2;CGMaxYEdge=3;CGRectNull={origin:{x:Infinity,y:Infinity},size:{width:0,height:0}};CGRectDivide=function(h,f,d,g,c){f.origin={x:h.origin.x,y:h.origin.y};f.size={width:h.size.width,height:h.size.height};
d.origin={x:h.origin.x,y:h.origin.y};d.size={width:h.size.width,height:h.size.height};switch(c){case CGMinXEdge:f.size.width=g;d.origin.x+=g;d.size.width-=g;break;case CGMaxXEdge:f.origin.x=f.origin.x+f.size.width-g;f.size.width=g;d.size.width-=g;break;case CGMinYEdge:f.size.height=g;d.origin.y+=g;d.size.height-=g;break;case CGMaxYEdge:f.origin.y=f.origin.y+f.size.height-g,f.size.height=g,d.size.height-=g}};CGRectContainsRect=function(h,f){var d=CGRectUnion(h,f);return d.origin.x==h.origin.x&&d.origin.y==
h.origin.y&&d.size.width==h.size.width&&d.size.height==h.size.height};CGRectIntersectsRect=function(h,f){var d=CGRectIntersection(h,f);return!(d.size.width<=0||d.size.height<=0)};CGRectIntegral=function(h){h=CGRectStandardize(h);var f=FLOOR(h.origin.x),d=FLOOR(h.origin.y);h.size.width=CEIL(h.origin.x+h.size.width)-f;h.size.height=CEIL(h.origin.y+h.size.height)-d;h.origin.x=f;h.origin.y=d;return h};CGRectIntersection=function(h,f){var d={origin:{x:MAX(h.origin.x,f.origin.x),y:MAX(h.origin.y,f.origin.y)},
size:{width:0,height:0}};d.size.width=MIN(h.origin.x+h.size.width,f.origin.x+f.size.width)-d.origin.x;d.size.height=MIN(h.origin.y+h.size.height,f.origin.y+f.size.height)-d.origin.y;return d.size.width<=0||d.size.height<=0?{origin:{x:0,y:0},size:{width:0,height:0}}:d};CGRectStandardize=function(h){var f=h.size.width,d=h.size.height;h={origin:{x:h.origin.x,y:h.origin.y},size:{width:h.size.width,height:h.size.height}};if(f<0)h.origin.x+=f,h.size.width=-f;if(d<0)h.origin.y+=d,h.size.height=-d;return h};
CGRectUnion=function(h,f){var d=!h||h===CGRectNull,g=!f||f===CGRectNull;if(d)return g?CGRectNull:f;if(g)return d?CGRectNull:h;d=MIN(h.origin.x,f.origin.x);g=MIN(h.origin.y,f.origin.y);var c=MAX(h.origin.x+h.size.width,f.origin.x+f.size.width),b=MAX(h.origin.y+h.size.height,f.origin.y+f.size.height);return{origin:{x:d,y:g},size:{width:c-d,height:b-g}}};CGPointFromString=function(h){var f=h.indexOf(",");return{x:parseInt(h.substr(1,f-1)),y:parseInt(h.substring(f+1,h.length))}};CGSizeFromString=function(h){var f=
h.indexOf(",");return{width:parseInt(h.substr(1,f-1)),height:parseInt(h.substring(f+1,h.length))}};CGRectFromString=function(h){var f=h.indexOf(",",h.indexOf(",")+1);return{origin:CGPointFromString(h.substr(1,f-1)),size:CGSizeFromString(h.substring(f+2,h.length))}};CGPointFromEvent=function(h){return{x:h.clientX,y:h.clientY}};CGInsetFromCPString=CGInsetFromString=function(h){h=h.substr(1,h.length-2).split(",");return{top:parseFloat(h[0]),right:parseFloat(h[1]),bottom:parseFloat(h[2]),left:parseFloat(h[3])}};
CPStringFromCGInset=function(h){return"{"+h.top+", "+h.left+", "+h.bottom+", "+h.right+"}"}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPShadowView.j",baseURL),function(h,f){f("Foundation/CPBundle.j",NO);f("CGGeometry.j",YES);f("CPImage.j",YES);f("CPImageView.j",YES);f("CPView.j",YES);CPLightShadow=0;CPHeavyShadow=1;var d=nil,g=nil,c=objj_allocateClassPair(CPView,"CPShadowView"),b=c.isa;class_addIvars(c,[new objj_ivar("_weight")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithFrame:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,
super_class:objj_getClass("CPShadowView").super_class},"initWithFrame:",c))_weight=CPLightShadow,objj_msgSend(a,"setBackgroundColor:",d),objj_msgSend(a,"setHitTests:",NO);return a}}),new objj_method(sel_getUid("setWeight:"),function(a,b,c){with(a){if(_weight==c)return;_weight=c;_weight==CPLightShadow?objj_msgSend(a,"setBackgroundColor:",d):objj_msgSend(a,"setBackgroundColor:",g)}}),new objj_method(sel_getUid("leftInset"),function(a){with(a)return _weight==CPLightShadow?3:7}),new objj_method(sel_getUid("rightInset"),
function(a){with(a)return _weight==CPLightShadow?3:7}),new objj_method(sel_getUid("topInset"),function(a){with(a)return _weight==CPLightShadow?3:5}),new objj_method(sel_getUid("bottomInset"),function(a){with(a)return _weight==CPLightShadow?5:5}),new objj_method(sel_getUid("horizontalInset"),function(a){with(a){if(_weight==CPLightShadow)return 6;return 14}}),new objj_method(sel_getUid("verticalInset"),function(a){with(a){if(_weight==CPLightShadow)return 8;return 10}}),new objj_method(sel_getUid("frameForContentFrame:"),
function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,"class"),"frameForContentFrame:withWeight:",c,_weight)}),new objj_method(sel_getUid("setFrameForContentFrame:"),function(a,b,c){with(a)objj_msgSend(a,"setFrame:",objj_msgSend(a,"frameForContentFrame:",c))})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(CPShadowView,"class"))return;a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(a,"class"));d=objj_msgSend(CPColor,"colorWithPatternImage:",
objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewLightTopLeft.png"),CGSizeMake(9,9)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewLightTop.png"),CGSizeMake(1,9)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:",
"CPShadowView/CPShadowViewLightTopRight.png"),CGSizeMake(9,9)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewLightLeft.png"),CGSizeMake(9,1)),nil,objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewLightRight.png"),CGSizeMake(9,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:",
"CPShadowView/CPShadowViewLightBottomLeft.png"),CGSizeMake(9,9)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewLightBottom.png"),CGSizeMake(1,9)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewLightBottomRight.png"),CGSizeMake(9,9))]));g=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,
"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewHeavyTopLeft.png"),CGSizeMake(17,17)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewHeavyTop.png"),CGSizeMake(1,17)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewHeavyTopRight.png"),
CGSizeMake(17,17)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewHeavyLeft.png"),CGSizeMake(17,1)),nil,objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewHeavyRight.png"),CGSizeMake(17,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewHeavyBottomLeft.png"),
CGSizeMake(17,17)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewHeavyBottom.png"),CGSizeMake(1,17)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewHeavyBottomRight.png"),CGSizeMake(17,17))]))}}),new objj_method(sel_getUid("shadowViewEnclosingView:"),function(a,b,c){with(a)return objj_msgSend(a,"shadowViewEnclosingView:withWeight:",
c,CPLightShadow)}),new objj_method(sel_getUid("shadowViewEnclosingView:withWeight:"),function(a,b,c,d){with(a){a=objj_msgSend(objj_msgSend(CPShadowView,"alloc"),"initWithFrame:",objj_msgSend(c,"frame"));objj_msgSend(a,"setWeight:",d);b=objj_msgSend(a,"frame").size;d=b.width-objj_msgSend(a,"leftInset")-objj_msgSend(a,"rightInset");b=b.height-objj_msgSend(a,"topInset")-objj_msgSend(a,"bottomInset");var g=objj_msgSend(c,"superview");objj_msgSend(a,"setHitTests:",objj_msgSend(c,"hitTests"));objj_msgSend(a,
"setAutoresizingMask:",objj_msgSend(c,"autoresizingMask"));objj_msgSend(c,"removeFromSuperview");objj_msgSend(a,"addSubview:",c);objj_msgSend(c,"setFrame:",CGRectMake(objj_msgSend(a,"leftInset"),objj_msgSend(a,"topInset"),d,b));objj_msgSend(g,"addSubview:",a);return a}}),new objj_method(sel_getUid("frameForContentFrame:withWeight:"),function(a,b,c,d){with(a)return d==CPLightShadow?CGRectMake(c.origin.x-3,c.origin.y-3,c.size.width+3+3,c.size.height+3+5):CGRectMake(c.origin.x-7,c.origin.y-5,c.size.width+
7+7,c.size.height+5+5)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPResponder.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);CPDeleteKeyCode=8;CPTabKeyCode=9;CPReturnKeyCode=13;CPEscapeKeyCode=27;CPSpaceKeyCode=32;CPPageUpKeyCode=33;CPPageDownKeyCode=34;CPLeftArrowKeyCode=37;CPUpArrowKeyCode=38;CPRightArrowKeyCode=39;CPDownArrowKeyCode=40;CPDeleteForwardKeyCode=46;var d=objj_allocateClassPair(CPObject,"CPResponder");class_addIvars(d,[new objj_ivar("_menu"),new objj_ivar("_nextResponder")]);
objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("acceptsFirstResponder"),function(d){with(d)return NO}),new objj_method(sel_getUid("becomeFirstResponder"),function(d){with(d)return YES}),new objj_method(sel_getUid("resignFirstResponder"),function(d){with(d)return YES}),new objj_method(sel_getUid("setNextResponder:"),function(d,c,b){with(d)_nextResponder=b}),new objj_method(sel_getUid("nextResponder"),function(d){with(d)return _nextResponder}),new objj_method(sel_getUid("interpretKeyEvents:"),
function(d,c,b){with(d){c=0;for(var a=objj_msgSend(b,"count");c<a;++c){var e=b[c],f=objj_msgSend(e,"modifierFlags"),h=objj_msgSend(e,"charactersIgnoringModifiers");if(h=objj_msgSend(CPKeyBinding,"selectorsForKey:modifierFlags:",h,f)){e=0;for(f=h.length;e<f;e++){var n=h[e];n&&objj_msgSend(d,"doCommandBySelector:",CPSelectorFromString(n))}}else!(f&(CPCommandKeyMask|CPControlKeyMask))&&objj_msgSend(d,"respondsToSelector:",sel_getUid("insertText:"))&&objj_msgSend(d,"insertText:",objj_msgSend(e,"characters"))}}}),
new objj_method(sel_getUid("mouseDown:"),function(d,c,b){with(d)objj_msgSend(_nextResponder,"performSelector:withObject:",c,b)}),new objj_method(sel_getUid("rightMouseDown:"),function(d,c,b){with(d)objj_msgSend(_nextResponder,"performSelector:withObject:",c,b)}),new objj_method(sel_getUid("mouseDragged:"),function(d,c,b){with(d)objj_msgSend(_nextResponder,"performSelector:withObject:",c,b)}),new objj_method(sel_getUid("mouseUp:"),function(d,c,b){with(d)objj_msgSend(_nextResponder,"performSelector:withObject:",
c,b)}),new objj_method(sel_getUid("rightMouseUp:"),function(d,c,b){with(d)objj_msgSend(_nextResponder,"performSelector:withObject:",c,b)}),new objj_method(sel_getUid("mouseMoved:"),function(d,c,b){with(d)objj_msgSend(_nextResponder,"performSelector:withObject:",c,b)}),new objj_method(sel_getUid("mouseEntered:"),function(d,c,b){with(d)objj_msgSend(_nextResponder,"performSelector:withObject:",c,b)}),new objj_method(sel_getUid("mouseExited:"),function(d,c,b){with(d)objj_msgSend(_nextResponder,"performSelector:withObject:",
c,b)}),new objj_method(sel_getUid("scrollWheel:"),function(d,c,b){with(d)objj_msgSend(_nextResponder,"performSelector:withObject:",c,b)}),new objj_method(sel_getUid("keyDown:"),function(d,c,b){with(d)objj_msgSend(_nextResponder,"performSelector:withObject:",c,b)}),new objj_method(sel_getUid("keyUp:"),function(d,c,b){with(d)objj_msgSend(_nextResponder,"performSelector:withObject:",c,b)}),new objj_method(sel_getUid("flagsChanged:"),function(d,c,b){with(d)objj_msgSend(_nextResponder,"performSelector:withObject:",
c,b)}),new objj_method(sel_getUid("performKeyEquivalent:"),function(d){with(d)return NO}),new objj_method(sel_getUid("insertLineBreak:"),function(d,c,b){with(d)objj_msgSend(d,"insertNewline:",b)}),new objj_method(sel_getUid("insertNewline:"),function(d,c,b){with(d)objj_msgSend(objj_msgSend(d,"nextResponder"),"insertNewline:",b)}),new objj_method(sel_getUid("insertTab:"),function(d){with(d);}),new objj_method(sel_getUid("insertBackTab:"),function(d){with(d);}),new objj_method(sel_getUid("insertText:"),
function(d){with(d);}),new objj_method(sel_getUid("doCommandBySelector:"),function(d,c,b){with(d)objj_msgSend(d,"respondsToSelector:",b)?objj_msgSend(d,"performSelector:",b):objj_msgSend(_nextResponder,"doCommandBySelector:",b)}),new objj_method(sel_getUid("tryToPerform:with:"),function(d,c,b,a){with(d){if(objj_msgSend(d,"respondsToSelector:",b))return objj_msgSend(d,"performSelector:withObject:",b,a),YES;return objj_msgSend(_nextResponder,"tryToPerform:with:",b,a)}}),new objj_method(sel_getUid("setMenu:"),
function(d,c,b){with(d)_menu=b}),new objj_method(sel_getUid("menu"),function(d){with(d)return _menu}),new objj_method(sel_getUid("undoManager"),function(d,c){with(d)return objj_msgSend(_nextResponder,"performSelector:",c)}),new objj_method(sel_getUid("noResponderFor:"),function(d){with(d);})]);d=objj_getClass("CPResponder");if(!d)throw new SyntaxError('*** Could not find definition for class "CPResponder"');class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(d,c,b){with(d){if(d=
objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPResponder").super_class},"init"))objj_msgSend(d,"setNextResponder:",objj_msgSend(b,"decodeObjectForKey:","CPResponderNextResponderKey")),objj_msgSend(d,"setMenu:",objj_msgSend(b,"decodeObjectForKey:","CPResponderMenuKey"));return d}}),new objj_method(sel_getUid("encodeWithCoder:"),function(d,c,b){with(d)_nextResponder!==nil&&objj_msgSend(b,"encodeConditionalObject:forKey:",_nextResponder,"CPResponderNextResponderKey"),objj_msgSend(b,"encodeObject:forKey:",
_menu,"CPResponderMenuKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPURLConnection.j",baseURL),function(h,f){f("CPData.j",YES);f("CPObject.j",YES);f("CPRunLoop.j",YES);f("CPURLRequest.j",YES);f("CPURLResponse.j",YES);var d=nil,g=objj_allocateClassPair(CPObject,"CPURLConnection"),c=g.isa;class_addIvars(g,[new objj_ivar("_request"),new objj_ivar("_delegate"),new objj_ivar("_isCanceled"),new objj_ivar("_isLocalFileConnection"),new objj_ivar("_HTTPRequest")]);objj_registerClassPair(g);class_addMethods(g,
[new objj_method(sel_getUid("initWithRequest:delegate:startImmediately:"),function(b,a,c,d,g){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPURLConnection").super_class},"init"))_request=c,_delegate=d,_isCanceled=NO,a=objj_msgSend(_request,"URL"),a=objj_msgSend(a,"scheme"),_isLocalFileConnection=a==="file"||(a==="http"||a==="https:")&&window.location&&(window.location.protocol==="file:"||window.location.protocol==="app:"),_HTTPRequest=new CFHTTPRequest,g&&objj_msgSend(b,"start");
return b}}),new objj_method(sel_getUid("initWithRequest:delegate:"),function(b,a,c,d){with(b)return objj_msgSend(b,"initWithRequest:delegate:startImmediately:",c,d,YES)}),new objj_method(sel_getUid("delegate"),function(b){with(b)return _delegate}),new objj_method(sel_getUid("start"),function(b){with(b){_isCanceled=NO;try{_HTTPRequest.open(objj_msgSend(_request,"HTTPMethod"),objj_msgSend(objj_msgSend(_request,"URL"),"absoluteString"),YES);_HTTPRequest.onreadystatechange=function(){objj_msgSend(b,"_readyStateDidChange")};
for(var a=objj_msgSend(_request,"allHTTPHeaderFields"),c=nil,d=objj_msgSend(a,"keyEnumerator");c=objj_msgSend(d,"nextObject");)_HTTPRequest.setRequestHeader(c,objj_msgSend(a,"objectForKey:",c));_HTTPRequest.send(objj_msgSend(_request,"HTTPBody"))}catch(g){objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("connection:didFailWithError:"))&&objj_msgSend(_delegate,"connection:didFailWithError:",b,g)}}}),new objj_method(sel_getUid("cancel"),function(b){with(b){_isCanceled=YES;try{_HTTPRequest.abort()}catch(a){}}}),
new objj_method(sel_getUid("isLocalFileConnection"),function(b){with(b)return _isLocalFileConnection}),new objj_method(sel_getUid("_readyStateDidChange"),function(b){with(b){if(_HTTPRequest.readyState()===CFHTTPRequest.CompleteState){var a=_HTTPRequest.status(),c=objj_msgSend(_request,"URL");a===401&&objj_msgSend(d,"respondsToSelector:",sel_getUid("connectionDidReceiveAuthenticationChallenge:"))?objj_msgSend(d,"connectionDidReceiveAuthenticationChallenge:",b):(objj_msgSend(_delegate,"respondsToSelector:",
sel_getUid("connection:didReceiveResponse:"))&&(_isLocalFileConnection?objj_msgSend(_delegate,"connection:didReceiveResponse:",b,objj_msgSend(objj_msgSend(CPURLResponse,"alloc"),"initWithURL:",c)):(c=objj_msgSend(objj_msgSend(CPHTTPURLResponse,"alloc"),"initWithURL:",c),objj_msgSend(c,"_setStatusCode:",a),objj_msgSend(_delegate,"connection:didReceiveResponse:",b,c))),_isCanceled||(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("connection:didReceiveData:"))&&objj_msgSend(_delegate,"connection:didReceiveData:",
b,_HTTPRequest.responseText()),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("connectionDidFinishLoading:"))&&objj_msgSend(_delegate,"connectionDidFinishLoading:",b)))}objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode)}}),new objj_method(sel_getUid("_HTTPRequest"),function(b){with(b)return _HTTPRequest})]);class_addMethods(c,[new objj_method(sel_getUid("setClassDelegate:"),function(b,a,c){with(b)d=c}),new objj_method(sel_getUid("sendSynchronousRequest:returningResponse:"),
function(b,a,c){with(b){try{var d=new CFHTTPRequest;d.open(objj_msgSend(c,"HTTPMethod"),objj_msgSend(objj_msgSend(c,"URL"),"absoluteString"),NO);var g=objj_msgSend(c,"allHTTPHeaderFields");b=nil;for(var f=objj_msgSend(g,"keyEnumerator");b=objj_msgSend(f,"nextObject");)d.setRequestHeader(b,objj_msgSend(g,"objectForKey:",b));d.send(objj_msgSend(c,"HTTPBody"));return objj_msgSend(CPData,"dataWithRawString:",d.responseText())}catch(h){}return nil}}),new objj_method(sel_getUid("connectionWithRequest:delegate:"),
function(b,a,c,d){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithRequest:delegate:",c,d)})]);g=objj_getClass("CPURLConnection");if(!g)throw new SyntaxError('*** Could not find definition for class "CPURLConnection"');c=g.isa;class_addMethods(g,[new objj_method(sel_getUid("_XMLHTTPRequest"),function(b,a){with(b)return _CPReportLenientDeprecation(b,a,sel_getUid("_HTTPRequest")),objj_msgSend(b,"_HTTPRequest")})]);class_addMethods(c,[new objj_method(sel_getUid("sendSynchronousRequest:returningResponse:error:"),
function(b,a,c,d){with(b)return _CPReportLenientDeprecation(b,a,sel_getUid("sendSynchronousRequest:returningResponse:")),objj_msgSend(b,"sendSynchronousRequest:returningResponse:",c,d)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPClipView.j",baseURL),function(h,f){f("CPView.j",YES);var d=objj_allocateClassPair(CPView,"CPClipView");class_addIvars(d,[new objj_ivar("_documentView")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("setDocumentView:"),function(d,c,b){with(d){if(_documentView==b)return;c=objj_msgSend(CPNotificationCenter,"defaultCenter");_documentView&&(objj_msgSend(c,"removeObserver:name:object:",d,CPViewFrameDidChangeNotification,
_documentView),objj_msgSend(c,"removeObserver:name:object:",d,CPViewBoundsDidChangeNotification,_documentView),objj_msgSend(_documentView,"removeFromSuperview"));if(_documentView=b)objj_msgSend(d,"addSubview:",_documentView),objj_msgSend(_documentView,"setPostsFrameChangedNotifications:",YES),objj_msgSend(_documentView,"setPostsBoundsChangedNotifications:",YES),objj_msgSend(c,"addObserver:selector:name:object:",d,sel_getUid("viewFrameChanged:"),CPViewFrameDidChangeNotification,_documentView),objj_msgSend(c,
"addObserver:selector:name:object:",d,sel_getUid("viewBoundsChanged:"),CPViewBoundsDidChangeNotification,_documentView)}}),new objj_method(sel_getUid("documentView"),function(d){with(d)return _documentView}),new objj_method(sel_getUid("constrainScrollPoint:"),function(d,c,b){with(d){if(!_documentView)return{x:0,y:0};d=objj_msgSend(_documentView,"frame");b.x=MAX(0,MIN(b.x,MAX(d.size.width-_bounds.size.width,0)));b.y=MAX(0,MIN(b.y,MAX(d.size.height-_bounds.size.height,0)));return b}}),new objj_method(sel_getUid("setBoundsOrigin:"),
function(d,c,b){with(d){if(_bounds.origin.x==b.x&&_bounds.origin.y==b.y)return;objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPClipView").super_class},"setBoundsOrigin:",b);c=objj_msgSend(d,"superview");b=objj_getClass("CPScrollView");objj_msgSend(c,"isKindOfClass:",b)&&objj_msgSend(c,"reflectScrolledClipView:",d)}}),new objj_method(sel_getUid("scrollToPoint:"),function(d,c,b){with(d)objj_msgSend(d,"setBoundsOrigin:",objj_msgSend(d,"constrainScrollPoint:",b))}),new objj_method(sel_getUid("viewBoundsChanged:"),
function(d){with(d)objj_msgSend(d,"_constrainScrollPoint")}),new objj_method(sel_getUid("viewFrameChanged:"),function(d){with(d)objj_msgSend(d,"_constrainScrollPoint")}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(d,c,b){with(d)objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPClipView").super_class},"resizeSubviewsWithOldSize:",b),objj_msgSend(d,"_constrainScrollPoint")}),new objj_method(sel_getUid("_constrainScrollPoint"),function(d){with(d){var c=objj_msgSend(d,"bounds").origin;
objj_msgSend(d,"scrollToPoint:",c);if(!CGPointEqualToPoint(c,objj_msgSend(d,"bounds").origin))return;c=objj_msgSend(d,"superview");var b=objj_getClass("CPScrollView");objj_msgSend(c,"isKindOfClass:",b)&&objj_msgSend(c,"reflectScrolledClipView:",d)}}),new objj_method(sel_getUid("autoscroll:"),function(d,c,b){with(d){c=objj_msgSend(d,"bounds");b=objj_msgSend(d,"convertPoint:fromView:",objj_msgSend(b,"locationInWindow"),nil);var a=objj_msgSend(d,"superview"),e=0,f=0;if(CGRectContainsPoint(c,b))return NO;
if(!objj_msgSend(a,"isKindOfClass:",objj_msgSend(CPScrollView,"class"))||objj_msgSend(a,"hasVerticalScroller"))if(b.y<CGRectGetMinY(c)?f=CGRectGetMinY(c)-b.y:b.y>CGRectGetMaxY(c)&&(f=CGRectGetMaxY(c)-b.y),f<-c.size.height&&(f=-c.size.height),f>c.size.height)f=c.size.height;if(!objj_msgSend(a,"isKindOfClass:",objj_msgSend(CPScrollView,"class"))||objj_msgSend(a,"hasHorizontalScroller"))if(b.x<CGRectGetMinX(c)?e=CGRectGetMinX(c)-b.x:b.x>CGRectGetMaxX(c)&&(e=CGRectGetMaxX(c)-b.x),e<-c.size.width&&(e=
-c.size.width),e>c.size.width)e=c.size.width;return objj_msgSend(d,"scrollToPoint:",CGPointMake(c.origin.x-e,c.origin.y-f))}})]);d=objj_getClass("CPClipView");if(!d)throw new SyntaxError('*** Could not find definition for class "CPClipView"');class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(d,c,b){with(d)return(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPClipView").super_class},"initWithCoder:",b))&&objj_msgSend(d,"setDocumentView:",objj_msgSend(b,"decodeObjectForKey:",
"CPScrollViewDocumentView")),d}),new objj_method(sel_getUid("encodeWithCoder:"),function(d,c,b){with(d)objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPClipView").super_class},"encodeWithCoder:",b),objj_msgSend(b,"encodeObject:forKey:",_documentView,"CPScrollViewDocumentView")})])});CFHTTPRequest._cacheRequest(new CFURL("Frameworks/Foundation/ObjJ.environment/Foundation.sj",baseURL),200,{},'@STATIC;1.0;p;12;Foundation.jt;696;@STATIC;1.0;i;9;CPArray.ji;10;CPBundle.ji;9;CPCoder.ji;8;CPData.ji;8;CPDate.ji;14;CPDictionary.ji;14;CPEnumerator.ji;13;CPException.ji;12;CPIndexSet.ji;14;CPInvocation.ji;17;CPKeyedArchiver.ji;19;CPKeyedUnarchiver.ji;18;CPKeyValueCoding.ji;21;CPKeyValueObserving.ji;16;CPMutableArray.ji;14;CPMutableSet.ji;16;CPNotification.ji;22;CPNotificationCenter.ji;8;CPNull.ji;10;CPNumber.ji;10;CPObject.ji;15;CPObjJRuntime.ji;29;CPPropertyListSerialization.ji;9;CPRange.ji;11;CPRunLoop.ji;7;CPSet.ji;18;CPSortDescriptor.ji;10;CPString.ji;9;CPTimer.ji;15;CPUndoManager.ji;7;CPURL.ji;17;CPURLConnection.ji;14;CPURLRequest.ji;15;CPURLResponse.ji;9;CPValue.ji;20;CPValueTransformer.jt;22;alert("Foundation.j");p;9;CPArray.jt;149;@STATIC;1.0;i;14;CPEnumerator.ji;13;CPException.ji;10;CPObject.ji;9;CPRange.ji;18;CPSortDescriptor.ji;20;_CPJavaScriptArray.jt;19;alert("CPArray.j");p;14;CPEnumerator.jt;56;@STATIC;1.0;i;10;CPObject.jt;24;alert("CPEnumerator.j");p;10;CPObject.jt;37;@STATIC;1.0;t;20;alert("CPObject.j");p;13;CPException.jt;83;@STATIC;1.0;i;9;CPCoder.ji;10;CPObject.ji;10;CPString.jt;23;alert("CPException.j");p;9;CPCoder.jt;69;@STATIC;1.0;i;13;CPException.ji;10;CPObject.jt;19;alert("CPCoder.j");p;10;CPString.jt;150;@STATIC;1.0;i;13;CPException.ji;10;CPObject.ji;15;CPObjJRuntime.ji;9;CPRange.ji;18;CPSortDescriptor.ji;7;CPURL.ji;9;CPValue.jt;20;alert("CPString.j");p;15;CPObjJRuntime.jt;42;@STATIC;1.0;t;25;alert("CPObjJRuntime.j");p;9;CPRange.jt;36;@STATIC;1.0;t;19;alert("CPRange.j");p;18;CPSortDescriptor.jt;95;@STATIC;1.0;i;10;CPObject.ji;15;CPObjJRuntime.ji;10;CPString.jt;28;alert("CPSortDescriptor.j");p;7;CPURL.jt;64;@STATIC;1.0;i;10;CPObject.ji;10;CPString.jt;17;alert("CPURL.j");p;9;CPValue.jt;64;@STATIC;1.0;i;9;CPCoder.ji;10;CPObject.jt;19;alert("CPValue.j");p;20;_CPJavaScriptArray.jt;68;@STATIC;1.0;i;16;CPMutableArray.jt;30;alert("_CPJavaScriptArray.j");p;16;CPMutableArray.jt;56;@STATIC;1.0;i;9;CPArray.jt;26;alert("CPMutableArray.j");p;10;CPBundle.jt;119;@STATIC;1.0;i;14;CPDictionary.ji;16;CPNotification.ji;22;CPNotificationCenter.ji;10;CPObject.jt;20;alert("CPBundle.j");p;14;CPDictionary.jt;118;@STATIC;1.0;i;9;CPArray.ji;14;CPEnumerator.ji;13;CPException.ji;8;CPNull.ji;10;CPObject.jt;24;alert("CPDictionary.j");p;8;CPNull.jt;50;@STATIC;1.0;i;10;CPObject.jt;18;alert("CPNull.j");p;16;CPNotification.jt;76;@STATIC;1.0;i;13;CPException.ji;10;CPObject.jt;26;alert("CPNotification.j");p;22;CPNotificationCenter.jt;132;@STATIC;1.0;i;9;CPArray.ji;14;CPDictionary.ji;13;CPException.ji;16;CPNotification.ji;8;CPNull.jt;32;alert("CPNotificationCenter.j");p;8;CPData.jt;65;@STATIC;1.0;i;10;CPObject.ji;10;CPString.jt;18;alert("CPData.j");p;8;CPDate.jt;83;@STATIC;1.0;i;10;CPObject.ji;10;CPString.ji;13;CPException.jt;18;alert("CPDate.j");p;12;CPIndexSet.jt;80;@STATIC;1.0;i;9;CPArray.ji;10;CPObject.ji;9;CPRange.jt;22;alert("CPIndexSet.j");p;14;CPInvocation.jt;56;@STATIC;1.0;i;10;CPObject.jt;24;alert("CPInvocation.j");p;17;CPKeyedArchiver.jt;144;@STATIC;1.0;i;9;CPArray.ji;9;CPCoder.ji;8;CPData.ji;14;CPDictionary.ji;10;CPNumber.ji;10;CPString.ji;9;CPValue.jt;27;alert("CPKeyedArchiver.j");p;10;CPNumber.jt;72;@STATIC;1.0;i;10;CPObject.ji;15;CPObjJRuntime.jt;20;alert("CPNumber.j");p;19;CPKeyedUnarchiver.jt;185;@STATIC;1.0;i;9;CPArray.ji;9;CPCoder.ji;8;CPData.ji;14;CPDictionary.ji;13;CPException.ji;17;CPKeyedArchiver.ji;8;CPNull.ji;10;CPNumber.ji;10;CPString.jt;29;alert("CPKeyedUnarchiver.j");p;18;CPKeyValueCoding.jt;176;@STATIC;1.0;i;9;CPArray.ji;14;CPDictionary.ji;13;CPException.ji;12;CPIndexSet.ji;8;CPNull.ji;10;CPObject.ji;7;CPSet.ji;21;CPKeyValueObserving.jt;28;alert("CPKeyValueCoding.j");p;7;CPSet.jt;115;@STATIC;1.0;i;9;CPArray.ji;14;CPEnumerator.ji;10;CPNumber.ji;10;CPObject.ji;14;CPMutableSet.jt;17;alert("CPSet.j");p;14;CPMutableSet.jt;80;@STATIC;1.0;i;7;CPSet.ji;23;_CPConcreteMutableSet.jt;24;alert("CPMutableSet.j");p;23;_CPConcreteMutableSet.jt;69;@STATIC;1.0;i;14;CPMutableSet.jt;33;alert("_CPConcreteMutableSet.j");p;21;CPKeyValueObserving.jt;170;@STATIC;1.0;i;9;CPArray.ji;14;CPDictionary.ji;13;CPException.ji;8;CPNull.ji;10;CPObject.ji;7;CPSet.ji;13;CPArray+KVO.ji;11;CPSet+KVO.jt;31;alert("CPKeyValueObserving.j");p;13;CPArray+KVO.jt;65;@STATIC;1.0;i;9;CPArray.ji;8;CPNull.jt;23;alert("CPArray+KVO.j");p;11;CPSet+KVO.jt;82;@STATIC;1.0;i;13;CPException.ji;10;CPObject.ji;7;CPSet.jt;21;alert("CPSet+KVO.j");p;29;CPPropertyListSerialization.jt;89;@STATIC;1.0;i;13;CPException.ji;10;CPObject.jt;39;alert("CPPropertyListSerialization.j");p;11;CPRunLoop.jt;93;@STATIC;1.0;i;9;CPArray.ji;8;CPDate.ji;10;CPObject.ji;10;CPString.jt;21;alert("CPRunLoop.j");p;9;CPTimer.jt;98;@STATIC;1.0;i;8;CPDate.ji;14;CPInvocation.ji;10;CPObject.ji;11;CPRunLoop.jt;19;alert("CPTimer.j");p;15;CPUndoManager.jt;189;@STATIC;1.0;i;9;CPArray.ji;13;CPException.ji;14;CPInvocation.ji;22;CPNotificationCenter.ji;10;CPObject.ji;9;CPProxy.ji;21;CPKeyValueObserving.ji;11;CPRunLoop.jt;25;alert("CPUndoManager.j");p;9;CPProxy.jt;103;@STATIC;1.0;i;13;CPException.ji;14;CPInvocation.ji;10;CPObject.ji;10;CPString.jt;19;alert("CPProxy.j");p;17;CPURLConnection.jt;126;@STATIC;1.0;i;8;CPData.ji;10;CPObject.ji;11;CPRunLoop.ji;14;CPURLRequest.ji;15;CPURLResponse.jt;27;alert("CPURLConnection.j");p;14;CPURLRequest.jt;101;@STATIC;1.0;i;14;CPDictionary.ji;10;CPObject.ji;10;CPString.ji;7;CPURL.jt;24;alert("CPURLRequest.j");p;15;CPURLResponse.jt;68;@STATIC;1.0;i;10;CPObject.ji;7;CPURL.jt;25;alert("CPURLResponse.j");p;20;CPValueTransformer.jt;172;@STATIC;1.0;i;8;CPData.ji;14;CPDictionary.ji;13;CPException.ji;17;CPKeyedArchiver.ji;19;CPKeyedUnarchiver.ji;10;CPNumber.ji;10;CPObject.jt;30;alert("CPValueTransformer.j");p;14;CPCountedSet.jt;67;@STATIC;1.0;i;10;CPObject.ji;7;CPSet.jt;24;alert("CPCountedSet.j");');
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCompatibility.j",baseURL),function(h,f){f("CPEvent.j",YES);f("CPPlatform.j",YES);CPUnknownBrowserEngine=0;CPGeckoBrowserEngine=1;CPInternetExplorerBrowserEngine=2;CPKHTMLBrowserEngine=3;CPOperaBrowserEngine=4;CPWebKitBrowserEngine=5;CPMacOperatingSystem=0;CPWindowsOperatingSystem=1;CPOtherOperatingSystem=2;CPCSSRGBAFeature=32;CPHTMLCanvasFeature=64;CPHTMLContentEditableFeature=128;CPHTMLDragAndDropFeature=256;CPJavaScriptInnerTextFeature=
512;CPJavaScriptTextContentFeature=1024;CPJavaScriptClipboardEventsFeature=2048;CPJavaScriptClipboardAccessFeature=4096;CPJavaScriptCanvasDrawFeature=8192;CPJavaScriptCanvasTransformFeature=16384;CPVMLFeature=32768;CPJavaScriptRemedialKeySupport=65536;CPJavaScriptShadowFeature=1048576;CPJavaScriptNegativeMouseWheelValues=4194304;CPJavaScriptMouseWheelValues_8_15=8388608;CPOpacityRequiresFilterFeature=16777216;CPInputTypeCanBeChangedFeature=33554432;CPHTML5DragAndDropSourceYOffBy1=67108864;CPSOPDisabledFromFileURLs=
134217728;var d="",g=CPUnknownBrowserEngine,c=0;c|=CPInputTypeCanBeChangedFeature;if(typeof window!=="undefined"&&typeof window.navigator!=="undefined")d=window.navigator.userAgent;if(typeof window!=="undefined"&&window.opera)g=CPOperaBrowserEngine,c|=CPJavaScriptCanvasDrawFeature;else if(typeof window!=="undefined"&&window.attachEvent)g=CPInternetExplorerBrowserEngine,c|=CPVMLFeature,c|=CPJavaScriptRemedialKeySupport,c|=CPJavaScriptShadowFeature,c|=CPOpacityRequiresFilterFeature,c&=~CPInputTypeCanBeChangedFeature;
else if(d.indexOf("AppleWebKit/")!=-1){g=CPWebKitBrowserEngine;c|=CPCSSRGBAFeature;c|=CPHTMLContentEditableFeature;d.indexOf("Chrome")===-1&&(c|=CPHTMLDragAndDropFeature);c|=CPJavaScriptClipboardEventsFeature;c|=CPJavaScriptClipboardAccessFeature;c|=CPJavaScriptShadowFeature;var b=d.indexOf("AppleWebKit/")+12,a=d.indexOf(" ",b);a=d.substring(b,a);var e=a.indexOf(".");b=parseInt(a.substring(0,e));a=parseInt(a.substr(e+1));if(d.indexOf("Safari")!==CPNotFound&&(b>525||b===525&&a>14)||d.indexOf("Chrome")!==
CPNotFound)c|=CPJavaScriptRemedialKeySupport;objj_msgSend(CPPlatform,"isBrowser")||(c|=CPJavaScriptRemedialKeySupport);if(b<532||b===532&&a<6)c|=CPHTML5DragAndDropSourceYOffBy1;d.indexOf("Chrome")===CPNotFound&&(c|=CPSOPDisabledFromFileURLs)}else d.indexOf("KHTML")!=-1?g=CPKHTMLBrowserEngine:d.indexOf("Gecko")!==-1&&(g=CPGeckoBrowserEngine,c|=CPJavaScriptCanvasDrawFeature,b=d.indexOf("Firefox"),b=b===-1?2:parseFloat(d.substring(b+7+1)),b>=3&&(c|=CPCSSRGBAFeature),b<3&&(c|=CPJavaScriptMouseWheelValues_8_15));
if(typeof document!="undefined"){if((b=document.createElement("canvas"))&&b.getContext)c|=CPHTMLCanvasFeature,(b=document.createElement("canvas").getContext("2d"))&&b.setTransform&&b.transform&&(c|=CPJavaScriptCanvasTransformFeature);b=document.createElement("div");b.innerText!=void 0?c|=CPJavaScriptInnerTextFeature:b.textContent!=void 0&&(c|=CPJavaScriptTextContentFeature)}CPFeatureIsCompatible=function(a){return c&a};CPBrowserIsEngine=function(a){return g===a};CPBrowserIsOperatingSystem=function(a){return OPERATING_SYSTEM===
a};OPERATING_SYSTEM=CPOtherOperatingSystem;d.indexOf("Mac")!==-1?(OPERATING_SYSTEM=CPMacOperatingSystem,CPPlatformActionKeyMask=CPCommandKeyMask,CPUndoKeyEquivalent="z",CPRedoKeyEquivalent="Z",CPRedoKeyEquivalentModifierMask=CPUndoKeyEquivalentModifierMask=CPCommandKeyMask):(d.indexOf("Windows")!==-1&&(OPERATING_SYSTEM=CPWindowsOperatingSystem),CPPlatformActionKeyMask=CPControlKeyMask,CPUndoKeyEquivalent="z",CPRedoKeyEquivalent="y",CPRedoKeyEquivalentModifierMask=CPUndoKeyEquivalentModifierMask=CPControlKeyMask)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPGeometry.j",baseURL),function(h,f){f("CGGeometry.j",YES);CPMinXEdge=0;CPMinYEdge=1;CPMaxXEdge=2;CPMaxYEdge=3;CPMakePoint=CGPointMake;CPMakeSize=CGSizeMake;CPMakeRect=CGRectMake;CPPointCreateCopy=function(d){return{x:d.x,y:d.y}};CPPointMake=function(d,g){return{x:d,y:g}};CPRectInset=function(d,g,c){return CPRectMake(d.origin.x+g,d.origin.y+c,d.size.width-2*g,d.size.height-2*c)};CPRectIntegral=function(){alert("CPRectIntegral unimplemented")};
CPRectIntersection=function(d,g){var c=CPRectMake(Math.max(CPRectGetMinX(d),CPRectGetMinX(g)),Math.max(CPRectGetMinY(d),CPRectGetMinY(g)),0,0);c.size.width=Math.min(CPRectGetMaxX(d),CPRectGetMaxX(g))-CPRectGetMinX(c);c.size.height=Math.min(CPRectGetMaxY(d),CPRectGetMaxY(g))-CPRectGetMinY(c);return CPRectIsEmpty(c)?CPRectMakeZero():c};CPRectCreateCopy=function(d){return{origin:CPPointCreateCopy(d.origin),size:CPSizeCreateCopy(d.size)}};CPRectMake=function(d,g,c,b){return{origin:CPPointMake(d,g),size:CPSizeMake(c,
b)}};CPRectOffset=function(d,g,c){return CPRectMake(d.origin.x+g,d.origin.y+c,d.size.width,d.size.height)};CPRectStandardize=function(d){var g=CPRectGetWidth(d),c=CPRectGetHeight(d);d=CPRectCreateCopy(d);if(g<0)d.origin.x+=g,d.size.width=-g;if(c<0)d.origin.y+=c,d.size.height=-c;return d};CPRectUnion=function(d,g){var c=Math.min(CPRectGetMinX(d),CPRectGetMinX(g)),b=Math.min(CPRectGetMinY(d),CPRectGetMinY(g)),a=Math.max(CPRectGetMaxX(d),CPRectGetMaxX(g)),e=Math.max(CPRectGetMaxY(d),CPRectGetMaxY(g));
return CPRectMake(c,b,a-c,e-b)};CPSizeCreateCopy=function(d){return{width:d.width,height:d.height}};CPSizeMake=function(d,g){return{width:d,height:g}};CPRectContainsPoint=function(d,g){return g.x>=CPRectGetMinX(d)&&g.y>=CPRectGetMinY(d)&&g.x<CPRectGetMaxX(d)&&g.y<CPRectGetMaxY(d)};CPRectContainsRect=function(d,g){return CGRectContainsRect(d,g)};CPPointEqualToPoint=function(d,g){return d.x==g.x&&d.y==g.y};CPRectEqualToRect=function(d,g){return CPPointEqualToPoint(d.origin,g.origin)&&CPSizeEqualToSize(d.size,
g.size)};CPRectGetHeight=function(d){return d.size.height};CPRectGetMaxX=function(d){return d.origin.x+d.size.width};CPRectGetMaxY=function(d){return d.origin.y+d.size.height};CPRectGetMidX=function(d){return d.origin.x+d.size.width/2};CPRectGetMidY=function(d){return d.origin.y+d.size.height/2};CPRectGetMinX=function(d){return d.origin.x};CPRectGetMinY=function(d){return d.origin.y};CPRectGetWidth=function(d){return d.size.width};CPRectIntersectsRect=function(d,g){return!CPRectIsEmpty(CPRectIntersection(d,
g))};CPRectIsEmpty=function(d){return d.size.width<=0||d.size.height<=0};CPRectIsNull=function(d){return d.size.width<=0||d.size.height<=0};CPDivideRect=function(d,g,c,b,a){CGRectDivide(d,g,c,b,a)};CPSizeEqualToSize=function(d,g){return d.width==g.width&&d.height==g.height};CPStringFromPoint=function(d){return"{"+d.x+", "+d.y+"}"};CPStringFromSize=function(d){return"{"+d.width+", "+d.height+"}"};CPStringFromRect=function(d){return"{"+CPStringFromPoint(d.origin)+", "+CPStringFromSize(d.size)+"}"};
CPPointFromString=function(d){var g=d.indexOf(",");return{x:parseFloat(d.substr(1,g-1),10),y:parseFloat(d.substring(g+1,d.length),10)}};CPSizeFromString=function(d){var g=d.indexOf(",");return{width:parseFloat(d.substr(1,g-1),10),height:parseFloat(d.substring(g+1,d.length),10)}};CPRectFromString=function(d){var g=d.indexOf(",",d.indexOf(",")+1);return{origin:CPPointFromString(d.substr(1,g-1)),size:CPSizeFromString(d.substring(g+2,d.length))}};CPPointFromEvent=function(d){return CPPointMake(d.clientX,
d.clientY,0)};CPSizeMakeZero=function(){return CPSizeMake(0,0)};CPRectMakeZero=function(){return CPRectMake(0,0,0,0)};CPPointMakeZero=function(){return CPPointMake(0,0,0)}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGColorSpace.j",baseURL),function(){kCGColorSpaceModelUnknown=-1;kCGColorSpaceModelMonochrome=0;kCGColorSpaceModelRGB=1;kCGColorSpaceModelCMYK=2;kCGColorSpaceModelLab=3;kCGColorSpaceModelDeviceN=4;kCGColorSpaceModelIndexed=5;kCGColorSpaceModelPattern=6;kCGColorSpaceGenericGray="CGColorSpaceGenericGray";kCGColorSpaceGenericRGB="CGColorSpaceGenericRGB";kCGColorSpaceGenericCMYK="CGColorSpaceGenericCMYK";kCGColorSpaceGenericRGBLinear=
"CGColorSpaceGenericRGBLinear";kCGColorSpaceGenericRGBHDR="CGColorSpaceGenericRGBHDR";kCGColorSpaceAdobeRGB1998="CGColorSpaceAdobeRGB1998";kCGColorSpaceSRGB="CGColorSpaceSRGB";var h={};CGColorSpaceCreateCalibratedGray=function(){return{model:kCGColorSpaceModelMonochrome,count:1,base:NULL}};CGColorSpaceCreateCalibratedRGB=function(){return{model:kCGColorSpaceModelRGB,count:1,base:NULL}};CGColorSpaceCreateICCBased=function(){return NULL};CGColorSpaceCreateLab=function(){return NULL};CGColorSpaceCreateDeviceCMYK=
function(){return CGColorSpaceCreateWithName(kCGColorSpaceGenericCMYK)};CGColorSpaceCreateDeviceGray=function(){return CGColorSpaceCreateWithName(kCGColorSpaceGenericGray)};CGColorSpaceCreateDeviceRGB=function(){return CGColorSpaceCreateWithName(kCGColorSpaceGenericRGB)};CGColorSpaceCreateWithPlatformColorSpace=function(){return NULL};CGColorSpaceCreateIndexed=function(){return NULL};CGColorSpaceCreatePattern=function(f){if(f)return{model:kCGColorSpaceModelPattern,count:f.count,base:f};return{model:kCGColorSpaceModelPattern,
count:0,base:NULL}};CGColorSpaceCreateWithName=function(f){var d=h[f];if(d)return d;switch(f){case kCGColorSpaceGenericGray:return h[f]={model:kCGColorSpaceModelMonochrome,count:1,base:NULL};case kCGColorSpaceGenericRGB:return h[f]={model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceGenericCMYK:return h[f]={model:kCGColorSpaceModelCMYK,count:4,base:NULL};case kCGColorSpaceGenericRGBLinear:return h[f]={model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceGenericRGBHDR:return h[f]=
{model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceAdobeRGB1998:return h[f]={model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceSRGB:return h[f]={model:kCGColorSpaceModelRGB,count:3,base:NULL}}return NULL};CGColorSpaceCopyICCProfile=function(){return NULL};CGColorSpaceGetNumberOfComponents=function(f){return f.count};CGColorSpaceGetTypeID=function(){};CGColorSpaceGetModel=function(f){return f.model};CGColorSpaceGetBaseColorSpace=function(){};CGColorSpaceGetColorTableCount=
function(){};CGColorSpaceGetColorTable=function(){};CGColorSpaceRelease=function(){};CGColorSpaceRetain=function(f){return f};CGColorSpaceStandardizeComponents=function(f,d){var g=f.count;if(g>d.length)d[g]=1;else{var c=d[g];d[g]=c<0?0:c>1?1:ROUND(c*1E3)/1E3;if(f.base)f=f.base;switch(f.model){case kCGColorSpaceModelMonochrome:case kCGColorSpaceModelRGB:case kCGColorSpaceModelCMYK:case kCGColorSpaceModelDeviceN:for(;g--;){if(g>d.length){d[g]=1;break}c=d[g];d[g]=c<0?0:c>1?1:ROUND(c*255)/255}}}}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCheckBox.j",baseURL),function(h,f){f("CPButton.j",YES);CPCheckBoxImageOffset=4;var d=objj_allocateClassPair(CPButton,"CPCheckBox"),g=d.isa;objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithFrame:"),function(c,b,a){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPCheckBox").super_class},"initWithFrame:",a))objj_msgSend(c,"setHighlightsBy:",CPContentsCellMask),objj_msgSend(c,
"setShowsStateBy:",CPContentsCellMask),objj_msgSend(c,"setImagePosition:",CPImageLeft),objj_msgSend(c,"setAlignment:",CPLeftTextAlignment),objj_msgSend(c,"setBordered:",NO);return c}}),new objj_method(sel_getUid("takeStateFromKeyPath:ofObjects:"),function(c,b,a,d){with(c){b=d.length;var g=objj_msgSend(d[0],"valueForKeyPath:",a)?CPOnState:CPOffState;objj_msgSend(c,"setAllowsMixedState:",NO);for(objj_msgSend(c,"setState:",g);b-- >1;)if(g!==(objj_msgSend(d[b],"valueForKeyPath:",a)?CPOnState:CPOffState))objj_msgSend(c,
"setAllowsMixedState:",YES),objj_msgSend(c,"setState:",CPMixedState)}}),new objj_method(sel_getUid("takeValueFromKeyPath:ofObjects:"),function(c,b,a,d){with(c)objj_msgSend(c,"takeStateFromKeyPath:ofObjects:",a,d)})]);class_addMethods(g,[new objj_method(sel_getUid("checkBoxWithTitle:theme:"),function(c,b,a,d){with(c)return objj_msgSend(c,"buttonWithTitle:theme:",a,d)}),new objj_method(sel_getUid("checkBoxWithTitle:"),function(c,b,a){with(c)return objj_msgSend(c,"buttonWithTitle:",a)}),new objj_method(sel_getUid("defaultThemeClass"),
function(c){with(c)return"check-box"}),new objj_method(sel_getUid("_binderClassForBinding:"),function(c,b,a){with(c){if(a===CPValueBinding)return objj_msgSend(_CPCheckBoxValueBinder,"class");return objj_msgSendSuper({receiver:c,super_class:objj_getMetaClass("CPCheckBox").super_class},"_binderClassForBinding:",a)}})]);d=objj_allocateClassPair(CPBinder,"_CPCheckBoxValueBinder");g=d.isa;objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("setValueFor:"),function(c){with(c){var b=
objj_msgSend(_info,"objectForKey:",CPObservedObjectKey),a=objj_msgSend(_info,"objectForKey:",CPObservedKeyPathKey);c=objj_msgSend(_info,"objectForKey:",CPOptionsKey);b=objj_msgSend(b,"valueForKeyPath:",a);if(CPIsControllerMarker(b)){switch(b){case CPMultipleValuesMarker:b=CPMixedState;break;case CPNoSelectionMarker:b=CPOffState;break;case CPNotApplicableMarker:objj_msgSend(c,"objectForKey:",CPRaisesForNotApplicableKeysBindingOption)&&objj_msgSend(CPException,"raise:reason:",CPGenericException,"can't transform non applicable key on: "+
_source+" value: "+b),b=CPOffState}b===CPMixedState?objj_msgSend(_source,"setAllowsMixedState:",YES):objj_msgSend(_source,"setAllowsMixedState:",NO)}objj_msgSend(_source,"setState:",b)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibCustomResource.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("Foundation/CPString.j",NO);var d=objj_allocateClassPair(CPObject,"_CPCibCustomResource"),g=d.isa;class_addIvars(d,[new objj_ivar("_className"),new objj_ivar("_resourceName"),new objj_ivar("_properties")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithClassName:resourceName:properties:"),function(c,b,a,d,g){with(c){if(c=
objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPCibCustomResource").super_class},"init"))_className=a,_resourceName=d,_properties=g;return c}}),new objj_method(sel_getUid("initWithCoder:"),function(c,b,a){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPCibCustomResource").super_class},"init"))_className=objj_msgSend(a,"decodeObjectForKey:","_CPCibCustomResourceClassNameKey"),_resourceName=objj_msgSend(a,"decodeObjectForKey:","_CPCibCustomResourceResourceNameKey"),
_properties=objj_msgSend(a,"decodeObjectForKey:","_CPCibCustomResourcePropertiesKey");return c}}),new objj_method(sel_getUid("encodeWithCoder:"),function(c,b,a){with(c)objj_msgSend(a,"encodeObject:forKey:",_className,"_CPCibCustomResourceClassNameKey"),objj_msgSend(a,"encodeObject:forKey:",_resourceName,"_CPCibCustomResourceResourceNameKey"),objj_msgSend(a,"encodeObject:forKey:",_properties,"_CPCibCustomResourcePropertiesKey")}),new objj_method(sel_getUid("awakeAfterUsingCoder:"),function(c,b,a){with(c){if(objj_msgSend(a,
"respondsToSelector:",sel_getUid("bundle"))&&(!objj_msgSend(a,"respondsToSelector:",sel_getUid("awakenCustomResources"))||objj_msgSend(a,"awakenCustomResources"))&&_className==="CPImage")return objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(a,"bundle"),"pathForResource:",_resourceName),_properties.valueForKey("size"));return c}})]);class_addMethods(g,[new objj_method(sel_getUid("imageResourceWithName:size:"),function(c,b,a,d){with(c)return objj_msgSend(objj_msgSend(c,
"alloc"),"initWithClassName:resourceName:properties:","CPImage",a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",d,"size"))})]);d=objj_getClass("_CPCibCustomResource");if(!d)throw new SyntaxError('*** Could not find definition for class "_CPCibCustomResource"');g=d.isa;class_addMethods(d,[new objj_method(sel_getUid("filename"),function(c){with(c)return objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",_resourceName)}),new objj_method(sel_getUid("size"),function(c){with(c)return objj_msgSend(_properties,
"objectForKey:","size")}),new objj_method(sel_getUid("isThreePartImage"),function(c){with(c)return NO}),new objj_method(sel_getUid("isNinePartImage"),function(c){with(c)return NO}),new objj_method(sel_getUid("loadStatus"),function(c){with(c)return CPImageLoadStatusCompleted}),new objj_method(sel_getUid("delegate"),function(c){with(c)return nil})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPMutableSet.j",baseURL),function(h,f){f("CPSet.j",YES);var d=objj_allocateClassPair(CPSet,"CPMutableSet"),g=d.isa;objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithCapacity:"),function(c){with(c)return objj_msgSend(c,"init")}),new objj_method(sel_getUid("filterUsingPredicate:"),function(c,b,a){with(c)for(var d=objj_msgSend(c,"objectEnumerator");(b=objj_msgSend(d,"nextObject"))!==nil;)objj_msgSend(a,
"evaluateWithObject:",b)||objj_msgSend(c,"removeObject:",b)}),new objj_method(sel_getUid("removeObject:"),function(c,b){with(c)_CPRaiseInvalidAbstractInvocation(c,b)}),new objj_method(sel_getUid("removeObjectsInArray:"),function(c,b,a){with(c){b=0;for(var d=objj_msgSend(a,"count");b<d;++b)objj_msgSend(c,"removeObject:",objj_msgSend(a,"objectAtIndex:",b))}}),new objj_method(sel_getUid("removeAllObjects"),function(c){with(c)for(var b,a=objj_msgSend(c,"objectEnumerator");(b=objj_msgSend(a,"nextObject"))!==
nil;)objj_msgSend(c,"removeObject:",b)}),new objj_method(sel_getUid("addObjectsFromArray:"),function(c,b,a){with(c)for(b=objj_msgSend(a,"count");b--;)objj_msgSend(c,"addObject:",a[b])}),new objj_method(sel_getUid("unionSet:"),function(c,b,a){with(c)for(a=objj_msgSend(a,"objectEnumerator");(b=objj_msgSend(a,"nextObject"))!==nil;)objj_msgSend(c,"addObject:",b)}),new objj_method(sel_getUid("minusSet:"),function(c,b,a){with(c)for(a=objj_msgSend(a,"objectEnumerator");(b=objj_msgSend(a,"nextObject"))!==
nil;)objj_msgSend(c,"removeObject:",b)}),new objj_method(sel_getUid("intersectSet:"),function(c,b,a){with(c){var d,g=objj_msgSend(c,"objectEnumerator");for(b=[];(d=objj_msgSend(g,"nextObject"))!==nil;)objj_msgSend(a,"containsObject:",d)||b.push(d);for(a=objj_msgSend(b,"count");a--;)objj_msgSend(c,"removeObject:",b[a])}}),new objj_method(sel_getUid("setSet:"),function(c,b,a){with(c)objj_msgSend(c,"removeAllObjects"),objj_msgSend(c,"unionSet:",a)})]);class_addMethods(g,[new objj_method(sel_getUid("setWithCapacity:"),
function(c,b,a){with(c)return objj_msgSend(objj_msgSend(c,"alloc"),"initWithCapacity:",a)})]);f("_CPConcreteMutableSet.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibCustomView.j",baseURL),function(h,f){f("CPView.j",YES);var d=objj_allocateClassPair(CPView,"_CPCibCustomView");class_addIvars(d,[new objj_ivar("_className")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("customClassName"),function(d){with(d)return _className}),new objj_method(sel_getUid("setCustomClassName:"),function(d,c,b){with(d){if(_className===b)return;_className=b;objj_msgSend(d,"setNeedsDisplay:",
YES);objj_msgSend(d,"setNeedsLayout")}})]);d=objj_getClass("_CPCibCustomView");if(!d)throw new SyntaxError('*** Could not find definition for class "_CPCibCustomView"');class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(d,c,b){with(d)return(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("_CPCibCustomView").super_class},"initWithCoder:",b))&&(_className=objj_msgSend(b,"decodeObjectForKey:","_CPCibCustomViewClassNameKey")),d}),new objj_method(sel_getUid("encodeWithCoder:"),
function(d,c,b){with(d)objj_msgSendSuper({receiver:d,super_class:objj_getClass("_CPCibCustomView").super_class},"encodeWithCoder:",b),objj_msgSend(b,"encodeObject:forKey:",_className,"_CPCibCustomViewClassNameKey")}),new objj_method(sel_getUid("customClassName"),function(d){with(d)return _className}),new objj_method(sel_getUid("_cibInstantiate"),function(d){with(d){var c=CPClassFromString(_className);c||(c=objj_msgSend(CPView,"class"));if(c===objj_msgSend(d,"class"))return _className="CPView",d;if(c=
objj_msgSend(objj_msgSend(c,"alloc"),"initWithFrame:",objj_msgSend(d,"frame"))){objj_msgSend(c,"setBounds:",objj_msgSend(d,"bounds"));for(var b=objj_msgSend(d,"subviews"),a=0,e=b.length;a<e;++a)objj_msgSend(c,"addSubview:",b[a]);objj_msgSend(c,"setAutoresizingMask:",objj_msgSend(d,"autoresizingMask"));objj_msgSend(c,"setAutoresizesSubviews:",objj_msgSend(d,"autoresizesSubviews"));objj_msgSend(c,"setHitTests:",objj_msgSend(d,"hitTests"));objj_msgSend(c,"setHidden:",objj_msgSend(d,"isHidden"));objj_msgSend(c,
"setAlphaValue:",objj_msgSend(d,"alphaValue"));objj_msgSend(_superview,"replaceSubview:with:",d,c);objj_msgSend(c,"setBackgroundColor:",objj_msgSend(d,"backgroundColor"))}return c}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CAMediaTimingFunction.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("Foundation/CPDictionary.j",NO);f("Foundation/CPString.j",NO);kCAMediaTimingFunctionLinear="kCAMediaTimingFunctionLinear";kCAMediaTimingFunctionEaseIn="kCAMediaTimingFunctionEaseIn";kCAMediaTimingFunctionEaseOut="kCAMediaTimingFunctionEaseOut";kCAMediaTimingFunctionEaseInEaseOut="kCAMediaTimingFunctionEaseInEaseOut";var d=nil,g=objj_allocateClassPair(CPObject,
"CAMediaTimingFunction"),c=g.isa;class_addIvars(g,[new objj_ivar("_c1x"),new objj_ivar("_c1y"),new objj_ivar("_c2x"),new objj_ivar("_c2y")]);objj_registerClassPair(g);class_addMethods(g,[new objj_method(sel_getUid("initWithControlPoints::::"),function(b,a,c,d,g,f){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CAMediaTimingFunction").super_class},"init"))_c1x=c,_c1y=d,_c2x=g,_c2y=f;return b}}),new objj_method(sel_getUid("getControlPointAtIndex:values:"),function(b,a,c,d){with(b)c==
0?(d[0]=0,d[1]=0):c==1?(d[0]=_c1x,d[1]=_c1y):c==2?(d[0]=_c2x,d[1]=_c2y):(d[0]=1,d[1]=1)})]);class_addMethods(c,[new objj_method(sel_getUid("functionWithName:"),function(b,a,c){with(b)return d||(d=objj_msgSend(CPDictionary,"dictionary"),objj_msgSend(d,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0,0,1,1),kCAMediaTimingFunctionLinear),objj_msgSend(d,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0.42,0,1,1),kCAMediaTimingFunctionEaseIn),
objj_msgSend(d,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0,0,0.58,1),kCAMediaTimingFunctionEaseOut),objj_msgSend(d,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0.42,0,0.58,1),kCAMediaTimingFunctionEaseInEaseOut)),objj_msgSend(d,"objectForKey:",c)}),new objj_method(sel_getUid("functionWithControlPoints::::"),function(b,a,c,d,g,f){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithControlPoints::::",c,d,
g,f)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/AppKit.j",baseURL),function(h,f){f("CALayer.j",YES);f("CPAlert.j",YES);f("CPAnimation.j",YES);f("CPApplication.j",YES);f("CPBox.j",YES);f("CPButton.j",YES);f("CPCheckBox.j",YES);f("CPCib.j",YES);f("CPCibBindingConnector.j",YES);f("CPCibConnector.j",YES);f("CPCibControlConnector.j",YES);f("CPCibLoading.j",YES);f("CPCibOutletConnector.j",YES);f("CPClipView.j",YES);f("CPCollectionView.j",YES);f("CPCollectionViewItem.j",YES);f("CPColor.j",
YES);f("CPColorPanel.j",YES);f("CPColorWell.j",YES);f("CPCompatibility.j",YES);f("CPControl.j",YES);f("CPCookie.j",YES);f("CPCursor.j",YES);f("CPDocument.j",YES);f("CPDocumentController.j",YES);f("CPEvent.j",YES);f("CPFont.j",YES);f("CPGeometry.j",YES);f("CPGraphics.j",YES);f("CPImage.j",YES);f("CPImageView.j",YES);f("CPKeyBinding.j",YES);f("CPMenu.j",YES);f("CPMenuItem.j",YES);f("CPOpenPanel.j",YES);f("CPPanel.j",YES);f("CPPasteboard.j",YES);f("CPPopUpButton.j",YES);f("CPRadio.j",YES);f("CPResponder.j",
YES);f("CPScroller.j",YES);f("CPScrollView.j",YES);f("CPSegmentedControl.j",YES);f("CPShadow.j",YES);f("CPSlider.j",YES);f("CPText.j",YES);f("CPTextField.j",YES);f("CPToolbar.j",YES);f("CPToolbarItem.j",YES);f("CPView.j",YES);f("CPViewController.j",YES);f("CPWindow.j",YES);f("CPWindowController.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPDocModalWindowView.j",baseURL),function(h,f){f("_CPWindowView.j",YES);var d=nil,g=objj_allocateClassPair(_CPWindowView,"_CPDocModalWindowView"),c=g.isa;class_addIvars(g,[new objj_ivar("_bodyView"),new objj_ivar("_shadowView")]);objj_registerClassPair(g);class_addMethods(g,[new objj_method(sel_getUid("initWithFrame:styleMask:"),function(b,a,c,d){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPDocModalWindowView").super_class},
"initWithFrame:styleMask:",c,d))c=objj_msgSend(b,"class"),a=objj_msgSend(b,"bounds"),_bodyView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:a.size.width,height:a.size.height}}),objj_msgSend(_bodyView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(_bodyView,"setBackgroundColor:",objj_msgSend(c,"bodyBackgroundColor")),objj_msgSend(_bodyView,"setHitTests:",NO),objj_msgSend(b,"addSubview:",_bodyView),c=objj_msgSend(CPBundle,"bundleForClass:",
objj_msgSend(CPWindow,"class")),_shadowView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,a.size.width,8)),objj_msgSend(_shadowView,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_shadowView,"setBackgroundColor:",objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(c,"pathForResource:","CPWindow/CPWindowAttachedSheetShadow.png"),CGSizeMake(9,8)))),objj_msgSend(b,"addSubview:",_shadowView);
return b}}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(b,a,c){with(b)return c}),new objj_method(sel_getUid("frameRectForContentRect:"),function(b,a,c){with(b)return c})]);class_addMethods(c,[new objj_method(sel_getUid("bodyBackgroundColor"),function(b){with(b)return d||(d=objj_msgSend(CPColor,"colorWithWhite:alpha:",0.96,0.9)),d})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/twentyeight.j",baseURL),function(){var h=objj_allocateClassPair(PatternThree,"PatternTwentyEight"),f=h.isa;objj_registerClassPair(h);class_addMethods(f,[new objj_method(sel_getUid("defaultConfig"),function(d){with(d)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",objj_msgSend(objj_msgSend(GRColor,"alloc"),"initWithGradientColors:baseColor:",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,0,0,0.7454545454545455),
objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,0,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,255,0,1)],objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,255,1)),"background_color",1,"background_color_direction",50,"number_of_points",180,"rotation",0,"recurse_depth",0.98,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",
806,496),"center_point",152,"radius",NO,"show_shapes",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",174,174,174,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",114,255,13,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",83,255,89,0.25),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,2,10,0.12272727272727273),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,23,10,0.42272727272727273)],
"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,255,0,0.05909090909090909),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,255,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,96,175,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,200,10,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/monkeypatch.j",baseURL),function(){var h=objj_getClass("CPColor");if(!h)throw new SyntaxError('*** Could not find definition for class "CPColor"');var f=h.isa;class_addMethods(h,[new objj_method(sel_getUid("addToBlue:"),function(d,g,c){with(d)return objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",objj_msgSend(d,"redComponent"),objj_msgSend(d,"greenComponent"),objj_msgSend(d,"blueComponent")+c/255,objj_msgSend(d,"alphaComponent"))}),new objj_method(sel_getUid("asInitString"),
function(d){with(d)return objj_msgSend(CPString,"stringWithFormat:","[CPColor colorWith8BitRed:%d green:%d blue:%d alpha:%f]",objj_msgSend(d,"redComponent")*255,objj_msgSend(d,"greenComponent")*255,objj_msgSend(d,"blueComponent")*255,objj_msgSend(d,"alphaComponent"))})]);class_addMethods(f,[new objj_method(sel_getUid("colorWith8BitRed:green:blue:alpha:"),function(d,g,c,b,a,e){with(d)return objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",c/255,b/255,a/255,e)}),new objj_method(sel_getUid("transparent"),
function(d){with(d)return objj_msgSend(CPColor,"colorWithWhite:alpha:",0,0)})]);h=objj_getClass("CPBox");if(!h)throw new SyntaxError('*** Could not find definition for class "CPBox"');f=h.isa;class_addMethods(f,[new objj_method(sel_getUid("makeBorder:"),function(d,g,c){with(d)return d=objj_msgSend(CPBox,"boxEnclosingView:",c),objj_msgSend(d,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(d,"setBorderColor:",objj_msgSend(CPColor,"colorWithHexString:","a9aaae")),objj_msgSend(d,
"setBorderType:",CPLineBorder),d})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/four.j",baseURL),function(){var h=objj_allocateClassPair(PatternThree,"PatternFour"),f=h.isa;objj_registerClassPair(h);class_addMethods(f,[new objj_method(sel_getUid("defaultConfig"),function(d){with(d)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",objj_msgSend(objj_msgSend(GRColor,"alloc"),"initWithGradientColors:baseColor:",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",85,85,85,1),objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",0,0,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,1)],objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,255,1)),"background_color",0,"background_color_direction",6,"number_of_points",0,"rotation",0,"recurse_depth",1.22,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",118,"radius",NO,"show_shapes",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",
31,255,211,0.7272727272727273),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",85,85,85,0.4909090909090909),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",190,73,12,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,0.6909090909090909),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,0.6909090909090909)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",
255,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,33,50,0.2545454545454545),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",130,18,120,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",76,156,180,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPDisplayServer.j",baseURL),function(h,f){f("Foundation/CPRunLoop.j",NO);var d=[],g={},c=[],b={},a=objj_msgSend(CPRunLoop,"mainRunLoop");_CPDisplayServerAddDisplayObject=function(a){var b=objj_msgSend(a,"UID");if(typeof g[b]==="undefined"){var c=d.length;g[b]=c;d[c]=a}};_CPDisplayServerAddLayoutObject=function(a){var d=objj_msgSend(a,"UID");if(typeof b[d]==="undefined"){var e=c.length;b[d]=e;c[e]=a}};var e=objj_allocateClassPair(CPObject,
"_CPDisplayServer"),i=e.isa;objj_registerClassPair(e);class_addMethods(i,[new objj_method(sel_getUid("run"),function(e){with(e){for(;c.length||d.length;){for(var f=0;f<c.length;++f){var h=c[f];delete b[objj_msgSend(h,"UID")];objj_msgSend(h,"layoutIfNeeded")}c=[];b={};for(f=0;f<d.length;++f){if(c.length)break;h=d[f];delete g[objj_msgSend(h,"UID")];objj_msgSend(h,"displayIfNeeded")}f===d.length?(d=[],g={}):d.splice(0,f)}objj_msgSend(a,"performSelector:target:argument:order:modes:",sel_getUid("run"),
e,nil,0,[CPDefaultRunLoopMode])}})]);objj_msgSend(_CPDisplayServer,"run")});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibKeyedUnarchiver.j",baseURL),function(h,f){f("Foundation/CPKeyedUnarchiver.j",NO);var d=objj_allocateClassPair(CPKeyedUnarchiver,"_CPCibKeyedUnarchiver");class_addIvars(d,[new objj_ivar("_bundle"),new objj_ivar("_awakenCustomResources"),new objj_ivar("_externalObjectsForProxyIdentifiers")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initForReadingWithData:bundle:awakenCustomResources:"),function(d,
c,b,a,e){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("_CPCibKeyedUnarchiver").super_class},"initForReadingWithData:",b))_bundle=a,_awakenCustomResources=e,objj_msgSend(d,"setDelegate:",d);return d}}),new objj_method(sel_getUid("bundle"),function(d){with(d)return _bundle}),new objj_method(sel_getUid("awakenCustomResources"),function(d){with(d)return _awakenCustomResources}),new objj_method(sel_getUid("setExternalObjectsForProxyIdentifiers:"),function(d,c,b){with(d)_externalObjectsForProxyIdentifiers=
b}),new objj_method(sel_getUid("externalObjectForProxyIdentifier:"),function(d,c,b){with(d)return objj_msgSend(_externalObjectsForProxyIdentifiers,"objectForKey:",b)}),new objj_method(sel_getUid("replaceObjectAtUID:withObject:"),function(d,c,b,a){with(d)_objects[b]=a}),new objj_method(sel_getUid("objectAtUID:"),function(d,c,b){with(d)return _objects[b]})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPShadow.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);var d=objj_allocateClassPair(CPObject,"CPShadow"),g=d.isa;class_addIvars(d,[new objj_ivar("_offset"),new objj_ivar("_blurRadius"),new objj_ivar("_color"),new objj_ivar("_cssString")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("_initWithOffset:blurRadius:color:"),function(c,b,a,d,g){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPShadow").super_class},
"init"))_offset=a,_blurRadius=d,_color=g,_cssString=objj_msgSend(_color,"cssString")+" "+Math.round(a.width)+"px "+Math.round(a.height)+"px "+Math.round(_blurRadius)+"px";return c}}),new objj_method(sel_getUid("shadowOffset"),function(c){with(c)return _offset}),new objj_method(sel_getUid("shadowBlurRadius"),function(c){with(c)return _blurRadius}),new objj_method(sel_getUid("shadowColor"),function(c){with(c)return _color}),new objj_method(sel_getUid("cssString"),function(c){with(c)return _cssString})]);
class_addMethods(g,[new objj_method(sel_getUid("shadowWithOffset:blurRadius:color:"),function(c,b,a,d,g){with(c)return objj_msgSend(objj_msgSend(CPShadow,"alloc"),"_initWithOffset:blurRadius:color:",a,d,g)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/eighteen.j",baseURL),function(){var h=objj_allocateClassPair(PatternSixteen,"PatternEighteen"),f=h.isa;objj_registerClassPair(h);class_addMethods(f,[new objj_method(sel_getUid("defaultConfig"),function(d){with(d)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",2,2,2,1),"background_color",3,"number_of_points",0,"rotation",0,"recurse_depth",0.5,"factor_larger",objj_msgSend(GRPoint,
"pointWithX:Y:",350,350),"center_point",160,"radius",NO,"show_shapes",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.33636363636363636),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.3),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",85,85,85,0.5909090909090909),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,148,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",153,18,88,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",
205,25,118,1)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,36,49,0.13636363636363635),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",42,38,247,0.16363636363636364),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,25,49,0.18181818181818182),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",240,31,50,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",35,39,191,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,
23,10,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/twentyone.j",baseURL),function(){var h=objj_allocateClassPair(PatternTwenty,"PatternTwentyOne"),f=h.isa;objj_registerClassPair(h);class_addMethods(f,[new objj_method(sel_getUid("defaultConfig"),function(d){with(d)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",94,59,255,1),"background_color",50,"number_of_points",0,"rotation",0,"recurse_depth",1.12,"factor_larger",
objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",158,"radius",YES,"show_shapes",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,255,100,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,2,10,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,23,10,
1)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",51,32,255,0.8),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,0,0.08181818181818182),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,0,0.08181818181818182),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",185,181,21,0.7181818181818181),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,200,10,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0)],
"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPToolbarShowColorsItem.j",baseURL),function(h,f){f("CPApplication.j",YES);f("CPToolbarItem.j",YES);var d=objj_allocateClassPair(CPToolbarItem,"_CPToolbarShowColorsItem");objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithItemIdentifier:"),function(d){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("_CPToolbarShowColorsItem").super_class},"initWithItemIdentifier:",CPToolbarShowColorsItemIdentifier))objj_msgSend(d,
"setMinSize:",CGSizeMake(32,32)),objj_msgSend(d,"setMaxSize:",CGSizeMake(32,32)),objj_msgSend(d,"setLabel:","Colors"),objj_msgSend(d,"setPaletteLabel:","Show Colors"),objj_msgSend(d,"setTarget:",CPApp),objj_msgSend(d,"setAction:",sel_getUid("orderFrontColorPanel:")),objj_msgSend(d,"setImage:",objj_msgSend(CPImage,"imageNamed:",CPImageNameColorPanel)),objj_msgSend(d,"setAlternateImage:",objj_msgSend(CPImage,"imageNamed:",CPImageNameColorPanelHighlighted)),objj_msgSend(d,"setToolTip:","Show the Colors panel.");
return d}}),new objj_method(sel_getUid("initWithCoder:"),function(d){with(d)return objj_msgSend(d,"init")}),new objj_method(sel_getUid("encodeWithCoder:"),function(d){with(d);})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCollectionViewItem.j",baseURL),function(h,f){f("CPViewController.j",YES);var d=objj_allocateClassPair(CPViewController,"CPCollectionViewItem");class_addIvars(d,[new objj_ivar("_isSelected")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("setRepresentedObject:"),function(d,c,b){with(d)objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPCollectionViewItem").super_class},"setRepresentedObject:",
b),c=objj_msgSend(d,"view"),objj_msgSend(c,"respondsToSelector:",sel_getUid("setRepresentedObject:"))&&objj_msgSend(c,"setRepresentedObject:",objj_msgSend(d,"representedObject"))}),new objj_method(sel_getUid("setSelected:"),function(d,c,b){with(d){b=!!b;if(_isSelected===b)return;_isSelected=b;c=objj_msgSend(d,"view");objj_msgSend(c,"respondsToSelector:",sel_getUid("setSelected:"))&&objj_msgSend(c,"setSelected:",objj_msgSend(d,"isSelected"))}}),new objj_method(sel_getUid("isSelected"),function(d){with(d)return _isSelected}),
new objj_method(sel_getUid("collectionView"),function(d){with(d)return objj_msgSend(_view,"superview")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/fifteen.j",baseURL),function(){var h=objj_allocateClassPair(PatternOne,"PatternFifteen"),f=h.isa;objj_registerClassPair(h);class_addMethods(f,[new objj_method(sel_getUid("defaultConfig"),function(d){with(d)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",6,"number_of_points",2,"recurse_depth",1.18,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",84,"radius",YES,"show_shapes",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",0,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",85,85,85,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,23,41,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,15,12,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,23,10,1)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",225,255,221,0),objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",28,248,12,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",29,44,255,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",239,198,151,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",202,132,78,0.9545454545454546),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibProxyObject.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);var d=objj_allocateClassPair(CPObject,"_CPCibProxyObject");class_addIvars(d,[new objj_ivar("_identifier")]);objj_registerClassPair(d);d=objj_getClass("_CPCibProxyObject");if(!d)throw new SyntaxError('*** Could not find definition for class "_CPCibProxyObject"');class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(d,c,b){with(d){(d=objj_msgSendSuper({receiver:d,
super_class:objj_getClass("_CPCibProxyObject").super_class},"init"))&&(_identifier=objj_msgSend(b,"decodeObjectForKey:","CPIdentifier"));if(objj_msgSend(b,"respondsToSelector:",sel_getUid("externalObjectForProxyIdentifier:")))return objj_msgSend(b,"externalObjectForProxyIdentifier:",_identifier);return d}}),new objj_method(sel_getUid("encodeWithCoder:"),function(d,c,b){with(d)objj_msgSend(b,"encodeObject:forKey:",_identifier,"CPIdentifier")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPToolbarSeparatorItem.j",baseURL),function(h,f){f("CPToolbarItem.j",YES);var d=objj_allocateClassPair(CPToolbarItem,"_CPToolbarSeparatorItem");objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithItemIdentifier:"),function(d){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("_CPToolbarSeparatorItem").super_class},"initWithItemIdentifier:",CPToolbarSeparatorItemIdentifier))objj_msgSend(d,
"setMinSize:",CGSizeMake(2,0)),objj_msgSend(d,"setMaxSize:",CGSizeMake(2,1E5));return d}}),new objj_method(sel_getUid("initWithCoder:"),function(d){with(d)return objj_msgSend(d,"init")}),new objj_method(sel_getUid("encodeWithCoder:"),function(d){with(d);})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGGradient.j",baseURL),function(h,f){f("CGColor.j",YES);f("CGColorSpace.j",YES);kCGGradientDrawsBeforeStartLocation=1;kCGGradientDrawsAfterEndLocation=2;CGGradientCreateWithColorComponents=function(d,f,c,b){c===NULL&&(c=[0,1]);if(b===NULL)b=c.length;for(var a=[];b--;){var e=b*4;a[b]=CGColorCreate(d,f.slice(e,e+4))}return CGGradientCreateWithColors(d,a,c)};CGGradientCreateWithColors=function(d,f,c){return{colorspace:d,colors:f,locations:c}};
CGGradientRelease=function(){};CGGradientRetain=function(d){return d}});ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPScreen.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);var d=objj_allocateClassPair(CPObject,"CPScreen");objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("visibleFrame"),function(d){with(d)return{origin:{x:window.screen.availLeft,y:window.screen.availTop},size:{width:window.screen.availWidth,height:window.screen.availHeight}}})])});
CFHTTPRequest._cacheRequest(new CFURL("Frameworks/GRKit/Info.plist",baseURL),200,{},"280NPLIST;1.0;D;K;29;CPBundleInfoDictionaryVersiond;1;6K;12;CPBundleNameS;5;GRKitK;18;CPBundleIdentifierS;15;es.2monki.GRKitK;15;CPBundleVersionS;3;1.0K;19;CPBundlePackageTypeS;4;FMWKK;20;CPBundleEnvironmentsA;S;7;BrowserS;8;CommonJSE;K;18;CPBundleExecutableS;8;GRKit.sjK;36;CPBundleEnvironmentsWithImageSpritesA;S;7;BrowserE;E;\n");
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPBorderlessWindowView.j",baseURL),function(h,f){f("_CPWindowView.j",YES);var d=objj_allocateClassPair(_CPWindowView,"_CPBorderlessWindowView");objj_registerClassPair(d)});
