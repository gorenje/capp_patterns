ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPView.j",baseURL),function(h,g){g("Foundation/CPArray.j",NO);g("Foundation/CPObjJRuntime.j",NO);g("Foundation/CPSet.j",NO);g("CGAffineTransform.j",YES);g("CGGeometry.j",YES);g("CPColor.j",YES);g("CPGeometry.j",YES);g("CPGraphicsContext.j",YES);g("CPResponder.j",YES);g("CPTheme.j",YES);g("_CPDisplayServer.j",YES);CPViewNotSizable=0;CPViewMinXMargin=1;CPViewWidthSizable=2;CPViewMaxXMargin=4;CPViewMinYMargin=8;CPViewHeightSizable=
16;CPViewMaxYMargin=32;CPViewBoundsDidChangeNotification="CPViewBoundsDidChangeNotification";CPViewFrameDidChangeNotification="CPViewFrameDidChangeNotification";var f=nil,d=nil,b=nil,c={},a=objj_allocateClassPair(CPResponder,"CPView"),e=a.isa;class_addIvars(a,[new objj_ivar("_window"),new objj_ivar("_superview"),new objj_ivar("_subviews"),new objj_ivar("_graphicsContext"),new objj_ivar("_tag"),new objj_ivar("_frame"),new objj_ivar("_bounds"),new objj_ivar("_boundsTransform"),new objj_ivar("_inverseBoundsTransform"),
new objj_ivar("_registeredDraggedTypes"),new objj_ivar("_registeredDraggedTypesArray"),new objj_ivar("_isHidden"),new objj_ivar("_hitTests"),new objj_ivar("_clipsToBounds"),new objj_ivar("_postsFrameChangedNotifications"),new objj_ivar("_postsBoundsChangedNotifications"),new objj_ivar("_inhibitFrameAndBoundsChangedNotifications"),new objj_ivar("_DOMElement"),new objj_ivar("_DOMContentsElement"),new objj_ivar("_DOMImageParts"),new objj_ivar("_DOMImageSizes"),new objj_ivar("_backgroundType"),new objj_ivar("_dirtyRect"),
new objj_ivar("_opacity"),new objj_ivar("_backgroundColor"),new objj_ivar("_autoresizesSubviews"),new objj_ivar("_autoresizingMask"),new objj_ivar("_layer"),new objj_ivar("_wantsLayer"),new objj_ivar("_isInFullScreenMode"),new objj_ivar("_fullScreenModeState"),new objj_ivar("_needsLayout"),new objj_ivar("_ephemeralSubviews"),new objj_ivar("_theme"),new objj_ivar("_themeClass"),new objj_ivar("_themeAttributes"),new objj_ivar("_themeState"),new objj_ivar("_ephemeralSubviewsForNames"),new objj_ivar("_ephereralSubviews"),
new objj_ivar("_nextKeyView"),new objj_ivar("_previousKeyView"),new objj_ivar("_viewClassFlags")]);objj_registerClassPair(a);class_addMethods(a,[new objj_method(sel_getUid("setupViewFlags"),function(a){with(a){a=objj_msgSend(a,"class");var b=objj_msgSend(a,"UID");if(c[b]===void 0){var e=0;objj_msgSend(a,"instanceMethodForSelector:",sel_getUid("drawRect:"))!==objj_msgSend(CPView,"instanceMethodForSelector:",sel_getUid("drawRect:"))&&(e|=1);objj_msgSend(a,"instanceMethodForSelector:",sel_getUid("layoutSubviews"))!==
objj_msgSend(CPView,"instanceMethodForSelector:",sel_getUid("layoutSubviews"))&&(e|=2);c[b]=e}_viewClassFlags=c[b]}}),new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithFrame:",CGRectMakeZero())}),new objj_method(sel_getUid("initWithFrame:"),function(a,e,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPView").super_class},"init")){e=c.size.width;var d=c.size.height;_subviews=[];_registeredDraggedTypes=objj_msgSend(CPSet,"set");_registeredDraggedTypesArray=
[];_tag=-1;_frame={origin:{x:c.origin.x,y:c.origin.y},size:{width:c.size.width,height:c.size.height}};_bounds={origin:{x:0,y:0},size:{width:e,height:d}};_autoresizingMask=CPViewNotSizable;_clipsToBounds=_autoresizesSubviews=YES;_opacity=1;_isHidden=NO;_hitTests=YES;_DOMElement=b.cloneNode(!1);c=NULL?{x:CGPointMake(c.origin.x,c.origin.y).x*NULL.a+CGPointMake(c.origin.x,c.origin.y).y*NULL.c+NULL.tx,y:CGPointMake(c.origin.x,c.origin.y).x*NULL.b+CGPointMake(c.origin.x,c.origin.y).y*NULL.d+NULL.ty}:{x:c.origin.x,
y:c.origin.y};_DOMElement.style.left=ROUND(c.x)+"px";_DOMElement.style.top=ROUND(c.y)+"px";_DOMElement.style.width=MAX(0,ROUND(e))+"px";_DOMElement.style.height=MAX(0,ROUND(d))+"px";_DOMImageParts=[];_DOMImageSizes=[];_theme=objj_msgSend(CPTheme,"defaultTheme");_themeState=CPThemeStateNormal;objj_msgSend(a,"setupViewFlags");objj_msgSend(a,"_loadThemeAttributes")}return a}}),new objj_method(sel_getUid("superview"),function(a){with(a)return _superview}),new objj_method(sel_getUid("subviews"),function(a){with(a)return objj_msgSend(_subviews,
"copy")}),new objj_method(sel_getUid("window"),function(a){with(a)return _window}),new objj_method(sel_getUid("addSubview:"),function(a,b,e){with(a)objj_msgSend(a,"_insertSubview:atIndex:",e,CPNotFound)}),new objj_method(sel_getUid("addSubview:positioned:relativeTo:"),function(a,b,e,c,d){with(a)b=d?objj_msgSend(_subviews,"indexOfObjectIdenticalTo:",d):CPNotFound,b===CPNotFound?b=c===CPWindowAbove?objj_msgSend(_subviews,"count"):0:c===CPWindowAbove&&++b,objj_msgSend(a,"_insertSubview:atIndex:",e,b)}),
new objj_method(sel_getUid("_insertSubview:atIndex:"),function(a,b,e,c){with(a){b=_subviews.length;objj_msgSend(objj_msgSend(a,"window"),"_dirtyKeyViewLoop");if(e._superview==a){var d=objj_msgSend(_subviews,"indexOfObjectIdenticalTo:",e);if(d===c||d===b-1&&c===b)return;objj_msgSend(_subviews,"removeObjectAtIndex:",d);_DOMElement.removeChild(e._DOMElement);c>d&&--c;--b}else objj_msgSend(e,"removeFromSuperview"),objj_msgSend(e,"_setWindow:",_window),objj_msgSend(e,"viewWillMoveToSuperview:",a),e._superview=
a;c===CPNotFound||c>=b?(_subviews.push(e),_DOMElement.appendChild(e._DOMElement)):(_subviews.splice(c,0,e),_DOMElement.insertBefore(e._DOMElement,_subviews[c+1]._DOMElement));objj_msgSend(e,"setNextResponder:",a);objj_msgSend(e,"viewDidMoveToSuperview");objj_msgSend(a,"didAddSubview:",e)}}),new objj_method(sel_getUid("didAddSubview:"),function(a){with(a);}),new objj_method(sel_getUid("removeFromSuperview"),function(a){with(a){if(!_superview)return;objj_msgSend(objj_msgSend(a,"window"),"_dirtyKeyViewLoop");
objj_msgSend(_superview,"willRemoveSubview:",a);objj_msgSend(_superview._subviews,"removeObject:",a);_superview._DOMElement.removeChild(_DOMElement);_superview=nil;objj_msgSend(a,"_setWindow:",nil)}}),new objj_method(sel_getUid("replaceSubview:with:"),function(a,b,e,c){with(a){if(e._superview!=a)return;b=objj_msgSend(_subviews,"indexOfObjectIdenticalTo:",e);objj_msgSend(e,"removeFromSuperview");objj_msgSend(a,"_insertSubview:atIndex:",c,b)}}),new objj_method(sel_getUid("setSubviews:"),function(a,
b,e){with(a){e||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"newSubviews cannot be nil in -[CPView setSubviews:]");if(objj_msgSend(_subviews,"isEqual:",e))return;if(objj_msgSend(_subviews,"count")===0){b=0;for(var c=objj_msgSend(e,"count");b<c;++b)objj_msgSend(a,"addSubview:",e[b]);return}if(objj_msgSend(e,"count")===0){for(c=objj_msgSend(_subviews,"count");c--;)objj_msgSend(_subviews[c],"removeFromSuperview");return}b=objj_msgSend(CPMutableSet,"setWithArray:",_subviews);objj_msgSend(b,
"removeObjectsInArray:",e);objj_msgSend(b,"makeObjectsPerformSelector:",sel_getUid("removeFromSuperview"));c=objj_msgSend(CPMutableSet,"setWithArray:",e);objj_msgSend(c,"removeObjectsInArray:",_subviews);b=nil;for(c=objj_msgSend(c,"objectEnumerator");b=objj_msgSend(c,"nextObject");)objj_msgSend(a,"addSubview:",b);if(objj_msgSend(_subviews,"isEqual:",e))return;_subviews=objj_msgSend(e,"copy");b=0;for(c=objj_msgSend(_subviews,"count");b<c;++b)a=_subviews[b],_DOMElement.removeChild(a._DOMElement),_DOMElement.appendChild(a._DOMElement)}}),
new objj_method(sel_getUid("_setWindow:"),function(a,b,e){with(a){if(_window===e)return;objj_msgSend(objj_msgSend(a,"window"),"_dirtyKeyViewLoop");objj_msgSend(_window,"firstResponder")===a&&objj_msgSend(_window,"makeFirstResponder:",nil);objj_msgSend(a,"viewWillMoveToWindow:",e);_registeredDraggedTypes&&(objj_msgSend(_window,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes),objj_msgSend(e,"_noteRegisteredDraggedTypes:",_registeredDraggedTypes));_window=e;for(b=objj_msgSend(_subviews,"count");b--;)objj_msgSend(_subviews[b],
"_setWindow:",e);objj_msgSend(a,"viewDidMoveToWindow");objj_msgSend(objj_msgSend(a,"window"),"_dirtyKeyViewLoop")}}),new objj_method(sel_getUid("isDescendantOf:"),function(a,b,e){with(a){do if(a==e)return YES;while(a=objj_msgSend(a,"superview"));return NO}}),new objj_method(sel_getUid("viewDidMoveToSuperview"),function(a){with(a)objj_msgSend(a,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("viewDidMoveToWindow"),function(a){with(a);}),new objj_method(sel_getUid("viewWillMoveToSuperview:"),function(a){with(a);
}),new objj_method(sel_getUid("viewWillMoveToWindow:"),function(a){with(a);}),new objj_method(sel_getUid("willRemoveSubview:"),function(a){with(a);}),new objj_method(sel_getUid("enclosingMenuItem"),function(a){with(a){for(;a&&!objj_msgSend(a,"isKindOfClass:",objj_msgSend(_CPMenuItemView,"class"));)a=objj_msgSend(a,"superview");if(a)return a._menuItem;return nil}}),new objj_method(sel_getUid("setTag:"),function(a,b,e){with(a)_tag=e}),new objj_method(sel_getUid("tag"),function(a){with(a)return _tag}),
new objj_method(sel_getUid("viewWithTag:"),function(a,b,e){with(a){if(objj_msgSend(a,"tag")==e)return a;a=0;for(b=_subviews.length;a<b;++a){var c=objj_msgSend(_subviews[a],"viewWithTag:",e);if(c)return c}return nil}}),new objj_method(sel_getUid("isFlipped"),function(a){with(a)return YES}),new objj_method(sel_getUid("setFrame:"),function(a,b,e){with(a){if(_frame.origin.x==e.origin.x&&_frame.origin.y==e.origin.y&&_frame.size.width==e.size.width&&_frame.size.height==e.size.height)return;_inhibitFrameAndBoundsChangedNotifications=
YES;objj_msgSend(a,"setFrameOrigin:",e.origin);objj_msgSend(a,"setFrameSize:",e.size);_inhibitFrameAndBoundsChangedNotifications=NO;_postsFrameChangedNotifications&&objj_msgSend(f,"postNotificationName:object:",CPViewFrameDidChangeNotification,a)}}),new objj_method(sel_getUid("frame"),function(a){with(a)return{origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:_frame.size.width,height:_frame.size.height}}}),new objj_method(sel_getUid("frameOrigin"),function(a){with(a)return{x:_frame.origin.x,
y:_frame.origin.y}}),new objj_method(sel_getUid("frameSize"),function(a){with(a)return{width:_frame.size.width,height:_frame.size.height}}),new objj_method(sel_getUid("setCenter:"),function(a,b,e){with(a)objj_msgSend(a,"setFrameOrigin:",CGPointMake(e.x-_frame.size.width/2,e.y-_frame.size.height/2))}),new objj_method(sel_getUid("center"),function(a){with(a)return CGPointMake(_frame.size.width/2+_frame.origin.x,_frame.size.height/2+_frame.origin.y)}),new objj_method(sel_getUid("setFrameOrigin:"),function(a,
b,e){with(a){b=_frame.origin;if(!e||b.x==e.x&&b.y==e.y)return;b.x=e.x;b.y=e.y;_postsFrameChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications&&objj_msgSend(f,"postNotificationName:object:",CPViewFrameDidChangeNotification,a);a=(a=_superview?_superview._boundsTransform:NULL)?{x:CGPointMake(b.x,b.y).x*a.a+CGPointMake(b.x,b.y).y*a.c+a.tx,y:CGPointMake(b.x,b.y).x*a.b+CGPointMake(b.x,b.y).y*a.d+a.ty}:{x:b.x,y:b.y};_DOMElement.style.left=ROUND(a.x)+"px";_DOMElement.style.top=ROUND(a.y)+"px"}}),
new objj_method(sel_getUid("setFrameSize:"),function(a,b,e){with(a){b=_frame.size;if(!e||b.width==e.width&&b.height==e.height)return;var c={width:b.width,height:b.height};b.width=e.width;b.height=e.height;if(YES)_bounds.size.width=e.width,_bounds.size.height=e.height;_layer&&objj_msgSend(_layer,"_owningViewBoundsChanged");_autoresizesSubviews&&objj_msgSend(a,"resizeSubviewsWithOldSize:",c);objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES);_DOMElement.style.width=MAX(0,ROUND(b.width))+
"px";_DOMElement.style.height=MAX(0,ROUND(b.height))+"px";if(_DOMContentsElement)_DOMContentsElement.width=MAX(0,ROUND(b.width)),_DOMContentsElement.height=MAX(0,ROUND(b.height)),_DOMContentsElement.style.width=MAX(0,ROUND(b.width))+"px",_DOMContentsElement.style.height=MAX(0,ROUND(b.height))+"px";if(_backgroundType!==0)if(_backgroundType===4)_DOMImageParts[0].style.width=MAX(0,ROUND(b.width))+"px",_DOMImageParts[0].style.height=MAX(0,ROUND(b.height))+"px";else if(objj_msgSend(objj_msgSend(_backgroundColor,
"patternImage"),"imageSlices"),_backgroundType===1)_DOMImageParts[1].style.width=MAX(0,ROUND(b.width))+"px",_DOMImageParts[1].style.height=MAX(0,ROUND(b.height-_DOMImageSizes[0].height-_DOMImageSizes[2].height))+"px";else if(_backgroundType===2)_DOMImageParts[1].style.width=MAX(0,ROUND(b.width-_DOMImageSizes[0].width-_DOMImageSizes[2].width))+"px",_DOMImageParts[1].style.height=MAX(0,ROUND(b.height))+"px";else if(_backgroundType===3)e=b.width-_DOMImageSizes[0].width-_DOMImageSizes[2].width,b=b.height-
_DOMImageSizes[0].height-_DOMImageSizes[6].height,_DOMImageParts[1].style.width=MAX(0,ROUND(e))+"px",_DOMImageParts[1].style.height=MAX(0,ROUND(_DOMImageSizes[0].height))+"px",_DOMImageParts[3].style.width=MAX(0,ROUND(_DOMImageSizes[3].width))+"px",_DOMImageParts[3].style.height=MAX(0,ROUND(b))+"px",_DOMImageParts[4].style.width=MAX(0,ROUND(e))+"px",_DOMImageParts[4].style.height=MAX(0,ROUND(b))+"px",_DOMImageParts[5].style.width=MAX(0,ROUND(_DOMImageSizes[5].width))+"px",_DOMImageParts[5].style.height=
MAX(0,ROUND(b))+"px",_DOMImageParts[7].style.width=MAX(0,ROUND(e))+"px",_DOMImageParts[7].style.height=MAX(0,ROUND(_DOMImageSizes[7].height))+"px";_postsFrameChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications&&objj_msgSend(f,"postNotificationName:object:",CPViewFrameDidChangeNotification,a)}}),new objj_method(sel_getUid("setBounds:"),function(a,b,e){with(a){if(_bounds.origin.x==e.origin.x&&_bounds.origin.y==e.origin.y&&_bounds.size.width==e.size.width&&_bounds.size.height==e.size.height)return;
_inhibitFrameAndBoundsChangedNotifications=YES;objj_msgSend(a,"setBoundsOrigin:",e.origin);objj_msgSend(a,"setBoundsSize:",e.size);_inhibitFrameAndBoundsChangedNotifications=NO;_postsBoundsChangedNotifications&&objj_msgSend(f,"postNotificationName:object:",CPViewBoundsDidChangeNotification,a)}}),new objj_method(sel_getUid("bounds"),function(a){with(a)return{origin:{x:_bounds.origin.x,y:_bounds.origin.y},size:{width:_bounds.size.width,height:_bounds.size.height}}}),new objj_method(sel_getUid("boundsOrigin"),
function(a){with(a)return{x:_bounds.origin.x,y:_bounds.origin.y}}),new objj_method(sel_getUid("boundsSize"),function(a){with(a)return{width:_bounds.size.width,height:_bounds.size.height}}),new objj_method(sel_getUid("setBoundsOrigin:"),function(a,b,e){with(a){b=_bounds.origin;if(b.x==e.x&&b.y==e.y)return;b.x=e.x;b.y=e.y;b.x!=0||b.y!=0?(_boundsTransform={a:1,b:0,c:0,d:1,tx:-b.x,ty:-b.y},_inverseBoundsTransform=CGAffineTransformInvert(_boundsTransform)):_inverseBoundsTransform=_boundsTransform=nil;
for(e=_subviews.length;e--;){var c=_subviews[e];b=c._frame.origin;b=_boundsTransform?{x:CGPointMake(b.x,b.y).x*_boundsTransform.a+CGPointMake(b.x,b.y).y*_boundsTransform.c+_boundsTransform.tx,y:CGPointMake(b.x,b.y).x*_boundsTransform.b+CGPointMake(b.x,b.y).y*_boundsTransform.d+_boundsTransform.ty}:{x:b.x,y:b.y};c._DOMElement.style.left=ROUND(b.x)+"px";c._DOMElement.style.top=ROUND(b.y)+"px"}_postsBoundsChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications&&objj_msgSend(f,"postNotificationName:object:",
CPViewBoundsDidChangeNotification,a)}}),new objj_method(sel_getUid("setBoundsSize:"),function(a,b,e){with(a){b=_bounds.size;if(b.width==e.width&&b.height==e.height)return;var c=_frame.size;if(!(b.width==c.width&&b.height==c.height)){var d=_bounds.origin;d.x/=b.width/c.width;d.y/=b.height/c.height}b.width=e.width;b.height=e.height;if(!(b.width==c.width&&b.height==c.height))d=_bounds.origin,d.x*=b.width/c.width,d.y*=b.height/c.height;_postsBoundsChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications&&
objj_msgSend(f,"postNotificationName:object:",CPViewBoundsDidChangeNotification,a)}}),new objj_method(sel_getUid("resizeWithOldSuperviewSize:"),function(a,b,e){with(a){b=objj_msgSend(a,"autoresizingMask");if(b==CPViewNotSizable)return;var c=_superview._frame,d={origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:_frame.size.width,height:_frame.size.height}},i=(c.size.width-e.width)/((b&CPViewMinXMargin?1:0)+(b&CPViewWidthSizable?1:0)+(b&CPViewMaxXMargin?1:0));e=(c.size.height-e.height)/((b&CPViewMinYMargin?
1:0)+(b&CPViewHeightSizable?1:0)+(b&CPViewMaxYMargin?1:0));b&CPViewMinXMargin&&(d.origin.x+=i);b&CPViewWidthSizable&&(d.size.width+=i);b&CPViewMinYMargin&&(d.origin.y+=e);b&CPViewHeightSizable&&(d.size.height+=e);objj_msgSend(a,"setFrame:",d)}}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(a,b,e){with(a)for(a=_subviews.length;a--;)objj_msgSend(_subviews[a],"resizeWithOldSuperviewSize:",e)}),new objj_method(sel_getUid("setAutoresizesSubviews:"),function(a,b,e){with(a)_autoresizesSubviews=
!!e}),new objj_method(sel_getUid("autoresizesSubviews"),function(a){with(a)return _autoresizesSubviews}),new objj_method(sel_getUid("setAutoresizingMask:"),function(a,b,e){with(a)_autoresizingMask=e}),new objj_method(sel_getUid("autoresizingMask"),function(a){with(a)return _autoresizingMask}),new objj_method(sel_getUid("enterFullScreenMode"),function(a){with(a)return objj_msgSend(a,"enterFullScreenMode:withOptions:",nil,nil)}),new objj_method(sel_getUid("enterFullScreenMode:withOptions:"),function(a){with(a){var b=
a._superview;_fullScreenModeState={autoresizingMask:a._autoresizingMask,frame:CGRectMakeCopy(a._frame),index:b?objj_msgSend(b._subviews,"indexOfObjectIdenticalTo:",a):0,superview:b};b=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",objj_msgSend(objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),"contentBounds"),CPBorderlessWindowMask);objj_msgSend(b,"setLevel:",CPScreenSaverWindowLevel);objj_msgSend(b,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
var e=objj_msgSend(b,"contentView");objj_msgSend(e,"setBackgroundColor:",objj_msgSend(CPColor,"blackColor"));objj_msgSend(e,"addSubview:",a);objj_msgSend(a,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);objj_msgSend(a,"setFrame:",CGRectMakeCopy(objj_msgSend(e,"bounds")));objj_msgSend(b,"makeKeyAndOrderFront:",a);objj_msgSend(b,"makeFirstResponder:",a);return _isInFullScreenMode=YES}}),new objj_method(sel_getUid("exitFullScreenMode"),function(a){with(a)objj_msgSend(a,"exitFullScreenModeWithOptions:",
nil)}),new objj_method(sel_getUid("exitFullScreenModeWithOptions:"),function(a){with(a){if(!_isInFullScreenMode)return;_isInFullScreenMode=NO;objj_msgSend(a,"setFrame:",_fullScreenModeState.frame);objj_msgSend(a,"setAutoresizingMask:",_fullScreenModeState.autoresizingMask);objj_msgSend(_fullScreenModeState.superview,"_insertSubview:atIndex:",a,_fullScreenModeState.index);objj_msgSend(objj_msgSend(a,"window"),"orderOut:",a)}}),new objj_method(sel_getUid("isInFullScreenMode"),function(a){with(a)return _isInFullScreenMode}),
new objj_method(sel_getUid("setHidden:"),function(a,b,e){with(a){e=!!e;if(_isHidden===e)return;_isHidden=e;_DOMElement.style.display=_isHidden?"none":"block";if(e){b=objj_msgSend(_window,"firstResponder");if(objj_msgSend(b,"isKindOfClass:",objj_msgSend(CPView,"class"))){do if(a==b){objj_msgSend(_window,"makeFirstResponder:",objj_msgSend(a,"nextValidKeyView"));break}while(b=objj_msgSend(b,"superview"))}objj_msgSend(a,"_notifyViewDidHide")}else objj_msgSend(a,"_notifyViewDidUnhide")}}),new objj_method(sel_getUid("_notifyViewDidHide"),
function(a){with(a){objj_msgSend(a,"viewDidHide");for(a=objj_msgSend(_subviews,"count");a--;)objj_msgSend(_subviews[a],"_notifyViewDidHide")}}),new objj_method(sel_getUid("_notifyViewDidUnhide"),function(a){with(a){objj_msgSend(a,"viewDidUnhide");for(a=objj_msgSend(_subviews,"count");a--;)objj_msgSend(_subviews[a],"_notifyViewDidUnhide")}}),new objj_method(sel_getUid("isHidden"),function(a){with(a)return _isHidden}),new objj_method(sel_getUid("setClipsToBounds:"),function(a,b,e){with(a){if(_clipsToBounds===
e)return;_clipsToBounds=e;_DOMElement.style.overflow=_clipsToBounds?"hidden":"visible"}}),new objj_method(sel_getUid("clipsToBounds"),function(a){with(a)return _clipsToBounds}),new objj_method(sel_getUid("setAlphaValue:"),function(a,b,e){with(a){if(_opacity==e)return;_opacity=e;if(CPFeatureIsCompatible(CPOpacityRequiresFilterFeature))if(e===1)try{_DOMElement.style.removeAttribute("filter")}catch(c){}else _DOMElement.style.filter="alpha(opacity="+e*100+")";else _DOMElement.style.opacity=e}}),new objj_method(sel_getUid("alphaValue"),
function(a){with(a)return _opacity}),new objj_method(sel_getUid("isHiddenOrHasHiddenAncestor"),function(a){with(a){for(;a&&!objj_msgSend(a,"isHidden");)a=objj_msgSend(a,"superview");return a!==nil}}),new objj_method(sel_getUid("viewDidHide"),function(a){with(a);}),new objj_method(sel_getUid("viewDidUnhide"),function(a){with(a);}),new objj_method(sel_getUid("acceptsFirstMouse:"),function(a){with(a)return YES}),new objj_method(sel_getUid("hitTests"),function(a){with(a)return _hitTests}),new objj_method(sel_getUid("setHitTests:"),
function(a,b,e){with(a)_hitTests=!!e}),new objj_method(sel_getUid("hitTest:"),function(a,b,e){with(a){if(_isHidden||!_hitTests||!CPRectContainsPoint(_frame,e))return nil;b=nil;var c=_subviews.length;e={x:e.x-_frame.origin.x,y:e.y-_frame.origin.y};for(_inverseBoundsTransform&&(e={x:e.x*_inverseBoundsTransform.a+e.y*_inverseBoundsTransform.c+_inverseBoundsTransform.tx,y:e.x*_inverseBoundsTransform.b+e.y*_inverseBoundsTransform.d+_inverseBoundsTransform.ty});c--;)if(b=objj_msgSend(_subviews[c],"hitTest:",
e))return b;return a}}),new objj_method(sel_getUid("needsPanelToBecomeKey"),function(a){with(a)return NO}),new objj_method(sel_getUid("mouseDownCanMoveWindow"),function(a){with(a)return!objj_msgSend(a,"isOpaque")}),new objj_method(sel_getUid("mouseDown:"),function(a,b,e){with(a)objj_msgSend(a,"mouseDownCanMoveWindow")&&objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPView").super_class},"mouseDown:",e)}),new objj_method(sel_getUid("rightMouseDown:"),function(a,b,e){with(a)(b=objj_msgSend(a,
"menuForEvent:",e))?objj_msgSend(CPMenu,"popUpContextMenu:withEvent:forView:",b,e,a):objj_msgSend(objj_msgSend(a,"nextResponder"),"isKindOfClass:",CPView)?objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPView").super_class},"rightMouseDown:",e):objj_msgSend(objj_msgSend(objj_msgSend(e,"window"),"platformWindow"),"_propagateContextMenuDOMEvent:",YES)}),new objj_method(sel_getUid("menuForEvent:"),function(a){with(a)return objj_msgSend(a,"menu")||objj_msgSend(objj_msgSend(a,"class"),"defaultMenu")}),
new objj_method(sel_getUid("setBackgroundColor:"),function(a,e,c){with(a){if(_backgroundColor==c)return;c==objj_msgSend(CPNull,"null")&&(c=nil);_backgroundColor=c;c=objj_msgSend(_backgroundColor,"patternImage");var d=_backgroundColor&&(objj_msgSend(_backgroundColor,"patternImage")||objj_msgSend(_backgroundColor,"alphaComponent")>0),i=d&&objj_msgSend(_backgroundColor,"alphaComponent")<1;e=CPFeatureIsCompatible(CPCSSRGBAFeature);i=i&&!e;var l=0;objj_msgSend(c,"isThreePartImage")?(_backgroundType=objj_msgSend(c,
"isVertical")?1:2,l=3-_DOMImageParts.length):objj_msgSend(c,"isNinePartImage")?(_backgroundType=3,l=9-_DOMImageParts.length):(_backgroundType=i?4:0,l=(i?1:0)-_DOMImageParts.length);if(l>0)for(;l--;){var f=b.cloneNode(!1);f.style.zIndex=-1E3;_DOMImageParts.push(f);_DOMElement.appendChild(f)}else for(l=-l;l--;)_DOMElement.removeChild(_DOMImageParts.pop());if(_backgroundType===0||_backgroundType===4)e=d?objj_msgSend(_backgroundColor,"cssString"):"",i?(_DOMElement.style.background="",_DOMImageParts[0].style.background=
objj_msgSend(_backgroundColor,"cssString"),CPFeatureIsCompatible(CPOpacityRequiresFilterFeature)?_DOMImageParts[0].style.filter="alpha(opacity="+objj_msgSend(_backgroundColor,"alphaComponent")*100+")":_DOMImageParts[0].style.opacity=objj_msgSend(_backgroundColor,"alphaComponent"),c=objj_msgSend(a,"bounds").size,_DOMImageParts[0].style.width=MAX(0,ROUND(c.width))+"px",_DOMImageParts[0].style.height=MAX(0,ROUND(c.height))+"px"):_DOMElement.style.background=e;else{d=objj_msgSend(c,"imageSlices");i=MIN(_DOMImageParts.length,
d.length);for(a=_frame.size;i--;)if(l=d[i],c=_DOMImageSizes[i]=l?objj_msgSend(l,"size"):{width:0,height:0},_DOMImageParts[i].style.width=MAX(0,ROUND(c.width))+"px",_DOMImageParts[i].style.height=MAX(0,ROUND(c.height))+"px",_DOMImageParts[i].style.background=l?'url("'+objj_msgSend(l,"filename")+'")':"",!e)if(CPFeatureIsCompatible(CPOpacityRequiresFilterFeature))try{_DOMImageParts[i].style.removeAttribute("filter")}catch(g){}else _DOMImageParts[i].style.opacity=1;if(_backgroundType==3)e=a.width-_DOMImageSizes[0].width-
_DOMImageSizes[2].width,a=a.height-_DOMImageSizes[0].height-_DOMImageSizes[6].height,_DOMImageParts[1].style.width=MAX(0,ROUND(e))+"px",_DOMImageParts[1].style.height=MAX(0,ROUND(_DOMImageSizes[0].height))+"px",_DOMImageParts[3].style.width=MAX(0,ROUND(_DOMImageSizes[3].width))+"px",_DOMImageParts[3].style.height=MAX(0,ROUND(a))+"px",_DOMImageParts[4].style.width=MAX(0,ROUND(e))+"px",_DOMImageParts[4].style.height=MAX(0,ROUND(a))+"px",_DOMImageParts[5].style.width=MAX(0,ROUND(_DOMImageSizes[5].width))+
"px",_DOMImageParts[5].style.height=MAX(0,ROUND(a))+"px",_DOMImageParts[7].style.width=MAX(0,ROUND(e))+"px",_DOMImageParts[7].style.height=MAX(0,ROUND(_DOMImageSizes[7].height))+"px",e=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[0].style.left=ROUND(e.x)+"px",_DOMImageParts[0].style.top=ROUND(e.y)+"px",e=NULL?{x:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.a+CGPointMake(_DOMImageSizes[0].width,
0).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.b+CGPointMake(_DOMImageSizes[0].width,0).y*NULL.d+NULL.ty}:{x:_DOMImageSizes[0].width,y:0},_DOMImageParts[1].style.left=ROUND(e.x)+"px",_DOMImageParts[1].style.top=ROUND(e.y)+"px",e=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[2].style.right=ROUND(e.x)+"px",_DOMImageParts[2].style.top=ROUND(e.y)+"px",e=NULL?{x:CGPointMake(0,
_DOMImageSizes[1].height).x*NULL.a+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.c+NULL.tx,y:CGPointMake(0,_DOMImageSizes[1].height).x*NULL.b+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.d+NULL.ty}:{x:0,y:_DOMImageSizes[1].height},_DOMImageParts[3].style.left=ROUND(e.x)+"px",_DOMImageParts[3].style.top=ROUND(e.y)+"px",e=NULL?{x:CGPointMake(_DOMImageSizes[0].width,_DOMImageSizes[0].height).x*NULL.a+CGPointMake(_DOMImageSizes[0].width,_DOMImageSizes[0].height).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[0].width,
_DOMImageSizes[0].height).x*NULL.b+CGPointMake(_DOMImageSizes[0].width,_DOMImageSizes[0].height).y*NULL.d+NULL.ty}:{x:_DOMImageSizes[0].width,y:_DOMImageSizes[0].height},_DOMImageParts[4].style.left=ROUND(e.x)+"px",_DOMImageParts[4].style.top=ROUND(e.y)+"px",e=NULL?{x:CGPointMake(0,_DOMImageSizes[1].height).x*NULL.a+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.c+NULL.tx,y:CGPointMake(0,_DOMImageSizes[1].height).x*NULL.b+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.d+NULL.ty}:{x:0,y:_DOMImageSizes[1].height},
_DOMImageParts[5].style.right=ROUND(e.x)+"px",_DOMImageParts[5].style.top=ROUND(e.y)+"px",e=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[6].style.left=ROUND(e.x)+"px",_DOMImageParts[6].style.bottom=ROUND(e.y)+"px",e=NULL?{x:CGPointMake(_DOMImageSizes[6].width,0).x*NULL.a+CGPointMake(_DOMImageSizes[6].width,0).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[6].width,0).x*NULL.b+CGPointMake(_DOMImageSizes[6].width,
0).y*NULL.d+NULL.ty}:{x:_DOMImageSizes[6].width,y:0},_DOMImageParts[7].style.left=ROUND(e.x)+"px",_DOMImageParts[7].style.bottom=ROUND(e.y)+"px",e=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[8].style.right=ROUND(e.x)+"px",_DOMImageParts[8].style.bottom=ROUND(e.y)+"px";else if(_backgroundType==1)_DOMImageParts[1].style.width=MAX(0,ROUND(a.width))+"px",_DOMImageParts[1].style.height=MAX(0,
ROUND(a.height-_DOMImageSizes[0].height-_DOMImageSizes[2].height))+"px",e=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[0].style.left=ROUND(e.x)+"px",_DOMImageParts[0].style.top=ROUND(e.y)+"px",e=NULL?{x:CGPointMake(0,_DOMImageSizes[0].height).x*NULL.a+CGPointMake(0,_DOMImageSizes[0].height).y*NULL.c+NULL.tx,y:CGPointMake(0,_DOMImageSizes[0].height).x*NULL.b+CGPointMake(0,_DOMImageSizes[0].height).y*
NULL.d+NULL.ty}:{x:0,y:_DOMImageSizes[0].height},_DOMImageParts[1].style.left=ROUND(e.x)+"px",_DOMImageParts[1].style.top=ROUND(e.y)+"px",e=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[2].style.left=ROUND(e.x)+"px",_DOMImageParts[2].style.bottom=ROUND(e.y)+"px";else if(_backgroundType==2)_DOMImageParts[1].style.width=MAX(0,ROUND(a.width-_DOMImageSizes[0].width-_DOMImageSizes[2].width))+"px",
_DOMImageParts[1].style.height=MAX(0,ROUND(a.height))+"px",e=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[0].style.left=ROUND(e.x)+"px",_DOMImageParts[0].style.top=ROUND(e.y)+"px",e=NULL?{x:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.a+CGPointMake(_DOMImageSizes[0].width,0).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.b+CGPointMake(_DOMImageSizes[0].width,0).y*NULL.d+
NULL.ty}:{x:_DOMImageSizes[0].width,y:0},_DOMImageParts[1].style.left=ROUND(e.x)+"px",_DOMImageParts[1].style.top=ROUND(e.y)+"px",e=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[2].style.right=ROUND(e.x)+"px",_DOMImageParts[2].style.top=ROUND(e.y)+"px"}}}),new objj_method(sel_getUid("backgroundColor"),function(a){with(a)return _backgroundColor}),new objj_method(sel_getUid("convertPoint:fromView:"),
function(a,b,e,c){with(a)return CGPointApplyAffineTransform(e,i(c,a))}),new objj_method(sel_getUid("convertPointFromBase:"),function(a,b,e){with(a)return CGPointApplyAffineTransform(e,i(nil,a))}),new objj_method(sel_getUid("convertPoint:toView:"),function(a,b,e,c){with(a)return CGPointApplyAffineTransform(e,i(a,c))}),new objj_method(sel_getUid("convertPointToBase:"),function(a,b,e){with(a)return CGPointApplyAffineTransform(e,i(a,nil))}),new objj_method(sel_getUid("convertSize:fromView:"),function(a,
b,e,c){with(a)return CGSizeApplyAffineTransform(e,i(c,a))}),new objj_method(sel_getUid("convertSize:toView:"),function(a,b,e,c){with(a)return CGSizeApplyAffineTransform(e,i(a,c))}),new objj_method(sel_getUid("convertRect:fromView:"),function(a,b,e,c){with(a)return CGRectApplyAffineTransform(e,i(c,a))}),new objj_method(sel_getUid("convertRectFromBase:"),function(a,b,e){with(a)return CGRectApplyAffineTransform(e,i(nil,a))}),new objj_method(sel_getUid("convertRect:toView:"),function(a,b,e,c){with(a)return CGRectApplyAffineTransform(e,
i(a,c))}),new objj_method(sel_getUid("convertRectToBase:"),function(a,b,e){with(a)return CGRectApplyAffineTransform(e,i(a,nil))}),new objj_method(sel_getUid("setPostsFrameChangedNotifications:"),function(a,b,e){with(a){e=!!e;if(_postsFrameChangedNotifications===e)return;(_postsFrameChangedNotifications=e)&&objj_msgSend(f,"postNotificationName:object:",CPViewFrameDidChangeNotification,a)}}),new objj_method(sel_getUid("postsFrameChangedNotifications"),function(a){with(a)return _postsFrameChangedNotifications}),
new objj_method(sel_getUid("setPostsBoundsChangedNotifications:"),function(a,b,e){with(a){e=!!e;if(_postsBoundsChangedNotifications===e)return;(_postsBoundsChangedNotifications=e)&&objj_msgSend(f,"postNotificationName:object:",CPViewBoundsDidChangeNotification,a)}}),new objj_method(sel_getUid("postsBoundsChangedNotifications"),function(a){with(a)return _postsBoundsChangedNotifications}),new objj_method(sel_getUid("dragImage:at:offset:event:pasteboard:source:slideBack:"),function(a,b,e,c,d,i,f,g,h){with(a)objj_msgSend(_window,
"dragImage:at:offset:event:pasteboard:source:slideBack:",e,objj_msgSend(a,"convertPoint:toView:",c,nil),d,i,f,g,h)}),new objj_method(sel_getUid("dragView:at:offset:event:pasteboard:source:slideBack:"),function(a,b,e,c,d,i,f,g,h){with(a)objj_msgSend(_window,"dragView:at:offset:event:pasteboard:source:slideBack:",e,objj_msgSend(a,"convertPoint:toView:",c,nil),d,i,f,g,h)}),new objj_method(sel_getUid("registerForDraggedTypes:"),function(a,b,e){with(a){if(!e||!objj_msgSend(e,"count"))return;a=objj_msgSend(a,
"window");objj_msgSend(a,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes);objj_msgSend(_registeredDraggedTypes,"addObjectsFromArray:",e);objj_msgSend(a,"_noteRegisteredDraggedTypes:",_registeredDraggedTypes);_registeredDraggedTypesArray=nil}}),new objj_method(sel_getUid("registeredDraggedTypes"),function(a){with(a)return _registeredDraggedTypesArray||(_registeredDraggedTypesArray=objj_msgSend(_registeredDraggedTypes,"allObjects")),_registeredDraggedTypesArray}),new objj_method(sel_getUid("unregisterDraggedTypes"),
function(a){with(a)objj_msgSend(objj_msgSend(a,"window"),"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes),_registeredDraggedTypes=objj_msgSend(CPSet,"set"),_registeredDraggedTypesArray=[]}),new objj_method(sel_getUid("drawRect:"),function(a){with(a);}),new objj_method(sel_getUid("setNeedsDisplay:"),function(a,b,e){with(a)e&&objj_msgSend(a,"setNeedsDisplayInRect:",objj_msgSend(a,"bounds"))}),new objj_method(sel_getUid("setNeedsDisplayInRect:"),function(a,b,e){with(a){if(!(_viewClassFlags&
1))return;if(e.size.width<=0||e.size.height<=0)return;_dirtyRect=_dirtyRect&&!(_dirtyRect.size.width<=0||_dirtyRect.size.height<=0)?CGRectUnion(e,_dirtyRect):{origin:{x:e.origin.x,y:e.origin.y},size:{width:e.size.width,height:e.size.height}};_CPDisplayServerAddDisplayObject(a)}}),new objj_method(sel_getUid("needsDisplay"),function(a){with(a)return _dirtyRect&&!(_dirtyRect.size.width<=0||_dirtyRect.size.height<=0)}),new objj_method(sel_getUid("displayIfNeeded"),function(a){with(a)objj_msgSend(a,"needsDisplay")&&
objj_msgSend(a,"displayRect:",_dirtyRect)}),new objj_method(sel_getUid("display"),function(a){with(a)objj_msgSend(a,"displayRect:",objj_msgSend(a,"visibleRect"))}),new objj_method(sel_getUid("displayIfNeededInRect:"),function(a,b,e){with(a)objj_msgSend(a,"needsDisplay")&&objj_msgSend(a,"displayRect:",e)}),new objj_method(sel_getUid("displayRect:"),function(a,b,e){with(a)objj_msgSend(a,"viewWillDraw"),objj_msgSend(a,"displayRectIgnoringOpacity:inContext:",e,nil),_dirtyRect=NULL}),new objj_method(sel_getUid("displayRectIgnoringOpacity:inContext:"),
function(a,b,e){with(a){if(objj_msgSend(a,"isHidden"))return;objj_msgSend(a,"lockFocus");CGContextClearRect(objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),e);objj_msgSend(a,"drawRect:",e);objj_msgSend(a,"unlockFocus")}}),new objj_method(sel_getUid("viewWillDraw"),function(a){with(a);}),new objj_method(sel_getUid("lockFocus"),function(a){with(a){if(!_graphicsContext)a=CGBitmapGraphicsContextCreate(),_DOMContentsElement=a.DOMElement,_DOMContentsElement.style.zIndex=-100,
_DOMContentsElement.style.overflow="hidden",_DOMContentsElement.style.position="absolute",_DOMContentsElement.style.visibility="visible",_DOMContentsElement.width=ROUND(_frame.size.width),_DOMContentsElement.height=ROUND(_frame.size.height),_DOMContentsElement.style.top="0px",_DOMContentsElement.style.left="0px",_DOMContentsElement.style.width=ROUND(_frame.size.width)+"px",_DOMContentsElement.style.height=ROUND(_frame.size.height)+"px",_DOMElement.appendChild(_DOMContentsElement),_graphicsContext=
objj_msgSend(CPGraphicsContext,"graphicsContextWithGraphicsPort:flipped:",a,YES);objj_msgSend(CPGraphicsContext,"setCurrentContext:",_graphicsContext);CGContextSaveGState(objj_msgSend(_graphicsContext,"graphicsPort"))}}),new objj_method(sel_getUid("unlockFocus"),function(a){with(a)CGContextRestoreGState(objj_msgSend(_graphicsContext,"graphicsPort")),objj_msgSend(CPGraphicsContext,"setCurrentContext:",nil)}),new objj_method(sel_getUid("setNeedsLayout"),function(a){with(a){if(!(_viewClassFlags&2))return;
_needsLayout=YES;_CPDisplayServerAddLayoutObject(a)}}),new objj_method(sel_getUid("layoutIfNeeded"),function(a){with(a)_needsLayout&&(_needsLayout=NO,objj_msgSend(a,"layoutSubviews"))}),new objj_method(sel_getUid("layoutSubviews"),function(a){with(a);}),new objj_method(sel_getUid("isOpaque"),function(a){with(a)return NO}),new objj_method(sel_getUid("visibleRect"),function(a){with(a){if(!_superview)return _bounds;return CGRectIntersection(objj_msgSend(a,"convertRect:fromView:",objj_msgSend(_superview,
"visibleRect"),_superview),_bounds)}}),new objj_method(sel_getUid("_enclosingClipView"),function(a){with(a){a=_superview;for(var b=objj_msgSend(CPClipView,"class");a&&!objj_msgSend(a,"isKindOfClass:",b);)a=a._superview;return a}}),new objj_method(sel_getUid("scrollPoint:"),function(a,b,e){with(a){b=objj_msgSend(a,"_enclosingClipView");if(!b)return;objj_msgSend(b,"scrollToPoint:",objj_msgSend(a,"convertPoint:toView:",e,b))}}),new objj_method(sel_getUid("scrollRectToVisible:"),function(a,b,e){with(a){b=
objj_msgSend(a,"visibleRect");e=CGRectIntersection(e,_bounds);if(e.size.width<=0||e.size.height<=0||CGRectContainsRect(b,e))return NO;a=objj_msgSend(a,"_enclosingClipView");if(!a)return NO;var c={x:b.origin.x,y:b.origin.y};e.origin.x<=b.origin.x?c.x=e.origin.x:e.origin.x+e.size.width>b.origin.x+b.size.width&&(c.x+=e.origin.x+e.size.width-(b.origin.x+b.size.width));e.origin.y<=b.origin.y?c.y=CGRectGetMinY(e):e.origin.y+e.size.height>b.origin.y+b.size.height&&(c.y+=e.origin.y+e.size.height-(b.origin.y+
b.size.height));objj_msgSend(a,"scrollToPoint:",CGPointMake(c.x,c.y));return YES}}),new objj_method(sel_getUid("autoscroll:"),function(a,b,e){with(a)return objj_msgSend(objj_msgSend(a,"superview"),"autoscroll:",e)}),new objj_method(sel_getUid("adjustScroll:"),function(a,b,e){with(a)return e}),new objj_method(sel_getUid("scrollRect:by:"),function(a){with(a);}),new objj_method(sel_getUid("enclosingScrollView"),function(a){with(a){a=_superview;for(var b=objj_msgSend(CPScrollView,"class");a&&!objj_msgSend(a,
"isKindOfClass:",b);)a=a._superview;return a}}),new objj_method(sel_getUid("scrollClipView:toPoint:"),function(a,b,e,c){with(a)objj_msgSend(e,"scrollToPoint:",c)}),new objj_method(sel_getUid("reflectScrolledClipView:"),function(a){with(a);})]);class_addMethods(e,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==objj_msgSend(CPView,"class"))return;b=document.createElement("div");a=b.style;a.overflow="hidden";a.position="absolute";a.visibility="visible";a.zIndex=0;f=objj_msgSend(CPNotificationCenter,
"defaultCenter")}}),new objj_method(sel_getUid("keyPathsForValuesAffectingFrame"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","frameOrigin","frameSize")}),new objj_method(sel_getUid("keyPathsForValuesAffectingBounds"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","boundsOrigin","boundsSize")}),new objj_method(sel_getUid("defaultMenu"),function(a){with(a)return nil})]);a=objj_getClass("CPView");if(!a)throw new SyntaxError('*** Could not find definition for class "CPView"');
e=a.isa;class_addMethods(a,[new objj_method(sel_getUid("performKeyEquivalent:"),function(a,b,e){with(a){for(a=objj_msgSend(_subviews,"count");a--;)if(objj_msgSend(_subviews[a],"performKeyEquivalent:",e))return YES;return NO}}),new objj_method(sel_getUid("canBecomeKeyView"),function(a){with(a)return objj_msgSend(a,"acceptsFirstResponder")&&!objj_msgSend(a,"isHiddenOrHasHiddenAncestor")}),new objj_method(sel_getUid("nextKeyView"),function(a){with(a)return _nextKeyView}),new objj_method(sel_getUid("nextValidKeyView"),
function(a){with(a){for(var b=a=objj_msgSend(a,"nextKeyView");a&&!objj_msgSend(a,"canBecomeKeyView");)if(a=objj_msgSend(a,"nextKeyView"),a===b)return nil;return a}}),new objj_method(sel_getUid("previousKeyView"),function(a){with(a)return _previousKeyView}),new objj_method(sel_getUid("previousValidKeyView"),function(a){with(a){for(a=objj_msgSend(a,"previousKeyView");a&&!objj_msgSend(a,"canBecomeKeyView");)a=objj_msgSend(a,"previousKeyView");return a}}),new objj_method(sel_getUid("_setPreviousKeyView:"),
function(a,b,e){with(a)_previousKeyView=e}),new objj_method(sel_getUid("setNextKeyView:"),function(a,b,e){with(a)_nextKeyView=e,objj_msgSend(_nextKeyView,"_setPreviousKeyView:",a)})]);a=objj_getClass("CPView");if(!a)throw new SyntaxError('*** Could not find definition for class "CPView"');e=a.isa;class_addMethods(a,[new objj_method(sel_getUid("setLayer:"),function(a,b,e){with(a){if(_layer==e)return;if(_layer)_layer._owningView=nil,_DOMElement.removeChild(_layer._DOMElement);if(_layer=e)CGRectMakeCopy(objj_msgSend(a,
"bounds")),objj_msgSend(_layer,"_setOwningView:",a),_layer._DOMElement.style.zIndex=100,_DOMElement.appendChild(_layer._DOMElement)}}),new objj_method(sel_getUid("layer"),function(a){with(a)return _layer}),new objj_method(sel_getUid("setWantsLayer:"),function(a,b,e){with(a)_wantsLayer=!!e}),new objj_method(sel_getUid("wantsLayer"),function(a){with(a)return _wantsLayer})]);a=objj_getClass("CPView");if(!a)throw new SyntaxError('*** Could not find definition for class "CPView"');e=a.isa;class_addMethods(a,
[new objj_method(sel_getUid("themeState"),function(a){with(a)return _themeState}),new objj_method(sel_getUid("hasThemeState:"),function(a,b,e){with(a){if(e===CPThemeStateNormal&&_themeState===CPThemeStateNormal)return YES;return!!(_themeState&(typeof e==="string"?CPThemeState(e):e))}}),new objj_method(sel_getUid("setThemeState:"),function(a,b,e){with(a){b=typeof e==="string"?CPThemeState(e):e;if(_themeState&b)return NO;_themeState|=b;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",
YES);return YES}}),new objj_method(sel_getUid("unsetThemeState:"),function(a,b,e){with(a){b=typeof e==="string"?CPThemeState(e):e;if(!(_themeState&b))return NO;_themeState&=~b;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES);return YES}}),new objj_method(sel_getUid("themeClass"),function(a){with(a){if(_themeClass)return _themeClass;return objj_msgSend(objj_msgSend(a,"class"),"defaultThemeClass")}}),new objj_method(sel_getUid("setThemeClass:"),function(a,b,e){with(a)_themeClass=
e,objj_msgSend(a,"_loadThemeAttributes"),objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("_loadThemeAttributes"),function(a){with(a){var b=objj_msgSend(a,"class");b=objj_msgSend(b,"_themeAttributes");var e=b.length;if(!e)return;var c=objj_msgSend(a,"theme");a=objj_msgSend(a,"themeClass");for(_themeAttributes={};e--;){var d=b[e--],i=objj_msgSend(objj_msgSend(_CPThemeAttribute,"alloc"),"initWithName:defaultValue:",d,b[e]);objj_msgSend(i,"setParentAttribute:",
objj_msgSend(c,"attributeWithName:forClass:",d,a));_themeAttributes[d]=i}}}),new objj_method(sel_getUid("setTheme:"),function(a,b,e){with(a){if(_theme===e)return;_theme=e;objj_msgSend(a,"viewDidChangeTheme")}}),new objj_method(sel_getUid("theme"),function(a){with(a)return _theme}),new objj_method(sel_getUid("viewDidChangeTheme"),function(a){with(a){if(!_themeAttributes)return;var b=objj_msgSend(a,"theme"),e=objj_msgSend(a,"themeClass"),c;for(c in _themeAttributes)_themeAttributes.hasOwnProperty(c)&&
objj_msgSend(_themeAttributes[c],"setParentAttribute:",objj_msgSend(b,"attributeWithName:forClass:",c,e));objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("_themeAttributeDictionary"),function(a){with(a){var b=objj_msgSend(CPDictionary,"dictionary");if(_themeAttributes)for(var e in objj_msgSend(a,"theme"),_themeAttributes)_themeAttributes.hasOwnProperty(e)&&objj_msgSend(b,"setObject:forKey:",_themeAttributes[e],e);return b}}),new objj_method(sel_getUid("setValue:forThemeAttribute:inState:"),
function(a,b,e,c,d){with(a){(!_themeAttributes||!_themeAttributes[c])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+c+"'");b=objj_msgSend(a,"currentValueForThemeAttribute:",c);objj_msgSend(_themeAttributes[c],"setValue:forState:",e,d);if(objj_msgSend(a,"currentValueForThemeAttribute:",c)===b)return;objj_msgSend(a,"setNeedsDisplay:",YES);objj_msgSend(a,"setNeedsLayout")}}),new objj_method(sel_getUid("setValue:forThemeAttribute:"),
function(a,b,e,c){with(a){(!_themeAttributes||!_themeAttributes[c])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+c+"'");b=objj_msgSend(a,"currentValueForThemeAttribute:",c);objj_msgSend(_themeAttributes[c],"setValue:",e);if(objj_msgSend(a,"currentValueForThemeAttribute:",c)===b)return;objj_msgSend(a,"setNeedsDisplay:",YES);objj_msgSend(a,"setNeedsLayout")}}),new objj_method(sel_getUid("valueForThemeAttribute:inState:"),
function(a,b,e,c){with(a)return(!_themeAttributes||!_themeAttributes[e])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+e+"'"),objj_msgSend(_themeAttributes[e],"valueForState:",c)}),new objj_method(sel_getUid("valueForThemeAttribute:"),function(a,b,e){with(a)return(!_themeAttributes||!_themeAttributes[e])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+
e+"'"),objj_msgSend(_themeAttributes[e],"value")}),new objj_method(sel_getUid("currentValueForThemeAttribute:"),function(a,b,e){with(a)return(!_themeAttributes||!_themeAttributes[e])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+e+"'"),objj_msgSend(_themeAttributes[e],"valueForState:",_themeState)}),new objj_method(sel_getUid("hasThemeAttribute:"),function(a,b,e){with(a)return _themeAttributes&&_themeAttributes[e]!==
void 0}),new objj_method(sel_getUid("createEphemeralSubviewNamed:"),function(a){with(a)return nil}),new objj_method(sel_getUid("rectForEphemeralSubviewNamed:"),function(a){with(a)return{origin:{x:0,y:0},size:{width:0,height:0}}}),new objj_method(sel_getUid("layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:"),function(a,b,e,c,d){with(a)return _ephemeralSubviewsForNames||(_ephemeralSubviewsForNames={},_ephemeralSubviews=objj_msgSend(CPSet,"set")),(b=objj_msgSend(a,"rectForEphemeralSubviewNamed:",
e))?(_ephemeralSubviewsForNames[e]||(_ephemeralSubviewsForNames[e]=objj_msgSend(a,"createEphemeralSubviewNamed:",e),objj_msgSend(_ephemeralSubviews,"addObject:",_ephemeralSubviewsForNames[e]),_ephemeralSubviewsForNames[e]&&objj_msgSend(a,"addSubview:positioned:relativeTo:",_ephemeralSubviewsForNames[e],c,_ephemeralSubviewsForNames[d])),_ephemeralSubviewsForNames[e]&&objj_msgSend(_ephemeralSubviewsForNames[e],"setFrame:",b)):_ephemeralSubviewsForNames[e]&&(objj_msgSend(_ephemeralSubviewsForNames[e],
"removeFromSuperview"),objj_msgSend(_ephemeralSubviews,"removeObject:",_ephemeralSubviewsForNames[e]),delete _ephemeralSubviewsForNames[e]),_ephemeralSubviewsForNames[e]}),new objj_method(sel_getUid("ephemeralSubviewNamed:"),function(a,b,e){with(a){if(!_ephemeralSubviewsForNames)return nil;return _ephemeralSubviewsForNames[e]||nil}})]);class_addMethods(e,[new objj_method(sel_getUid("defaultThemeClass"),function(a){with(a)return nil}),new objj_method(sel_getUid("themeAttributes"),function(a){with(a)return nil}),
new objj_method(sel_getUid("_themeAttributes"),function(a){with(a){d||(d={});for(var b=objj_msgSend(a,"class"),e=objj_msgSend(CPView,"class"),c=[],i=objj_msgSend(CPNull,"null");b&&b!==e;b=objj_msgSend(b,"superclass")){var l=d[class_getName(b)];if(l){c=c.length?c.concat(l):c;d[objj_msgSend(a,"className")]=c;break}if(l=objj_msgSend(b,"themeAttributes"))for(var f=objj_msgSend(l,"allKeys"),g=f.length;g--;){var h=f[g],s=objj_msgSend(l,"objectForKey:",h);c.push(s===i?nil:s);c.push(h)}}return c}})]);a=objj_getClass("CPView");
if(!a)throw new SyntaxError('*** Could not find definition for class "CPView"');e=a.isa;class_addMethods(a,[new objj_method(sel_getUid("initWithCoder:"),function(a,e,c){with(a){_DOMElement=b.cloneNode(!1);_frame=objj_msgSend(c,"decodeRectForKey:","CPViewFrameKey");_bounds=objj_msgSend(c,"decodeRectForKey:","CPViewBoundsKey");if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPView").super_class},"initWithCoder:",c)){_tag=objj_msgSend(c,"containsValueForKey:","CPViewTagKey")?objj_msgSend(c,
"decodeIntForKey:","CPViewTagKey"):-1;_window=objj_msgSend(c,"decodeObjectForKey:","CPViewWindowKey");_subviews=objj_msgSend(c,"decodeObjectForKey:","CPViewSubviewsKey")||[];_superview=objj_msgSend(c,"decodeObjectForKey:","CPViewSuperviewKey");_registeredDraggedTypes=objj_msgSend(CPSet,"set");_registeredDraggedTypesArray=[];_autoresizingMask=objj_msgSend(c,"decodeIntForKey:","CPViewAutoresizingMask")||CPViewNotSizable;_autoresizesSubviews=!objj_msgSend(c,"containsValueForKey:","CPViewAutoresizesSubviews")||
objj_msgSend(c,"decodeBoolForKey:","CPViewAutoresizesSubviews");_hitTests=!objj_msgSend(c,"containsValueForKey:","CPViewHitTestsKey")||objj_msgSend(c,"decodeObjectForKey:","CPViewHitTestsKey");_DOMImageParts=[];_DOMImageSizes=[];e=NULL?{x:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.a+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.c+NULL.tx,y:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.b+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.d+NULL.ty}:{x:_frame.origin.x,y:_frame.origin.y};
_DOMElement.style.left=ROUND(e.x)+"px";_DOMElement.style.top=ROUND(e.y)+"px";_DOMElement.style.width=MAX(0,ROUND(_frame.size.width))+"px";_DOMElement.style.height=MAX(0,ROUND(_frame.size.height))+"px";var d=0;for(e=_subviews.length;d<e;++d)_DOMElement.appendChild(_subviews[d]._DOMElement);objj_msgSend(c,"containsValueForKey:","CPViewIsHiddenKey")?objj_msgSend(a,"setHidden:",objj_msgSend(c,"decodeBoolForKey:","CPViewIsHiddenKey")):_isHidden=NO;objj_msgSend(c,"containsValueForKey:","CPViewOpacityKey")?
objj_msgSend(a,"setAlphaValue:",objj_msgSend(c,"decodeIntForKey:","CPViewOpacityKey")):_opacity=1;objj_msgSend(a,"setBackgroundColor:",objj_msgSend(c,"decodeObjectForKey:","CPViewBackgroundColor"));objj_msgSend(a,"setupViewFlags");_theme=objj_msgSend(CPTheme,"defaultTheme");_themeClass=objj_msgSend(c,"decodeObjectForKey:","CPViewThemeClassKey");_themeState=CPThemeState(objj_msgSend(c,"decodeIntForKey:","CPViewThemeStateKey"));_themeAttributes={};e=objj_msgSend(a,"class");d=objj_msgSend(a,"themeClass");
var i=objj_msgSend(e,"_themeAttributes");for(e=i.length;e--;){var l=i[e--];_themeAttributes[l]=CPThemeAttributeDecode(c,l,i[e],_theme,d)}objj_msgSend(a,"setNeedsDisplay:",YES);objj_msgSend(a,"setNeedsLayout")}return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,e){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPView").super_class},"encodeWithCoder:",e);_tag!==-1&&objj_msgSend(e,"encodeInt:forKey:",_tag,"CPViewTagKey");objj_msgSend(e,"encodeRect:forKey:",_frame,
"CPViewFrameKey");objj_msgSend(e,"encodeRect:forKey:",_bounds,"CPViewBoundsKey");_window!==nil&&objj_msgSend(e,"encodeConditionalObject:forKey:",_window,"CPViewWindowKey");b=objj_msgSend(_subviews,"count");var c=_subviews;if(b>0&&objj_msgSend(_ephemeralSubviews,"count")>0)for(c=objj_msgSend(c,"copy");b--;)objj_msgSend(_ephemeralSubviews,"containsObject:",c[b])&&c.splice(b,1);c.length>0&&objj_msgSend(e,"encodeObject:forKey:",c,"CPViewSubviewsKey");_superview!==nil&&objj_msgSend(e,"encodeConditionalObject:forKey:",
_superview,"CPViewSuperviewKey");_autoresizingMask!==CPViewNotSizable&&objj_msgSend(e,"encodeInt:forKey:",_autoresizingMask,"CPViewAutoresizingMask");_autoresizesSubviews||objj_msgSend(e,"encodeBool:forKey:",_autoresizesSubviews,"CPViewAutoresizesSubviews");_backgroundColor!==nil&&objj_msgSend(e,"encodeObject:forKey:",_backgroundColor,"CPViewBackgroundColor");_hitTests!==YES&&objj_msgSend(e,"encodeBool:forKey:",_hitTests,"CPViewHitTestsKey");_opacity!==1&&objj_msgSend(e,"encodeFloat:forKey:",_opacity,
"CPViewOpacityKey");_isHidden&&objj_msgSend(e,"encodeBool:forKey:",_isHidden,"CPViewIsHiddenKey");b=objj_msgSend(a,"nextKeyView");b!==nil&&objj_msgSend(e,"encodeConditionalObject:forKey:",b,"CPViewNextKeyViewKey");b=objj_msgSend(a,"previousKeyView");b!==nil&&objj_msgSend(e,"encodeConditionalObject:forKey:",b,"CPViewPreviousKeyViewKey");objj_msgSend(e,"encodeObject:forKey:",objj_msgSend(a,"themeClass"),"CPViewThemeClassKey");objj_msgSend(e,"encodeInt:forKey:",CPThemeStateName(_themeState),"CPViewThemeStateKey");
for(var d in _themeAttributes)_themeAttributes.hasOwnProperty(d)&&CPThemeAttributeEncode(e,_themeAttributes[d])}})]);var i=function(a,b){var e=CGAffineTransformMakeIdentity(),c=YES,d=nil,i=nil;if(a){for(d=a;d&&d!=b;){var f=d._frame;e.tx+=f.origin.x;e.ty+=f.origin.y;if(d._boundsTransform){f=e.tx*d._boundsTransform.a+e.ty*d._boundsTransform.c+d._boundsTransform.tx;e.ty=e.tx*d._boundsTransform.b+e.ty*d._boundsTransform.d+d._boundsTransform.ty;e.tx=f;f=e.a*d._boundsTransform.a+e.b*d._boundsTransform.c;
var g=e.a*d._boundsTransform.b+e.b*d._boundsTransform.d,h=e.c*d._boundsTransform.a+e.d*d._boundsTransform.c;e.d=e.c*d._boundsTransform.b+e.d*d._boundsTransform.d;e.a=f;e.b=g;e.c=h}d=d._superview}if(d===b)return e;else a&&b&&(d=objj_msgSend(a,"window"),i=objj_msgSend(b,"window"),d&&i&&d!==i&&(c=NO,f=objj_msgSend(d,"frame"),e.tx+=f.origin.x,e.ty+=f.origin.y))}for(d=b;d;){f=d._frame;e.tx-=f.origin.x;e.ty-=f.origin.y;if(d._boundsTransform)f=e.tx*d._inverseBoundsTransform.a+e.ty*d._inverseBoundsTransform.c+
d._inverseBoundsTransform.tx,e.ty=e.tx*d._inverseBoundsTransform.b+e.ty*d._inverseBoundsTransform.d+d._inverseBoundsTransform.ty,e.tx=f,f=e.a*d._inverseBoundsTransform.a+e.b*d._inverseBoundsTransform.c,g=e.a*d._inverseBoundsTransform.b+e.b*d._inverseBoundsTransform.d,h=e.c*d._inverseBoundsTransform.a+e.d*d._inverseBoundsTransform.c,e.d=e.c*d._inverseBoundsTransform.b+e.d*d._inverseBoundsTransform.d,e.a=f,e.b=g,e.c=h;d=d._superview}c||(f=objj_msgSend(i,"frame"),e.tx-=f.origin.x,e.ty-=f.origin.y);return e}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPTextField.j",baseURL),function(h,g){g("CPControl.j",YES);g("CPStringDrawing.j",YES);g("CPCompatibility.j",YES);g("_CPImageAndTextView.j",YES);CPTextFieldSquareBezel=0;CPTextFieldRoundedBezel=1;CPTextFieldDidFocusNotification="CPTextFieldDidFocusNotification";CPTextFieldDidBlurNotification="CPTextFieldDidBlurNotification";var f=nil,d=nil,b=nil,c=nil,a=NO,e=NO,i=NO,q=nil,n=nil,p=nil,j=objj_getClass("CPString");if(!j)throw new SyntaxError('*** Could not find definition for class "CPString"');
var k=j.isa;class_addMethods(j,[new objj_method(sel_getUid("string"),function(a){with(a)return a})]);CPTextFieldStateRounded=CPThemeState("rounded");CPTextFieldStatePlaceholder=CPThemeState("placeholder");j=objj_allocateClassPair(CPControl,"CPTextField");k=j.isa;class_addIvars(j,[new objj_ivar("_isEditing"),new objj_ivar("_isEditable"),new objj_ivar("_isSelectable"),new objj_ivar("_isSecure"),new objj_ivar("_willBecomeFirstResponderByClick"),new objj_ivar("_drawsBackground"),new objj_ivar("_textFieldBackgroundColor"),
new objj_ivar("_placeholderString"),new objj_ivar("_delegate"),new objj_ivar("_textDidChangeValue"),new objj_ivar("_bezelStyle"),new objj_ivar("_isBordered"),new objj_ivar("_controlSize")]);objj_registerClassPair(j);class_addMethods(j,[new objj_method(sel_getUid("_inputElement"),function(i){with(i){if(!f)f=document.createElement("input"),f.style.position="absolute",f.style.border="0px",f.style.padding="0px",f.style.margin="0px",f.style.whiteSpace="pre",f.style.background="transparent",f.style.outline=
"none",p=function(b){if(!(c&&c._DOMElement!=f.parentNode))if(a)return CPTextFieldHandleBlur(b,f),e=YES,!0;else objj_msgSend(objj_msgSend(c,"window"),"makeFirstResponder:",nil)},CPTextFieldHandleBlur=function(){c=nil;objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode)},f.onblur=p,b=f;if(CPFeatureIsCompatible(CPInputTypeCanBeChangedFeature))return f.type=objj_msgSend(i,"isSecure")?"password":"text",f;if(objj_msgSend(i,"isSecure")){if(!d)d=document.createElement("input"),
d.style.position="absolute",d.style.border="0px",d.style.padding="0px",d.style.margin="0px",d.style.whiteSpace="pre",d.style.background="transparent",d.style.outline="none",d.type="password",d.onblur=p;f=d}else f=b;return f}}),new objj_method(sel_getUid("initWithFrame:"),function(a,b,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"initWithFrame:",e))objj_msgSend(a,"setStringValue:",""),objj_msgSend(a,"setPlaceholderString:",""),_sendActionOn=CPKeyUpMask|
CPKeyDownMask,objj_msgSend(a,"setValue:forThemeAttribute:",CPLeftTextAlignment,"alignment");return a}}),new objj_method(sel_getUid("setEditable:"),function(a,b,e){with(a){if(_isEditable===e)return;(_isEditable=e)&&(_isSelectable=YES);!e&&objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a&&objj_msgSend(objj_msgSend(a,"window"),"makeFirstResponder:",nil)}}),new objj_method(sel_getUid("isEditable"),function(a){with(a)return _isEditable}),new objj_method(sel_getUid("setEnabled:"),function(a,
b,e){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"setEnabled:",e),!e&&objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a&&objj_msgSend(objj_msgSend(a,"window"),"makeFirstResponder:",nil)}),new objj_method(sel_getUid("setSelectable:"),function(a,b,e){with(a)_isSelectable=e}),new objj_method(sel_getUid("isSelectable"),function(a){with(a)return _isSelectable}),new objj_method(sel_getUid("setSecure:"),function(a,b,e){with(a)_isSecure=e}),new objj_method(sel_getUid("isSecure"),
function(a){with(a)return _isSecure}),new objj_method(sel_getUid("setBezeled:"),function(a,b,e){with(a)e?objj_msgSend(a,"setThemeState:",CPThemeStateBezeled):objj_msgSend(a,"unsetThemeState:",CPThemeStateBezeled)}),new objj_method(sel_getUid("isBezeled"),function(a){with(a)return objj_msgSend(a,"hasThemeState:",CPThemeStateBezeled)}),new objj_method(sel_getUid("setBezelStyle:"),function(a,b,e){with(a)e===CPTextFieldRoundedBezel?objj_msgSend(a,"setThemeState:",CPTextFieldStateRounded):objj_msgSend(a,
"unsetThemeState:",CPTextFieldStateRounded)}),new objj_method(sel_getUid("bezelStyle"),function(a){with(a){if(objj_msgSend(a,"hasThemeState:",CPTextFieldStateRounded))return CPTextFieldRoundedBezel;return CPTextFieldSquareBezel}}),new objj_method(sel_getUid("setBordered:"),function(a,b,e){with(a)e?objj_msgSend(a,"setThemeState:",CPThemeStateBordered):objj_msgSend(a,"unsetThemeState:",CPThemeStateBordered)}),new objj_method(sel_getUid("isBordered"),function(a){with(a)return objj_msgSend(a,"hasThemeState:",
CPThemeStateBordered)}),new objj_method(sel_getUid("setDrawsBackground:"),function(a,b,e){with(a){if(_drawsBackground==e)return;_drawsBackground=e;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("drawsBackground"),function(a){with(a)return _drawsBackground}),new objj_method(sel_getUid("setTextFieldBackgroundColor:"),function(a,b,e){with(a){if(_textFieldBackgroundColor==e)return;_textFieldBackgroundColor=e;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,
"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("textFieldBackgroundColor"),function(a){with(a)return _textFieldBackgroundColor}),new objj_method(sel_getUid("acceptsFirstResponder"),function(a){with(a)return objj_msgSend(a,"isEditable")&&objj_msgSend(a,"isEnabled")}),new objj_method(sel_getUid("becomeFirstResponder"),function(a){with(a){c&&objj_msgSend(c,"window")!==objj_msgSend(a,"window")&&objj_msgSend(objj_msgSend(c,"window"),"makeFirstResponder:",nil);objj_msgSend(a,"setThemeState:",CPThemeStateEditing);
objj_msgSend(a,"_updatePlaceholderState");objj_msgSend(a,"setNeedsLayout");_isEditing=NO;var b=objj_msgSend(a,"stringValue"),e=objj_msgSend(a,"_inputElement"),d=objj_msgSend(a,"currentValueForThemeAttribute:","font");objj_msgSend(d,"_getMetrics");e.value=b;e.style.color=objj_msgSend(objj_msgSend(a,"currentValueForThemeAttribute:","text-color"),"cssString");e.style.font=objj_msgSend(d,"cssString");e.style.zIndex=1E3;switch(objj_msgSend(a,"alignment")){case CPCenterTextAlignment:e.style.textAlign="center";
break;case CPRightTextAlignment:e.style.textAlign="right";break;default:e.style.textAlign="left"}b=objj_msgSend(a,"contentRectForBounds:",objj_msgSend(a,"bounds"));switch(objj_msgSend(a,"currentValueForThemeAttribute:","vertical-alignment")){case CPTopVerticalTextAlignment:var f=b.origin.y+1+"px";break;case CPCenterVerticalTextAlignment:f=b.origin.y+b.size.height/2-d._lineHeight/2+1+"px";break;case CPBottomVerticalTextAlignment:f=b.origin.y+b.size.height-d._lineHeight+"px";break;default:f=b.origin.y+
1+"px"}e.style.top=f;e.style.left=b.origin.x-1+"px";e.style.width=b.size.width+"px";e.style.height=d._lineHeight+"px";_DOMElement.appendChild(e);window.setTimeout(function(){e.focus();_willBecomeFirstResponderByClick||objj_msgSend(a,"selectText:",a);_willBecomeFirstResponderByClick=NO;objj_msgSend(a,"textDidFocus:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPTextFieldDidFocusNotification,a,nil));c=a},0);e.value=objj_msgSend(a,"stringValue");objj_msgSend(objj_msgSend(objj_msgSend(a,
"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);i=YES;if(document.attachEvent)q=objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart,n=objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.ondrag,objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.ondrag=function(){},objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart=function(){};return YES}}),new objj_method(sel_getUid("resignFirstResponder"),
function(b){with(b){objj_msgSend(b,"unsetThemeState:",CPThemeStateEditing);objj_msgSend(b,"_updatePlaceholderState");objj_msgSend(b,"setNeedsLayout");var c=objj_msgSend(b,"_inputElement");objj_msgSend(b,"stringValue")!==c.value&&objj_msgSend(b,"_setStringValue:",c.value);a=YES;i&&c.blur();e||p();a=e=NO;c.parentNode==_DOMElement&&c.parentNode.removeChild(c);i=NO;if(document.attachEvent)objj_msgSend(objj_msgSend(b,"window"),"platformWindow")._DOMBodyElement.ondrag=n,objj_msgSend(objj_msgSend(b,"window"),
"platformWindow")._DOMBodyElement.onselectstart=q,n=q=nil;_isEditing&&(_isEditing=NO,objj_msgSend(b,"textDidEndEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidEndEditingNotification,b,nil)),objj_msgSend(b,"sendsActionOnEndEditing")&&objj_msgSend(b,"sendAction:to:",objj_msgSend(b,"action"),objj_msgSend(b,"target")));objj_msgSend(b,"textDidBlur:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPTextFieldDidBlurNotification,b,nil));return YES}}),
new objj_method(sel_getUid("needsPanelToBecomeKey"),function(a){with(a)return YES}),new objj_method(sel_getUid("mouseDown:"),function(a,b,e){with(a)if(objj_msgSend(a,"isEditable")&&objj_msgSend(a,"isEnabled"))_willBecomeFirstResponderByClick=YES,objj_msgSend(objj_msgSend(a,"window"),"makeFirstResponder:",a);else if(objj_msgSend(a,"isSelectable")){if(document.attachEvent)q=objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart,n=objj_msgSend(objj_msgSend(a,"window"),
"platformWindow")._DOMBodyElement.ondrag,objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.ondrag=function(){},objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart=function(){};return objj_msgSend(objj_msgSend(objj_msgSend(e,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES)}else return objj_msgSend(objj_msgSend(a,"nextResponder"),"mouseDown:",e)}),new objj_method(sel_getUid("mouseUp:"),function(a,b,e){with(a)if(!objj_msgSend(a,"isSelectable")&&
(!objj_msgSend(a,"isEditable")||!objj_msgSend(a,"isEnabled")))objj_msgSend(objj_msgSend(a,"nextResponder"),"mouseUp:",e);else if(objj_msgSend(a,"isSelectable")){if(document.attachEvent)objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.ondrag=n,objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart=q,n=q=nil;return objj_msgSend(objj_msgSend(objj_msgSend(e,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES)}}),new objj_method(sel_getUid("mouseDragged:"),
function(a,b,e){with(a)if(!objj_msgSend(a,"isSelectable")&&(!objj_msgSend(a,"isEditable")||!objj_msgSend(a,"isEnabled")))objj_msgSend(objj_msgSend(a,"nextResponder"),"mouseDragged:",e);else if(objj_msgSend(a,"isSelectable"))return objj_msgSend(objj_msgSend(objj_msgSend(e,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES)}),new objj_method(sel_getUid("keyUp:"),function(a){with(a){var b=objj_msgSend(a,"stringValue");objj_msgSend(a,"_setStringValue:",objj_msgSend(a,"_inputElement").value);
b!==objj_msgSend(a,"stringValue")&&(_isEditing||(_isEditing=YES,objj_msgSend(a,"textDidBeginEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidBeginEditingNotification,a,nil))),objj_msgSend(a,"textDidChange:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidChangeNotification,a,nil)));objj_msgSend(objj_msgSend(objj_msgSend(a,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES)}}),new objj_method(sel_getUid("keyDown:"),
function(a,b,e){with(a){if(objj_msgSend(e,"_couldBeKeyEquivalent")&&objj_msgSend(a,"performKeyEquivalent:",e))return;objj_msgSend(objj_msgSend(objj_msgSend(a,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);objj_msgSend(a,"interpretKeyEvents:",[e]);objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode)}}),new objj_method(sel_getUid("doCommandBySelector:"),function(a,b,e){with(a)objj_msgSend(a,"respondsToSelector:",e)&&objj_msgSend(a,"performSelector:",
e)}),new objj_method(sel_getUid("insertNewline:"),function(a){with(a)_isEditing&&(_isEditing=NO,objj_msgSend(a,"textDidEndEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidEndEditingNotification,a,nil))),objj_msgSend(a,"sendAction:to:",objj_msgSend(a,"action"),objj_msgSend(a,"target")),objj_msgSend(a,"selectText:",nil),objj_msgSend(objj_msgSend(objj_msgSend(a,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",NO)}),new objj_method(sel_getUid("insertNewlineIgnoringFieldEditor:"),
function(a){with(a){var b=objj_msgSend(a,"stringValue");objj_msgSend(a,"_inputElement").value+=CPNewlineCharacter;objj_msgSend(a,"_setStringValue:",objj_msgSend(a,"_inputElement").value);b!==objj_msgSend(a,"stringValue")&&(_isEditing||(_isEditing=YES,objj_msgSend(a,"textDidBeginEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidBeginEditingNotification,a,nil))),objj_msgSend(a,"textDidChange:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",
CPControlTextDidChangeNotification,a,nil)))}}),new objj_method(sel_getUid("insertTabIgnoringFieldEditor:"),function(a){with(a){var b=objj_msgSend(a,"stringValue");objj_msgSend(a,"_inputElement").value+=CPTabCharacter;objj_msgSend(a,"_setStringValue:",objj_msgSend(a,"_inputElement").value);b!==objj_msgSend(a,"stringValue")&&(_isEditing||(_isEditing=YES,objj_msgSend(a,"textDidBeginEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidBeginEditingNotification,
a,nil))),objj_msgSend(a,"textDidChange:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidChangeNotification,a,nil)))}}),new objj_method(sel_getUid("textDidBlur:"),function(a,b,e){with(a){if(objj_msgSend(e,"object")!=a)return;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotification:",e)}}),new objj_method(sel_getUid("textDidFocus:"),function(a,b,e){with(a){if(objj_msgSend(e,"object")!=a)return;objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotification:",e)}}),new objj_method(sel_getUid("sendAction:to:"),function(a,b,e,c){with(a)objj_msgSend(a,"_reverseSetBinding"),objj_msgSend(CPApp,"sendAction:to:from:",e,c,a)}),new objj_method(sel_getUid("objectValue"),function(a){with(a)return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"objectValue")}),new objj_method(sel_getUid("_setStringValue:"),function(a,b,e){with(a)objj_msgSend(a,"willChangeValueForKey:","objectValue"),objj_msgSendSuper({receiver:a,
super_class:objj_getClass("CPTextField").super_class},"setObjectValue:",String(e)),objj_msgSend(a,"_updatePlaceholderState"),objj_msgSend(a,"didChangeValueForKey:","objectValue")}),new objj_method(sel_getUid("setObjectValue:"),function(a,b,e){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"setObjectValue:",e);if(c===a||objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a)objj_msgSend(a,"_inputElement").value=e;objj_msgSend(a,"_updatePlaceholderState")}}),
new objj_method(sel_getUid("_updatePlaceholderState"),function(a){with(a){var b=objj_msgSend(a,"stringValue");(!b||b.length===0)&&!objj_msgSend(a,"hasThemeState:",CPThemeStateEditing)?objj_msgSend(a,"setThemeState:",CPTextFieldStatePlaceholder):objj_msgSend(a,"unsetThemeState:",CPTextFieldStatePlaceholder)}}),new objj_method(sel_getUid("setPlaceholderString:"),function(a,b,e){with(a){if(_placeholderString===e)return;_placeholderString=e;objj_msgSend(a,"hasThemeState:",CPTextFieldStatePlaceholder)&&
(objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,"setNeedsDisplay:",YES))}}),new objj_method(sel_getUid("placeholderString"),function(a){with(a)return _placeholderString}),new objj_method(sel_getUid("sizeToFit"),function(a){with(a)objj_msgSend(a,"setFrameSize:",objj_msgSend(a,"_minimumFrameSize"))}),new objj_method(sel_getUid("_minimumFrameSize"),function(a){with(a){var b=objj_msgSend(a,"frameSize"),e=objj_msgSend(a,"currentValueForThemeAttribute:","content-inset"),c=objj_msgSend(a,"currentValueForThemeAttribute:",
"min-size"),d=objj_msgSend(a,"currentValueForThemeAttribute:","max-size"),i=objj_msgSend(a,"lineBreakMode"),n=objj_msgSend(a,"stringValue")||" ",f={width:b.width,height:b.height},q=objj_msgSend(a,"currentValueForThemeAttribute:","font");f.width-=e.left+e.right;f.height-=e.top+e.bottom;f=b.width!==0&&!objj_msgSend(a,"isBezeled")&&(i===CPLineBreakByWordWrapping||i===CPLineBreakByCharWrapping)?objj_msgSend(n,"sizeWithFont:inWidth:",q,f.width):objj_msgSend(n,"sizeWithFont:",q);b.height=f.height+e.top+
e.bottom;if(objj_msgSend(a,"isBezeled")){b.height=MAX(b.height,c.height);if(d.width>0)b.width=MIN(b.width,d.width);if(d.height>0)b.height=MIN(b.height,d.height)}else b.width=f.width+e.left+e.right;b.width=MAX(b.width,c.width);return b}}),new objj_method(sel_getUid("selectText:"),function(a,b,e){with(a)if(objj_msgSend(a,"isEditable")||objj_msgSend(a,"isSelectable")){var c=objj_msgSend(a,"_inputElement");objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a?window.setTimeout(function(){c.select()},
0):objj_msgSend(a,"window")!==nil&&objj_msgSend(objj_msgSend(a,"window"),"makeFirstResponder:",a)&&window.setTimeout(function(){objj_msgSend(a,"selectText:",e)},0)}}),new objj_method(sel_getUid("copy:"),function(a){with(a)if(!objj_msgSend(CPPlatform,"isBrowser")){var b=objj_msgSend(a,"selectedRange");if(b.length<1)return;var e=objj_msgSend(CPPasteboard,"generalPasteboard");a=objj_msgSend(a,"stringValue");b=objj_msgSend(a,"substringWithRange:",b);objj_msgSend(e,"declareTypes:owner:",[CPStringPboardType],
nil);objj_msgSend(e,"setString:forType:",b,CPStringPboardType)}}),new objj_method(sel_getUid("cut:"),function(a,b,e){with(a)objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",0,a,sel_getUid("keyUp:"),nil,NO):(objj_msgSend(a,"copy:",e),objj_msgSend(a,"deleteBackward:",e))}),new objj_method(sel_getUid("paste:"),function(a,b,e){with(a)if(objj_msgSend(CPPlatform,"isBrowser"))objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",
0,a,sel_getUid("keyUp:"),nil,NO);else{b=objj_msgSend(CPPasteboard,"generalPasteboard");if(!objj_msgSend(objj_msgSend(b,"types"),"containsObject:",CPStringPboardType))return;objj_msgSend(a,"deleteBackward:",e);e=objj_msgSend(a,"selectedRange");var c=objj_msgSend(a,"stringValue");b=objj_msgSend(b,"stringForType:",CPStringPboardType);c=objj_msgSend(c,"stringByReplacingCharactersInRange:withString:",e,b);objj_msgSend(a,"setStringValue:",c);objj_msgSend(a,"setSelectedRange:",CPMakeRange(e.location+b.length,
0))}}),new objj_method(sel_getUid("selectedRange"),function(a){with(a){if(objj_msgSend(objj_msgSend(a,"window"),"firstResponder")!==a)return CPMakeRange(0,0);try{var b=objj_msgSend(a,"_inputElement"),e=b.selectionStart,c=b.selectionEnd;if(objj_msgSend(e,"isKindOfClass:",CPNumber))return CPMakeRange(e,c-e);var d=(b.ownerDocument||b.document).selection.createRange(),i=b.createTextRange();if(i.inRange(d))return i.setEndPoint("EndToStart",d),CPMakeRange(i.text.length,d.text.length)}catch(n){}return CPMakeRange(0,
0)}}),new objj_method(sel_getUid("setSelectedRange:"),function(a,b,e){with(a){if(!objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a)return;a=objj_msgSend(a,"_inputElement");try{if(objj_msgSend(a.selectionStart,"isKindOfClass:",CPNumber))a.selectionStart=e.location,a.selectionEnd=CPMaxRange(e);else{var c=(a.ownerDocument||a.document).selection.createRange(),d=a.createTextRange();d.inRange(c)&&(d.collapse(!0),d.move("character",e.location),d.moveEnd("character",e.length),d.select())}}catch(i){}}}),
new objj_method(sel_getUid("selectAll:"),function(a,b,e){with(a)objj_msgSend(a,"selectText:",e)}),new objj_method(sel_getUid("deleteBackward:"),function(a){with(a){var b=objj_msgSend(a,"selectedRange");if(b.length<2)return;b.location+=1;b.length-=1;var e=objj_msgSend(a,"stringValue");e=objj_msgSend(e,"stringByReplacingCharactersInRange:withString:",b,"");objj_msgSend(a,"setStringValue:",e);objj_msgSend(a,"setSelectedRange:",CPMakeRange(b.location,0))}}),new objj_method(sel_getUid("setDelegate:"),
function(a,b,e){with(a)b=objj_msgSend(CPNotificationCenter,"defaultCenter"),_delegate&&(objj_msgSend(b,"removeObserver:name:object:",_delegate,CPControlTextDidBeginEditingNotification,a),objj_msgSend(b,"removeObserver:name:object:",_delegate,CPControlTextDidChangeNotification,a),objj_msgSend(b,"removeObserver:name:object:",_delegate,CPControlTextDidEndEditingNotification,a),objj_msgSend(b,"removeObserver:name:object:",_delegate,CPTextFieldDidFocusNotification,a),objj_msgSend(b,"removeObserver:name:object:",
_delegate,CPTextFieldDidBlurNotification,a)),_delegate=e,objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidBeginEditing:"))&&objj_msgSend(b,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidBeginEditing:"),CPControlTextDidBeginEditingNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidChange:"))&&objj_msgSend(b,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidChange:"),CPControlTextDidChangeNotification,
a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidEndEditing:"))&&objj_msgSend(b,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidEndEditing:"),CPControlTextDidEndEditingNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidFocus:"))&&objj_msgSend(b,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidFocus:"),CPTextFieldDidFocusNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidBlur:"))&&
objj_msgSend(b,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidBlur:"),CPTextFieldDidBlurNotification,a)}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("contentRectForBounds:"),function(a,b,e){with(a){a=objj_msgSend(a,"currentValueForThemeAttribute:","content-inset");if(!a)return e;e.origin.x+=a.left;e.origin.y+=a.top;e.size.width-=a.left+a.right;e.size.height-=a.top+a.bottom;return e}}),new objj_method(sel_getUid("bezelRectForBounds:"),
function(a,b,e){with(a){a=objj_msgSend(a,"currentValueForThemeAttribute:","bezel-inset");if(a.top===0&&a.right===0&&a.bottom===0&&a.left===0)return e;e.origin.x+=a.left;e.origin.y+=a.top;e.size.width-=a.left+a.right;e.size.height-=a.top+a.bottom;return e}}),new objj_method(sel_getUid("rectForEphemeralSubviewNamed:"),function(a,b,e){with(a){if(e==="bezel-view")return objj_msgSend(a,"bezelRectForBounds:",objj_msgSend(a,"bounds"));else if(e==="content-view")return objj_msgSend(a,"contentRectForBounds:",
objj_msgSend(a,"bounds"));return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"rectForEphemeralSubviewNamed:",e)}}),new objj_method(sel_getUid("createEphemeralSubviewNamed:"),function(a,b,e){with(a)return a=e==="bezel-view"?objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}}):objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}}),objj_msgSend(a,"setHitTests:",
NO),a}),new objj_method(sel_getUid("layoutSubviews"),function(a){with(a){var b=objj_msgSend(a,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","bezel-view",CPWindowBelow,"content-view");b&&objj_msgSend(b,"setBackgroundColor:",objj_msgSend(a,"currentValueForThemeAttribute:","bezel-color"));if(b=objj_msgSend(a,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","content-view",CPWindowAbove,"bezel-view")){objj_msgSend(b,"setHidden:",objj_msgSend(a,"hasThemeState:",
CPThemeStateEditing));var e="";objj_msgSend(a,"hasThemeState:",CPTextFieldStatePlaceholder)?e=objj_msgSend(a,"placeholderString"):(e=objj_msgSend(a,"stringValue"),objj_msgSend(a,"isSecure")&&(e=e?Array(e.length+1).join("•"):""));objj_msgSend(b,"setText:",e);objj_msgSend(b,"setTextColor:",objj_msgSend(a,"currentValueForThemeAttribute:","text-color"));objj_msgSend(b,"setFont:",objj_msgSend(a,"currentValueForThemeAttribute:","font"));objj_msgSend(b,"setAlignment:",objj_msgSend(a,"currentValueForThemeAttribute:",
"alignment"));objj_msgSend(b,"setVerticalAlignment:",objj_msgSend(a,"currentValueForThemeAttribute:","vertical-alignment"));objj_msgSend(b,"setLineBreakMode:",objj_msgSend(a,"currentValueForThemeAttribute:","line-break-mode"));objj_msgSend(b,"setTextShadowColor:",objj_msgSend(a,"currentValueForThemeAttribute:","text-shadow-color"));objj_msgSend(b,"setTextShadowOffset:",objj_msgSend(a,"currentValueForThemeAttribute:","text-shadow-offset"))}}}),new objj_method(sel_getUid("takeValueFromKeyPath:ofObjects:"),
function(a,b,e,c){with(a){b=c.length;var d=objj_msgSend(c[0],"valueForKeyPath:",e);objj_msgSend(a,"setStringValue:",d);for(objj_msgSend(a,"setPlaceholderString:","");b-- >1;)d!==objj_msgSend(c[b],"valueForKeyPath:",e)&&(objj_msgSend(a,"setPlaceholderString:","Multiple Values"),objj_msgSend(a,"setStringValue:",""))}})]);class_addMethods(k,[new objj_method(sel_getUid("textFieldWithStringValue:placeholder:width:"),function(a,b,e,c,d){with(a)return objj_msgSend(a,"textFieldWithStringValue:placeholder:width:theme:",
e,c,d,objj_msgSend(CPTheme,"defaultTheme"))}),new objj_method(sel_getUid("textFieldWithStringValue:placeholder:width:theme:"),function(a,b,e,c,d,i){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"initWithFrame:",CGRectMake(0,0,d,29)),objj_msgSend(a,"setTheme:",i),objj_msgSend(a,"setStringValue:",e),objj_msgSend(a,"setPlaceholderString:",c),objj_msgSend(a,"setBordered:",YES),objj_msgSend(a,"setBezeled:",YES),objj_msgSend(a,"setEditable:",YES),objj_msgSend(a,"sizeToFit"),a}),new objj_method(sel_getUid("roundedTextFieldWithStringValue:placeholder:width:"),
function(a,b,e,c,d){with(a)return objj_msgSend(a,"roundedTextFieldWithStringValue:placeholder:width:theme:",e,c,d,objj_msgSend(CPTheme,"defaultTheme"))}),new objj_method(sel_getUid("roundedTextFieldWithStringValue:placeholder:width:theme:"),function(a,b,e,c,d,i){with(a)return a=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,0,d,29)),objj_msgSend(a,"setTheme:",i),objj_msgSend(a,"setStringValue:",e),objj_msgSend(a,"setPlaceholderString:",c),objj_msgSend(a,"setBezelStyle:",
CPTextFieldRoundedBezel),objj_msgSend(a,"setBordered:",YES),objj_msgSend(a,"setBezeled:",YES),objj_msgSend(a,"setEditable:",YES),objj_msgSend(a,"sizeToFit"),a}),new objj_method(sel_getUid("labelWithTitle:"),function(a,b,e){with(a)return objj_msgSend(a,"labelWithTitle:theme:",e,objj_msgSend(CPTheme,"defaultTheme"))}),new objj_method(sel_getUid("labelWithTitle:theme:"),function(a,b,e){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"init"),objj_msgSend(a,"setStringValue:",e),objj_msgSend(a,"sizeToFit"),
a}),new objj_method(sel_getUid("defaultThemeClass"),function(a){with(a)return"textfield"}),new objj_method(sel_getUid("_binderClassForBinding:"),function(a,b,e){with(a){if(e===CPValueBinding)return objj_msgSend(_CPTextFieldValueBinder,"class");return objj_msgSendSuper({receiver:a,super_class:objj_getMetaClass("CPTextField").super_class},"_binderClassForBinding:",e)}}),new objj_method(sel_getUid("themeAttributes"),function(a){with(a)return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",
[{top:0,right:0,bottom:0,left:0},{top:2,right:2,bottom:2,left:2},objj_msgSend(CPNull,"null")],["bezel-inset","content-inset","bezel-color"])})]);j=objj_getClass("CPTextField");if(!j)throw new SyntaxError('*** Could not find definition for class "CPTextField"');k=j.isa;class_addMethods(j,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"initWithCoder:",e))objj_msgSend(a,"setEditable:",objj_msgSend(e,
"decodeBoolForKey:","CPTextFieldIsEditableKey")),objj_msgSend(a,"setSelectable:",objj_msgSend(e,"decodeBoolForKey:","CPTextFieldIsSelectableKey")),objj_msgSend(a,"setDrawsBackground:",objj_msgSend(e,"decodeBoolForKey:","CPTextFieldDrawsBackgroundKey")),objj_msgSend(a,"setTextFieldBackgroundColor:",objj_msgSend(e,"decodeObjectForKey:","CPTextFieldBackgroundColorKey")),objj_msgSend(a,"setLineBreakMode:",objj_msgSend(e,"decodeIntForKey:","CPTextFieldLineBreakModeKey")),objj_msgSend(a,"setAlignment:",
objj_msgSend(e,"decodeIntForKey:","CPTextFieldAlignmentKey")),objj_msgSend(a,"setPlaceholderString:",objj_msgSend(e,"decodeObjectForKey:","CPTextFieldPlaceholderStringKey"));return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,e,b){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"encodeWithCoder:",b),objj_msgSend(b,"encodeBool:forKey:",_isEditable,"CPTextFieldIsEditableKey"),objj_msgSend(b,"encodeBool:forKey:",_isSelectable,"CPTextFieldIsSelectableKey"),
objj_msgSend(b,"encodeBool:forKey:",_drawsBackground,"CPTextFieldDrawsBackgroundKey"),objj_msgSend(b,"encodeObject:forKey:",_textFieldBackgroundColor,"CPTextFieldBackgroundColorKey"),objj_msgSend(b,"encodeInt:forKey:",objj_msgSend(a,"lineBreakMode"),"CPTextFieldLineBreakModeKey"),objj_msgSend(b,"encodeInt:forKey:",objj_msgSend(a,"alignment"),"CPTextFieldAlignmentKey"),objj_msgSend(b,"encodeObject:forKey:",_placeholderString,"CPTextFieldPlaceholderStringKey")})]);j=objj_allocateClassPair(CPBinder,
"_CPTextFieldValueBinder");k=j.isa;objj_registerClassPair(j);class_addMethods(j,[new objj_method(sel_getUid("setValueFor:"),function(a){with(a){var b=objj_msgSend(_info,"objectForKey:",CPObservedObjectKey),e=objj_msgSend(_info,"objectForKey:",CPObservedKeyPathKey),c=objj_msgSend(_info,"objectForKey:",CPOptionsKey);b=objj_msgSend(b,"valueForKeyPath:",e);if(CPIsControllerMarker(b)){switch(b){case CPMultipleValuesMarker:b=objj_msgSend(c,"objectForKey:",CPMultipleValuesPlaceholderBindingOption)||"Multiple Values";
break;case CPNoSelectionMarker:b=objj_msgSend(c,"objectForKey:",CPNoSelectionPlaceholderBindingOption)||"No Selection";break;case CPNotApplicableMarker:objj_msgSend(c,"objectForKey:",CPRaisesForNotApplicableKeysBindingOption)&&objj_msgSend(CPException,"raise:reason:",CPGenericException,"can't transform non applicable key on: "+_source+" value: "+b),b=objj_msgSend(c,"objectForKey:",CPNotApplicablePlaceholderBindingOption)||"Not Applicable"}objj_msgSend(_source,"setPlaceholderString:",b);objj_msgSend(_source,
"setObjectValue:",nil)}else b=objj_msgSend(a,"transformValue:withOptions:",b,c),objj_msgSend(_source,"setObjectValue:",b)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGContext.j",baseURL),function(h,g){g("CGAffineTransform.j",YES);g("CPCompatibility.j",YES);g("CGGeometry.j",YES);g("CGPath.j",YES);kCGLineCapButt=0;kCGLineCapRound=1;kCGLineCapSquare=2;kCGLineJoinMiter=0;kCGLineJoinRound=1;kCGLineJoinBevel=2;kCGPathFill=0;kCGPathEOFill=1;kCGPathStroke=2;kCGPathFillStroke=3;kCGPathEOFillStroke=4;kCGBlendModeNormal=0;kCGBlendModeMultiply=1;kCGBlendModeScreen=2;kCGBlendModeOverlay=3;kCGBlendModeDarken=
4;kCGBlendModeLighten=5;kCGBlendModeColorDodge=6;kCGBlendModeColorBurn=7;kCGBlendModeSoftLight=8;kCGBlendModeHardLight=9;kCGBlendModeDifference=10;kCGBlendModeExclusion=11;kCGBlendModeHue=12;kCGBlendModeSaturation=13;kCGBlendModeColor=14;kCGBlendModeLuminosity=15;kCGBlendModeClear=16;kCGBlendModeCopy=17;kCGBlendModeSourceIn=18;kCGBlendModeSourceOut=19;kCGBlendModeSourceAtop=20;kCGBlendModeDestinationOver=21;kCGBlendModeDestinationIn=22;kCGBlendModeDestinationOut=23;kCGBlendModeDestinationAtop=24;
kCGBlendModeXOR=25;kCGBlendModePlusDarker=26;kCGBlendModePlusLighter=27;CGContextRelease=function(){};CGContextRetain=function(a){return a};CPFeatureIsCompatible(CPHTMLCanvasFeature)||(CGGStateCreate=function(){return{alpha:1,strokeStyle:"#000",fillStyle:"#ccc",lineWidth:1,lineJoin:kCGLineJoinMiter,lineCap:kCGLineCapButt,miterLimit:10,globalAlpha:1,blendMode:kCGBlendModeNormal,shadowOffset:{width:0,height:0},shadowBlur:0,shadowColor:NULL,CTM:{a:1,b:0,c:0,d:1,tx:0,ty:0}}},CGGStateCreateCopy=function(a){return{alpha:a.alpha,
strokeStyle:a.strokeStyle,fillStyle:a.fillStyle,lineWidth:a.lineWidth,lineJoin:a.lineJoin,lineCap:a.lineCap,miterLimit:a.miterLimit,globalAlpha:a.globalAlpha,blendMode:a.blendMode,shadowOffset:a.shadowOffset,shadowBlur:a.shadowBlur,shadowColor:a.shadowColor,CTM:{a:a.CTM.a,b:a.CTM.b,c:a.CTM.c,d:a.CTM.d,tx:a.CTM.tx,ty:a.CTM.ty}}},CGBitmapGraphicsContextCreate=function(){return{DOMElement:document.createElement("div"),path:NULL,gState:CGGStateCreate(),gStateStack:[]}},CGContextSaveGState=function(a){a.gStateStack.push(CGGStateCreateCopy(a.gState))},
CGContextRestoreGState=function(a){a.gState=a.gStateStack.pop()},CGContextSetLineCap=function(a,b){a.gState.lineCap=b},CGContextSetLineJoin=function(a,b){a.gState.lineJoin=b},CGContextSetLineWidth=function(a,b){a.gState.lineWidth=b},CGContextSetMiterLimit=function(a,b){a.gState.miterLimit=b},CGContextSetBlendMode=function(a,b){a.gState.blendMode=b},CGContextAddArc=function(a,b,e,c,d,i,f){CGPathAddArc(a.path,a.gState.CTM,b,e,c,d,i,f)},CGContextAddArcToPoint=function(a,b,e,c,d,i){CGPathAddArcToPoint(a.path,
a.gState.CTM,b,e,c,d,i)},CGContextAddCurveToPoint=function(a,b,e,c,d,i,f){CGPathAddCurveToPoint(a.path,a.gState.CTM,b,e,c,d,i,f)},CGContextAddLines=function(a,b,e){CGPathAddLines(a.path,a.gState.CTM,b,e)},CGContextAddLineToPoint=function(a,b,e){CGPathAddLineToPoint(a.path,a.gState.CTM,b,e)},CGContextAddPath=function(a,b){if(a&&!CGPathIsEmpty(b)){if(!a.path)a.path=CGPathCreateMutable();CGPathAddPath(a.path,a.gState.CTM,b)}},CGContextAddQuadCurveToPoint=function(a,b,e,c,d){CGPathAddQuadCurveToPoint(a.path,
a.gState.CTM,b,e,c,d)},CGContextAddRect=function(a,b){CGPathAddRect(a.path,a.gState.CTM,b)},CGContextAddRects=function(a,b,e){CGPathAddRects(a.path,a.gState.CTM,b,e)},CGContextBeginPath=function(a){a.path=CGPathCreateMutable()},CGContextClosePath=function(a){CGPathCloseSubpath(a.path)},CGContextMoveToPoint=function(a,b,e){if(!a.path)a.path=CGPathCreateMutable();CGPathMoveToPoint(a.path,a.gState.CTM,b,e)},CGContextFillRect=function(a,b){CGContextFillRects(a,[b],1)},CGContextFillRects=function(a,b,
e){if(e===void 0)e=b.length;CGContextBeginPath(a);CGContextAddRects(a,b,e);CGContextClosePath(a);CGContextDrawPath(a,kCGPathFill)},CGContextStrokeRect=function(a,b){CGContextBeginPath(a);CGContextAddRect(a,b);CGContextClosePath(a);CGContextDrawPath(a,kCGPathStroke)},CGContextStrokeRectWithWidth=function(a,b,e){CGContextSaveGState(a);CGContextSetLineWidth(a,e);CGContextStrokeRect(a,b);CGContextRestoreGState(a)},CGContextConcatCTM=function(a,b){var e=a.gState.CTM,c=e.tx*b.a+e.ty*b.c+b.tx;e.ty=e.tx*
b.b+e.ty*b.d+b.ty;e.tx=c;c=e.a*b.a+e.b*b.c;var d=e.a*b.b+e.b*b.d,i=e.c*b.a+e.d*b.c;e.d=e.c*b.b+e.d*b.d;e.a=c;e.b=d;e.c=i},CGContextGetCTM=function(a){return a.gState.CTM},CGContextRotateCTM=function(a,b){var e=a.gState;e.CTM=CGAffineTransformRotate(e.CTM,b)},CGContextScaleCTM=function(a,b,e){a=a.gState;a.CTM={a:a.CTM.a*b,b:a.CTM.b*b,c:a.CTM.c*e,d:a.CTM.d*e,tx:a.CTM.tx,ty:a.CTM.ty}},CGContextTranslateCTM=function(a,b,e){a=a.gState;a.CTM={a:a.CTM.a,b:a.CTM.b,c:a.CTM.c,d:a.CTM.d,tx:a.CTM.tx+a.CTM.a*
b+a.CTM.c*e,ty:a.CTM.ty+a.CTM.b*b+a.CTM.d*e}},CGContextSetShadow=function(a,b,e){a=a.gState;a.shadowOffset={width:b.width,height:b.height};a.shadowBlur=e;a.shadowColor=objj_msgSend(CPColor,"shadowColor")},CGContextSetShadowWithColor=function(a,b,e,c){a=a.gState;a.shadowOffset={width:b.width,height:b.height};a.shadowBlur=e;a.shadowColor=c},CGContextSetAlpha=function(a,b){a.gState.alpha=MAX(MIN(b,1),0)});CGContextEOFillPath=function(a){CGContextDrawPath(a,kCGPathEOFill)};CGContextFillPath=function(a){CGContextDrawPath(a,
kCGPathFill);CGContextClosePath(a)};CGContextAddEllipseInRect=function(a,b){CGContextBeginPath(a);CGContextAddPath(a,CGPathWithEllipseInRect(b));CGContextClosePath(a)};CGContextFillEllipseInRect=function(a,b){CGContextBeginPath(a);CGContextAddEllipseInRect(a,b);CGContextClosePath(a);CGContextFillPath(a)};CGContextStrokeEllipseInRect=function(a,b){CGContextBeginPath(a);CGContextAddEllipseInRect(a,b);CGContextClosePath(a);CGContextStrokePath(a)};CGContextStrokePath=function(a){CGContextDrawPath(a,kCGPathStroke);
CGContextClosePath(a)};CGContextStrokeLineSegments=function(a,b,e){var c=0;if(arguments.count==NULL)e=b.length;for(CGContextBeginPath(a);c<e;c+=2)CGContextMoveToPoint(a,b[c].x,b[c].y),CGContextAddLineToPoint(a,b[c+1].x,b[c+1].y);CGContextStrokePath(a)};CGContextSetFillColor=function(a,b){if(b)a.gState.fillStyle=objj_msgSend(b,"cssString")};CGContextSetStrokeColor=function(a,b){if(b)a.gState.strokeStyle=objj_msgSend(b,"cssString")};CGContextFillRoundedRectangleInRect=function(a,b,e,c,d,i,f){CGContextBeginPath(a);
CGContextAddPath(a,CGPathWithRoundedRectangleInRect(b,e,e,c,d,i,f));CGContextClosePath(a);CGContextFillPath(a)};CGContextStrokeRoundedRectangleInRect=function(a,b,e,c,d,i,f){CGContextBeginPath(a);CGContextAddPath(a,CGPathWithRoundedRectangleInRect(b,e,e,c,d,i,f));CGContextClosePath(a);CGContextStrokePath(a)};if(CPFeatureIsCompatible(CPHTMLCanvasFeature)){var f=["butt","round","square"],d=["miter","round","bevel"],b=["source-over","source-over","source-over","source-over","darker","lighter","source-over",
"source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","copy","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","xor","source-over","source-over"];CGContextSaveGState=function(a){a.save()};CGContextRestoreGState=function(a){a.restore()};CGContextSetLineCap=function(a,b){a.lineCap=f[b]};CGContextSetLineJoin=function(a,b){a.lineJoin=d[b]};CGContextSetLineWidth=
function(a,b){a.lineWidth=b};CGContextSetMiterLimit=function(a,b){a.miterLimit=b};CGContextSetBlendMode=function(a,e){a.globalCompositeOperation=b[e]};CGContextAddArc=function(a,b,e,c,d,i,f){a.arc(b,e,c,d,i,!f)};CGContextAddArcToPoint=function(a,b,e,c,d,i){a.arcTo(b,e,c,d,i)};CGContextAddCurveToPoint=function(a,b,e,c,d,i,f){a.bezierCurveTo(b,e,c,d,i,f)};CGContextAddLineToPoint=function(a,b,e){a.lineTo(b,e)};CGContextAddPath=function(a,b){if(a&&!CGPathIsEmpty(b))for(var e=b.elements,c=0,d=b.count;c<
d;++c){var i=e[c];switch(i.type){case kCGPathElementMoveToPoint:a.moveTo(i.x,i.y);break;case kCGPathElementAddLineToPoint:a.lineTo(i.x,i.y);break;case kCGPathElementAddQuadCurveToPoint:a.quadraticCurveTo(i.cpx,i.cpy,i.x,i.y);break;case kCGPathElementAddCurveToPoint:a.bezierCurveTo(i.cp1x,i.cp1y,i.cp2x,i.cp2y,i.x,i.y);break;case kCGPathElementCloseSubpath:a.closePath();break;case kCGPathElementAddArc:a.arc(i.x,i.y,i.radius,i.startAngle,i.endAngle,i.clockwise)}}};CGContextAddRect=function(a,b){a.rect(b.origin.x,
b.origin.y,b.size.width,b.size.height)};CGContextAddRects=function(a,b,e){var c=0;if(arguments.count==NULL)e=b.length;for(;c<e;++c){var d=b[c];a.rect(d.origin.x,d.origin.y,d.size.width,d.size.height)}};CGContextBeginPath=function(a){a.beginPath()};CGContextClosePath=function(a){a.closePath()};CGContextMoveToPoint=function(a,b,e){a.moveTo(b,e)};CGContextClearRect=function(a,b){a.clearRect(b.origin.x,b.origin.y,b.size.width,b.size.height)};CGContextDrawPath=function(a,b){b==kCGPathFill||b==kCGPathFillStroke?
a.fill():(b==kCGPathEOFill||b==kCGPathEOFillStroke)&&alert("not implemented!!!");(b==kCGPathStroke||b==kCGPathFillStroke||b==kCGPathEOFillStroke)&&a.stroke()};CGContextFillRect=function(a,b){a.fillRect(b.origin.x,b.origin.y,b.size.width,b.size.height)};CGContextFillRects=function(a,b,e){var c=0;if(arguments.count==NULL)e=b.length;for(;c<e;++c){var d=b[c];a.fillRect(d.origin.x,d.origin.y,d.size.width,d.size.height)}};CGContextStrokeRect=function(a,b){a.strokeRect(b.origin.x,b.origin.y,b.size.width,
b.size.height)};CGContextClip=function(a){a.clip()};CGContextClipToRect=function(a,b){a.beginPath();a.rect(b.origin.x,b.origin.y,b.size.width,b.size.height);a.closePath();a.clip()};CGContextClipToRects=function(a,b,e){if(arguments.count==NULL)e=b.length;a.beginPath();CGContextAddRects(a,b,e);a.clip()};CGContextSetAlpha=function(a,b){a.globalAlpha=b};CGContextSetFillColor=function(a,b){if(objj_msgSend(b,"patternImage")){var e=objj_msgSend(b,"patternImage"),c=objj_msgSend(e,"size");c=c?new Image(c.width,
c.height):new Image;c.src=objj_msgSend(e,"filename");e=a.createPattern(c,"repeat");a.fillStyle=e}else a.fillStyle=objj_msgSend(b,"cssString")};CGContextSetStrokeColor=function(a,b){a.strokeStyle=objj_msgSend(b,"cssString")};CGContextSetShadow=function(a,b,e){a.shadowOffsetX=b.width;a.shadowOffsetY=b.height;a.shadowBlur=e};CGContextSetShadowWithColor=function(a,b,e,c){a.shadowOffsetX=b.width;a.shadowOffsetY=b.height;a.shadowBlur=e;a.shadowColor=objj_msgSend(c,"cssString")};CGContextRotateCTM=function(a,
b){a.rotate(b)};CGContextScaleCTM=function(a,b,e){a.scale(b,e)};CGContextTranslateCTM=function(a,b,e){a.translate(b,e)};eigen=function(){alert("IMPLEMENT ME!")};CGContextConcatCTM=CPFeatureIsCompatible(CPJavaScriptCanvasTransformFeature)?function(a,b){a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty)}:function(a,b){var e=b.a,c=b.b,d=b.c,i=b.d,f=b.tx,q=b.ty,g=1,h=1,m=0,t=0;if(c==0&&d==0)g=e,h=i;else if(e*c==-d*i){g=e*i<0||c*d>0?-1:1;t=(ATAN2(c,i)+ATAN2(-g*d,g*e))/2;h=COS(t);var o=SIN(t);h==0?(g=-d/o,h=c/o):o==
0?(g=e/h,h=i/h):(abs_cos=ABS(h),abs_sin=ABS(o),g=(abs_cos*e/h+abs_sin*-d/o)/(abs_cos+abs_sin),h=(abs_cos*i/h+abs_sin*c/o)/(abs_cos+abs_sin))}else if(e*d==-c*i)g=e*i<0||c*d>0?-1:1,m=(Math.atan2(g*c,g*e)+Math.atan2(-d,i))/2,h=COS(m),o=SIN(m),h==0?(g=c/o,h=-d/o):o==0?(g=e/h,h=i/h):(abs_cos=ABS(h),abs_sin=ABS(o),g=(abs_cos*e/h+abs_sin*c/o)/(abs_cos+abs_sin),h=(abs_cos*i/h+abs_sin*-d/o)/(abs_cos+abs_sin));else{c=CGAffineTransformMake(e,d,c,i,0,0);e=eigen(CGAffineTransformConcat(b,c));c=eigen(CGAffineTransformConcat(c,
b));m=CGAffineTransformMake(e.vector_1.x,e.vector_2.x,e.vector_1.y,e.vector_2.y,0,0);i=CGAffineTransformMake(c.vector_1.x,c.vector_1.y,c.vector_2.x,c.vector_2.y,0,0);var v=CGAffineTransformConcat(CGAffineTransformConcat(CGAffineTransformInvert(m),b),CGAffineTransformInvert(i));e=i.a;c=i.b;d=i.c;i=i.d;g=e*i<0||c*d>0?-1:1;t=(ATAN2(c,i)+ATAN2(-g*d,g*e))/2;h=COS(t);o=SIN(t);h==0?(g=-d/o,h=c/o):o==0?(g=e/h,h=i/h):(abs_cos=ABS(h),abs_sin=ABS(o),g=(abs_cos*e/h+abs_sin*-d/o)/(abs_cos+abs_sin),h=(abs_cos*
i/h+abs_sin*c/o)/(abs_cos+abs_sin));v.a*=g;v.d*=h;e=m.a;c=m.b;d=m.c;i=m.d;g=e*i<0||c*d>0?-1:1;m=(Math.atan2(g*c,g*e)+Math.atan2(-d,i))/2;h=COS(m);o=SIN(m);h==0?(g=c/o,h=-d/o):o==0?(g=e/h,h=i/h):(abs_cos=ABS(h),abs_sin=ABS(o),g=(abs_cos*e/h+abs_sin*c/o)/(abs_cos+abs_sin),h=(abs_cos*i/h+abs_sin*-d/o)/(abs_cos+abs_sin));g*=v.a;h*=v.d}(f!=0||q!=0)&&CGContextTranslateCTM(a,f,q);m!=0&&CGContextRotateCTM(a,m);(g!=1||h!=1)&&CGContextScaleCTM(a,g,h);t!=0&&CGContextRotateCTM(a,t)};CGContextDrawImage=function(a,
b,e){a.drawImage(e._image,b.origin.x,b.origin.y,b.size.width,b.size.height)};to_string=function(a){return"rgba("+ROUND(a.components[0]*255)+", "+ROUND(a.components[1]*255)+", "+ROUND(255*a.components[2])+", "+a.components[3]+")"};CGContextDrawLinearGradient=function(a,b,e,c){var d=b.colors,i=d.length;for(e=a.createLinearGradient(e.x,e.y,c.x,c.y);i--;)e.addColorStop(b.locations[i],to_string(d[i]));a.fillStyle=e;a.fill()};CGBitmapGraphicsContextCreate=function(){var a=document.createElement("canvas"),
b=a.getContext("2d");b.DOMElement=a;return b}}else if(CPFeatureIsCompatible(CPVMLFeature)){var c=["f","t"],a=["flat","round","square"],e=["miter","round","bevel"],i=[" m "," l ","qb"," c "," x ",[" at "," wa "]],q=CGBitmapGraphicsContextCreate;CGBitmapGraphicsContextCreate=function(){document.namespaces.add("cg_vml_","urn:schemas-microsoft-com:vml");document.createStyleSheet().cssText="cg_vml_\\:*{behavior:url(#default#VML)}";CGBitmapGraphicsContextCreate=q;return q()};CGContextSetFillColor=function(a,
b){a.gState.fillStyle=objj_msgSend(b,"patternImage")?"!"+objj_msgSend(objj_msgSend(b,"patternImage"),"filename"):objj_msgSend(b,"cssString")};CGContextClearRect=function(a){a.buffer!=nil?a.buffer="":a.DOMElement.innerHTML="";a.path=NULL};CGContextDrawImage=function(a,b,e){var c="";if(e.buffer!=nil)c=e.buffer;else{c=a.gState.CTM;var d=CGPointApplyAffineTransform(b.origin,c),i=['<cg_vml_:group coordsize="1,1" coordorigin="0,0" style="width:1;height:1;position:absolute'],f=CGRectApplyAffineTransform(b,
c);i.push(";padding:0 ",ROUND(f.origin.x+f.size.width),"px ",ROUND(f.origin.y+f.size.height),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(","M11='",c.a,"',M12='",c.c,"',M21='",c.b,"',M22='",c.d,"',","Dx='",ROUND(d.x),"', Dy='",ROUND(d.y),"', sizingmethod='clip');");i.push('"><cg_vml_:image src="',e._image.src,'" style="width:',b.size.width,"px;height:",b.size.height,'px;"/></g_vml_:group>');c=i.join("")}a.buffer!=nil?a.buffer+=c:a.DOMElement.insertAdjacentHTML("BeforeEnd",c)};CGContextDrawPath=
function(b,d){if(b&&!CGPathIsEmpty(b.path)){var f=b.path.elements,q=0,g=b.path.count,h=b.gState,y=d==kCGPathFill||d==kCGPathFillStroke?1:0,A=d==kCGPathStroke||d==kCGPathFillStroke?1:0,s=h.alpha,r=["<cg_vml_:shape"];h.fillStyle.charAt(0)!=="!"&&r.push(' fillcolor="',h.fillStyle,'"');for(r.push(' filled="',c[y],'" style="position:absolute;width:',10,";height:",10,';" coordorigin="0 0" coordsize="',100," ",100,'" stroked="',c[A],'" strokeweight="',h.lineWidth,'" strokecolor="',h.strokeStyle,'" path="');q<
g;++q){var m=f[q],t=m.type;switch(t){case kCGPathElementMoveToPoint:case kCGPathElementAddLineToPoint:r.push(i[t],m.x===0?0:ROUND(10*m.x-5),",",m.y===0?0:ROUND(10*m.y-5));break;case kCGPathElementAddQuadCurveToPoint:r.push(i[t],m.cpx===0?0:ROUND(10*m.cpx-5),",",m.cpy===0?0:ROUND(10*m.cpy-5),",",m.x===0?0:ROUND(10*m.x-5),",",m.y===0?0:ROUND(10*m.y-5));break;case kCGPathElementAddCurveToPoint:r.push(i[t],m.cp1x===0?0:ROUND(10*m.cp1x-5),",",m.cp1y===0?0:ROUND(10*m.cp1y-5),",",m.cp2x===0?0:ROUND(10*m.cp2x-
5),",",m.cp2y===0?0:ROUND(10*m.cp2y-5),",",m.x===0?0:ROUND(10*m.x-5),",",m.y===0?0:ROUND(10*m.y-5));break;case kCGPathElementCloseSubpath:r.push(i[t]);break;case kCGPathElementAddArc:var o=m.x,v=m.y,x=m.radius,C=m.clockwise?1:0,B=m.endAngle;m=m.startAngle;var u={x:o+x*COS(m),y:v+x*SIN(m)};if(m==B&&!C){r.push(i[kCGPathElementMoveToPoint],u.x===0?0:ROUND(10*u.x-5),",",u.y===0?0:ROUND(10*u.y-5));continue}var z={x:o+x*COS(B),y:v+x*SIN(B)};C&&m!=B&&u.x==z.x&&u.y==z.y&&(u.x>=o?u.y<v?u.x+=0.125:u.y+=0.125:
z.y<=v?z.x+=0.125:z.y+=0.125);r.push(i[t][C],o-x===0?0:ROUND(10*(o-x)-5),",",v-x===0?0:ROUND(10*(v-x)-5)," ",o+x===0?0:ROUND(10*(o+x)-5),",",v+x===0?0:ROUND(10*(v+x)-5)," ",u.x===0?0:ROUND(10*u.x-5),",",u.y===0?0:ROUND(10*u.y-5)," ",z.x===0?0:ROUND(10*z.x-5),",",z.y===0?0:ROUND(10*z.y-5))}}r.push('">');h.gradient?r.push(h.gradient):y&&(h.fillStyle.charAt(0)==="!"?r.push('<cg_vml_:fill type="tile" src="',h.fillStyle.substring(1),'" opacity="',s,'" />'):r.push('<cg_vml_:fill color="',h.fillStyle,'" opacity="',
s,'" />'));A&&r.push('<cg_vml_:stroke opacity="',s,'" joinstyle="',e[h.lineJoin],'" miterlimit="',h.miterLimit,'" endcap="',a[h.lineCap],'" weight="',h.lineWidth,"",'px" color="',h.strokeStyle,'" />');if(f=h.shadowColor)h=h.shadowOffset,r.push('<cg_vml_:shadow on="t" offset="',h.width,"pt ",h.height,'pt" opacity="',objj_msgSend(f,"alphaComponent"),'" color=black />');r.push("</cg_vml_:shape>");b.buffer!=nil?b.buffer+=r.join(""):b.DOMElement.insertAdjacentHTML("BeforeEnd",r.join(""))}};to_string=function(a){return"rgb("+
ROUND(a.components[0]*255)+", "+ROUND(a.components[1]*255)+", "+ROUND(255*a.components[2])+")"};CGContextDrawLinearGradient=function(a,b){if(a&&b){var e=nil;if(b.vml_gradient){var c=objj_msgSend(objj_msgSend(b.vml_gradient,"stops"),"sortedArrayUsingSelector:",sel_getUid("comparePosition:")),d=objj_msgSend(c,"count");e=['<cg_vml_:fill type="gradient" method="linear sigma" '];e.push('angle="'+(objj_msgSend(b.vml_gradient,"angle")+90)+'" ');e.push('colors="');for(var i=0;i<d;i++)e.push((objj_msgSend(c[i],
"position")*100).toFixed(0)+"% "),e.push(objj_msgSend(objj_msgSend(objj_msgSend(c[i],"color"),"colorForSlideBase:",nil),"cssString")),i<d-1&&e.push(",")}else{c=b.colors;d=c.length;e=['<cg_vml_:fill type="gradient" '];e.push('colors="');for(i=0;i<d;i++)e.push((b.locations[i]*100).toFixed(0)+"% "+to_string(c[i])+(i<d-1?",":""))}e.push('" />');a.gState.gradient=e.join("")}}}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CALayer.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);g("CABackingStore.j",YES);g("CGContext.j",YES);g("CGGeometry.j",YES);var f=NO,d=nil,b=objj_allocateClassPair(CPObject,"CALayer"),c=b.isa;class_addIvars(b,[new objj_ivar("_frame"),new objj_ivar("_bounds"),new objj_ivar("_position"),new objj_ivar("_zPosition"),new objj_ivar("_anchorPoint"),new objj_ivar("_affineTransform"),new objj_ivar("_sublayerTransform"),new objj_ivar("_sublayerTransformForSublayers"),
new objj_ivar("_backingStoreFrame"),new objj_ivar("_standardBackingStoreFrame"),new objj_ivar("_hasSublayerTransform"),new objj_ivar("_hasCustomBackingStoreFrame"),new objj_ivar("_opacity"),new objj_ivar("_isHidden"),new objj_ivar("_backgroundColor"),new objj_ivar("_superlayer"),new objj_ivar("_sublayers"),new objj_ivar("_runLoopUpdateMask"),new objj_ivar("_needsDisplayOnBoundsChange"),new objj_ivar("_delegate"),new objj_ivar("_delegateRespondsToDisplayLayerSelector"),new objj_ivar("_delegateRespondsToDrawLayerInContextSelector"),
new objj_ivar("_DOMElement"),new objj_ivar("_DOMContentsElement"),new objj_ivar("_contents"),new objj_ivar("_context"),new objj_ivar("_owningView"),new objj_ivar("_transformToLayer"),new objj_ivar("_transformFromLayer")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CALayer").super_class},"init"))_frame=CGRectMakeZero(),_backingStoreFrame=CGRectMakeZero(),_standardBackingStoreFrame=
CGRectMakeZero(),_bounds=CGRectMakeZero(),_position=CGPointMakeZero(),_zPosition=0,_anchorPoint=CGPointMake(0.5,0.5),_affineTransform=CGAffineTransformMakeIdentity(),_sublayerTransform=CGAffineTransformMakeIdentity(),_transformToLayer=CGAffineTransformMakeIdentity(),_transformFromLayer=CGAffineTransformMakeIdentity(),_opacity=1,_masksToBounds=_isHidden=NO,_sublayers=[],_DOMElement=document.createElement("div"),_DOMElement.style.overflow="visible",_DOMElement.style.position="absolute",_DOMElement.style.visibility=
"visible",_DOMElement.style.top="0px",_DOMElement.style.left="0px",_DOMElement.style.zIndex=0,_DOMElement.style.width="0px",_DOMElement.style.height="0px";return a}}),new objj_method(sel_getUid("setBounds:"),function(a,b,c){with(a){if(CGRectEqualToRect(_bounds,c))return;_bounds={origin:{x:c.origin.x,y:c.origin.y},size:{width:c.size.width,height:c.size.height}};_hasSublayerTransform&&_CALayerUpdateSublayerTransformForSublayers(a);_CALayerRecalculateGeometry(a,1)}}),new objj_method(sel_getUid("bounds"),
function(a){with(a)return _bounds}),new objj_method(sel_getUid("setPosition:"),function(a,b,c){with(a){if(CGPointEqualToPoint(_position,c))return;_position={x:c.x,y:c.y};_CALayerRecalculateGeometry(a,2)}}),new objj_method(sel_getUid("position"),function(a){with(a)return _position}),new objj_method(sel_getUid("setZPosition:"),function(a,b,c){with(a){if(_zPosition==c)return;_zPosition=c;objj_msgSend(a,"registerRunLoopUpdateWithMask:",4)}}),new objj_method(sel_getUid("setAnchorPoint:"),function(a,b,
c){with(a){c={x:c.x,y:c.y};c.x=MIN(1,MAX(0,c.x));c.y=MIN(1,MAX(0,c.y));if(CGPointEqualToPoint(_anchorPoint,c))return;_anchorPoint=c;_hasSublayerTransform&&_CALayerUpdateSublayerTransformForSublayers(a);_owningView&&(_position=CGPointMake(_bounds.size.width*_anchorPoint.x,_bounds.size.height*_anchorPoint.y));_CALayerRecalculateGeometry(a,4)}}),new objj_method(sel_getUid("anchorPoint"),function(a){with(a)return _anchorPoint}),new objj_method(sel_getUid("setAffineTransform:"),function(a,b,c){with(a){if(CGAffineTransformEqualToTransform(_affineTransform,
c))return;_affineTransform={a:c.a,b:c.b,c:c.c,d:c.d,tx:c.tx,ty:c.ty};_CALayerRecalculateGeometry(a,8)}}),new objj_method(sel_getUid("affineTransform"),function(a){with(a)return _affineTransform}),new objj_method(sel_getUid("setSublayerTransform:"),function(a,b,c){with(a){if(CGAffineTransformEqualToTransform(_sublayerTransform,c))return;_sublayerTransform={a:c.a,b:c.b,c:c.c,d:c.d,tx:c.tx,ty:c.ty};if(_hasSublayerTransform=!(_sublayerTransform.a==1&&_sublayerTransform.b==0&&_sublayerTransform.c==0&&
_sublayerTransform.d==1&&_sublayerTransform.tx==0&&_sublayerTransform.ty==0)){_CALayerUpdateSublayerTransformForSublayers(a);for(a=_sublayers.length;a--;)_CALayerRecalculateGeometry(_sublayers[a],16)}}}),new objj_method(sel_getUid("sublayerTransform"),function(a){with(a)return _sublayerTransform}),new objj_method(sel_getUid("transformToLayer"),function(a){with(a)return _transformToLayer}),new objj_method(sel_getUid("setFrame:"),function(a){with(a)alert("FIXME IMPLEMENT")}),new objj_method(sel_getUid("frame"),
function(a){with(a)return _frame||(_frame=objj_msgSend(a,"convertRect:toLayer:",_bounds,_superlayer)),_frame}),new objj_method(sel_getUid("backingStoreFrame"),function(a){with(a)return _backingStoreFrame}),new objj_method(sel_getUid("setBackingStoreFrame:"),function(a,b,c){with(a)_hasCustomBackingStoreFrame=c!=nil,c==nil?c=CGRectMakeCopy(_standardBackingStoreFrame):_superlayer?(c=objj_msgSend(_superlayer,"convertRect:toLayer:",c,nil),b=objj_msgSend(_superlayer,"bounds"),b=objj_msgSend(_superlayer,
"convertRect:toLayer:",b,nil),c.origin.x-=b.origin.x,c.origin.y-=b.origin.y):c=CGRectMakeCopy(c),CGPointEqualToPoint(_backingStoreFrame.origin,c.origin)||objj_msgSend(a,"registerRunLoopUpdateWithMask:",1),CGSizeEqualToSize(_backingStoreFrame.size,c.size)||objj_msgSend(a,"registerRunLoopUpdateWithMask:",2),_backingStoreFrame=c}),new objj_method(sel_getUid("contents"),function(a){with(a)return _contents}),new objj_method(sel_getUid("setContents:"),function(a,b,c){with(a){if(_contents==c)return;_contents=
c;objj_msgSend(a,"composite")}}),new objj_method(sel_getUid("composite"),function(a){with(a){if(f&&!_contents||!_context)return;CGContextClearRect(_context,{origin:{x:0,y:0},size:{width:_backingStoreFrame.size.width,height:_backingStoreFrame.size.height}});var b;if(_superlayer){b=_CALayerGetTransform(_superlayer,nil);var c=CGPointApplyAffineTransform(_superlayer._bounds.origin,b);b=CGAffineTransformConcat(_transformFromLayer,b);b.tx-=c.x;b.ty-=c.y}else b=CGAffineTransformCreateCopy(_transformFromLayer);
b.tx-=_backingStoreFrame.origin.x;b.ty-=_backingStoreFrame.origin.y;CGContextSaveGState(_context);CGContextConcatCTM(_context,b);f?_context.drawImage(_contents.buffer,_bounds.origin.x,_bounds.origin.y):objj_msgSend(a,"drawInContext:",_context);CGContextRestoreGState(_context)}}),new objj_method(sel_getUid("display"),function(a){with(a){if(!_context)_context=CGBitmapGraphicsContextCreate(),_DOMContentsElement=_context.DOMElement,_DOMContentsElement.style.zIndex=-100,_DOMContentsElement.style.overflow=
"hidden",_DOMContentsElement.style.position="absolute",_DOMContentsElement.style.visibility="visible",_DOMContentsElement.width=ROUND(_backingStoreFrame.size.width),_DOMContentsElement.height=ROUND(_backingStoreFrame.size.height),_DOMContentsElement.style.top="0px",_DOMContentsElement.style.left="0px",_DOMContentsElement.style.width=ROUND(_backingStoreFrame.size.width)+"px",_DOMContentsElement.style.height=ROUND(_backingStoreFrame.size.height)+"px",_DOMElement.appendChild(_DOMContentsElement);if(f){if(_delegateRespondsToDisplayLayerSelector)return objj_msgSend(_delegate,
"displayInLayer:",a);if(_backingStoreFrame.size.width==0||_backingStoreFrame.size.height==0)return;_contents||(_contents=CABackingStoreCreate());CABackingStoreSetSize(_contents,_bounds.size);objj_msgSend(a,"drawInContext:",CABackingStoreGetContext(_contents))}objj_msgSend(a,"composite")}}),new objj_method(sel_getUid("drawInContext:"),function(a,b,c){with(a)_backgroundColor&&(CGContextSetFillColor(c,_backgroundColor),CGContextFillRect(c,_bounds)),_delegateRespondsToDrawLayerInContextSelector&&objj_msgSend(_delegate,
"drawLayer:inContext:",a,c)}),new objj_method(sel_getUid("opacity"),function(a){with(a)return _opacity}),new objj_method(sel_getUid("setOpacity:"),function(a,b,c){with(a){if(_opacity==c)return;_opacity=c;_DOMElement.style.opacity=c;_DOMElement.style.filter="alpha(opacity="+c*100+")"}}),new objj_method(sel_getUid("setHidden:"),function(a,b,c){with(a)_isHidden=c,_DOMElement.style.display=c?"none":"block"}),new objj_method(sel_getUid("hidden"),function(a){with(a)return _isHidden}),new objj_method(sel_getUid("isHidden"),
function(a){with(a)return _isHidden}),new objj_method(sel_getUid("setMasksToBounds:"),function(a,b,c){with(a){if(_masksToBounds==c)return;_masksToBounds=c;_DOMElement.style.overflow=_masksToBounds?"hidden":"visible"}}),new objj_method(sel_getUid("setBackgroundColor:"),function(a,b,c){with(a)_backgroundColor=c,objj_msgSend(a,"setNeedsDisplay")}),new objj_method(sel_getUid("backgroundColor"),function(a){with(a)return _backgroundColor}),new objj_method(sel_getUid("sublayers"),function(a){with(a)return _sublayers}),
new objj_method(sel_getUid("superlayer"),function(a){with(a)return _superlayer}),new objj_method(sel_getUid("addSublayer:"),function(a,b,c){with(a)objj_msgSend(a,"insertSublayer:atIndex:",c,_sublayers.length)}),new objj_method(sel_getUid("removeFromSuperlayer"),function(a){with(a){_owningView&&objj_msgSend(_owningView,"setLayer:",nil);if(!_superlayer)return;_superlayer._DOMElement.removeChild(_DOMElement);objj_msgSend(_superlayer._sublayers,"removeObject:",a);_superlayer=nil}}),new objj_method(sel_getUid("insertSublayer:atIndex:"),
function(a,b,c,d){with(a){if(!c)return;b=objj_msgSend(c,"superlayer");if(b==a){var f=objj_msgSend(_sublayers,"indexOfObjectIdenticalTo:",c);if(f==d)return;objj_msgSend(_sublayers,"removeObjectAtIndex:",f);f<d&&--d}else b!=nil&&objj_msgSend(c,"removeFromSuperlayer");_DOMContentsElement&&c._zPosition>_DOMContentsElement.style.zIndex&&(_DOMContentsElement.style.zIndex-=100);objj_msgSend(_sublayers,"insertObject:atIndex:",c,d);d>=_sublayers.length-1?_DOMElement.appendChild(c._DOMElement):_DOMElement.insertBefore(c._DOMElement,
_sublayers[d+1]._DOMElement);c._superlayer=a;a!=b&&_CALayerRecalculateGeometry(c,268435455)}}),new objj_method(sel_getUid("insertSublayer:below:"),function(a,b,c,d){with(a)b=d?objj_msgSend(_sublayers,"indexOfObjectIdenticalTo:",d):0,objj_msgSend(a,"insertSublayer:atIndex:",c,b==CPNotFound?_sublayers.length:b)}),new objj_method(sel_getUid("insertSublayer:above:"),function(a,b,c,d){with(a)a=d?objj_msgSend(_sublayers,"indexOfObjectIdenticalTo:",d):_sublayers.length,a==CPNotFound&&objj_msgSend(CPException,
"raise:reason:","CALayerNotFoundException","aSublayer is not a sublayer of this layer"),objj_msgSend(_sublayers,"insertObject:atIndex:",c,a==CPNotFound?_sublayers.length:a+1)}),new objj_method(sel_getUid("replaceSublayer:with:"),function(a,b,c,d){with(a){if(c==d)return;if(c._superlayer!=a){alert("EXCEPTION");return}_DOMContentsElement&&d._zPosition>_DOMContentsElement.style.zIndex&&(_DOMContentsElement.style.zIndex-=100);objj_msgSend(_sublayers,"replaceObjectAtIndex:withObject:",objj_msgSend(_sublayers,
"indexOfObjectIdenticalTo:",c),d);_DOMElement.replaceChild(c._DOMElement,d._DOMElement)}}),new objj_method(sel_getUid("registerRunLoopUpdateWithMask:"),function(a,b,c){with(a)d==nil&&(d={},objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"performSelector:target:argument:order:modes:",sel_getUid("runLoopUpdateLayers"),CALayer,nil,0,[CPDefaultRunLoopMode])),_runLoopUpdateMask|=c,d[objj_msgSend(a,"UID")]=a}),new objj_method(sel_getUid("setNeedsComposite"),function(a){with(a)objj_msgSend(a,"registerRunLoopUpdateWithMask:",
16)}),new objj_method(sel_getUid("setNeedsDisplay"),function(a){with(a)objj_msgSend(a,"registerRunLoopUpdateWithMask:",8)}),new objj_method(sel_getUid("setNeedsDisplayOnBoundsChange:"),function(a,b,c){with(a)_needsDisplayOnBoundsChange=c}),new objj_method(sel_getUid("needsDisplayOnBoundsChange"),function(a){with(a)return _needsDisplayOnBoundsChange}),new objj_method(sel_getUid("setNeedsDisplayInRect:"),function(a,b,c){with(a)_dirtyRect=c,objj_msgSend(a,"display")}),new objj_method(sel_getUid("convertPoint:fromLayer:"),
function(a,b,c,d){with(a)return CGPointApplyAffineTransform(c,_CALayerGetTransform(d,a))}),new objj_method(sel_getUid("convertPoint:toLayer:"),function(a,b,c,d){with(a)return CGPointApplyAffineTransform(c,_CALayerGetTransform(a,d))}),new objj_method(sel_getUid("convertRect:fromLayer:"),function(a,b,c,d){with(a)return CGRectApplyAffineTransform(c,_CALayerGetTransform(d,a))}),new objj_method(sel_getUid("convertRect:toLayer:"),function(a,b,c,d){with(a)return CGRectApplyAffineTransform(c,_CALayerGetTransform(a,
d))}),new objj_method(sel_getUid("containsPoint:"),function(a,b,c){with(a)return c.x>=_bounds.origin.x&&c.y>=_bounds.origin.y&&c.x<_bounds.origin.x+_bounds.size.width&&c.y<_bounds.origin.y+_bounds.size.height}),new objj_method(sel_getUid("hitTest:"),function(a,b,c){with(a){if(_isHidden)return nil;b=CGPointApplyAffineTransform(c,_transformToLayer);if(!(b.x>=_bounds.origin.x&&b.y>=_bounds.origin.y&&b.x<_bounds.origin.x+_bounds.size.width&&b.y<_bounds.origin.y+_bounds.size.height))return nil;c=nil;for(var d=
_sublayers.length;d--;)if(c=objj_msgSend(_sublayers[d],"hitTest:",b))return c;return a}}),new objj_method(sel_getUid("setDelegate:"),function(a,b,c){with(a){if(_delegate==c)return;_delegate=c;_delegateRespondsToDisplayLayerSelector=objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("displayLayer:"));_delegateRespondsToDrawLayerInContextSelector=objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("drawLayer:inContext:"));(_delegateRespondsToDisplayLayerSelector||_delegateRespondsToDrawLayerInContextSelector)&&
objj_msgSend(a,"setNeedsDisplay")}}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("_setOwningView:"),function(a,b,c){with(a){if(_owningView=c)_owningView=c,_bounds.size=CGSizeMakeCopy(objj_msgSend(_owningView,"bounds").size),_position=CGPointMake(_bounds.size.width*_anchorPoint.x,_bounds.size.height*_anchorPoint.y);_CALayerRecalculateGeometry(a,3)}}),new objj_method(sel_getUid("_owningViewBoundsChanged"),function(a){with(a)_bounds.size=CGSizeMakeCopy(objj_msgSend(_owningView,
"bounds").size),_position=CGPointMake(_bounds.size.width*_anchorPoint.x,_bounds.size.height*_anchorPoint.y),_CALayerRecalculateGeometry(a,3)}),new objj_method(sel_getUid("_update"),function(a){with(a){window.loop=!0;var b=_runLoopUpdateMask;b&7&&_CALayerUpdateDOM(a,b);b&8?objj_msgSend(a,"display"):(b&2||b&16)&&objj_msgSend(a,"composite");_runLoopUpdateMask=0;window.loop=!1}})]);class_addMethods(c,[new objj_method(sel_getUid("layer"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,
"class"),"alloc"),"init")}),new objj_method(sel_getUid("runLoopUpdateLayers"),function(a){with(a){for(UID in d){a=d[UID];var b=a._runLoopUpdateMask;b&7&&_CALayerUpdateDOM(a,b);b&8?objj_msgSend(a,"display"):(b&2||b&16)&&objj_msgSend(a,"composite");a._runLoopUpdateMask=0}window.loop=!1;d=nil}})]);_CALayerUpdateSublayerTransformForSublayers=function(a){var b=a._bounds,c=a._anchorPoint,d=b.size.width*c.x;b=b.size.height*c.y;a._sublayerTransformForSublayers=CGAffineTransformConcat(CGAffineTransformMakeTranslation(-d,
-b),CGAffineTransformConcat(a._sublayerTransform,CGAffineTransformMakeTranslation(d,b)))};_CALayerUpdateDOM=function(a,b){var c=a._DOMElement.style;if(b&4)c.zIndex=a._zPosition;var d=a._backingStoreFrame;if(b&1)c.top=ROUND(d.origin.y)+"px",c.left=ROUND(d.origin.x)+"px";if(b&2){var f=MAX(0,ROUND(d.size.width));d=MAX(0,ROUND(d.size.height));var g=a._DOMContentsElement;c.width=f+"px";c.height=d+"px";if(g)g.width=f,g.height=d,g.style.width=f+"px",g.style.height=d+"px"}};_CALayerRecalculateGeometry=function(a,
b){var c=a._bounds,d=a._superlayer,f=a._position,g=a._anchorPoint,h=a._affineTransform,k=a._hasCustomBackingStoreFrame;a._transformFromLayer=CGAffineTransformConcat(CGAffineTransformMakeTranslation(-c.size.width*g.x-a._bounds.origin.x,-c.size.height*g.y-a._bounds.origin.y),CGAffineTransformConcat(h,CGAffineTransformMakeTranslation(f.x,f.y)));if(d&&d._hasSublayerTransform)f=a._transformFromLayer.tx*d._sublayerTransformForSublayers.a+a._transformFromLayer.ty*d._sublayerTransformForSublayers.c+d._sublayerTransformForSublayers.tx,
a._transformFromLayer.ty=a._transformFromLayer.tx*d._sublayerTransformForSublayers.b+a._transformFromLayer.ty*d._sublayerTransformForSublayers.d+d._sublayerTransformForSublayers.ty,a._transformFromLayer.tx=f,f=a._transformFromLayer.a*d._sublayerTransformForSublayers.a+a._transformFromLayer.b*d._sublayerTransformForSublayers.c,g=a._transformFromLayer.a*d._sublayerTransformForSublayers.b+a._transformFromLayer.b*d._sublayerTransformForSublayers.d,h=a._transformFromLayer.c*d._sublayerTransformForSublayers.a+
a._transformFromLayer.d*d._sublayerTransformForSublayers.c,a._transformFromLayer.d=a._transformFromLayer.c*d._sublayerTransformForSublayers.b+a._transformFromLayer.d*d._sublayerTransformForSublayers.d,a._transformFromLayer.a=f,a._transformFromLayer.b=g,a._transformFromLayer.c=h;a._transformToLayer=CGAffineTransformInvert(a._transformFromLayer);a._frame=nil;a._standardBackingStoreFrame=objj_msgSend(a,"convertRect:toLayer:",c,nil);d&&(c=objj_msgSend(d,"bounds"),c=objj_msgSend(d,"convertRect:toLayer:",
c,nil),a._standardBackingStoreFrame.origin.x-=c.origin.x,a._standardBackingStoreFrame.origin.y-=c.origin.y);c=a._standardBackingStoreFrame.origin;d=a._standardBackingStoreFrame.size;c.x=FLOOR(c.x);c.y=FLOOR(c.y);d.width=CEIL(d.width)+1;d.height=CEIL(d.height)+1;if(!k)c=CGRectMakeCopy(a._standardBackingStoreFrame),(ROUND(c.origin.x)!=ROUND(a._backingStoreFrame.origin.x)||ROUND(c.origin.y)!=ROUND(a._backingStoreFrame.origin.y))&&objj_msgSend(a,"registerRunLoopUpdateWithMask:",1),(c.size.width!=ROUND(a._backingStoreFrame.size.width)||
c.size.height!=ROUND(a._backingStoreFrame.size.height))&&objj_msgSend(a,"registerRunLoopUpdateWithMask:",2),a._backingStoreFrame=c;b&1&&a._needsDisplayOnBoundsChange?objj_msgSend(a,"setNeedsDisplay"):(k||b&-7)&&objj_msgSend(a,"setNeedsComposite");k=a._sublayers;c=0;for(d=k.length;c<d;++c)_CALayerRecalculateGeometry(k[c],b)};_CALayerGetTransform=function(a,b){var c=CGAffineTransformMakeIdentity();if(a){for(var d=a;d&&d!=b;){var f=d._transformFromLayer,g=c.tx*f.a+c.ty*f.c+f.tx;c.ty=c.tx*f.b+c.ty*f.d+
f.ty;c.tx=g;g=c.a*f.a+c.b*f.c;var h=c.a*f.b+c.b*f.d,k=c.c*f.a+c.d*f.c;c.d=c.c*f.b+c.d*f.d;c.a=g;c.b=h;c.c=k;d=d._superlayer}if(d==b)return c}f=[];for(d=b;d;)f.push(d),d=d._superlayer;for(d=f.length;d--;){var l=f[d]._transformToLayer;g=c.tx*l.a+c.ty*l.c+l.tx;c.ty=c.tx*l.b+c.ty*l.d+l.ty;c.tx=g;g=c.a*l.a+c.b*l.c;h=c.a*l.b+c.b*l.d;k=c.c*l.a+c.d*l.c;c.d=c.c*l.b+c.d*l.d;c.a=g;c.b=h;c.c=k}return c}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPControl.j",baseURL),function(h,g){g("CPFont.j",YES);g("CPShadow.j",YES);g("CPView.j",YES);g("CPKeyValueBinding.j",YES);CPLeftTextAlignment=0;CPRightTextAlignment=1;CPCenterTextAlignment=2;CPJustifiedTextAlignment=3;CPNaturalTextAlignment=4;CPRegularControlSize=0;CPSmallControlSize=1;CPMiniControlSize=2;CPLineBreakByWordWrapping=0;CPLineBreakByCharWrapping=1;CPLineBreakByClipping=2;CPLineBreakByTruncatingHead=3;CPLineBreakByTruncatingTail=
4;CPLineBreakByTruncatingMiddle=5;CPTopVerticalTextAlignment=1;CPCenterVerticalTextAlignment=2;CPBottomVerticalTextAlignment=3;CPScaleProportionally=0;CPScaleToFit=1;CPScaleNone=2;CPNoImage=0;CPImageOnly=1;CPImageLeft=2;CPImageRight=3;CPImageBelow=4;CPImageAbove=5;CPImageOverlaps=6;CPOnState=1;CPOffState=0;CPMixedState=-1;CPControlNormalBackgroundColor="CPControlNormalBackgroundColor";CPControlSelectedBackgroundColor="CPControlSelectedBackgroundColor";CPControlHighlightedBackgroundColor="CPControlHighlightedBackgroundColor";
CPControlDisabledBackgroundColor="CPControlDisabledBackgroundColor";CPControlTextDidBeginEditingNotification="CPControlTextDidBeginEditingNotification";CPControlTextDidChangeNotification="CPControlTextDidChangeNotification";CPControlTextDidEndEditingNotification="CPControlTextDidEndEditingNotification";objj_msgSend(CPColor,"blackColor");var f=objj_allocateClassPair(CPView,"CPControl"),d=f.isa;class_addIvars(f,[new objj_ivar("_value"),new objj_ivar("_target"),new objj_ivar("_action"),new objj_ivar("_sendActionOn"),
new objj_ivar("_sendsActionOnEndEditing"),new objj_ivar("_continuousTracking"),new objj_ivar("_trackingWasWithinFrame"),new objj_ivar("_trackingMouseDownFlags"),new objj_ivar("_previousTrackingLocation"),new objj_ivar("_toolTip")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("sendsActionOnEndEditing"),function(a){with(a)return _sendsActionOnEndEditing}),new objj_method(sel_getUid("setSendsActionOnEndEditing:"),function(a,b,c){with(a)_sendsActionOnEndEditing=c}),new objj_method(sel_getUid("_reverseSetBinding"),
function(a){with(a){var b=objj_msgSend(objj_msgSend(a,"class"),"_binderClassForBinding:",CPValueBinding);a=objj_msgSend(b,"getBinding:forObject:",CPValueBinding,a);objj_msgSend(a,"reverseSetValueFor:","objectValue")}}),new objj_method(sel_getUid("initWithFrame:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPControl").super_class},"initWithFrame:",c))_sendActionOn=CPLeftMouseUpMask,_trackingMouseDownFlags=0;return a}}),new objj_method(sel_getUid("setAction:"),
function(a,b,c){with(a)_action=c}),new objj_method(sel_getUid("action"),function(a){with(a)return _action}),new objj_method(sel_getUid("setTarget:"),function(a,b,c){with(a)_target=c}),new objj_method(sel_getUid("target"),function(a){with(a)return _target}),new objj_method(sel_getUid("sendAction:to:"),function(a,b,c,d){with(a)objj_msgSend(a,"_reverseSetBinding"),objj_msgSend(CPApp,"sendAction:to:from:",c,d,a)}),new objj_method(sel_getUid("sendActionOn:"),function(a,b,c){with(a)return _sendActionOn=
c}),new objj_method(sel_getUid("isContinuous"),function(a){with(a)return(_sendActionOn&CPPeriodicMask)!==0}),new objj_method(sel_getUid("setContinuous:"),function(a,b,c){with(a)c?_sendActionOn|=CPPeriodicMask:_sendActionOn&=~CPPeriodicMask}),new objj_method(sel_getUid("tracksMouseOutsideOfFrame"),function(a){with(a)return NO}),new objj_method(sel_getUid("trackMouse:"),function(a,b,c){with(a){b=objj_msgSend(c,"type");var d=objj_msgSend(a,"convertPoint:fromView:",objj_msgSend(c,"locationInWindow"),
nil),f=objj_msgSend(a,"tracksMouseOutsideOfFrame")||CGRectContainsPoint(objj_msgSend(a,"bounds"),d);b===CPLeftMouseUp?(objj_msgSend(a,"stopTracking:at:mouseIsUp:",_previousTrackingLocation,d,YES),_trackingMouseDownFlags=0,f&&objj_msgSend(a,"setThemeState:",CPThemeStateHovered)):(objj_msgSend(a,"unsetThemeState:",CPThemeStateHovered),b===CPLeftMouseDown?(_trackingMouseDownFlags=objj_msgSend(c,"modifierFlags"),_continuousTracking=objj_msgSend(a,"startTrackingAt:",d)):b===CPLeftMouseDragged&&(f?_trackingWasWithinFrame?
_continuousTracking&&(_continuousTracking=objj_msgSend(a,"continueTracking:at:",_previousTrackingLocation,d)):_continuousTracking=objj_msgSend(a,"startTrackingAt:",d):objj_msgSend(a,"stopTracking:at:mouseIsUp:",_previousTrackingLocation,d,NO)),objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",a,sel_getUid("trackMouse:"),CPLeftMouseDraggedMask|CPLeftMouseUpMask,nil,nil,YES));_sendActionOn&1<<b&&f&&objj_msgSend(a,"sendAction:to:",_action,_target);_trackingWasWithinFrame=
f;_previousTrackingLocation=d}}),new objj_method(sel_getUid("setState:"),function(a){with(a);}),new objj_method(sel_getUid("nextState"),function(a){with(a)return 0}),new objj_method(sel_getUid("performClick:"),function(a){with(a){if(!objj_msgSend(a,"isEnabled"))return;objj_msgSend(a,"highlight:",YES);objj_msgSend(a,"setState:",objj_msgSend(a,"nextState"));try{objj_msgSend(a,"sendAction:to:",objj_msgSend(a,"action"),objj_msgSend(a,"target"))}catch(b){throw b;}finally{objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",
0.1,a,sel_getUid("unhighlightButtonTimerDidFinish:"),nil,NO)}}}),new objj_method(sel_getUid("unhighlightButtonTimerDidFinish:"),function(a){with(a)objj_msgSend(a,"highlight:",NO)}),new objj_method(sel_getUid("mouseDownFlags"),function(a){with(a)return _trackingMouseDownFlags}),new objj_method(sel_getUid("startTrackingAt:"),function(a){with(a)return objj_msgSend(a,"highlight:",YES),_sendActionOn&CPPeriodicMask||_sendActionOn&CPLeftMouseDraggedMask}),new objj_method(sel_getUid("continueTracking:at:"),
function(a){with(a)return _sendActionOn&CPPeriodicMask||_sendActionOn&CPLeftMouseDraggedMask}),new objj_method(sel_getUid("stopTracking:at:mouseIsUp:"),function(a){with(a)objj_msgSend(a,"highlight:",NO)}),new objj_method(sel_getUid("mouseDown:"),function(a,b,c){with(a){if(!objj_msgSend(a,"isEnabled"))return;objj_msgSend(a,"trackMouse:",c)}}),new objj_method(sel_getUid("mouseEntered:"),function(a){with(a){if(!objj_msgSend(a,"isEnabled"))return;objj_msgSend(a,"setThemeState:",CPThemeStateHovered)}}),
new objj_method(sel_getUid("mouseExited:"),function(a,b,c){with(a)b=objj_msgSend(a,"convertPoint:fromView:",objj_msgSend(c,"locationInWindow"),nil),objj_msgSend(a,"tracksMouseOutsideOfFrame")||CGRectContainsPoint(objj_msgSend(a,"bounds"),b)||objj_msgSend(a,"unsetThemeState:",CPThemeStateHovered)}),new objj_method(sel_getUid("objectValue"),function(a){with(a)return _value}),new objj_method(sel_getUid("setObjectValue:"),function(a,b,c){with(a)_value=c,objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,
"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("floatValue"),function(a){with(a)return a=parseFloat(_value,10),isNaN(a)?0:a}),new objj_method(sel_getUid("setFloatValue:"),function(a,b,c){with(a)objj_msgSend(a,"setObjectValue:",c)}),new objj_method(sel_getUid("doubleValue"),function(a){with(a)return a=parseFloat(_value,10),isNaN(a)?0:a}),new objj_method(sel_getUid("setDoubleValue:"),function(a,b,c){with(a)objj_msgSend(a,"setObjectValue:",c)}),new objj_method(sel_getUid("intValue"),function(a){with(a)return a=
parseInt(_value,10),isNaN(a)?0:a}),new objj_method(sel_getUid("setIntValue:"),function(a,b,c){with(a)objj_msgSend(a,"setObjectValue:",c)}),new objj_method(sel_getUid("integerValue"),function(a){with(a)return a=parseInt(_value,10),isNaN(a)?0:a}),new objj_method(sel_getUid("setIntegerValue:"),function(a,b,c){with(a)objj_msgSend(a,"setObjectValue:",c)}),new objj_method(sel_getUid("stringValue"),function(a){with(a)return _value===void 0||_value===nil?"":String(_value)}),new objj_method(sel_getUid("setStringValue:"),
function(a,b,c){with(a)objj_msgSend(a,"setObjectValue:",c)}),new objj_method(sel_getUid("takeDoubleValueFrom:"),function(a,b,c){with(a)objj_msgSend(c,"respondsToSelector:",sel_getUid("doubleValue"))&&objj_msgSend(a,"setDoubleValue:",objj_msgSend(c,"doubleValue"))}),new objj_method(sel_getUid("takeFloatValueFrom:"),function(a,b,c){with(a)objj_msgSend(c,"respondsToSelector:",sel_getUid("floatValue"))&&objj_msgSend(a,"setFloatValue:",objj_msgSend(c,"floatValue"))}),new objj_method(sel_getUid("takeIntegerValueFrom:"),
function(a,b,c){with(a)objj_msgSend(c,"respondsToSelector:",sel_getUid("integerValue"))&&objj_msgSend(a,"setIntegerValue:",objj_msgSend(c,"integerValue"))}),new objj_method(sel_getUid("takeIntValueFrom:"),function(a,b,c){with(a)objj_msgSend(c,"respondsToSelector:",sel_getUid("intValue"))&&objj_msgSend(a,"setIntValue:",objj_msgSend(c,"intValue"))}),new objj_method(sel_getUid("takeObjectValueFrom:"),function(a,b,c){with(a)objj_msgSend(c,"respondsToSelector:",sel_getUid("objectValue"))&&objj_msgSend(a,
"setObjectValue:",objj_msgSend(c,"objectValue"))}),new objj_method(sel_getUid("takeStringValueFrom:"),function(a,b,c){with(a)objj_msgSend(c,"respondsToSelector:",sel_getUid("stringValue"))&&objj_msgSend(a,"setStringValue:",objj_msgSend(c,"stringValue"))}),new objj_method(sel_getUid("textDidBeginEditing:"),function(a,b,c){with(a){if(objj_msgSend(c,"object")!=a)return;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPControlTextDidBeginEditingNotification,
a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",objj_msgSend(c,"object"),"CPFieldEditor"))}}),new objj_method(sel_getUid("textDidChange:"),function(a,b,c){with(a){if(objj_msgSend(c,"object")!=a)return;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPControlTextDidChangeNotification,a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",objj_msgSend(c,"object"),"CPFieldEditor"))}}),new objj_method(sel_getUid("textDidEndEditing:"),
function(a,b,c){with(a){if(objj_msgSend(c,"object")!=a)return;objj_msgSend(a,"_reverseSetBinding");objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPControlTextDidEndEditingNotification,a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",objj_msgSend(c,"object"),"CPFieldEditor"))}}),new objj_method(sel_getUid("setAlignment:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"alignment")}),new objj_method(sel_getUid("alignment"),
function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","alignment")}),new objj_method(sel_getUid("setVerticalAlignment:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"vertical-alignment")}),new objj_method(sel_getUid("verticalAlignment"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","vertical-alignment")}),new objj_method(sel_getUid("setLineBreakMode:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"line-break-mode")}),
new objj_method(sel_getUid("lineBreakMode"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","line-break-mode")}),new objj_method(sel_getUid("setTextColor:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"text-color")}),new objj_method(sel_getUid("textColor"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","text-color")}),new objj_method(sel_getUid("setTextShadowColor:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",
c,"text-shadow-color")}),new objj_method(sel_getUid("textShadowColor"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","text-shadow-color")}),new objj_method(sel_getUid("setTextShadowOffset:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"text-shadow-offset")}),new objj_method(sel_getUid("textShadowOffset"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","text-shadow-offset")}),new objj_method(sel_getUid("setFont:"),function(a,b,c){with(a)objj_msgSend(a,
"setValue:forThemeAttribute:",c,"font")}),new objj_method(sel_getUid("font"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","font")}),new objj_method(sel_getUid("setImagePosition:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"image-position")}),new objj_method(sel_getUid("imagePosition"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","image-position")}),new objj_method(sel_getUid("setImageScaling:"),function(a,b,c){with(a)objj_msgSend(a,
"setValue:forThemeAttribute:",c,"image-scaling")}),new objj_method(sel_getUid("imageScaling"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","image-scaling")}),new objj_method(sel_getUid("setEnabled:"),function(a,b,c){with(a)c?objj_msgSend(a,"unsetThemeState:",CPThemeStateDisabled):objj_msgSend(a,"setThemeState:",CPThemeStateDisabled)}),new objj_method(sel_getUid("isEnabled"),function(a){with(a)return!objj_msgSend(a,"hasThemeState:",CPThemeStateDisabled)}),new objj_method(sel_getUid("highlight:"),
function(a,b,c){with(a)objj_msgSend(a,"setHighlighted:",c)}),new objj_method(sel_getUid("setHighlighted:"),function(a,b,c){with(a)c?objj_msgSend(a,"setThemeState:",CPThemeStateHighlighted):objj_msgSend(a,"unsetThemeState:",CPThemeStateHighlighted)}),new objj_method(sel_getUid("isHighlighted"),function(a){with(a)return objj_msgSend(a,"hasThemeState:",CPThemeStateHighlighted)})]);class_addMethods(d,[new objj_method(sel_getUid("themeAttributes"),function(a){with(a)return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",
[CPLeftTextAlignment,CPTopVerticalTextAlignment,CPLineBreakByClipping,objj_msgSend(CPColor,"blackColor"),objj_msgSend(CPFont,"systemFontOfSize:",12),objj_msgSend(CPNull,"null"),{width:0,height:0},CPImageLeft,CPScaleToFit,{width:0,height:0},{width:-1,height:-1}],["alignment","vertical-alignment","line-break-mode","text-color","font","text-shadow-color","text-shadow-offset","image-position","image-scaling","min-size","max-size"])}),new objj_method(sel_getUid("initialize"),function(a){with(a)a===objj_msgSend(CPControl,
"class")&&(objj_msgSend(a,"exposeBinding:","value"),objj_msgSend(a,"exposeBinding:","objectValue"),objj_msgSend(a,"exposeBinding:","stringValue"),objj_msgSend(a,"exposeBinding:","integerValue"),objj_msgSend(a,"exposeBinding:","intValue"),objj_msgSend(a,"exposeBinding:","doubleValue"),objj_msgSend(a,"exposeBinding:","floatValue"),objj_msgSend(a,"exposeBinding:","enabled"))}),new objj_method(sel_getUid("_binderClassForBinding:"),function(a,b,c){with(a){if(c===CPValueBinding)return objj_msgSend(_CPValueBinder,
"class");return objj_msgSendSuper({receiver:a,super_class:objj_getMetaClass("CPControl").super_class},"_binderClassForBinding:",c)}})]);f=objj_getClass("CPControl");if(!f)throw new SyntaxError('*** Could not find definition for class "CPControl"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPControl").super_class},"initWithCoder:",c))objj_msgSend(a,"setObjectValue:",objj_msgSend(c,"decodeObjectForKey:",
"CPControlValueKey")),objj_msgSend(a,"setTarget:",objj_msgSend(c,"decodeObjectForKey:","CPControlTargetKey")),objj_msgSend(a,"setAction:",objj_msgSend(c,"decodeObjectForKey:","CPControlActionKey")),objj_msgSend(a,"sendActionOn:",objj_msgSend(c,"decodeIntForKey:","CPControlSendActionOnKey")),objj_msgSend(a,"setSendsActionOnEndEditing:",objj_msgSend(c,"decodeBoolForKey:","CPControlSendsActionOnEndEditingKey"));return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a)objj_msgSendSuper({receiver:a,
super_class:objj_getClass("CPControl").super_class},"encodeWithCoder:",c),_sendsActionOnEndEditing&&objj_msgSend(c,"encodeBool:forKey:",_sendsActionOnEndEditing,"CPControlSendsActionOnEndEditingKey"),a=objj_msgSend(a,"objectValue"),a!==nil&&objj_msgSend(c,"encodeObject:forKey:",a,"CPControlValueKey"),_target!==nil&&objj_msgSend(c,"encodeConditionalObject:forKey:",_target,"CPControlTargetKey"),_action!==NULL&&objj_msgSend(c,"encodeObject:forKey:",_action,"CPControlActionKey"),objj_msgSend(c,"encodeInt:forKey:",
_sendActionOn,"CPControlSendActionOnKey")})]);var b=[],c={},a={};b[CPRegularControlSize]="Regular";b[CPSmallControlSize]="Small";b[CPMiniControlSize]="Mini";_CPControlIdentifierForControlSize=function(a){return b[a]};_CPControlColorWithPatternImage=function(a,b){for(var d=1,f=arguments.length,g="";d<f;++d)g+=arguments[d];d=c[g];d||(d=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPControl,"class")),d=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(d,"pathForResource:",b+"/"+g+".png"),a[g])),c[g]=d);return d};_CPControlThreePartImagePattern=function(b,c,d){for(var f=2,g=arguments.length,h="";f<g;++f)h+=arguments[f];f=a[h];f||(f=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPControl,"class")),g=d+"/"+h,c=c[h],f=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPThreePartImage,"alloc"),"initWithImageSlices:isVertical:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(f,
"pathForResource:",g+"0.png"),c[0]),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(f,"pathForResource:",g+"1.png"),c[1]),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(f,"pathForResource:",g+"2.png"),c[2])],b)),a[h]=f);return f}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuManager.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);_CPMenuManagerScrollingStateUp=-1;_CPMenuManagerScrollingStateDown=1;_CPMenuManagerScrollingStateNone=0;var f=nil,d=objj_allocateClassPair(CPObject,"_CPMenuManager"),b=d.isa;class_addIvars(d,[new objj_ivar("_startTime"),new objj_ivar("_scrollingState"),new objj_ivar("_lastGlobalLocation"),new objj_ivar("_lastMouseOverMenuView"),new objj_ivar("_constraintRect"),
new objj_ivar("_menuContainerStack"),new objj_ivar("_trackingCallback"),new objj_ivar("_keyBuffer"),new objj_ivar("_previousActiveItem"),new objj_ivar("_showTimerID")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("init"),function(b){with(b){if(f)return f;return objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPMenuManager").super_class},"init")}}),new objj_method(sel_getUid("trackingMenuContainer"),function(b){with(b)return _menuContainerStack[0]}),new objj_method(sel_getUid("trackingMenu"),
function(b){with(b)return objj_msgSend(objj_msgSend(b,"trackingMenuContainer"),"menu")}),new objj_method(sel_getUid("beginTracking:menuContainer:constraintRect:callback:"),function(b,a,e,d,f,g){with(b){a=objj_msgSend(d,"menu");CPApp._activeMenu=a;_startTime=objj_msgSend(e,"timestamp");_scrollingState=_CPMenuManagerScrollingStateNone;_constraintRect=f;_menuContainerStack=[d];_trackingCallback=g;if(a===objj_msgSend(CPApp,"mainMenu")&&(f=objj_msgSend(e,"globalLocation"),f=objj_msgSend(d,"convertGlobalToBase:",
f),f=objj_msgSend(d,"itemIndexAtPoint:",f),a=f!==CPNotFound?objj_msgSend(a,"itemAtIndex:",f):nil,_menuBarButtonItemIndex=f,_menuBarButtonMenuContainer=d,objj_msgSend(a,"_isMenuBarButton")))return objj_msgSend(b,"trackMenuBarButtonEvent:",e);objj_msgSend(b,"trackEvent:",e)}}),new objj_method(sel_getUid("trackEvent:"),function(b,a,e){with(b){a=objj_msgSend(e,"type");var d=objj_msgSend(b,"trackingMenu");if(a===CPAppKitDefined)return objj_msgSend(b,"completeTracking");objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",
b,sel_getUid("trackEvent:"),CPKeyDownMask|CPPeriodicMask|CPMouseMovedMask|CPLeftMouseDraggedMask|CPLeftMouseUpMask|CPAppKitDefinedMask|CPScrollWheelMask,nil,nil,YES);if(a===CPKeyDown){for(var f=d,g=objj_msgSend(objj_msgSend(f,"highlightedItem"),"submenu");g&&objj_msgSend(g._menuWindow,"isVisible");)f=g,g=objj_msgSend(objj_msgSend(f,"highlightedItem"),"submenu");objj_msgSend(f,"numberOfItems")&&objj_msgSend(b,"interpretKeyEvent:forMenu:",e,f);return}if(_keyBuffer&&(objj_msgSend(CPDate,"date")-_startTime>
500+objj_msgSend(g,"numberOfItems")/2&&objj_msgSend(b,"selectNextItemBeginningWith:inMenu:clearBuffer:",_keyBuffer,f,YES),a===CPPeriodic))return;var h=a===CPPeriodic?_lastGlobalLocation:objj_msgSend(e,"globalLocation");_lastGlobalLocation=h;if(!_lastGlobalLocation)return;f=objj_msgSend(b,"menuContainerForPoint:",h);g=objj_msgSend(f,"menu");var j=objj_msgSend(f,"convertGlobalToBase:",h),k=f?objj_msgSend(f,"itemIndexAtPoint:",j):CPNotFound,l=k!==CPNotFound?objj_msgSend(g,"itemAtIndex:",k):nil;if(!objj_msgSend(l,
"isEnabled")||objj_msgSend(l,"_isMenuBarButton"))k=CPNotFound,l=nil;var w=objj_msgSend(l,"view");a===CPScrollWheel&&objj_msgSend(f,"scrollByDelta:",objj_msgSend(e,"deltaY"));a===CPPeriodic&&(_scrollingState===_CPMenuManagerScrollingStateUp?objj_msgSend(f,"scrollUp"):_scrollingState===_CPMenuManagerScrollingStateDown&&objj_msgSend(f,"scrollDown"));w?(_lastMouseOverMenuView||objj_msgSend(g,"_highlightItemAtIndex:",CPNotFound),_lastMouseOverMenuView!=w&&(objj_msgSend(w,"mouseExited:",e),objj_msgSend(_lastMouseOverMenuView,
"mouseEntered:",e),_lastMouseOverMenuView=w),d=f,objj_msgSend(d,"isKindOfClass:",objj_msgSend(CPWindow,"class"))||(d=objj_msgSend(d,"window")),objj_msgSend(d,"sendEvent:",objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",a,j,objj_msgSend(e,"modifierFlags"),objj_msgSend(e,"timestamp"),d,nil,0,objj_msgSend(e,"clickCount"),objj_msgSend(e,"pressure")))):(_lastMouseOverMenuView&&(objj_msgSend(_lastMouseOverMenuView,"mouseExited:",
e),_lastMouseOverMenuView=nil),objj_msgSend(g,"_highlightItemAtIndex:",k),a===CPMouseMoved||a===CPLeftMouseDragged||a===CPLeftMouseDown||a===CPPeriodic?(e=_scrollingState,_scrollingState=objj_msgSend(f,"scrollingStateForPoint:",h),_scrollingState!==e&&(_scrollingState===_CPMenuManagerScrollingStateNone?objj_msgSend(CPEvent,"stopPeriodicEvents"):e===_CPMenuManagerScrollingStateNone&&objj_msgSend(CPEvent,"startPeriodicEventsAfterDelay:withPeriod:",0,0.04))):a===CPLeftMouseUp&&objj_msgSend(e,"timestamp")-
_startTime>500+objj_msgSend(g,"numberOfItems")*5&&objj_msgSend(d,"cancelTracking"));_previousActiveItem!==l&&(clearTimeout(_showTimerID),_showTimerID=void 0);if(objj_msgSend(l,"hasSubmenu")){e=objj_msgSend(f,"rectForItemAtIndex:",k);var y=objj_msgSend(f,"isMenuBar")?CGPointMake(CGRectGetMinX(e),CGRectGetMaxY(e)):CGPointMake(CGRectGetMaxX(e),CGRectGetMinY(e));y=objj_msgSend(f,"convertBaseToGlobal:",y);_showTimerID===void 0&&(objj_msgSend(b,"showMenu:fromMenu:atPoint:",nil,g,CGPointMakeZero()),_showTimerID=
setTimeout(function(){objj_msgSend(b,"showMenu:fromMenu:atPoint:",objj_msgSend(l,"submenu"),objj_msgSend(l,"menu"),y)},250))}else objj_msgSend(b,"showMenu:fromMenu:atPoint:",nil,g,CGPointMakeZero());_previousActiveItem=l}}),new objj_method(sel_getUid("trackMenuBarButtonEvent:"),function(b,a,e){with(b){a=objj_msgSend(e,"type");if(a===CPAppKitDefined)return objj_msgSend(b,"completeTracking");var d=objj_msgSend(e,"globalLocation");e=objj_msgSend(b,"trackingMenu");var f=objj_msgSend(b,"trackingMenuContainer");
d=objj_msgSend(f,"convertGlobalToBase:",d);objj_msgSend(f,"itemIndexAtPoint:",d)===_menuBarButtonItemIndex?objj_msgSend(e,"_highlightItemAtIndex:",_menuBarButtonItemIndex):objj_msgSend(e,"_highlightItemAtIndex:",CPNotFound);objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",b,sel_getUid("trackMenuBarButtonEvent:"),CPPeriodicMask|CPMouseMovedMask|CPLeftMouseDraggedMask|CPLeftMouseUpMask|CPAppKitDefinedMask,nil,nil,YES);a===CPLeftMouseUp&&objj_msgSend(e,"cancelTracking")}}),
new objj_method(sel_getUid("completeTracking"),function(b){with(b){var a=objj_msgSend(b,"trackingMenu");objj_msgSend(CPEvent,"stopPeriodicEvents");objj_msgSend(b,"showMenu:fromMenu:atPoint:",nil,a,nil);var e=objj_msgSend(a,"delegate");objj_msgSend(e,"respondsToSelector:",sel_getUid("menuDidClose:"))&&objj_msgSend(e,"menuDidClose:",a);_trackingCallback&&_trackingCallback(objj_msgSend(b,"trackingMenuContainer"),a);objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",
CPMenuDidEndTrackingNotification,a);CPApp._activeMenu=nil}}),new objj_method(sel_getUid("menuContainerForPoint:"),function(b,a,e){with(b){var d=objj_msgSend(_menuContainerStack,"count"),f=_menuContainerStack[0];if(d===1)return f;b=0;a=d-1;if(objj_msgSend(f,"isMenuBar")){if(CGRectContainsPoint(objj_msgSend(f,"globalFrame"),e))return f;b=1}e=e.x;f=Infinity;for(var g=nil;d-- >b;){var h=_menuContainerStack[d],j=objj_msgSend(h,"globalFrame"),k=j.origin.x;j=j.origin.x+j.size.width;if(e<j&&e>=k)return h;
if(d===b||d===a)k=ABS(e<k?k-e:j-e),k<f&&(g=h,f=k)}return g}}),new objj_method(sel_getUid("showMenu:fromMenu:atPoint:"),function(b,a,e,d,f){with(b){for(a=_menuContainerStack.length;a--;){var g=_menuContainerStack[a],h=objj_msgSend(g,"menu");if(h===d)break;if(h===e)return objj_msgSend(e,"_highlightItemAtIndex:",CPNotFound);objj_msgSend(g,"orderOut:",b);objj_msgSend(g,"setMenu:",nil);objj_msgSend(_CPMenuWindow,"poolMenuWindow:",g);objj_msgSend(_menuContainerStack,"removeObjectAtIndex:",a)}if(!e)return;
objj_msgSend(e,"_highlightItemAtIndex:",CPNotFound);e=objj_msgSend(_CPMenuWindow,"menuWindowWithMenu:font:",e,objj_msgSend(_menuContainerStack[0],"font"));objj_msgSend(_menuContainerStack,"addObject:",e);objj_msgSend(e,"setConstraintRect:",_constraintRect);d===objj_msgSend(b,"trackingMenu")&&objj_msgSend(objj_msgSend(b,"trackingMenuContainer"),"isMenuBar")?objj_msgSend(e,"setBackgroundStyle:",_CPMenuWindowMenuBarBackgroundStyle):objj_msgSend(e,"setBackgroundStyle:",_CPMenuWindowPopUpBackgroundStyle);
objj_msgSend(e,"setFrameOrigin:",f);objj_msgSend(e,"orderFront:",b)}}),new objj_method(sel_getUid("interpretKeyEvent:forMenu:"),function(b,a,e,d){with(b){a=objj_msgSend(e,"modifierFlags");e=objj_msgSend(e,"charactersIgnoringModifiers");var f=objj_msgSend(CPKeyBinding,"selectorsForKey:modifierFlags:",e,a);if(f)for(a=objj_msgSend(f,"objectEnumerator");e=objj_msgSend(a,"nextObject");)e=CPSelectorFromString(e),objj_msgSend(b,"respondsToSelector:",e)&&objj_msgSend(b,"performSelector:withObject:",e,d);
else a&(CPCommandKeyMask|CPControlKeyMask)||(_keyBuffer?_keyBuffer+=e:(_startTime=objj_msgSend(CPDate,"date"),_keyBuffer=e,objj_msgSend(CPEvent,"stopPeriodicEvents"),objj_msgSend(CPEvent,"startPeriodicEventsAfterDelay:withPeriod:",0.1,0.1)),objj_msgSend(b,"selectNextItemBeginningWith:inMenu:clearBuffer:",_keyBuffer,d,NO),_lastGlobalLocation=Nil)}}),new objj_method(sel_getUid("selectNextItemBeginningWith:inMenu:clearBuffer:"),function(b,a,e,d,f){with(b){for(b=objj_msgSend(objj_msgSend(d,"itemArray"),
"objectEnumerator");a=objj_msgSend(b,"nextObject");)if(objj_msgSend(objj_msgSend(objj_msgSend(a,"title"),"commonPrefixWithString:options:",e,CPCaseInsensitiveSearch),"length")==objj_msgSend(e,"length")&&!objj_msgSend(a,"isHidden")&&objj_msgSend(a,"isEnabled")){objj_msgSend(d,"_highlightItemAtIndex:",b._index);break}f?(objj_msgSend(CPEvent,"stopPeriodicEvents"),_keyBuffer=Nil):_startTime=objj_msgSend(CPDate,"date")}}),new objj_method(sel_getUid("scrollToBeginningOfDocument:"),function(b,a,e){with(b)objj_msgSend(e,
"_highlightItemAtIndex:",0)}),new objj_method(sel_getUid("scrollToEndOfDocument:"),function(b,a,e){with(b)objj_msgSend(e,"_highlightItemAtIndex:",objj_msgSend(e,"numberOfItems")-1)}),new objj_method(sel_getUid("scrollPageDown:"),function(b,a,e){with(b){var d=e._menuWindow,f=objj_msgSend(d._menuClipView,"bounds").size.height;a=objj_msgSend(d,"itemIndexAtPoint:",CGPointMake(1,10));d=objj_msgSend(d,"itemIndexAtPoint:",CGPointMake(1,f));f=objj_msgSend(e,"indexOfItem:",objj_msgSend(e,"highlightedItem"));
if(f==CPNotFound){objj_msgSend(e,"_highlightItemAtIndex:",0);return}next=f+(d-a);next<objj_msgSend(e,"numberOfItems")?objj_msgSend(e,"_highlightItemAtIndex:",next):objj_msgSend(e,"_highlightItemAtIndex:",objj_msgSend(e,"numberOfItems")-1);a=objj_msgSend(e,"highlightedItem");(objj_msgSend(a,"isSeparatorItem")||objj_msgSend(a,"isHidden")||!objj_msgSend(a,"isEnabled"))&&objj_msgSend(b,"moveDown:",e)}}),new objj_method(sel_getUid("scrollPageUp:"),function(b,a,e){with(b){var d=e._menuWindow,f=objj_msgSend(d._menuClipView,
"bounds").size.height;a=objj_msgSend(d,"itemIndexAtPoint:",CGPointMake(1,10));d=objj_msgSend(d,"itemIndexAtPoint:",CGPointMake(1,f));f=objj_msgSend(e,"indexOfItem:",objj_msgSend(e,"highlightedItem"));if(f==CPNotFound){objj_msgSend(e,"_highlightItemAtIndex:",0);return}next=f-(d-a);next<0?objj_msgSend(e,"_highlightItemAtIndex:",0):objj_msgSend(e,"_highlightItemAtIndex:",next);a=objj_msgSend(e,"highlightedItem");(objj_msgSend(a,"isSeparatorItem")||objj_msgSend(a,"isHidden")||!objj_msgSend(a,"isEnabled"))&&
objj_msgSend(b,"moveUp:",e)}}),new objj_method(sel_getUid("moveLeft:"),function(b,a,e){with(b)objj_msgSend(e,"supermenu")&&(objj_msgSend(e,"supermenu")==objj_msgSend(CPApp,"mainMenu")?(objj_msgSend(b,"showMenu:fromMenu:atPoint:",nil,objj_msgSend(e,"supermenu"),CGPointMakeZero()),objj_msgSend(b,"moveUp:",objj_msgSend(CPApp,"mainMenu")),a=objj_msgSend(objj_msgSend(CPApp,"mainMenu"),"highlightedItem"),e=CGPointMake(objj_msgSend(objj_msgSend(a,"_menuItemView"),"frameOrigin").x,objj_msgSend(objj_msgSend(a,
"_menuItemView"),"frameSize").height),objj_msgSend(b,"showMenu:fromMenu:atPoint:",objj_msgSend(a,"submenu"),objj_msgSend(a,"menu"),e)):objj_msgSend(b,"showMenu:fromMenu:atPoint:",nil,objj_msgSend(e,"supermenu"),CGPointMakeZero()))}),new objj_method(sel_getUid("moveRight:"),function(b,a,e){with(b)if(a=objj_msgSend(e,"highlightedItem"),objj_msgSend(a,"hasSubmenu")){if(objj_msgSend(objj_msgSend(a,"submenu"),"numberOfItems")){var d=objj_msgSend(e,"indexOfItem:",a);e=e._menuWindow;d=objj_msgSend(e,"rectForItemAtIndex:",
d);d=objj_msgSend(e,"isMenuBar")?CGPointMake(CGRectGetMinX(d),CGRectGetMaxY(d)):CGPointMake(CGRectGetMaxX(d),CGRectGetMinY(d));d=objj_msgSend(e,"convertBaseToGlobal:",d);objj_msgSend(b,"showMenu:fromMenu:atPoint:",objj_msgSend(a,"submenu"),objj_msgSend(a,"menu"),d);objj_msgSend(b,"moveDown:",objj_msgSend(a,"submenu"))}}else objj_msgSend(b,"trackingMenu")==objj_msgSend(CPApp,"mainMenu")&&(objj_msgSend(b,"showMenu:fromMenu:atPoint:",nil,e,CGPointMakeZero()),objj_msgSend(b,"moveDown:",objj_msgSend(CPApp,
"mainMenu")),a=objj_msgSend(objj_msgSend(CPApp,"mainMenu"),"highlightedItem"),e=CGPointMake(objj_msgSend(objj_msgSend(a,"_menuItemView"),"frameOrigin").x,objj_msgSend(objj_msgSend(a,"_menuItemView"),"frameSize").height),objj_msgSend(b,"showMenu:fromMenu:atPoint:",objj_msgSend(a,"submenu"),objj_msgSend(a,"menu"),e))}),new objj_method(sel_getUid("moveDown:"),function(b,a,e){with(b)a=e._highlightedIndex+1,a<objj_msgSend(e,"numberOfItems")&&(objj_msgSend(e,"_highlightItemAtIndex:",a),a=objj_msgSend(e,
"highlightedItem"),(objj_msgSend(a,"isSeparatorItem")||objj_msgSend(a,"isHidden")||!objj_msgSend(a,"isEnabled"))&&objj_msgSend(b,"moveDown:",e))}),new objj_method(sel_getUid("moveUp:"),function(b,a,e){with(b){a=e._highlightedIndex-1;if(a<0)return;objj_msgSend(e,"_highlightItemAtIndex:",a);a=objj_msgSend(e,"highlightedItem");(objj_msgSend(a,"isSeparatorItem")||objj_msgSend(a,"isHidden")||!objj_msgSend(a,"isEnabled"))&&objj_msgSend(b,"moveUp:",e)}}),new objj_method(sel_getUid("insertNewline:"),function(b,
a,e){with(b)objj_msgSend(objj_msgSend(e,"highlightedItem"),"hasSubmenu")?objj_msgSend(b,"moveRight:",e):objj_msgSend(e,"cancelTracking")}),new objj_method(sel_getUid("cancelOperation:"),function(b,a,e){with(b)objj_msgSend(e,"_highlightItemAtIndex:",CPNotFound),objj_msgSend(CPEvent,"stopPeriodicEvents"),objj_msgSend(objj_msgSend(b,"trackingMenu"),"cancelTracking")})]);class_addMethods(b,[new objj_method(sel_getUid("sharedMenuManager"),function(b){with(b)return f||(f=objj_msgSend(objj_msgSend(_CPMenuManager,
"alloc"),"init")),f})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPImageAndTextView.j",baseURL),function(h,g){g("Foundation/CPString.j",NO);g("CPColor.j",YES);g("CPFont.j",YES);g("CPImage.j",YES);g("CPView.j",YES);g("CPControl.j",YES);var f=objj_allocateClassPair(CPView,"_CPImageAndTextView");class_addIvars(f,[new objj_ivar("_alignment"),new objj_ivar("_verticalAlignment"),new objj_ivar("_lineBreakMode"),new objj_ivar("_textColor"),new objj_ivar("_font"),new objj_ivar("_textShadowColor"),new objj_ivar("_textShadowOffset"),
new objj_ivar("_imagePosition"),new objj_ivar("_imageScaling"),new objj_ivar("_imageOffset"),new objj_ivar("_shouldDimImage"),new objj_ivar("_image"),new objj_ivar("_text"),new objj_ivar("_textSize"),new objj_ivar("_flags"),new objj_ivar("_DOMImageElement"),new objj_ivar("_DOMTextElement"),new objj_ivar("_DOMTextShadowElement")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:control:"),function(d,b,c,a){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("_CPImageAndTextView").super_class},
"initWithFrame:",c))_textShadowOffset={width:0,height:0},objj_msgSend(d,"setVerticalAlignment:",CPTopVerticalTextAlignment),a?(objj_msgSend(d,"setLineBreakMode:",objj_msgSend(a,"lineBreakMode")),objj_msgSend(d,"setTextColor:",objj_msgSend(a,"textColor")),objj_msgSend(d,"setAlignment:",objj_msgSend(a,"alignment")),objj_msgSend(d,"setVerticalAlignment:",objj_msgSend(a,"verticalAlignment")),objj_msgSend(d,"setFont:",objj_msgSend(a,"font")),objj_msgSend(d,"setImagePosition:",objj_msgSend(a,"imagePosition")),
objj_msgSend(d,"setImageScaling:",objj_msgSend(a,"imageScaling")),objj_msgSend(d,"setImageOffset:",objj_msgSend(a,"imageOffset"))):(objj_msgSend(d,"setLineBreakMode:",CPLineBreakByClipping),objj_msgSend(d,"setAlignment:",CPCenterTextAlignment),objj_msgSend(d,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",12)),objj_msgSend(d,"setImagePosition:",CPNoImage),objj_msgSend(d,"setImageScaling:",CPScaleNone)),_textSize=nil;return d}}),new objj_method(sel_getUid("initWithFrame:"),function(d,b,c){with(d)return objj_msgSend(d,
"initWithFrame:control:",c,nil)}),new objj_method(sel_getUid("setAlignment:"),function(d,b,c){with(d){if(_alignment===c)return;_alignment=c;switch(_alignment){case CPLeftTextAlignment:_DOMElement.style.textAlign="left";break;case CPRightTextAlignment:_DOMElement.style.textAlign="right";break;case CPCenterTextAlignment:_DOMElement.style.textAlign="center";break;case CPJustifiedTextAlignment:_DOMElement.style.textAlign="justify";break;case CPNaturalTextAlignment:_DOMElement.style.textAlign=""}}}),new objj_method(sel_getUid("alignment"),
function(d){with(d)return _alignment}),new objj_method(sel_getUid("setVerticalAlignment:"),function(d,b,c){with(d){if(_verticalAlignment===c)return;_verticalAlignment=c;_flags|=16;objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("verticalAlignment"),function(d){with(d)return _verticalAlignment}),new objj_method(sel_getUid("setLineBreakMode:"),function(d,b,c){with(d){if(_lineBreakMode===c)return;_lineBreakMode=c;_flags|=32;objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("lineBreakMode"),
function(d){with(d)return _lineBreakMode}),new objj_method(sel_getUid("setImagePosition:"),function(d,b,c){with(d){if(_imagePosition==c)return;_imagePosition==CPNoImage&&(_flags|=2);_imagePosition=c;_flags|=512;objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("imagePosition"),function(d){with(d)return _imagePosition}),new objj_method(sel_getUid("setImageScaling:"),function(d,b,c){with(d){if(_imageScaling==c)return;_imageScaling=c;_flags|=1024;objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("imageScaling"),
function(d){with(d)return _imageScaling}),new objj_method(sel_getUid("setDimsImage:"),function(d,b,c){with(d)c=!!c,_shouldDimImage!==c&&(_shouldDimImage=c,objj_msgSend(d,"setNeedsLayout"))}),new objj_method(sel_getUid("setTextColor:"),function(d,b,c){with(d){if(_textColor===c)return;_textColor=c;_DOMElement.style.color=objj_msgSend(_textColor,"cssString")}}),new objj_method(sel_getUid("textColor"),function(d){with(d)return _textColor}),new objj_method(sel_getUid("setFont:"),function(d,b,c){with(d){if(_font===
c)return;_font=c;_flags|=128;_textSize=nil;objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("font"),function(d){with(d)return _font}),new objj_method(sel_getUid("setTextShadowColor:"),function(d,b,c){with(d){if(_textShadowColor===c)return;_textShadowColor=c;_flags|=256;objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("textShadowColor"),function(d){with(d)return _textShadowColor}),new objj_method(sel_getUid("setTextShadowOffset:"),function(d,b,c){with(d){if(_textShadowOffset.width==
c.width&&_textShadowOffset.height==c.height)return;_textShadowOffset={width:c.width,height:c.height};objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("textShadowOffset"),function(d){with(d)return _textShadowOffset}),new objj_method(sel_getUid("setImage:"),function(d,b,c){with(d){if(_image==c)return;objj_msgSend(_image,"delegate")===d&&objj_msgSend(_image,"setDelegate:",nil);_image=c;_flags|=2;objj_msgSend(_image,"loadStatus")!==CPImageLoadStatusCompleted&&objj_msgSend(_image,"setDelegate:",
d);objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("setImageOffset:"),function(d,b,c){with(d){if(_imageOffset===c)return;_imageOffset=c;objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("imageOffset"),function(d){with(d)return _imageOffset}),new objj_method(sel_getUid("imageDidLoad:"),function(d,b,c){with(d)c===_image&&(_flags|=2,objj_msgSend(d,"setNeedsLayout"))}),new objj_method(sel_getUid("image"),function(d){with(d)return _image}),new objj_method(sel_getUid("setText:"),
function(d,b,c){with(d){if(_text===c)return;_text=c;_flags|=4;_textSize=nil;objj_msgSend(d,"setNeedsLayout")}}),new objj_method(sel_getUid("text"),function(d){with(d)return _text}),new objj_method(sel_getUid("layoutSubviews"),function(d){with(d){var b=_imagePosition!==CPImageOnly&&objj_msgSend(_text,"length")>0,c=!!_DOMTextElement;if(b!==c)c?(_DOMElement.removeChild(_DOMTextElement),_DOMTextElement=nil,c=NO):(_DOMTextElement=document.createElement("div"),b=_DOMTextElement.style,b.position="absolute",
b.whiteSpace="pre",b.zIndex=200,b.overflow="hidden",_DOMElement.appendChild(_DOMTextElement),c=YES,_flags|=164);b=c?_DOMTextElement.style:nil;var a=!!_DOMTextShadowElement;if((c&&!!_textShadowColor)!==a)a?(_DOMElement.removeChild(_DOMTextShadowElement),_DOMTextShadowElement=nil,a=NO):(_DOMTextShadowElement=document.createElement("div"),a=_DOMTextShadowElement.style,a.font=objj_msgSend(_font?_font:objj_msgSend(CPFont,"systemFontOfSize:",12),"cssString"),a.position="absolute",a.whiteSpace=b.whiteSpace,
a.wordWrap=b.wordWrap,a.color=objj_msgSend(_textShadowColor,"cssString"),a.zIndex=150,a.textOverflow=b.textOverflow,document.attachEvent?a.overflow=b.overflow:(a.overflowX=b.overflowX,a.overflowY=b.overflowY),_DOMElement.appendChild(_DOMTextShadowElement),a=YES,_flags|=4);a=a?_DOMTextShadowElement.style:nil;if(c){if(_flags&4)if(CPFeatureIsCompatible(CPJavaScriptInnerTextFeature)){if(_DOMTextElement.innerText=_text,_DOMTextShadowElement)_DOMTextShadowElement.innerText=_text}else if(CPFeatureIsCompatible(CPJavaScriptTextContentFeature)&&
(_DOMTextElement.textContent=_text,_DOMTextShadowElement))_DOMTextShadowElement.textContent=_text;if(_flags&128){var e=objj_msgSend(_font?_font:objj_msgSend(CPFont,"systemFontOfSize:",12),"cssString");b.font=e;if(a)a.font=e}if(_flags&32){switch(_lineBreakMode){case CPLineBreakByClipping:b.overflow="hidden";b.textOverflow="clip";b.whiteSpace="pre";b.wordWrap="normal";break;case CPLineBreakByTruncatingHead:case CPLineBreakByTruncatingMiddle:case CPLineBreakByTruncatingTail:b.textOverflow="ellipsis";
b.whiteSpace="nowrap";b.overflow="hidden";b.wordWrap="normal";break;case CPLineBreakByCharWrapping:case CPLineBreakByWordWrapping:b.wordWrap="break-word";try{b.whiteSpace="pre",b.whiteSpace="-o-pre-wrap",b.whiteSpace="-pre-wrap",b.whiteSpace="-moz-pre-wrap",b.whiteSpace="pre-wrap"}catch(f){b.whiteSpace="pre"}b.overflow="hidden";b.textOverflow="clip"}if(a)document.attachEvent?a.overflow=b.overflow:(a.overflowX=b.overflowX,a.overflowY=b.overflowY),a.wordWrap=b.wordWrap,a.whiteSpace=b.whiteSpace,a.textOverflow=
b.textOverflow}}var g=!!_DOMImageElement;if((_image!==nil&&_imagePosition!==CPNoImage)!==g)if(g)_DOMElement.removeChild(_DOMImageElement),_DOMImageElement=nil,g=NO;else{_DOMImageElement=document.createElement("img");objj_msgSend(CPPlatform,"supportsDragAndDrop")&&(_DOMImageElement.setAttribute("draggable","true"),_DOMImageElement.style["-khtml-user-drag"]="element");var n=_DOMImageElement.style;n.top="0px";n.left="0px";n.position="absolute";n.zIndex=100;_DOMElement.appendChild(_DOMImageElement);g=
YES}e=objj_msgSend(d,"bounds").size;d={origin:{x:0,y:0},size:{width:e.width,height:e.height}};if(g){if(!n)n=_DOMImageElement.style;if(_flags&2)_DOMImageElement.src=objj_msgSend(_image,"filename");g=e.width/2;var h=e.height/2,j=objj_msgSend(_image,"size"),k=j.width;j=j.height;if(_imageScaling===CPScaleToFit)k=e.width,j=e.height;else if(_imageScaling===CPScaleProportionally){var l=MIN(MIN(e.width,k)/k,MIN(e.height,j)/j);k*=l;j*=l}CPFeatureIsCompatible(CPOpacityRequiresFilterFeature)?n.filter="alpha(opacity="+
_shouldDimImage?35:"100)":n.opacity=_shouldDimImage?0.35:1;_DOMImageElement.width=k;_DOMImageElement.height=j;n.width=MAX(k,0)+"px";n.height=MAX(j,0)+"px";if(_imagePosition===CPImageBelow)n.left=FLOOR(g-k/2)+"px",n.top=FLOOR(e.height-j)+"px",d.size.height=e.height-j-_imageOffset;else if(_imagePosition===CPImageAbove)n.left=FLOOR(g-k/2)+"px",n.top="0px",d.origin.y+=j+_imageOffset,d.size.height=e.height-j-_imageOffset;else if(_imagePosition===CPImageLeft)n.top=FLOOR(h-j/2)+"px",n.left="0px",d.origin.x=
k+_imageOffset,d.size.width-=k+_imageOffset;else if(_imagePosition===CPImageRight)n.top=FLOOR(h-j/2)+"px",n.left=FLOOR(e.width-k)+"px",d.size.width-=k+_imageOffset;else if(_imagePosition===CPImageOnly||_imagePosition==CPImageOverlaps)n.top=FLOOR(h-j/2)+"px",n.left=FLOOR(g-k/2)+"px"}if(c){c=d.origin.x;n=d.origin.y;e=d.size.width;d=d.size.height;if(_verticalAlignment!==CPTopVerticalTextAlignment)_textSize||(_textSize=_lineBreakMode===CPLineBreakByCharWrapping||_lineBreakMode===CPLineBreakByWordWrapping?
objj_msgSend(_text,"sizeWithFont:inWidth:",_font,e):objj_msgSend(_text,"sizeWithFont:",_font)),_verticalAlignment===CPCenterVerticalTextAlignment?n+=(d-_textSize.height)/2:n=n+d-_textSize.height,d=_textSize.height;b.top=ROUND(n)+"px";b.left=ROUND(c)+"px";b.width=MAX(ROUND(e),0)+"px";b.height=MAX(ROUND(d),0)+"px";if(a){if(_flags&256)a.color=objj_msgSend(_textShadowColor,"cssString");a.top=ROUND(n+_textShadowOffset.height)+"px";a.left=ROUND(c+_textShadowOffset.width)+"px";a.width=MAX(ROUND(e),0)+"px";
a.height=MAX(ROUND(d),0)+"px"}}_flags=0}}),new objj_method(sel_getUid("sizeToFit"),function(d){with(d){var b=CGSizeMakeZero();if(_imagePosition!==CPNoImage&&_image){var c=objj_msgSend(_image,"size");b.width+=c.width;b.height+=c.height}if(_imagePosition!==CPImageOnly&&objj_msgSend(_text,"length")>0)if(_textSize||(_textSize=objj_msgSend(_text,"sizeWithFont:",_font?_font:objj_msgSend(CPFont,"systemFontOfSize:",12))),!_image||_imagePosition===CPImageOverlaps)b.width=MAX(b.width,_textSize.width),b.height=
MAX(b.height,_textSize.height);else if(_imagePosition===CPImageLeft||_imagePosition===CPImageRight)b.width+=_textSize.width+_imageOffset,b.height=MAX(b.height,_textSize.height);else if(_imagePosition===CPImageAbove||_imagePosition===CPImageBelow)b.width=MAX(b.width,_textSize.width),b.height+=_textSize.height+_imageOffset;objj_msgSend(d,"setFrameSize:",b)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPDragServer.j",baseURL),function(h,g){g("CPApplication.j",YES);g("CPEvent.j",YES);g("CPImageView.j",YES);g("CPPasteboard.j",YES);g("CPView.j",YES);g("CPWindow.j",YES);CPDragOperationNone=0;CPDragOperationLink=CPDragOperationCopy=2;CPDragOperationGeneric=4;CPDragOperationPrivate=8;CPDragOperationMove=16;CPDragOperationDelete=32;CPDragOperationEvery=-1;var f=nil,d=nil,b=objj_allocateClassPair(CPObject,"CPDraggingInfo"),c=b.isa;objj_registerClassPair(b);
class_addMethods(b,[new objj_method(sel_getUid("draggingPasteboard"),function(a){with(a){if(objj_msgSend(CPPlatform,"supportsDragAndDrop"))return objj_msgSend(_CPDOMDataTransferPasteboard,"DOMDataTransferPasteboard");return objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingPasteboard")}}),new objj_method(sel_getUid("draggingSource"),function(a){with(a)return objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingSource")}),new objj_method(sel_getUid("draggingLocation"),
function(a){with(a)return objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingLocation")}),new objj_method(sel_getUid("draggingDestinationWindow"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingDestination"),"isKindOfClass:",objj_msgSend(CPWindow,"class"))?objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingDestination"):objj_msgSend(objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingDestination"),
"window")}),new objj_method(sel_getUid("draggedImage"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"draggedView"),"image")}),new objj_method(sel_getUid("draggedImageLocation"),function(a){with(a)return objj_msgSend(a,"draggedViewLocation")}),new objj_method(sel_getUid("draggedView"),function(a){with(a)return objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggedView")}),new objj_method(sel_getUid("draggedViewLocation"),function(a){with(a)return a=objj_msgSend(CPDragServer,"sharedDragServer"),
objj_msgSend(objj_msgSend(objj_msgSend(a,"draggingDestination"),"isKindOfClass:",objj_msgSend(CPWindow,"class"))?objj_msgSend(a,"draggingDestination"):objj_msgSend(objj_msgSend(a,"draggingDestination"),"window"),"convertPlatformWindowToBase:",objj_msgSend(objj_msgSend(a,"draggedView"),"frame").origin)})]);b=objj_allocateClassPair(CPObject,"CPDragServer");c=b.isa;class_addIvars(b,[new objj_ivar("_isDragging"),new objj_ivar("_draggedWindow"),new objj_ivar("_draggedView"),new objj_ivar("_imageView"),
new objj_ivar("_isDraggingImage"),new objj_ivar("_draggingOffset"),new objj_ivar("_draggingPasteboard"),new objj_ivar("_draggingSource"),new objj_ivar("_implementedDraggingSourceMethods"),new objj_ivar("_draggingLocation"),new objj_ivar("_draggingDestination"),new objj_ivar("_draggingDestinationWantsPeriodicUpdates"),new objj_ivar("_startDragLocation"),new objj_ivar("_shouldSlideBack"),new objj_ivar("_dragOperation"),new objj_ivar("_draggingUpdateTimer")]);objj_registerClassPair(b);class_addMethods(b,
[new objj_method(sel_getUid("isDragging"),function(a){with(a)return _isDragging}),new objj_method(sel_getUid("draggedWindow"),function(a){with(a)return _draggedWindow}),new objj_method(sel_getUid("draggedView"),function(a){with(a)return _draggedView}),new objj_method(sel_getUid("draggingOffset"),function(a){with(a)return _draggingOffset}),new objj_method(sel_getUid("draggingPasteboard"),function(a){with(a)return _draggingPasteboard}),new objj_method(sel_getUid("draggingSource"),function(a){with(a)return _draggingSource}),
new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPDragServer").super_class},"init"))_draggedWindow=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",{origin:{x:0,y:0},size:{width:0,height:0}},CPBorderlessWindowMask),objj_msgSend(_draggedWindow,"setLevel:",CPDraggingWindowLevel);return a}}),new objj_method(sel_getUid("draggingDestination"),function(a){with(a)return _draggingDestination}),new objj_method(sel_getUid("draggingLocation"),
function(a){with(a)return _draggingLocation}),new objj_method(sel_getUid("draggingStartedInPlatformWindow:globalLocation:"),function(a,b,c,d){with(a)_isDraggingImage?objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedImage:beganAt:"))&&objj_msgSend(_draggingSource,"draggedImage:beganAt:",objj_msgSend(_draggedView,"image"),d):objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedView:beganAt:"))&&objj_msgSend(_draggingSource,"draggedView:beganAt:",_draggedView,d),
objj_msgSend(CPPlatform,"supportsDragAndDrop")||objj_msgSend(_draggedWindow,"orderFront:",a)}),new objj_method(sel_getUid("draggingSourceUpdatedWithGlobalLocation:"),function(a,b,c){with(a)objj_msgSend(CPPlatform,"supportsDragAndDrop")||objj_msgSend(_draggedWindow,"setFrameOrigin:",{x:c.x-_draggingOffset.width,y:c.y-_draggingOffset.height}),_implementedDraggingSourceMethods&1?objj_msgSend(_draggingSource,"draggedImage:movedTo:",objj_msgSend(_draggedView,"image"),c):_implementedDraggingSourceMethods&
4&&objj_msgSend(_draggingSource,"draggedView:movedTo:",_draggedView,c)}),new objj_method(sel_getUid("draggingUpdatedInPlatformWindow:location:"),function(a,b,c,f){with(a){objj_msgSend(_draggingUpdateTimer,"invalidate");_draggingUpdateTimer=nil;b=CPDragOperationCopy;var g=objj_msgSend(c,"_dragHitTest:pasteboard:",f,objj_msgSend(d,"draggingPasteboard"));g&&(_draggingLocation=objj_msgSend(objj_msgSend(g,"isKindOfClass:",objj_msgSend(CPWindow,"class"))?g:objj_msgSend(g,"window"),"convertPlatformWindowToBase:",
f));g!==_draggingDestination?(objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("draggingExited:"))&&objj_msgSend(_draggingDestination,"draggingExited:",d),_draggingDestination=g,_draggingDestinationWantsPeriodicUpdates=objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("wantsPeriodicDraggingUpdates"))?objj_msgSend(_draggingDestination,"wantsPeriodicDraggingUpdates"):YES,objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("draggingEntered:"))&&(b=objj_msgSend(_draggingDestination,
"draggingEntered:",d))):objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("draggingUpdated:"))&&(b=objj_msgSend(_draggingDestination,"draggingUpdated:",d));if(_draggingDestination){if(_draggingDestinationWantsPeriodicUpdates&&(_draggingUpdateTimer=objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",0.05,a,sel_getUid("_sendPeriodicDraggingUpdate:"),objj_msgSend(CPDictionary,"dictionaryWithJSObject:",{platformWindow:c,location:f}),NO)),a=objj_msgSend(_draggingDestination,
"isKindOfClass:",objj_msgSend(CPView,"class"))?objj_msgSend(_draggingDestination,"enclosingScrollView"):nil){c=objj_msgSend(a,"contentView");f=objj_msgSend(c,"bounds");g=CGRectInset(f,10,10);var h=objj_msgSend(c,"convertPoint:fromView:",_draggingLocation,nil),j=0,k=0;if(!CGRectContainsPoint(g,h)){if(objj_msgSend(a,"hasVerticalScroller")&&(h.y<CGRectGetMinY(g)?k=CGRectGetMinY(g)-h.y:h.y>CGRectGetMaxY(g)&&(k=CGRectGetMaxY(g)-h.y),k<-g.size.height&&(k=-g.size.height),k>g.size.height))k=g.size.height;
if(objj_msgSend(a,"hasHorizontalScroller")&&(h.x<CGRectGetMinX(g)?j=CGRectGetMinX(g)-h.x:h.x>CGRectGetMaxX(g)&&(j=CGRectGetMaxX(g)-h.x),j<-g.size.width&&(j=-g.size.width),j>g.size.width))j=g.size.width;objj_msgSend(c,"scrollToPoint:",CGPointMake(f.origin.x-j,f.origin.y-k))}}}else b=CPDragOperationNone;return b}}),new objj_method(sel_getUid("_sendPeriodicDraggingUpdate:"),function(a,b,c){with(a)b=objj_msgSend(c,"userInfo"),_dragOperation=objj_msgSend(a,"draggingUpdatedInPlatformWindow:location:",objj_msgSend(b,
"objectForKey:","platformWindow"),objj_msgSend(b,"objectForKey:","location"))}),new objj_method(sel_getUid("draggingEndedInPlatformWindow:globalLocation:operation:"),function(a,b,c,d,f){with(a)objj_msgSend(_draggingUpdateTimer,"invalidate"),_draggingUpdateTimer=nil,objj_msgSend(_draggedView,"removeFromSuperview"),objj_msgSend(CPPlatform,"supportsDragAndDrop")||objj_msgSend(_draggedWindow,"orderOut:",a),_implementedDraggingSourceMethods&2?objj_msgSend(_draggingSource,"draggedImage:endedAt:operation:",
objj_msgSend(_draggedView,"image"),d,f):_implementedDraggingSourceMethods&8&&objj_msgSend(_draggingSource,"draggedView:endedAt:operation:",_draggedView,d,f),_isDragging=NO}),new objj_method(sel_getUid("performDragOperationInPlatformWindow:"),function(a){with(a)_draggingDestination&&(!objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("prepareForDragOperation:"))||objj_msgSend(_draggingDestination,"prepareForDragOperation:",d))&&(!objj_msgSend(_draggingDestination,"respondsToSelector:",
sel_getUid("performDragOperation:"))||objj_msgSend(_draggingDestination,"performDragOperation:",d))&&objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("concludeDragOperation:"))&&objj_msgSend(_draggingDestination,"concludeDragOperation:",d)}),new objj_method(sel_getUid("dragView:fromWindow:at:offset:event:pasteboard:source:slideBack:"),function(a,b,c,d,f,g,h,k,l,w){with(a)_isDragging=YES,_draggedView=c,_draggingPasteboard=k||objj_msgSend(CPPasteboard,"pasteboardWithName:",CPDragPboard),
_draggingSource=l,_draggingDestination=nil,_shouldSlideBack=w,b=objj_msgSend(h,"window"),(g=objj_msgSend(h,"locationInWindow"))?(b&&(g=objj_msgSend(b,"convertBaseToGlobal:",g)),_draggingOffset={width:g.x-f.x,height:g.y-f.y}):_draggingOffset={width:0,height:0},objj_msgSend(CPPlatform,"isBrowser")&&objj_msgSend(_draggedWindow,"setPlatformWindow:",objj_msgSend(d,"platformWindow")),objj_msgSend(c,"setFrameOrigin:",{x:0,y:0}),f=objj_msgSend(CPEvent,"mouseLocation"),_startDragLocation={x:f.x-_draggingOffset.width,
y:f.y-_draggingOffset.height},objj_msgSend(_draggedWindow,"setFrameOrigin:",_startDragLocation),objj_msgSend(_draggedWindow,"setFrameSize:",objj_msgSend(c,"frame").size),objj_msgSend(objj_msgSend(_draggedWindow,"contentView"),"addSubview:",c),_implementedDraggingSourceMethods=0,_draggedView===_imageView?(objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedImage:movedTo:"))&&(_implementedDraggingSourceMethods|=1),objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedImage:endedAt:operation:"))&&
(_implementedDraggingSourceMethods|=2)):(objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedView:movedTo:"))&&(_implementedDraggingSourceMethods|=4),objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedView:endedAt:operation:"))&&(_implementedDraggingSourceMethods|=8)),objj_msgSend(CPPlatform,"supportsDragAndDrop")||(objj_msgSend(a,"draggingStartedInPlatformWindow:globalLocation:",objj_msgSend(d,"platformWindow"),f),objj_msgSend(a,"trackDragging:",h))}),new objj_method(sel_getUid("dragImage:fromWindow:at:offset:event:pasteboard:source:slideBack:"),
function(a,b,c,d,f,g,h,k,l,w){with(a)_isDraggingImage=YES,b=objj_msgSend(c,"size"),_imageView||(_imageView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:b.width,height:b.height}})),objj_msgSend(_imageView,"setImage:",c),objj_msgSend(a,"dragView:fromWindow:at:offset:event:pasteboard:source:slideBack:",_imageView,d,f,g,h,k,l,w)}),new objj_method(sel_getUid("trackDragging:"),function(a,b,c){with(a){b=objj_msgSend(c,"type");var d=objj_msgSend(_draggedWindow,
"platformWindow"),f=objj_msgSend(objj_msgSend(c,"window"),"convertBaseToPlatformWindow:",objj_msgSend(c,"locationInWindow"));if(b===CPLeftMouseUp){_dragOperation!==CPDragOperationNone&&objj_msgSend(a,"performDragOperationInPlatformWindow:",d);objj_msgSend(a,"draggingEndedInPlatformWindow:globalLocation:operation:",d,f,_dragOperation);return}else if(b===CPKeyDown){if(objj_msgSend(c,"characters")===CPEscapeFunctionKey){_dragOperation=CPDragOperationNone;objj_msgSend(a,"draggingEndedInPlatformWindow:globalLocation:operation:",
d,CGPointMakeZero(),_dragOperation);return}}else objj_msgSend(a,"draggingSourceUpdatedWithGlobalLocation:",f),_dragOperation=objj_msgSend(a,"draggingUpdatedInPlatformWindow:location:",d,f);objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",a,sel_getUid("trackDragging:"),CPMouseMovedMask|CPLeftMouseDraggedMask|CPLeftMouseUpMask|CPKeyDownMask,nil,0,NO)}})]);class_addMethods(c,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==objj_msgSend(CPDragServer,
"class"))return;d=objj_msgSend(objj_msgSend(CPDraggingInfo,"alloc"),"init")}}),new objj_method(sel_getUid("sharedDragServer"),function(a){with(a)return f||(f=objj_msgSend(objj_msgSend(CPDragServer,"alloc"),"init")),f})]);b=objj_getClass("CPWindow");if(!b)throw new SyntaxError('*** Could not find definition for class "CPWindow"');c=b.isa;class_addMethods(b,[new objj_method(sel_getUid("_dragHitTest:pasteboard:"),function(a,b,c,d){with(a){if(!_inclusiveRegisteredDraggedTypes)return nil;b=objj_msgSend(a,
"convertPlatformWindowToBase:",c);for(b=objj_msgSend(_windowView,"hitTest:",b);b&&!objj_msgSend(d,"availableTypeFromArray:",objj_msgSend(b,"registeredDraggedTypes"));)b=objj_msgSend(b,"superview");if(b)return b;if(objj_msgSend(d,"availableTypeFromArray:",objj_msgSend(a,"registeredDraggedTypes")))return a;return nil}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuBarWindow.j",baseURL),function(h,g){g("CPPanel.j",YES);g("_CPMenuWindow.j",YES);var f=nil,d=nil,b=objj_allocateClassPair(CPPanel,"_CPMenuBarWindow"),c=b.isa;class_addIvars(b,[new objj_ivar("_menu"),new objj_ivar("_highlightView"),new objj_ivar("_menuItemViews"),new objj_ivar("_trackingMenuItem"),new objj_ivar("_iconImageView"),new objj_ivar("_titleField"),new objj_ivar("_textColor"),new objj_ivar("_titleColor"),new objj_ivar("_textShadowColor"),
new objj_ivar("_titleShadowColor"),new objj_ivar("_highlightColor"),new objj_ivar("_highlightTextColor"),new objj_ivar("_highlightTextShadowColor")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("init"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),"contentBounds");b.size.height=28;if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuBarWindow").super_class},"initWithContentRect:styleMask:",b,CPBorderlessWindowMask))objj_msgSend(a,
"setLevel:",CPMainMenuWindowLevel),objj_msgSend(a,"setAutoresizingMask:",CPWindowWidthSizable),b=objj_msgSend(a,"contentView"),objj_msgSend(b,"setAutoresizesSubviews:",NO),objj_msgSend(a,"setBecomesKeyOnlyIfNeeded:",YES),_iconImageView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMake(0,0,16,16)),objj_msgSend(b,"addSubview:",_iconImageView),_titleField=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_titleField,"setFont:",objj_msgSend(CPFont,
"boldSystemFontOfSize:",13)),objj_msgSend(_titleField,"setAlignment:",CPCenterTextAlignment),objj_msgSend(_titleField,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(b,"addSubview:",_titleField);return a}}),new objj_method(sel_getUid("setTitle:"),function(a,b,c){with(a)b=objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"objectForInfoDictionaryKey:","CPBundleName"),document.title=objj_msgSend(b,"length")?objj_msgSend(c,"length")?c+" - "+b:b:c,objj_msgSend(_titleField,"setStringValue:",c),objj_msgSend(_titleField,
"sizeToFit"),objj_msgSend(a,"tile")}),new objj_method(sel_getUid("setIconImage:"),function(a,b,c){with(a)objj_msgSend(_iconImageView,"setImage:",c),objj_msgSend(_iconImageView,"setHidden:",c==nil),objj_msgSend(a,"tile")}),new objj_method(sel_getUid("setIconImageAlphaValue:"),function(a,b,c){with(a)objj_msgSend(_iconImageView,"setAlphaValue:",c)}),new objj_method(sel_getUid("setColor:"),function(a,b,c){with(a)c?objj_msgSend(objj_msgSend(a,"contentView"),"setBackgroundColor:",c):(f||(f=objj_msgSend(CPColor,
"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_CPMenuBarWindow,"class")),"pathForResource:","_CPMenuBarWindow/_CPMenuBarWindowBackground.png"),CGSizeMake(1,28)))),objj_msgSend(objj_msgSend(a,"contentView"),"setBackgroundColor:",f))}),new objj_method(sel_getUid("setTextColor:"),function(a,b,c){with(a){if(_textColor==c)return;_textColor=c;objj_msgSend(_menuItemViews,"makeObjectsPerformSelector:withObject:",
sel_getUid("setTextColor:"),_textColor)}}),new objj_method(sel_getUid("setTitleColor:"),function(a,b,c){with(a){if(_titleColor==c)return;_titleColor=c;objj_msgSend(_titleField,"setTextColor:",c?c:objj_msgSend(CPColor,"blackColor"))}}),new objj_method(sel_getUid("setTextShadowColor:"),function(a,b,c){with(a){if(_textShadowColor==c)return;_textShadowColor=c;objj_msgSend(_menuItemViews,"makeObjectsPerformSelector:withObject:",sel_getUid("setTextShadowColor:"),_textShadowColor)}}),new objj_method(sel_getUid("setTitleShadowColor:"),
function(a,b,c){with(a){if(_titleShadowColor==c)return;_titleShadowColor=c;objj_msgSend(_titleField,"setTextShadowColor:",c?c:objj_msgSend(CPColor,"whiteColor"))}}),new objj_method(sel_getUid("setHighlightColor:"),function(a,b,c){with(a){if(_highlightColor==c)return;_highlightColor=c}}),new objj_method(sel_getUid("setHighlightTextColor:"),function(a,b,c){with(a){if(_highlightTextColor==c)return;_highlightTextColor=c}}),new objj_method(sel_getUid("setHighlightTextShadowColor:"),function(a,b,c){with(a){if(_highlightTextShadowColor==
c)return;_highlightTextShadowColor=c}}),new objj_method(sel_getUid("setMenu:"),function(a,b,c){with(a){if(_menu==c)return;var d=objj_msgSend(CPNotificationCenter,"defaultCenter");if(_menu){objj_msgSend(d,"removeObserver:name:object:",a,CPMenuDidAddItemNotification,_menu);objj_msgSend(d,"removeObserver:name:object:",a,CPMenuDidChangeItemNotification,_menu);objj_msgSend(d,"removeObserver:name:object:",a,CPMenuDidRemoveItemNotification,_menu);b=objj_msgSend(_menu,"itemArray");for(var f=b.length;f--;)objj_msgSend(objj_msgSend(b[f],
"_menuItemView"),"removeFromSuperview")}if(_menu=c)objj_msgSend(d,"addObserver:selector:name:object:",a,sel_getUid("menuDidAddItem:"),CPMenuDidAddItemNotification,_menu),objj_msgSend(d,"addObserver:selector:name:object:",a,sel_getUid("menuDidChangeItem:"),CPMenuDidChangeItemNotification,_menu),objj_msgSend(d,"addObserver:selector:name:object:",a,sel_getUid("menuDidRemoveItem:"),CPMenuDidRemoveItemNotification,_menu);_menuItemViews=[];c=objj_msgSend(a,"contentView");b=objj_msgSend(_menu,"itemArray");
f=b.length;for(index=0;index<f;++index){d=b[index];var g=objj_msgSend(d,"_menuItemView");_menuItemViews.push(g);objj_msgSend(g,"setTextColor:",_textColor);objj_msgSend(g,"setHidden:",objj_msgSend(d,"isHidden"));objj_msgSend(g,"synchronizeWithMenuItem");objj_msgSend(c,"addSubview:",g)}objj_msgSend(a,"tile")}}),new objj_method(sel_getUid("menuDidChangeItem:"),function(a,b,c){with(a)b=objj_msgSend(_menu,"itemAtIndex:",objj_msgSend(objj_msgSend(c,"userInfo"),"objectForKey:","CPMenuItemIndex")),c=objj_msgSend(b,
"_menuItemView"),objj_msgSend(c,"setHidden:",objj_msgSend(b,"isHidden")),objj_msgSend(c,"synchronizeWithMenuItem"),objj_msgSend(a,"tile")}),new objj_method(sel_getUid("menuDidAddItem:"),function(a,b,c){with(a){b=objj_msgSend(objj_msgSend(c,"userInfo"),"objectForKey:","CPMenuItemIndex");c=objj_msgSend(_menu,"itemAtIndex:",b);var d=objj_msgSend(c,"_menuItemView");objj_msgSend(_menuItemViews,"insertObject:atIndex:",d,b);objj_msgSend(d,"setTextColor:",_textColor);objj_msgSend(d,"setHidden:",objj_msgSend(c,
"isHidden"));objj_msgSend(d,"synchronizeWithMenuItem");objj_msgSend(objj_msgSend(a,"contentView"),"addSubview:",d);objj_msgSend(a,"tile")}}),new objj_method(sel_getUid("menuDidRemoveItem:"),function(a,b,c){with(a)b=objj_msgSend(objj_msgSend(c,"userInfo"),"objectForKey:","CPMenuItemIndex"),c=objj_msgSend(_menuItemViews,"objectAtIndex:",b),objj_msgSend(_menuItemViews,"removeObjectAtIndex:",b),objj_msgSend(c,"removeFromSuperview"),objj_msgSend(a,"tile")}),new objj_method(sel_getUid("mouseDown:"),function(a,
b,c){with(a)b=CGRectInset(objj_msgSend(objj_msgSend(a,"platformWindow"),"visibleFrame"),5,0),b.size.height-=5,objj_msgSend(objj_msgSend(_CPMenuManager,"sharedMenuManager"),"beginTracking:menuContainer:constraintRect:callback:",c,a,b,function(a,b){objj_msgSend(b,"_performActionOfHighlightedItemChain");objj_msgSend(b,"_highlightItemAtIndex:",CPNotFound)})}),new objj_method(sel_getUid("font"),function(a){with(a)objj_msgSend(CPFont,"systemFontOfSize:",12)}),new objj_method(sel_getUid("tile"),function(a){with(a){for(var b=
objj_msgSend(_menu,"itemArray"),c=0,d=b.length,f=10,g=YES;c<d;++c){var h=b[c];if(objj_msgSend(h,"isSeparatorItem"))f=CGRectGetWidth(objj_msgSend(a,"frame"))-10,g=NO;else if(!objj_msgSend(h,"isHidden")){h=objj_msgSend(h,"_menuItemView");var k=objj_msgSend(h,"frame");g?(objj_msgSend(h,"setFrame:",CGRectMake(f,0,CGRectGetWidth(k),28)),f+=CGRectGetWidth(objj_msgSend(h,"frame"))):(objj_msgSend(h,"setFrame:",CGRectMake(f-CGRectGetWidth(k),0,CGRectGetWidth(k),28)),f=CGRectGetMinX(objj_msgSend(h,"frame")))}}a=
objj_msgSend(objj_msgSend(a,"contentView"),"bounds");b=objj_msgSend(_titleField,"frame");objj_msgSend(_iconImageView,"isHidden")?objj_msgSend(_titleField,"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-CGRectGetWidth(b))/2,(CGRectGetHeight(a)-CGRectGetHeight(b))/2)):(c=objj_msgSend(_iconImageView,"frame"),d=CGRectGetWidth(c),f=d+CGRectGetWidth(b),objj_msgSend(_iconImageView,"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-f)/2,(CGRectGetHeight(a)-CGRectGetHeight(c))/2)),objj_msgSend(_titleField,
"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-f)/2+d,(CGRectGetHeight(a)-CGRectGetHeight(b))/2)))}}),new objj_method(sel_getUid("setFrame:display:animate:"),function(a,b,c,d,f){with(a)b=objj_msgSend(a,"frame").size,objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuBarWindow").super_class},"setFrame:display:animate:",c,d,f),b.width==c.size.width&&b.height==c.size.height||objj_msgSend(a,"tile")})]);class_addMethods(c,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=
objj_msgSend(_CPMenuBarWindow,"class"))return;objj_msgSend(CPBundle,"bundleForClass:",a);d=objj_msgSend(CPFont,"boldSystemFontOfSize:",12)}}),new objj_method(sel_getUid("font"),function(a){with(a)return d})]);b=objj_getClass("_CPMenuBarWindow");if(!b)throw new SyntaxError('*** Could not find definition for class "_CPMenuBarWindow"');c=b.isa;class_addMethods(b,[new objj_method(sel_getUid("isMenuBar"),function(a){with(a)return YES}),new objj_method(sel_getUid("globalFrame"),function(a){with(a)return objj_msgSend(a,
"frame")}),new objj_method(sel_getUid("scrollingStateForPoint:"),function(a){with(a)return _CPMenuManagerScrollingStateNone}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(a,b,c){with(a){b=objj_msgSend(_menu,"itemArray");for(var d=b.length;d--;){var f=b[d];if(!objj_msgSend(f,"isHidden")&&!objj_msgSend(f,"isSeparatorItem")&&CGRectContainsPoint(objj_msgSend(a,"rectForItemAtIndex:",d),c))return d}return CPNotFound}}),new objj_method(sel_getUid("rectForItemAtIndex:"),function(a,b,c){with(a)return a=
objj_msgSend(_menu,"itemAtIndex:",c===CPNotFound?0:c),objj_msgSend(objj_msgSend(a,"_menuItemView"),"frame")})]);b=objj_allocateClassPair(_CPMenuView,"_CPMenuBarView");c=b.isa;objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("rectForItemAtIndex:"),function(a,b,c){with(a)return objj_msgSend(_menuItemViews[c===CPNotFound?0:c],"frame")}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(a,b,c){with(a){a=objj_msgSend(a,"bounds");if(!CGRectContainsPoint(a,c))return CPNotFound;
c=c.x;a=0;for(b=_visibleMenuItemInfos.length-1;a<=b;){var d=FLOOR(a+(b-a)/2),f=_visibleMenuItemInfos[d],g=objj_msgSend(f.view,"frame");if(c<CGRectGetMinX(g))b=d-1;else if(c>CGRectGetMaxX(g))a=d+1;else return f.index}return CPNotFound}}),new objj_method(sel_getUid("tile"),function(a){with(a){for(var b=objj_msgSend(_menu,"itemArray"),c=0,d=b.length,f=10,g=YES;c<d;++c){var h=b[c];if(objj_msgSend(h,"isSeparatorItem"))f=CGRectGetWidth(objj_msgSend(a,"frame"))-10,g=NO;else if(!objj_msgSend(h,"isHidden")){h=
objj_msgSend(h,"_menuItemView");var k=objj_msgSend(h,"frame");g?(objj_msgSend(h,"setFrameOrigin:",CGPointMake(f,(27-CGRectGetHeight(k))/2)),f+=CGRectGetWidth(objj_msgSend(h,"frame"))+10):(objj_msgSend(h,"setFrameOrigin:",CGPointMake(f-CGRectGetWidth(k),(27-CGRectGetHeight(k))/2)),f=CGRectGetMinX(objj_msgSend(h,"frame"))-10)}}a=objj_msgSend(objj_msgSend(a,"contentView"),"bounds");b=objj_msgSend(_titleField,"frame");objj_msgSend(_iconImageView,"isHidden")?objj_msgSend(_titleField,"setFrameOrigin:",
CGPointMake((CGRectGetWidth(a)-CGRectGetWidth(b))/2,(CGRectGetHeight(a)-CGRectGetHeight(b))/2)):(c=objj_msgSend(_iconImageView,"frame"),d=CGRectGetWidth(c),f=d+CGRectGetWidth(b),objj_msgSend(_iconImageView,"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-f)/2,(CGRectGetHeight(a)-CGRectGetHeight(c))/2)),objj_msgSend(_titleField,"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-f)/2+d,(CGRectGetHeight(a)-CGRectGetHeight(b))/2)))}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPColor.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);g("CGColor.j",YES);g("CPCompatibility.j",YES);g("CPImage.j",YES);var f,d,b,c,a,e,i,q,n,p,j,k,l,w,y,A,s=objj_allocateClassPair(CPObject,"CPColor"),r=s.isa;class_addIvars(s,[new objj_ivar("_components"),new objj_ivar("_patternImage"),new objj_ivar("_cssString")]);objj_registerClassPair(s);class_addMethods(s,[new objj_method(sel_getUid("_initWithCSSString:"),function(a,
b,c){with(a){if(c.indexOf("rgb")==CPNotFound)return nil;a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPColor").super_class},"init");b=c.indexOf("(");b=c.substring(b+1).split(",");_components=[parseInt(b[0],10)/255,parseInt(b[1],10)/255,parseInt(b[2],10)/255,b[3]?parseInt(b[3],10)/255:1];_cssString=c;return a}}),new objj_method(sel_getUid("_initWithRGBA:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPColor").super_class},"init"))_components=
c,b=CPFeatureIsCompatible(CPCSSRGBAFeature)&&_components[3]!=1,_cssString=(b?"rgba(":"rgb(")+parseInt(_components[0]*255)+", "+parseInt(_components[1]*255)+", "+parseInt(_components[2]*255)+(b?", "+_components[3]:"")+")";return a}}),new objj_method(sel_getUid("_initWithPatternImage:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPColor").super_class},"init"))_patternImage=c,_cssString='url("'+objj_msgSend(_patternImage,"filename")+'")',_components=[0,0,0,
1];return a}}),new objj_method(sel_getUid("patternImage"),function(a){with(a)return _patternImage}),new objj_method(sel_getUid("alphaComponent"),function(a){with(a)return _components[3]}),new objj_method(sel_getUid("blueComponent"),function(a){with(a)return _components[2]}),new objj_method(sel_getUid("greenComponent"),function(a){with(a)return _components[1]}),new objj_method(sel_getUid("redComponent"),function(a){with(a)return _components[0]}),new objj_method(sel_getUid("components"),function(a){with(a)return _components}),
new objj_method(sel_getUid("colorWithAlphaComponent:"),function(a,b,c){with(a)return b=_components.slice(),b[b.length-1]=c,objj_msgSend(objj_msgSend(objj_msgSend(a,"class"),"alloc"),"_initWithRGBA:",b)}),new objj_method(sel_getUid("hsbComponents"),function(a){with(a){a=ROUND(_components[0]*255);var b=ROUND(_components[1]*255),c=ROUND(_components[2]*255),e=MAX(a,b,c),d=MIN(a,b,c),f=e-d;d=e/255;var g=e!=0?f/e:0;if(g==0)a=0;else{var i=(e-a)/f,h=(e-b)/f;c=(e-c)/f;a=a==e?c-h:b==e?2+i-c:4+h-i;a/=6;a<0&&
a++}return[ROUND(a*360),ROUND(g*100),ROUND(d*100)]}}),new objj_method(sel_getUid("cssString"),function(a){with(a)return _cssString}),new objj_method(sel_getUid("hexString"),function(a){with(a){var b=objj_msgSend(a,"redComponent"),c=objj_msgSend(a,"greenComponent");a=objj_msgSend(a,"blueComponent");return t(b)+t(c)+t(a)}}),new objj_method(sel_getUid("isEqual:"),function(a,b,c){with(a){if(!c)return NO;if(c===a)return YES;return objj_msgSend(c,"isKindOfClass:",CPColor)&&objj_msgSend(c,"cssString")===
objj_msgSend(a,"cssString")}}),new objj_method(sel_getUid("description"),function(a){with(a)return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPColor").super_class},"description")+" "+objj_msgSend(a,"cssString")})]);class_addMethods(r,[new objj_method(sel_getUid("colorWithRed:green:blue:alpha:"),function(a,b,c,e,d,f){with(a)return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[c,e,d,f])}),new objj_method(sel_getUid("colorWithCalibratedRed:green:blue:alpha:"),function(a,
b,c,e,d,f){with(a)return objj_msgSend(a,"colorWithRed:green:blue:alpha:",c,e,d,f)}),new objj_method(sel_getUid("colorWithWhite:alpha:"),function(a,b,c,e){with(a)return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[c,c,c,e])}),new objj_method(sel_getUid("colorWithCalibratedWhite:alpha:"),function(a,b,c,e){with(a)return objj_msgSend(a,"colorWithWhite:alpha:",c,e)}),new objj_method(sel_getUid("colorWithHue:saturation:brightness:"),function(a,b,c,e,d){with(a)return objj_msgSend(a,"colorWithHue:saturation:brightness:alpha:",
c,e,d,1)}),new objj_method(sel_getUid("colorWithHue:saturation:brightness:alpha:"),function(a,b,c,e,d,f){with(a){if(e===0)return objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",d/100,f);var g=c%60;a=d*(100-e)/1E4;b=d*(6E3-e*g)/6E5;e=d*(6E3-e*(60-g))/6E5;d/=100;switch(FLOOR(c/60)){case 0:return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",d,e,a,f);case 1:return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",b,d,a,f);case 2:return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",
a,d,e,f);case 3:return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",a,b,d,f);case 4:return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",e,a,d,f);case 5:return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",d,a,b,f)}}}),new objj_method(sel_getUid("colorWithHexString:"),function(a,b,c){with(a)return(a=m(c))?objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",a):null}),new objj_method(sel_getUid("blackColor"),function(a){with(a)return f||
(f=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0,0,0,1])),f}),new objj_method(sel_getUid("blueColor"),function(a){with(a)return c||(c=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0,0,1,1])),c}),new objj_method(sel_getUid("darkGrayColor"),function(a){with(a)return q||(q=objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",1/3,1)),q}),new objj_method(sel_getUid("grayColor"),function(a){with(a)return e||(e=objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",0.5,
1)),e}),new objj_method(sel_getUid("greenColor"),function(a){with(a)return b||(b=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0,1,0,1])),b}),new objj_method(sel_getUid("lightGrayColor"),function(a){with(a)return i||(i=objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",2/3,1)),i}),new objj_method(sel_getUid("redColor"),function(a){with(a)return d||(d=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,0,0,1])),d}),new objj_method(sel_getUid("whiteColor"),function(a){with(a)return n||
(n=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,1,1,1])),n}),new objj_method(sel_getUid("yellowColor"),function(b){with(b)return a||(a=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,1,0,1])),a}),new objj_method(sel_getUid("brownColor"),function(a){with(a)return p||(p=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0.6,0.4,0.2,1])),p}),new objj_method(sel_getUid("cyanColor"),function(a){with(a)return j||(j=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",
[0,1,1,1])),j}),new objj_method(sel_getUid("magentaColor"),function(a){with(a)return k||(k=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,0,1,1])),k}),new objj_method(sel_getUid("orangeColor"),function(a){with(a)return l||(l=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,0.5,0,1])),l}),new objj_method(sel_getUid("purpleColor"),function(a){with(a)return w||(w=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0.5,0,0.5,1])),w}),new objj_method(sel_getUid("shadowColor"),
function(a){with(a)return y||(y=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0,0,0,1/3])),y}),new objj_method(sel_getUid("clearColor"),function(a){with(a)return A||(A=objj_msgSend(a,"colorWithCalibratedWhite:alpha:",0,0)),A}),new objj_method(sel_getUid("alternateSelectedControlColor"),function(a){with(a)return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0.22,0.46,0.84,1])}),new objj_method(sel_getUid("secondarySelectedControlColor"),function(a){with(a)return objj_msgSend(objj_msgSend(CPColor,
"alloc"),"_initWithRGBA:",[0.83,0.83,0.83,1])}),new objj_method(sel_getUid("colorWithPatternImage:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithPatternImage:",c)}),new objj_method(sel_getUid("colorWithCSSString:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithCSSString:",c)})]);s=objj_getClass("CPColor");if(!s)throw new SyntaxError('*** Could not find definition for class "CPColor"');r=s.isa;class_addMethods(s,[new objj_method(sel_getUid("set"),
function(a){with(a)objj_msgSend(a,"setFill"),objj_msgSend(a,"setStroke")}),new objj_method(sel_getUid("setFill"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");CGContextSetFillColor(b,a)}}),new objj_method(sel_getUid("setStroke"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");CGContextSetStrokeColor(b,a)}})]);s=objj_getClass("CPColor");if(!s)throw new SyntaxError('*** Could not find definition for class "CPColor"');
r=s.isa;class_addMethods(r,[new objj_method(sel_getUid("randomColor"),function(a){with(a)return objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",RAND(),RAND(),RAND(),1)})]);s=objj_getClass("CPColor");if(!s)throw new SyntaxError('*** Could not find definition for class "CPColor"');r=s.isa;class_addMethods(s,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a){if(objj_msgSend(c,"containsValueForKey:","CPColorPatternImageKey"))return objj_msgSend(a,"_initWithPatternImage:",objj_msgSend(c,
"decodeObjectForKey:","CPColorPatternImageKey"));return objj_msgSend(a,"_initWithRGBA:",objj_msgSend(c,"decodeObjectForKey:","CPColorComponentsKey"))}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a)_patternImage?objj_msgSend(c,"encodeObject:forKey:",_patternImage,"CPColorPatternImageKey"):objj_msgSend(c,"encodeObject:forKey:",_components,"CPColorComponentsKey")})]);var m=function(a){a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2));if(a.length!=
6)return null;a=a.toUpperCase();for(var b=0;b<a.length;b++)if("0123456789ABCDEF".indexOf(a.charAt(b))==-1)return null;b=("0123456789ABCDEF".indexOf(a.charAt(0))*16+"0123456789ABCDEF".indexOf(a.charAt(1)))/255;var c=("0123456789ABCDEF".indexOf(a.charAt(2))*16+"0123456789ABCDEF".indexOf(a.charAt(3)))/255;a=("0123456789ABCDEF".indexOf(a.charAt(4))*16+"0123456789ABCDEF".indexOf(a.charAt(5)))/255;return[b,c,a,1]},t=function(a){if(!a||isNaN(a))return"00";a=FLOOR(MIN(255,MAX(0,256*a)));return"0123456789ABCDEF".charAt((a-
a%16)/16)+"0123456789ABCDEF".charAt(a%16)}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPSlider.j",baseURL),function(h,g){g("CPControl.j",YES);CPLinearSlider=0;CPCircularSlider=1;var f=objj_allocateClassPair(CPControl,"CPSlider"),d=f.isa;class_addIvars(f,[new objj_ivar("_minValue"),new objj_ivar("_maxValue"),new objj_ivar("_altIncrementValue"),new objj_ivar("_isVertical")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:"),function(b,c,a){with(b){if(b=objj_msgSendSuper({receiver:b,
super_class:objj_getClass("CPSlider").super_class},"initWithFrame:",a))_minValue=0,_maxValue=100,objj_msgSend(b,"setObjectValue:",50),objj_msgSend(b,"setContinuous:",YES),objj_msgSend(b,"_recalculateIsVertical");return b}}),new objj_method(sel_getUid("setMinValue:"),function(b,c,a){with(b){if(_minValue===a)return;_minValue=a;objj_msgSend(b,"doubleValue")<_minValue&&objj_msgSend(b,"setDoubleValue:",_minValue);objj_msgSend(b,"setNeedsLayout");objj_msgSend(b,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("minValue"),
function(b){with(b)return _minValue}),new objj_method(sel_getUid("setMaxValue:"),function(b,c,a){with(b){if(_maxValue===a)return;_maxValue=a;objj_msgSend(b,"doubleValue")>_maxValue&&objj_msgSend(b,"setDoubleValue:",_maxValue);objj_msgSend(b,"setNeedsLayout");objj_msgSend(b,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("maxValue"),function(b){with(b)return _maxValue}),new objj_method(sel_getUid("setObjectValue:"),function(b,c,a){with(b)objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPSlider").super_class},
"setObjectValue:",MIN(MAX(a,_minValue),_maxValue)),objj_msgSend(b,"setNeedsLayout"),objj_msgSend(b,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("setSliderType:"),function(b,c,a){with(b)a===CPCircularSlider?objj_msgSend(b,"setThemeState:",CPThemeStateCircular):objj_msgSend(b,"unsetThemeState:",CPThemeStateCircular)}),new objj_method(sel_getUid("sliderType"),function(b){with(b)return objj_msgSend(b,"hasThemeState:",CPThemeStateCircular)?CPCircularSlider:CPLinearSlider}),new objj_method(sel_getUid("trackRectForBounds:"),
function(b,c,a){with(b){if(objj_msgSend(b,"hasThemeState:",CPThemeStateCircular))b=CGRectCreateCopy(a),a.size.width=MIN(a.size.width,a.size.height),a.size.height=a.size.width,a.size.width<b.size.width?a.origin.x+=(b.size.width-a.size.width)/2:a.origin.y+=(b.size.height-a.size.height)/2;else{c=objj_msgSend(b,"currentValueForThemeAttribute:","track-width");if(c<=0)return{origin:{x:0,y:0},size:{width:0,height:0}};objj_msgSend(b,"isVertical")?(a.origin.x=(a.size.width-c)/2,a.size.width=c):(a.origin.y=
(a.size.height-c)/2,a.size.height=c)}return a}}),new objj_method(sel_getUid("knobRectForBounds:"),function(b,c,a){with(b){var e=objj_msgSend(b,"currentValueForThemeAttribute:","knob-size");if(e.width<=0||e.height<=0)return{origin:{x:0,y:0},size:{width:0,height:0}};c={origin:{x:0,y:0},size:{width:e.width,height:e.height}};var d=objj_msgSend(b,"trackRectForBounds:",a);if(!d||d.size.width<=0||d.size.height<=0)d=a;objj_msgSend(b,"hasThemeState:",CPThemeStateCircular)?(b=3*PI_2-(1-objj_msgSend(b,"doubleValue")-
_minValue)/(_maxValue-_minValue)*PI2,a=CGRectGetWidth(d)/2-8,c.origin.x=a*COS(b)+CGRectGetMidX(d)-3,c.origin.y=a*SIN(b)+CGRectGetMidY(d)-2):objj_msgSend(b,"isVertical")?(c.origin.x=d.origin.x+d.size.width/2-e.width/2,c.origin.y=(_maxValue-objj_msgSend(b,"doubleValue"))/(_maxValue-_minValue)*(d.size.height-e.height)):(c.origin.x=(objj_msgSend(b,"doubleValue")-_minValue)/(_maxValue-_minValue)*(d.size.width-e.width),c.origin.y=d.origin.y+d.size.height/2-e.height/2);return c}}),new objj_method(sel_getUid("rectForEphemeralSubviewNamed:"),
function(b,c,a){with(b){if(a==="track-view")return objj_msgSend(b,"trackRectForBounds:",objj_msgSend(b,"bounds"));else if(a==="knob-view")return objj_msgSend(b,"knobRectForBounds:",objj_msgSend(b,"bounds"));return objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPSlider").super_class},"rectForEphemeralSubviewNamed:",a)}}),new objj_method(sel_getUid("createEphemeralSubviewNamed:"),function(b,c,a){with(b){if(a==="track-view"||a==="knob-view")return b=objj_msgSend(objj_msgSend(CPView,"alloc"),
"init"),objj_msgSend(b,"setHitTests:",NO),b;return objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPSlider").super_class},"createEphemeralSubviewNamed:",a)}}),new objj_method(sel_getUid("setAltIncrementValue:"),function(b,c,a){with(b)_altIncrementValue=a}),new objj_method(sel_getUid("altIncrementValue"),function(b){with(b)return _altIncrementValue}),new objj_method(sel_getUid("setFrameSize:"),function(b,c,a){with(b)objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPSlider").super_class},
"setFrameSize:",a),objj_msgSend(b,"_recalculateIsVertical")}),new objj_method(sel_getUid("_recalculateIsVertical"),function(b){with(b){var c=objj_msgSend(b,"bounds"),a=c.size.width;c=c.size.height;_isVertical=a<c?1:a>c?0:-1;_isVertical===1?objj_msgSend(b,"setThemeState:",CPThemeStateVertical):_isVertical===0&&objj_msgSend(b,"unsetThemeState:",CPThemeStateVertical)}}),new objj_method(sel_getUid("isVertical"),function(b){with(b)return _isVertical}),new objj_method(sel_getUid("layoutSubviews"),function(b){with(b){var c=
objj_msgSend(b,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","track-view",CPWindowBelow,"knob-view");c&&objj_msgSend(c,"setBackgroundColor:",objj_msgSend(b,"currentValueForThemeAttribute:","track-color"));(c=objj_msgSend(b,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","knob-view",CPWindowAbove,"track-view"))&&objj_msgSend(c,"setBackgroundColor:",objj_msgSend(b,"currentValueForThemeAttribute:","knob-color"))}}),new objj_method(sel_getUid("tracksMouseOutsideOfFrame"),
function(b){with(b)return YES}),new objj_method(sel_getUid("_valueAtPoint:"),function(b,c,a){with(b){c=objj_msgSend(b,"bounds");var e=objj_msgSend(b,"knobRectForBounds:",c);c=objj_msgSend(b,"trackRectForBounds:",c);return objj_msgSend(b,"hasThemeState:",CPThemeStateCircular)?(e=e.size.width,c.origin.x+=e/2,c.size.width-=e,e=objj_msgSend(b,"minValue"),MAX(0,MIN(1,1-(3*PI_2-ATAN2(a.y-(c.origin.y+c.size.height/2),a.x-(c.origin.x+c.size.width/2)))%PI2/PI2))*(objj_msgSend(b,"maxValue")-e)+e):objj_msgSend(b,
"isVertical")?(e=e.size.height,c.origin.y+=e/2,c.size.height-=e,e=objj_msgSend(b,"minValue"),MAX(0,MIN(1,(c.origin.y+c.size.height-a.y)/c.size.height))*(objj_msgSend(b,"maxValue")-e)+e):(e=e.size.width,c.origin.x+=e/2,c.size.width-=e,e=objj_msgSend(b,"minValue"),MAX(0,MIN(1,(a.x-c.origin.x)/c.size.width))*(objj_msgSend(b,"maxValue")-e)+e)}}),new objj_method(sel_getUid("startTrackingAt:"),function(b,c,a){with(b){c=objj_msgSend(b,"bounds");var e=objj_msgSend(b,"knobRectForBounds:",{origin:{x:c.origin.x,
y:c.origin.y},size:{width:c.size.width,height:c.size.height}});if(a.x>=e.origin.x&&a.y>=e.origin.y&&a.x<e.origin.x+e.size.width&&a.y<e.origin.y+e.size.height)_dragOffset={width:e.origin.x+e.size.width/2-a.x,height:e.origin.y+e.size.height/2-a.y};else if((c=objj_msgSend(b,"trackRectForBounds:",c))&&a.x>=c.origin.x&&a.y>=c.origin.y&&a.x<c.origin.x+c.size.width&&a.y<c.origin.y+c.size.height)_dragOffset={width:0,height:0},objj_msgSend(b,"setObjectValue:",objj_msgSend(b,"_valueAtPoint:",a));else return NO;
objj_msgSend(b,"setHighlighted:",YES);objj_msgSend(b,"setNeedsLayout");objj_msgSend(b,"setNeedsDisplay:",YES);return YES}}),new objj_method(sel_getUid("continueTracking:at:"),function(b,c,a,e){with(b)return objj_msgSend(b,"setObjectValue:",objj_msgSend(b,"_valueAtPoint:",{x:e.x+_dragOffset.width,y:e.y+_dragOffset.height})),YES}),new objj_method(sel_getUid("stopTracking:at:mouseIsUp:"),function(b){with(b)objj_msgSend(b,"setHighlighted:",NO),objj_msgSend(_target,"respondsToSelector:",sel_getUid("sliderDidFinish:"))&&
objj_msgSend(_target,"sliderDidFinish:",b),objj_msgSend(b,"setNeedsLayout"),objj_msgSend(b,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("setContinuous:"),function(b,c,a){with(b)a?_sendActionOn|=CPLeftMouseDraggedMask:_sendActionOn&=~CPLeftMouseDraggedMask}),new objj_method(sel_getUid("takeValueFromKeyPath:ofObjects:"),function(b,c,a,e){with(b){c=e.length;var d=objj_msgSend(e[0],"valueForKeyPath:",a);for(objj_msgSend(b,"setObjectValue:",d);c-- >1;)if(d!==objj_msgSend(e[c],"valueForKeyPath:",
a))return objj_msgSend(b,"setFloatValue:",1)}})]);class_addMethods(d,[new objj_method(sel_getUid("defaultThemeClass"),function(b){with(b)return"slider"}),new objj_method(sel_getUid("themeAttributes"),function(b){with(b)return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[objj_msgSend(CPNull,"null"),{width:0,height:0},0,objj_msgSend(CPNull,"null")],["knob-color","knob-size","track-width","track-color"])})]);f=objj_getClass("CPSlider");if(!f)throw new SyntaxError('*** Could not find definition for class "CPSlider"');
d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(b,c,a){with(b){_minValue=objj_msgSend(a,"decodeDoubleForKey:","CPSliderMinValueKey");_maxValue=objj_msgSend(a,"decodeDoubleForKey:","CPSliderMaxValueKey");if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPSlider").super_class},"initWithCoder:",a))_altIncrementValue=objj_msgSend(a,"decodeDoubleForKey:","CPSliderAltIncrValueKey"),objj_msgSend(b,"setContinuous:",YES),objj_msgSend(b,"_recalculateIsVertical"),
objj_msgSend(b,"setNeedsLayout"),objj_msgSend(b,"setNeedsDisplay:",YES);return b}}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,c,a){with(b)objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPSlider").super_class},"encodeWithCoder:",a),objj_msgSend(a,"encodeDouble:forKey:",_minValue,"CPSliderMinValueKey"),objj_msgSend(a,"encodeDouble:forKey:",_maxValue,"CPSliderMaxValueKey"),objj_msgSend(a,"encodeDouble:forKey:",_altIncrementValue,"CPSliderAltIncrValueKey")})]);f=objj_getClass("CPSlider");
if(!f)throw new SyntaxError('*** Could not find definition for class "CPSlider"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("value"),function(b){with(b)return CPLog.warn("[CPSlider value] is deprecated, use doubleValue or objectValue instead."),objj_msgSend(b,"doubleValue")}),new objj_method(sel_getUid("setValue:"),function(b,c,a){with(b)CPLog.warn("[CPSlider setValue:] is deprecated, use setDoubleValue: or setObjectValue: instead."),objj_msgSend(b,"setObjectValue:",a)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPKeyValueCoding.j",baseURL),function(h,g){g("CPArray.j",YES);g("CPDictionary.j",YES);g("CPException.j",YES);g("CPIndexSet.j",YES);g("CPNull.j",YES);g("CPObject.j",YES);g("CPSet.j",YES);CPUndefinedKeyException="CPUndefinedKeyException";CPTargetObjectUserInfoKey="CPTargetObjectUserInfoKey";CPUnknownUserInfoKey="CPUnknownUserInfoKey";var f=objj_getClass("CPObject");if(!f)throw new SyntaxError('*** Could not find definition for class "CPObject"');
var d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("valueForKey:"),function(b,c,a){with(b){c=objj_msgSend(b,"class");var e=nil,d=c.$CPObjectAccessorsForClassKey;d||(d=c.$CPObjectAccessorsForClassKey={});if(d.hasOwnProperty(a))e=d[a];else{var f=nil,g=a.charAt(0).toUpperCase()+a.substr(1),h=nil,j=nil;objj_msgSend(c,"instancesRespondToSelector:",f=sel_getUid("get"+g))||objj_msgSend(c,"instancesRespondToSelector:",f=sel_getUid(a))||objj_msgSend(c,"instancesRespondToSelector:",f=sel_getUid(j="is"+
g))||objj_msgSend(c,"instancesRespondToSelector:",f=sel_getUid("_get"+g))||objj_msgSend(c,"instancesRespondToSelector:",f=sel_getUid(h="_"+a))||objj_msgSend(c,"instancesRespondToSelector:",f=sel_getUid("_"+j))?e=d[a]=[0,f]:objj_msgSend(c,"instancesRespondToSelector:",sel_getUid("countOf"+g))&&(objj_msgSend(c,"instancesRespondToSelector:",sel_getUid("objectIn"+g+"AtIndex:"))||objj_msgSend(c,"instancesRespondToSelector:",sel_getUid(a+"AtIndexes:"))?e=d[a]=[1]:objj_msgSend(c,"instancesRespondToSelector:",
sel_getUid("enumeratorOf"+g))&&objj_msgSend(c,"instancesRespondToSelector:",sel_getUid("memberOf"+g+":"))&&(e=d[a]=[2]));e||(e=class_getInstanceVariable(c,f=h)||class_getInstanceVariable(c,f="_"+j)||class_getInstanceVariable(c,f=a)||class_getInstanceVariable(c,f=j)?d[a]=[3,f]:d[a]=[])}switch(e[0]){case 0:return objj_msgSend(b,e[1]);case 1:return objj_msgSend(objj_msgSend(_CPKeyValueCodingArray,"alloc"),"initWithTarget:key:",b,a);case 2:return objj_msgSend(objj_msgSend(_CPKeyValueCodingSet,"alloc"),
"initWithTarget:key:",b,a);case 3:if(objj_msgSend(c,"accessInstanceVariablesDirectly"))return b[e[1]]}return objj_msgSend(b,"valueForUndefinedKey:",a)}}),new objj_method(sel_getUid("valueForKeyPath:"),function(b,c,a){with(b){var e=a.indexOf(".");if(e===CPNotFound)return objj_msgSend(b,"valueForKey:",a);c=a.substring(0,e);a=a.substring(e+1);b=objj_msgSend(b,"valueForKey:",c);return objj_msgSend(b,"valueForKeyPath:",a)}}),new objj_method(sel_getUid("dictionaryWithValuesForKeys:"),function(b,c,a){with(b){c=
0;for(var e=a.length,d=objj_msgSend(CPDictionary,"dictionary");c<e;++c){var f=a[c],g=objj_msgSend(b,"valueForKey:",f);g===nil?objj_msgSend(d,"setObject:forKey:",objj_msgSend(CPNull,"null"),f):objj_msgSend(d,"setObject:forKey:",g,f)}return d}}),new objj_method(sel_getUid("valueForUndefinedKey:"),function(b,c,a){with(b)objj_msgSend(objj_msgSend(CPException,"exceptionWithName:reason:userInfo:",CPUndefinedKeyException,objj_msgSend(b,"description")+" is not key value coding-compliant for the key "+a,objj_msgSend(CPDictionary,
"dictionaryWithObjects:forKeys:",[b,a],[CPTargetObjectUserInfoKey,CPUnknownUserInfoKey])),"raise")}),new objj_method(sel_getUid("setValue:forKeyPath:"),function(b,c,a,e){with(b){e||(e="self");var d=e.indexOf(".");if(d===CPNotFound)return objj_msgSend(b,"setValue:forKey:",a,e);c=e.substring(0,d);e=e.substring(d+1);b=objj_msgSend(b,"valueForKey:",c);return objj_msgSend(b,"setValue:forKeyPath:",a,e)}}),new objj_method(sel_getUid("setValue:forKey:"),function(b,c,a,e){with(b){c=objj_msgSend(b,"class");
var d=nil;(d=c.$CPObjectModifiersForClassKey)||(d=c.$CPObjectModifiersForClassKey={});if(d.hasOwnProperty(e))d=d[e];else{var f=nil,g=e.charAt(0).toUpperCase()+e.substr(1),h=nil;d=objj_msgSend(c,"instancesRespondToSelector:",f=sel_getUid("set"+g+":"))||objj_msgSend(c,"instancesRespondToSelector:",f=sel_getUid("_set"+g+":"))?d[e]=[0,f]:class_getInstanceVariable(c,f="_"+e)||class_getInstanceVariable(c,f="_"+(h="is"+g))||class_getInstanceVariable(c,f=e)||class_getInstanceVariable(c,f=h)?d[e]=[1,f]:d[e]=
[]}switch(d[0]){case 0:return objj_msgSend(b,d[1],a);case 1:if(objj_msgSend(c,"accessInstanceVariablesDirectly"))return objj_msgSend(b,"willChangeValueForKey:",e),b[d[1]]=a,objj_msgSend(b,"didChangeValueForKey:",e)}return objj_msgSend(b,"setValue:forUndefinedKey:",a,e)}}),new objj_method(sel_getUid("setValuesForKeysWithDictionary:"),function(b,c,a){with(b)for(var e,d=objj_msgSend(a,"keyEnumerator");e=objj_msgSend(d,"nextObject");)c=objj_msgSend(a,"objectForKey:",e),c===objj_msgSend(CPNull,"null")?
objj_msgSend(b,"setValue:forKey:",nil,e):objj_msgSend(b,"setValue:forKey:",c,e)}),new objj_method(sel_getUid("setValue:forUndefinedKey:"),function(b,c,a,e){with(b)objj_msgSend(objj_msgSend(CPException,"exceptionWithName:reason:userInfo:",CPUndefinedKeyException,objj_msgSend(b,"description")+" is not key value coding-compliant for the key "+e,objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[b,e],[CPTargetObjectUserInfoKey,CPUnknownUserInfoKey])),"raise")})]);class_addMethods(d,[new objj_method(sel_getUid("accessInstanceVariablesDirectly"),
function(b){with(b)return YES})]);f=objj_getClass("CPDictionary");if(!f)throw new SyntaxError('*** Could not find definition for class "CPDictionary"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("valueForKey:"),function(b,c,a){with(b){if(objj_msgSend(a,"hasPrefix:","@"))return objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPDictionary").super_class},"valueForKey:",a.substr(1));return objj_msgSend(b,"objectForKey:",a)}}),new objj_method(sel_getUid("setValue:forKey:"),function(b,
c,a,e){with(b)a!==nil?objj_msgSend(b,"setObject:forKey:",a,e):objj_msgSend(b,"removeObjectForKey:",e)})]);f=objj_getClass("CPNull");if(!f)throw new SyntaxError('*** Could not find definition for class "CPNull"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("valueForKey:"),function(b){with(b)return b})]);f=objj_allocateClassPair(CPArray,"_CPKeyValueCodingArray");d=f.isa;class_addIvars(f,[new objj_ivar("_target"),new objj_ivar("_countOfSelector"),new objj_ivar("_objectInAtIndexSelector"),
new objj_ivar("_atIndexesSelector")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithTarget:key:"),function(b,c,a,e){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPKeyValueCodingArray").super_class},"init"))c=e.charAt(0).toUpperCase()+e.substr(1),_target=a,_countOfSelector=CPSelectorFromString("countOf"+c),_objectInAtIndexSelector=CPSelectorFromString("objectIn"+c+"AtIndex:"),objj_msgSend(_target,"respondsToSelector:",_objectInAtIndexSelector)||
(_objectInAtIndexSelector=nil),_atIndexesSelector=CPSelectorFromString(e+"AtIndexes:"),objj_msgSend(_target,"respondsToSelector:",_atIndexesSelector)||(_atIndexesSelector=nil);return b}}),new objj_method(sel_getUid("count"),function(b){with(b)return objj_msgSend(_target,_countOfSelector)}),new objj_method(sel_getUid("objectAtIndex:"),function(b,c,a){with(b){if(_objectInAtIndexSelector)return objj_msgSend(_target,_objectInAtIndexSelector,a);return objj_msgSend(_target,_atIndexesSelector,objj_msgSend(CPIndexSet,
"indexSetWithIndex:",a))[0]}}),new objj_method(sel_getUid("objectsAtIndexes:"),function(b,c,a){with(b){if(_atIndexesSelector)return objj_msgSend(_target,_atIndexesSelector,a);return objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPKeyValueCodingArray").super_class},"objectsAtIndexes:",a)}}),new objj_method(sel_getUid("classForCoder"),function(b){with(b)return objj_msgSend(CPArray,"class")}),new objj_method(sel_getUid("copy"),function(b){with(b)return objj_msgSend(CPArray,"arrayWithArray:",
b)})]);f=objj_allocateClassPair(CPSet,"_CPKeyValueCodingSet");d=f.isa;class_addIvars(f,[new objj_ivar("_target"),new objj_ivar("_countOfSelector"),new objj_ivar("_enumeratorOfSelector"),new objj_ivar("_memberOfSelector")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithObjects:count:"),function(b,c,a,e){with(b)return objj_msgSend(objj_msgSend(CPSet,"alloc"),"initWithObjects:count:",a,e)}),new objj_method(sel_getUid("initWithTarget:key:"),function(b,c,a,e){with(b){if(b=
objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPKeyValueCodingSet").super_class},"initWithObjects:count:",nil,0))c=e.charAt(0).toUpperCase()+e.substr(1),_target=a,_countOfSelector=CPSelectorFromString("countOf"+c),_enumeratorOfSelector=CPSelectorFromString("enumeratorOf"+c),_memberOfSelector=CPSelectorFromString("memberOf"+c+":");return b}}),new objj_method(sel_getUid("count"),function(b){with(b)return objj_msgSend(_target,_countOfSelector)}),new objj_method(sel_getUid("objectEnumerator"),
function(b){with(b)return objj_msgSend(_target,_enumeratorOfSelector)}),new objj_method(sel_getUid("member:"),function(b,c,a){with(b)return objj_msgSend(_target,_memberOfSelector,a)}),new objj_method(sel_getUid("classForCoder"),function(b){with(b)return objj_msgSend(CPSet,"class")}),new objj_method(sel_getUid("copy"),function(b){with(b)return objj_msgSend(CPSet,"setWithSet:",b)})]);g("CPKeyValueObserving.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPColorPicker.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);g("CPView.j",YES);var f=objj_allocateClassPair(CPObject,"CPColorPicker");class_addIvars(f,[new objj_ivar("_panel"),new objj_ivar("_mask")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithPickerMask:colorPanel:"),function(d,b,c,a){with(d)return d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPColorPicker").super_class},
"init"),_panel=a,_mask=c,d}),new objj_method(sel_getUid("colorPanel"),function(d){with(d)return _panel}),new objj_method(sel_getUid("provideNewButtonImage"),function(d){with(d)return nil}),new objj_method(sel_getUid("setMode:"),function(d){with(d);}),new objj_method(sel_getUid("setColor:"),function(d){with(d);})]);f=objj_allocateClassPair(CPColorPicker,"CPColorWheelColorPicker");class_addIvars(f,[new objj_ivar("_pickerView"),new objj_ivar("_brightnessSlider"),new objj_ivar("_hueSaturationView"),new objj_ivar("_cachedColor")]);
objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithPickerMask:colorPanel:"),function(d,b,c,a){with(d)return objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPColorWheelColorPicker").super_class},"initWithPickerMask:colorPanel:",c,a)}),new objj_method(sel_getUid("initView"),function(d){with(d)aFrame=CPRectMake(0,0,CPColorPickerViewWidth,CPColorPickerViewHeight),_pickerView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",aFrame),objj_msgSend(_pickerView,
"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),_brightnessSlider=objj_msgSend(objj_msgSend(CPSlider,"alloc"),"initWithFrame:",CGRectMake(0,aFrame.size.height-34,aFrame.size.width,15)),objj_msgSend(_brightnessSlider,"setValue:forThemeAttribute:",15,"track-width"),objj_msgSend(_brightnessSlider,"setValue:forThemeAttribute:",objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",
objj_msgSend(CPColorPicker,"class")),"pathForResource:","brightness_bar.png"))),"track-color"),objj_msgSend(_brightnessSlider,"setMinValue:",0),objj_msgSend(_brightnessSlider,"setMaxValue:",100),objj_msgSend(_brightnessSlider,"setFloatValue:",100),objj_msgSend(_brightnessSlider,"setTarget:",d),objj_msgSend(_brightnessSlider,"setAction:",sel_getUid("brightnessSliderDidChange:")),objj_msgSend(_brightnessSlider,"setAutoresizingMask:",CPViewWidthSizable|CPViewMinYMargin),_hueSaturationView=objj_msgSend(objj_msgSend(__CPColorWheel,
"alloc"),"initWithFrame:",CPRectMake(0,0,aFrame.size.width,aFrame.size.height-38)),objj_msgSend(_hueSaturationView,"setDelegate:",d),objj_msgSend(_hueSaturationView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(_pickerView,"addSubview:",_hueSaturationView),objj_msgSend(_pickerView,"addSubview:",_brightnessSlider)}),new objj_method(sel_getUid("brightnessSliderDidChange:"),function(d){with(d)objj_msgSend(d,"updateColor")}),new objj_method(sel_getUid("colorWheelDidChange:"),
function(d){with(d)objj_msgSend(d,"updateColor")}),new objj_method(sel_getUid("updateColor"),function(d){with(d){var b=objj_msgSend(_hueSaturationView,"angle"),c=objj_msgSend(_hueSaturationView,"distance"),a=objj_msgSend(_brightnessSlider,"floatValue");objj_msgSend(_hueSaturationView,"setWheelBrightness:",a/100);objj_msgSend(_brightnessSlider,"setBackgroundColor:",objj_msgSend(CPColor,"colorWithHue:saturation:brightness:",b,c,100));var e=objj_msgSend(d,"colorPanel");e=objj_msgSend(e,"opacity");_cachedColor=
objj_msgSend(CPColor,"colorWithHue:saturation:brightness:alpha:",b,c,a,e);objj_msgSend(objj_msgSend(d,"colorPanel"),"setColor:",_cachedColor)}}),new objj_method(sel_getUid("supportsMode:"),function(d,b,c){with(d)return c==CPWheelColorPickerMode?YES:NO}),new objj_method(sel_getUid("currentMode"),function(d){with(d)return CPWheelColorPickerMode}),new objj_method(sel_getUid("provideNewView:"),function(d,b,c){with(d)return c&&objj_msgSend(d,"initView"),_pickerView}),new objj_method(sel_getUid("setColor:"),
function(d,b,c){with(d){if(objj_msgSend(c,"isEqual:",_cachedColor))return;d=objj_msgSend(c,"hsbComponents");objj_msgSend(_hueSaturationView,"setPositionToColor:",c);objj_msgSend(_brightnessSlider,"setFloatValue:",d[2]);objj_msgSend(_hueSaturationView,"setWheelBrightness:",d[2]/100);objj_msgSend(_brightnessSlider,"setBackgroundColor:",objj_msgSend(CPColor,"colorWithHue:saturation:brightness:",d[0],d[1],100))}}),new objj_method(sel_getUid("provideNewButtonImage"),function(d){with(d)return objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",CPColorPicker),"pathForResource:","wheel_button.png"),CGSizeMake(32,32))}),new objj_method(sel_getUid("provideNewAlternateButtonImage"),function(d){with(d)return objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",CPColorPicker),"pathForResource:","wheel_button_h.png"),CGSizeMake(32,32))})]);f=objj_allocateClassPair(CPView,"__CPColorWheel");
class_addIvars(f,[new objj_ivar("_wheelImage"),new objj_ivar("_blackWheelImage"),new objj_ivar("_crosshair"),new objj_ivar("_delegate"),new objj_ivar("_angle"),new objj_ivar("_distance"),new objj_ivar("_radius")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:"),function(d,b,c){with(d)return d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("__CPColorWheel").super_class},"initWithFrame:",c),b=objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",CPColorPicker),
"pathForResource:","wheel.png"),_wheelImage=new Image,_wheelImage.src=b,_wheelImage.style.position="absolute",b=objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",CPColorPicker),"pathForResource:","wheel_black.png"),_blackWheelImage=new Image,_blackWheelImage.src=b,_blackWheelImage.style.opacity="0",_blackWheelImage.style.filter="alpha(opacity=0)",_blackWheelImage.style.position="absolute",_DOMElement.appendChild(_wheelImage),_DOMElement.appendChild(_blackWheelImage),objj_msgSend(d,"setWheelSize:",
c.size),_crosshair=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CPRectMake(_radius-2,_radius-2,4,4)),objj_msgSend(_crosshair,"setBackgroundColor:",objj_msgSend(CPColor,"blackColor")),c=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectInset(objj_msgSend(_crosshair,"bounds"),1,1)),objj_msgSend(c,"setBackgroundColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_crosshair,"addSubview:",c),objj_msgSend(d,"addSubview:",_crosshair),d}),new objj_method(sel_getUid("setWheelBrightness:"),
function(d,b,c){with(d)_blackWheelImage.style.opacity=1-c,_blackWheelImage.style.filter="alpha(opacity="+(1-c)*100+")"}),new objj_method(sel_getUid("setFrameSize:"),function(d,b,c){with(d)objj_msgSendSuper({receiver:d,super_class:objj_getClass("__CPColorWheel").super_class},"setFrameSize:",c),objj_msgSend(d,"setWheelSize:",c)}),new objj_method(sel_getUid("setWheelSize:"),function(d,b,c){with(d)b=MIN(c.width,c.height),_blackWheelImage.style.width=b,_blackWheelImage.style.height=b,_blackWheelImage.width=
b,_blackWheelImage.height=b,_blackWheelImage.style.top=(c.height-b)/2+"px",_blackWheelImage.style.left=(c.width-b)/2+"px",_wheelImage.style.width=b,_wheelImage.style.height=b,_wheelImage.width=b,_wheelImage.height=b,_wheelImage.style.top=(c.height-b)/2+"px",_wheelImage.style.left=(c.width-b)/2+"px",_radius=b/2,objj_msgSend(d,"setAngle:distance:",objj_msgSend(d,"degreesToRadians:",_angle),_distance/100*_radius)}),new objj_method(sel_getUid("setDelegate:"),function(d,b,c){with(d)_delegate=c}),new objj_method(sel_getUid("delegate"),
function(d){with(d)return _delegate}),new objj_method(sel_getUid("angle"),function(d){with(d)return _angle}),new objj_method(sel_getUid("distance"),function(d){with(d)return _distance}),new objj_method(sel_getUid("mouseDown:"),function(d,b,c){with(d)objj_msgSend(d,"reposition:",c)}),new objj_method(sel_getUid("mouseDragged:"),function(d,b,c){with(d)objj_msgSend(d,"reposition:",c)}),new objj_method(sel_getUid("reposition:"),function(d,b,c){with(d){var a=objj_msgSend(d,"bounds");c=objj_msgSend(d,"convertPoint:fromView:",
objj_msgSend(c,"locationInWindow"),nil);b=CGRectGetMidX(a);var e=CGRectGetMidY(a);a=MIN(SQRT((c.x-b)*(c.x-b)+(c.y-e)*(c.y-e)),_radius);c=ATAN2(c.y-e,c.x-b);objj_msgSend(d,"setAngle:distance:",c,a);objj_msgSend(_delegate,"colorWheelDidChange:",d)}}),new objj_method(sel_getUid("setAngle:distance:"),function(d,b,c,a){with(d){var e=objj_msgSend(d,"bounds");b=CGRectGetMidX(e);e=CGRectGetMidY(e);_angle=objj_msgSend(d,"radiansToDegrees:",c);_distance=a/_radius*100;objj_msgSend(_crosshair,"setFrameOrigin:",
CPPointMake(COS(c)*a+b-2,SIN(c)*a+e-2))}}),new objj_method(sel_getUid("setPositionToColor:"),function(d,b,c){with(d)b=objj_msgSend(c,"hsbComponents"),objj_msgSend(d,"bounds"),c=objj_msgSend(d,"degreesToRadians:",b[0]),objj_msgSend(d,"setAngle:distance:",c,b[1]/100*_radius)}),new objj_method(sel_getUid("radiansToDegrees:"),function(d,b,c){with(d)return(-c/PI*180+360)%360}),new objj_method(sel_getUid("degreesToRadians:"),function(d,b,c){with(d)return-((c-360)/180*PI)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPBox.j",baseURL),function(h,g){g("CPView.j",YES);CPBoxPrimary=0;CPBoxSecondary=1;CPBoxSeparator=2;CPBoxOldStyle=3;CPBoxCustom=4;CPNoBorder=0;CPLineBorder=1;CPBezelBorder=2;CPGrooveBorder=3;var f=objj_allocateClassPair(CPView,"CPBox"),d=f.isa;class_addIvars(f,[new objj_ivar("_boxType"),new objj_ivar("_borderType"),new objj_ivar("_borderColor"),new objj_ivar("_fillColor"),new objj_ivar("_cornerRadius"),new objj_ivar("_borderWidth"),
new objj_ivar("_contentMargin"),new objj_ivar("_contentView")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:"),function(b,c,a){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPBox").super_class},"initWithFrame:",a))_borderType=CPBezelBorder,_fillColor=objj_msgSend(CPColor,"clearColor"),_borderColor=objj_msgSend(CPColor,"blackColor"),_borderWidth=1,_contentMargin=CGSizeMake(0,0),_contentView=objj_msgSend(objj_msgSend(CPView,"alloc"),
"initWithFrame:",objj_msgSend(b,"bounds")),objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(b,"setAutoresizesSubviews:",YES),objj_msgSend(b,"addSubview:",_contentView);return b}}),new objj_method(sel_getUid("borderRect"),function(b){with(b)return objj_msgSend(b,"bounds")}),new objj_method(sel_getUid("borderType"),function(b){with(b)return _borderType}),new objj_method(sel_getUid("setBorderType:"),function(b,c,a){with(b){if(_borderType===a)return;
_borderType=a;objj_msgSend(b,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("boxType"),function(b){with(b)return _boxType}),new objj_method(sel_getUid("setBoxType:"),function(b,c,a){with(b){if(_boxType===a)return;_boxType=a;objj_msgSend(b,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("borderColor"),function(b){with(b)return _borderColor}),new objj_method(sel_getUid("setBorderColor:"),function(b,c,a){with(b){if(objj_msgSend(a,"isEqual:",_borderColor))return;_borderColor=a;objj_msgSend(b,
"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("borderWidth"),function(b){with(b)return _borderWidth}),new objj_method(sel_getUid("setBorderWidth:"),function(b,c,a){with(b){if(a===_borderWidth)return;_borderWidth=a;objj_msgSend(b,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("cornerRadius"),function(b){with(b)return _cornerRadius}),new objj_method(sel_getUid("setCornerRadius:"),function(b,c,a){with(b){if(a===_cornerRadius)return;_cornerRadius=a;objj_msgSend(b,"setNeedsDisplay:",YES)}}),
new objj_method(sel_getUid("fillColor"),function(b){with(b)return _fillColor}),new objj_method(sel_getUid("setFillColor:"),function(b,c,a){with(b){if(objj_msgSend(a,"isEqual:",_fillColor))return;_fillColor=a;objj_msgSend(b,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("contentView"),function(b){with(b)return _contentView}),new objj_method(sel_getUid("setContentView:"),function(b,c,a){with(b){if(a===_contentView)return;objj_msgSend(a,"setFrame:",CGRectInset(objj_msgSend(b,"bounds"),_contentMargin.width+
_borderWidth,_contentMargin.height+_borderWidth));objj_msgSend(a,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);objj_msgSend(b,"replaceSubview:with:",_contentView,a);_contentView=a}}),new objj_method(sel_getUid("contentViewMargins"),function(b){with(b)return _contentMargin}),new objj_method(sel_getUid("setContentViewMargins:"),function(b,c,a){with(b)(a.width<0||a.height<0)&&objj_msgSend(CPException,"raise:reason:",CPGenericException,"Margins must be positive"),_contentMargin=CGSizeMakeCopy(a),
objj_msgSend(b,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("setFrameFromContentFrame:"),function(b,c,a){with(b)objj_msgSend(b,"setFrame:",CGRectInset(a,-(_contentMargin.width+_borderWidth),-(_contentMargin.height+_borderWidth))),objj_msgSend(b,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("sizeToFit"),function(b){with(b){var c=objj_msgSend(_contentView,"frame");objj_msgSend(b,"setFrameSize:",CGSizeMake(c.size.width+_contentMargin.width*2,c.size.height+_contentMargin.height*2));objj_msgSend(_contentView,
"setFrameOrigin:",CGPointMake(_contentMargin.width,_contentMargin.height))}}),new objj_method(sel_getUid("drawRect:"),function(b){with(b){if(_borderType===CPNoBorder)return;var c=objj_msgSend(b,"bounds");switch(_boxType){case CPBoxSeparator:if(CGRectGetWidth(c)===5)return objj_msgSend(b,"_drawVerticalSeperatorInRect:",c);else if(CGRectGetHeight(c)===5)return objj_msgSend(b,"_drawHorizontalSeperatorInRect:",c)}switch(_borderType){case CPBezelBorder:objj_msgSend(b,"_drawBezelBorderInRect:",c);break;
default:case CPLineBorder:objj_msgSend(b,"_drawLineBorderInRect:",c)}}}),new objj_method(sel_getUid("_drawHorizontalSeperatorInRect:"),function(b,c,a){with(b)c=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),CGContextSetStrokeColor(c,objj_msgSend(b,"borderColor")),CGContextSetLineWidth(c,1),CGContextMoveToPoint(c,CGRectGetMinX(a),CGRectGetMinY(a)+0.5),CGContextAddLineToPoint(c,CGRectGetWidth(a),CGRectGetMinY(a)+0.5),CGContextStrokePath(c)}),new objj_method(sel_getUid("_drawVerticalSeperatorInRect:"),
function(b,c,a){with(b)c=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),CGContextSetStrokeColor(c,objj_msgSend(b,"borderColor")),CGContextSetLineWidth(c,1),CGContextMoveToPoint(c,CGRectGetMinX(a)+0.5,CGRectGetMinY(a)),CGContextAddLineToPoint(c,CGRectGetMinX(a)+0.5,CGRectGetHeight(a)),CGContextStrokePath(c)}),new objj_method(sel_getUid("_drawBezelBorderInRect:"),function(b,c,a){with(b){c=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");var e=
[CPMinYEdge,CPMaxXEdge,CPMaxYEdge,CPMinXEdge],d=190/255;d=[142/255,d,d,d];for(var f=_borderWidth;f--;)a=CPDrawTiledRects(a,a,e,d);CGContextSetFillColor(c,objj_msgSend(b,"fillColor"));CGContextFillRect(c,a)}}),new objj_method(sel_getUid("_drawLineBorderInRect:"),function(b,c,a){with(b)c=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),a=CGRectInset(a,_borderWidth/2,_borderWidth/2),CGContextSetFillColor(c,objj_msgSend(b,"fillColor")),CGContextSetStrokeColor(c,objj_msgSend(b,
"borderColor")),CGContextSetLineWidth(c,_borderWidth),CGContextFillRoundedRectangleInRect(c,a,_cornerRadius,YES,YES,YES,YES),CGContextStrokeRoundedRectangleInRect(c,a,_cornerRadius,YES,YES,YES,YES)})]);class_addMethods(d,[new objj_method(sel_getUid("boxEnclosingView:"),function(b,c,a){with(b)return b=objj_msgSend(objj_msgSend(b,"alloc"),"initWithFrame:",CGRectMakeZero()),c=objj_msgSend(a,"superview"),objj_msgSend(b,"setFrameFromContentFrame:",objj_msgSend(a,"frame")),objj_msgSend(c,"replaceSubview:with:",
a,b),objj_msgSend(b,"setContentView:",a),b})]);f=objj_getClass("CPBox");if(!f)throw new SyntaxError('*** Could not find definition for class "CPBox"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(b,c,a){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPBox").super_class},"initWithCoder:",a))_boxType=objj_msgSend(a,"decodeIntForKey:","CPBoxTypeKey"),_borderType=objj_msgSend(a,"decodeIntForKey:","CPBoxBorderTypeKey"),_borderColor=objj_msgSend(a,
"decodeObjectForKey:","CPBoxBorderColorKey"),_fillColor=objj_msgSend(a,"decodeObjectForKey:","CPBoxFillColorKey"),_cornerRadius=objj_msgSend(a,"decodeFloatForKey:","CPBoxCornerRadiusKey"),_borderWidth=objj_msgSend(a,"decodeFloatForKey:","CPBoxBorderWidthKey"),_contentMargin=objj_msgSend(a,"decodeSizeForKey:","CPBoxContentMarginKey"),_contentView=objj_msgSend(b,"subviews")[0],objj_msgSend(b,"setAutoresizesSubviews:",YES),objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
return b}}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,c,a){with(b)objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPBox").super_class},"encodeWithCoder:",a),objj_msgSend(a,"encodeInt:forKey:",_boxType,"CPBoxTypeKey"),objj_msgSend(a,"encodeInt:forKey:",_borderType,"CPBoxBorderTypeKey"),objj_msgSend(a,"encodeObject:forKey:",_borderColor,"CPBoxBorderColorKey"),objj_msgSend(a,"encodeObject:forKey:",_fillColor,"CPBoxFillColorKey"),objj_msgSend(a,"encodeFloat:forKey:",_cornerRadius,
"CPBoxCornerRadiusKey"),objj_msgSend(a,"encodeFloat:forKey:",_borderWidth,"CPBoxBorderWidthKey"),objj_msgSend(a,"encodeSize:forKey:",_contentMargin,"CPBoxContentMarginKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPDictionary.j",baseURL),function(h,g){g("CPArray.j",YES);g("CPEnumerator.j",YES);g("CPException.j",YES);g("CPNull.j",YES);g("CPObject.j",YES);var f=objj_allocateClassPair(CPEnumerator,"_CPDictionaryValueEnumerator"),d=f.isa;class_addIvars(f,[new objj_ivar("_keyEnumerator"),new objj_ivar("_dictionary")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithDictionary:"),function(b,c,a){with(b){if(b=
objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPDictionaryValueEnumerator").super_class},"init"))_keyEnumerator=objj_msgSend(a,"keyEnumerator"),_dictionary=a;return b}}),new objj_method(sel_getUid("nextObject"),function(b){with(b){b=objj_msgSend(_keyEnumerator,"nextObject");if(!b)return nil;return objj_msgSend(_dictionary,"objectForKey:",b)}})]);f=objj_allocateClassPair(CPObject,"CPDictionary");d=f.isa;objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithDictionary:"),
function(b,c,a){with(b){b="";c=objj_msgSend(objj_msgSend(CPDictionary,"alloc"),"init");for(b in a._buckets)objj_msgSend(c,"setObject:forKey:",objj_msgSend(a,"objectForKey:",b),b);return c}}),new objj_method(sel_getUid("initWithObjects:forKeys:"),function(b,c,a,e){with(b){b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPDictionary").super_class},"init");objj_msgSend(a,"count")!=objj_msgSend(e,"count")&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Counts are different.("+
objj_msgSend(a,"count")+"!="+objj_msgSend(e,"count")+")");if(b)for(c=objj_msgSend(e,"count");c--;)objj_msgSend(b,"setObject:forKey:",a[c],e[c]);return b}}),new objj_method(sel_getUid("initWithObjectsAndKeys:"),function(b){with(b){var c=arguments.length;c%2!==0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Key-value count is mismatched. ("+c+" arguments passed)");if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPDictionary").super_class},"init"))for(var a=2;a<
c;a+=2){var e=arguments[a];if(e===nil)break;objj_msgSend(b,"setObject:forKey:",e,arguments[a+1])}return b}}),new objj_method(sel_getUid("copy"),function(b){with(b)return objj_msgSend(CPDictionary,"dictionaryWithDictionary:",b)}),new objj_method(sel_getUid("count"),function(b){with(b)return _count}),new objj_method(sel_getUid("allKeys"),function(b){with(b)return objj_msgSend(_keys,"copy")}),new objj_method(sel_getUid("allValues"),function(b){with(b){for(var c=_keys.length,a=[];c--;)a.push(b.valueForKey(_keys[c]));
return a}}),new objj_method(sel_getUid("allKeysForObject:"),function(b,c,a){with(b){b=_keys.length;c=0;for(var e=[],d=nil,f=nil;c<b;++c)d=_keys[c],f=_buckets[d],f.isa&&a&&a.isa&&objj_msgSend(f,"respondsToSelector:",sel_getUid("isEqual:"))&&objj_msgSend(f,"isEqual:",a)?e.push(d):f===a&&e.push(d);return e}}),new objj_method(sel_getUid("keyEnumerator"),function(b){with(b)return objj_msgSend(_keys,"objectEnumerator")}),new objj_method(sel_getUid("objectEnumerator"),function(b){with(b)return objj_msgSend(objj_msgSend(_CPDictionaryValueEnumerator,
"alloc"),"initWithDictionary:",b)}),new objj_method(sel_getUid("isEqualToDictionary:"),function(b,c,a){with(b){if(b===a)return YES;b=objj_msgSend(b,"count");if(b!==objj_msgSend(a,"count"))return NO;for(;b--;){var e=_keys[b];c=_buckets[e];e=a._buckets[e];if(c!==e&&(!c||!c.isa||!e||!e.isa||!objj_msgSend(c,"respondsToSelector:",sel_getUid("isEqual:"))||!objj_msgSend(c,"isEqual:",e)))return NO}return YES}}),new objj_method(sel_getUid("isEqual:"),function(b,c,a){with(b){if(b===a)return YES;if(!objj_msgSend(a,
"isKindOfClass:",objj_msgSend(CPDictionary,"class")))return NO;return objj_msgSend(b,"isEqualToDictionary:",a)}}),new objj_method(sel_getUid("objectForKey:"),function(b,c,a){with(b)return b=_buckets[a],b===void 0?nil:b}),new objj_method(sel_getUid("removeAllObjects"),function(b){with(b)b.removeAllValues()}),new objj_method(sel_getUid("removeObjectForKey:"),function(b,c,a){with(b)b.removeValueForKey(a)}),new objj_method(sel_getUid("removeObjectsForKeys:"),function(b,c,a){with(b)for(c=a.length;c--;)objj_msgSend(b,
"removeObjectForKey:",a[c])}),new objj_method(sel_getUid("setObject:forKey:"),function(b,c,a,e){with(b)b.setValueForKey(e,a)}),new objj_method(sel_getUid("addEntriesFromDictionary:"),function(b,c,a){with(b){if(!a)return;c=objj_msgSend(a,"allKeys");for(var e=objj_msgSend(c,"count");e--;){var d=c[e];objj_msgSend(b,"setObject:forKey:",objj_msgSend(a,"objectForKey:",d),d)}}}),new objj_method(sel_getUid("description"),function(b){with(b)return b.toString()}),new objj_method(sel_getUid("containsKey:"),
function(b,c,a){with(b)return b=objj_msgSend(b,"objectForKey:",a),b!==nil&&b!==void 0})]);class_addMethods(d,[new objj_method(sel_getUid("alloc"),function(b){with(b){var c=new CFMutableDictionary;c.isa=objj_msgSend(b,"class");return c}}),new objj_method(sel_getUid("dictionary"),function(b){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"init")}),new objj_method(sel_getUid("dictionaryWithDictionary:"),function(b,c,a){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithDictionary:",a)}),
new objj_method(sel_getUid("dictionaryWithObject:forKey:"),function(b,c,a,e){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithObjects:forKeys:",[a],[e])}),new objj_method(sel_getUid("dictionaryWithObjects:forKeys:"),function(b,c,a,e){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithObjects:forKeys:",a,e)}),new objj_method(sel_getUid("dictionaryWithJSObject:"),function(b,c,a){with(b)return objj_msgSend(b,"dictionaryWithJSObject:recursively:",a,NO)}),new objj_method(sel_getUid("dictionaryWithJSObject:recursively:"),
function(b,c,a,e){with(b){c="";b=objj_msgSend(objj_msgSend(b,"alloc"),"init");for(c in a)if(a.hasOwnProperty(c)){var d=a[c];if(d===null)objj_msgSend(b,"setObject:forKey:",objj_msgSend(CPNull,"null"),c);else{if(e)if(d.constructor===Object)d=objj_msgSend(CPDictionary,"dictionaryWithJSObject:recursively:",d,YES);else if(objj_msgSend(d,"isKindOfClass:",CPArray)){for(var f=[],g=0,h=d.length;g<h;g++){var j=d[g];j.constructor===Object?f.push(objj_msgSend(CPDictionary,"dictionaryWithJSObject:recursively:",
j,YES)):f.push(j)}d=f}objj_msgSend(b,"setObject:forKey:",d,c)}}return b}}),new objj_method(sel_getUid("dictionaryWithObjectsAndKeys:"),function(b){with(b)return arguments[0]=objj_msgSend(b,"alloc"),arguments[1]=sel_getUid("initWithObjectsAndKeys:"),objj_msgSend.apply(this,arguments)})]);f=objj_getClass("CPDictionary");if(!f)throw new SyntaxError('*** Could not find definition for class "CPDictionary"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(b,c,a){with(b)return objj_msgSend(a,
"_decodeDictionaryOfObjectsForKey:","CP.objects")}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,c,a){with(b)objj_msgSend(a,"_encodeDictionaryOfObjects:forKey:",b,"CP.objects")})]);f=objj_allocateClassPair(CPDictionary,"CPMutableDictionary");d=f.isa;objj_registerClassPair(f);CFDictionary.prototype.isa=CPDictionary;CFMutableDictionary.prototype.isa=CPMutableDictionary});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGPath.j",baseURL),function(h,g){g("CGGeometry.j",YES);g("CGAffineTransform.j",YES);kCGPathElementMoveToPoint=0;kCGPathElementAddLineToPoint=1;kCGPathElementAddQuadCurveToPoint=2;kCGPathElementAddCurveToPoint=3;kCGPathElementCloseSubpath=4;kCGPathElementAddArc=5;kCGPathElementAddArcToPoint=6;CGPathCreateMutable=function(){return{count:0,start:NULL,current:NULL,elements:[]}};CGPathCreateMutableCopy=function(d){var b=CGPathCreateMutable();
CGPathAddPath(b,d);return b};CGPathCreateCopy=function(d){return CGPathCreateMutableCopy(d)};CGPathRelease=function(){};CGPathRetain=function(d){return d};CGPathAddArc=function(d,b,c,a,e,f,g){if(b&&!(b.a==1&&b.b==0&&b.c==0&&b.d==1&&b.tx==0&&b.ty==0)){a={x:c,y:a};var h={x:COS(g),y:SIN(g)},p={x:COS(f),y:SIN(f)};h={x:h.x*b.a+h.y*b.c+b.tx,y:h.x*b.b+h.y*b.d+b.ty};p={x:p.x*b.a+p.y*b.c+b.tx,y:p.x*b.b+p.y*b.d+b.ty};a={x:a.x*b.a+a.y*b.c+b.tx,y:a.x*b.b+a.y*b.d+b.ty};c=a.x;a=a.y;var j=g,k=f;g=ATAN2(h.y-b.ty,
h.x-b.tx);f=ATAN2(p.y-b.ty,p.x-b.tx);g==f&&j!=k&&(k>j?g-=PI2:f-=PI2);e={width:e,height:0};e={width:e.width*b.a+e.height*b.c,height:e.width*b.b+e.height*b.d};e=SQRT(e.width*e.width+e.height*e.height)}d.current={x:c+e*COS(g),y:a+e*SIN(g)};d.elements[d.count++]={type:kCGPathElementAddArc,x:c,y:a,radius:e,startAngle:f,endAngle:g}};CGPathAddArcToPoint=function(){};CGPathAddCurveToPoint=function(d,b,c,a,e,f,g,h){c={x:c,y:a};e={x:e,y:f};g={x:g,y:h};b&&(c={x:c.x*b.a+c.y*b.c+b.tx,y:c.x*b.b+c.y*b.d+b.ty},e=
{x:e.x*b.a+e.y*b.c+b.tx,y:e.x*b.b+e.y*b.d+b.ty},g={x:g.x*b.a+g.y*b.c+b.tx,y:g.x*b.b+g.y*b.d+b.ty});d.current=g;d.elements[d.count++]={type:kCGPathElementAddCurveToPoint,cp1x:c.x,cp1y:c.y,cp2x:e.x,cp2y:e.y,x:g.x,y:g.y}};CGPathAddLines=function(d,b,c,a){var e=1;if(arguments.count==NULL)a=c.length;if(d&&!(a<2))for(CGPathMoveToPoint(d,b,c[0].x,c[0].y);e<a;++e)CGPathAddLineToPoint(d,b,c[e].x,c[e].y)};CGPathAddLineToPoint=function(d,b,c,a){c={x:c,y:a};b!=NULL&&(c={x:c.x*b.a+c.y*b.c+b.tx,y:c.x*b.b+c.y*b.d+
b.ty});d.elements[d.count++]={type:kCGPathElementAddLineToPoint,x:c.x,y:c.y};d.current=c};CGPathAddPath=function(d,b,c){for(var a=0,e=c.count;a<e;++a){var f=c.elements[a];switch(f.type){case kCGPathElementAddLineToPoint:CGPathAddLineToPoint(d,b,f.x,f.y);break;case kCGPathElementAddCurveToPoint:CGPathAddCurveToPoint(d,b,f.cp1x,f.cp1y,f.cp2x,f.cp2y,f.x,f.y);break;case kCGPathElementAddArc:CGPathAddArc(d,b,f.x,f.y,f.radius,f.startAngle,f.endAngle,f.isClockwise);break;case kCGPathElementAddQuadCurveToPoint:CGPathAddQuadCurveToPoint(d,
b,f.cpx,f.cpy,f.x,f.y);break;case kCGPathElementMoveToPoint:CGPathMoveToPoint(d,b,f.x,f.y);break;case kCGPathElementCloseSubpath:CGPathCloseSubpath(d)}}};CGPathAddQuadCurveToPoint=function(d,b,c,a,e,f){c={x:c,y:a};e={x:e,y:f};b&&(c={x:c.x*b.a+c.y*b.c+b.tx,y:c.x*b.b+c.y*b.d+b.ty},e={x:e.x*b.a+e.y*b.c+b.tx,y:e.x*b.b+e.y*b.d+b.ty});d.elements[d.count++]={type:kCGPathElementAddQuadCurveToPoint,cpx:c.x,cpy:c.y,x:e.x,y:e.y};d.current=e};CGPathAddRect=function(d,b,c){CGPathAddRects(d,b,[c],1)};CGPathAddRects=
function(d,b,c,a){var e=0;if(arguments.count==NULL)a=c.length;for(;e<a;++e){var f=c[e];CGPathMoveToPoint(d,b,f.origin.x,f.origin.y);CGPathAddLineToPoint(d,b,f.origin.x+f.size.width,f.origin.y);CGPathAddLineToPoint(d,b,f.origin.x+f.size.width,f.origin.y+f.size.height);CGPathAddLineToPoint(d,b,f.origin.x,f.origin.y+f.size.height);CGPathCloseSubpath(d)}};CGPathMoveToPoint=function(d,b,c,a){c={x:c,y:a};a=d.count;b!=NULL&&(c={x:c.x*b.a+c.y*b.c+b.tx,y:c.x*b.b+c.y*b.d+b.ty});d.start=c;d.current=c;b=d.elements[a-
1];a!=0&&b.type==kCGPathElementMoveToPoint?(b.x=c.x,b.y=c.y):d.elements[d.count++]={type:kCGPathElementMoveToPoint,x:c.x,y:c.y}};var f=4*((SQRT2-1)/3);CGPathWithEllipseInRect=function(d){var b=CGPathCreateMutable();if(d.size.width==d.size.height)CGPathAddArc(b,nil,d.origin.x+d.size.width/2,d.origin.y+d.size.height/2,d.size.width/2,0,2*PI,YES);else{var c={width:d.size.width/2,height:d.size.height/2};d={x:d.origin.x+c.width,y:d.origin.y+c.height};CGPathMoveToPoint(b,nil,d.x,d.y-c.height);CGPathAddCurveToPoint(b,
nil,d.x+f*c.width,d.y-c.height,d.x+c.width,d.y-f*c.height,d.x+c.width,d.y);CGPathAddCurveToPoint(b,nil,d.x+c.width,d.y+f*c.height,d.x+f*c.width,d.y+c.height,d.x,d.y+c.height);CGPathAddCurveToPoint(b,nil,d.x-f*c.width,d.y+c.height,d.x-c.width,d.y+f*c.height,d.x-c.width,d.y);CGPathAddCurveToPoint(b,nil,d.x-c.width,d.y-f*c.height,d.x-f*c.width,d.y-c.height,d.x,d.y-c.height)}CGPathCloseSubpath(b);return b};CGPathWithRoundedRectangleInRect=function(d,b,c,a,e,f,g){c=CGPathCreateMutable();var h=d.origin.x,
p=d.origin.x+d.size.width,j=d.origin.y;d=d.origin.y+d.size.height;CGPathMoveToPoint(c,nil,h+b,j);a?(CGPathAddLineToPoint(c,nil,p-b,j),CGPathAddCurveToPoint(c,nil,p-b,j,p,j,p,j+b)):CGPathAddLineToPoint(c,nil,p,j);e?(CGPathAddLineToPoint(c,nil,p,d-b),CGPathAddCurveToPoint(c,nil,p,d-b,p,d,p-b,d)):CGPathAddLineToPoint(c,nil,p,d);f?(CGPathAddLineToPoint(c,nil,h+b,d),CGPathAddCurveToPoint(c,nil,h+b,d,h,d,h,d-b)):CGPathAddLineToPoint(c,nil,h,d);g?(CGPathAddLineToPoint(c,nil,h,j+b),CGPathAddCurveToPoint(c,
nil,h,j+b,h,j,h+b,j)):CGPathAddLineToPoint(c,nil,h,j);CGPathCloseSubpath(c);return c};CGPathCloseSubpath=function(d){var b=d.count;b==0||d.elements[b-1].type==kCGPathElementCloseSubpath||(d.elements[d.count++]={type:kCGPathElementCloseSubpath,points:[d.start]})};CGPathEqualToPath=function(d,b){if(d==b)return YES;if(d.count!=b.count||!(d.start.x==b.start.x&&d.start.y==b.start.y)||!(d.current.x==b.current.x&&d.current.y==b.current.y))return NO;for(var c=0,a=d.count;c<a;++c){var e=d[c],f=b[c];if(e.type!=
f.type)return NO;if((e.type==kCGPathElementAddArc||e.type==kCGPathElementAddArcToPoint)&&e.radius!=f.radius)return NO;for(var g=e.points.length;g--;)if(!(e.points[g].x==f.points[g].x&&e.points[g].y==f.points[g].y))return NO}return YES};CGPathGetCurrentPoint=function(d){return{x:d.current.x,y:d.current.y}};CGPathIsEmpty=function(d){return!d||d.count==0}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/pattern_config.j",baseURL),function(){var h=objj_allocateClassPair(CPObject,"PatternConfig");class_addIvars(h,[new objj_ivar("m_number_of_points"),new objj_ivar("m_factor_larger"),new objj_ivar("m_circle"),new objj_ivar("m_show_shapes"),new objj_ivar("m_stroke_colors"),new objj_ivar("m_fill_colors"),new objj_ivar("m_recurse_depth"),new objj_ivar("m_sub_patterns"),new objj_ivar("m_bg_color"),new objj_ivar("m_rotation")]);objj_registerClassPair(h);
class_addMethods(h,[new objj_method(sel_getUid("numPoints"),function(g){with(g)return m_number_of_points}),new objj_method(sel_getUid("setNumPoints:"),function(g,f,d){with(g)m_number_of_points=d}),new objj_method(sel_getUid("factorLarger"),function(g){with(g)return m_factor_larger}),new objj_method(sel_getUid("setFactorLarger:"),function(g,f,d){with(g)m_factor_larger=d}),new objj_method(sel_getUid("circle"),function(g){with(g)return m_circle}),new objj_method(sel_getUid("showShapes"),function(g){with(g)return m_show_shapes}),
new objj_method(sel_getUid("setShowShapes:"),function(g,f,d){with(g)m_show_shapes=d}),new objj_method(sel_getUid("strokeColors"),function(g){with(g)return m_stroke_colors}),new objj_method(sel_getUid("fillColors"),function(g){with(g)return m_fill_colors}),new objj_method(sel_getUid("recurseDepth"),function(g){with(g)return m_recurse_depth}),new objj_method(sel_getUid("setRecurseDepth:"),function(g,f,d){with(g)m_recurse_depth=d}),new objj_method(sel_getUid("bgColor"),function(g){with(g)return m_bg_color}),
new objj_method(sel_getUid("setBgColor:"),function(g,f,d){with(g)m_bg_color=d}),new objj_method(sel_getUid("rotation"),function(g){with(g)return m_rotation}),new objj_method(sel_getUid("setRotation:"),function(g,f,d){with(g)m_rotation=d}),new objj_method(sel_getUid("initWithConfig:"),function(g,f,d){with(g){if(g=objj_msgSendSuper({receiver:g,super_class:objj_getClass("PatternConfig").super_class},"init"))if(m_number_of_points=objj_msgSend(d,"objectForKey:","number_of_points"),m_factor_larger=objj_msgSend(d,
"objectForKey:","factor_larger"),m_show_shapes=objj_msgSend(d,"objectForKey:","show_shapes"),m_stroke_colors=objj_msgSend(d,"objectForKey:","stroke_colors"),m_fill_colors=objj_msgSend(d,"objectForKey:","fill_colors"),m_recurse_depth=objj_msgSend(d,"objectForKey:","recurse_depth"),m_rotation=objj_msgSend(d,"objectForKey:","rotation")||0,m_bg_color=objj_msgSend(d,"objectForKey:","background_color")||objj_msgSend(CPColor,"whiteColor"),m_circle=objj_msgSend(GRLinkedCircle,"circleWithCenter:radius:",objj_msgSend(d,
"objectForKey:","center_point"),objj_msgSend(d,"objectForKey:","radius")),m_sub_patterns=[],m_recurse_depth>0){f=objj_msgSend(g,"sub_circles");for(var b=0;b<objj_msgSend(g,"numPoints");b++){var c=objj_msgSend(d,"copy");objj_msgSend(c,"setObject:forKey:",objj_msgSend(f[b],"cpt"),"center_point");objj_msgSend(c,"setObject:forKey:",m_recurse_depth-1,"recurse_depth");m_sub_patterns.push(objj_msgSend(objj_msgSend(objj_msgSend(g,"class"),"alloc"),"initWithConfig:",c))}}return g}}),new objj_method(sel_getUid("setFillColorAt:color:"),
function(g,f,d,b){with(g){m_fill_colors[d%NumberOfColors]=b;for(g=0;g<objj_msgSend(m_sub_patterns,"count");g++)objj_msgSend(m_sub_patterns[g],"setFillColorAt:color:",d,b)}}),new objj_method(sel_getUid("setStrokeColorAt:color:"),function(g,f,d,b){with(g){m_stroke_colors[d%NumberOfColors]=b;for(g=0;g<objj_msgSend(m_sub_patterns,"count");g++)objj_msgSend(m_sub_patterns[g],"setStrokeColorAt:color:",d,b)}}),new objj_method(sel_getUid("setShowShapes:"),function(g,f,d){with(g){m_show_shapes=d;for(g=0;g<
objj_msgSend(m_sub_patterns,"count");g++)objj_msgSend(m_sub_patterns[g],"setShowShapes:",d)}}),new objj_method(sel_getUid("setNumPoints:"),function(g,f,d){with(g)return objj_msgSend(g,"compareValue:forConfig:",d,"number_of_points")}),new objj_method(sel_getUid("setRadius:"),function(g,f,d){with(g)return objj_msgSend(g,"compareValue:forConfig:",d,"radius")}),new objj_method(sel_getUid("setFactorLarger:"),function(g,f,d){with(g)return objj_msgSend(g,"compareValue:forConfig:",d,"factor_larger")}),new objj_method(sel_getUid("setRecurseDepth:"),
function(g,f,d){with(g)return objj_msgSend(g,"compareValue:forConfig:",d,"recurse_depth")}),new objj_method(sel_getUid("radius"),function(g){with(g)return objj_msgSend(objj_msgSend(g,"circle"),"radius")}),new objj_method(sel_getUid("fillColorAt:"),function(g,f,d){with(g)return m_fill_colors[d%NumberOfColors]}),new objj_method(sel_getUid("strokeColorAt:"),function(g,f,d){with(g)return m_stroke_colors[d%NumberOfColors]}),new objj_method(sel_getUid("newPattern"),function(g){with(g)return"\n@implementation NewPattern : "+
objj_msgSend(g,"class")+"\n+ (CPDict) defaultConfig\n{\n return "+objj_msgSend(g,"dumpConfig")+"\n}\n@end\n"}),new objj_method(sel_getUid("dumpConfig"),function(g){with(g){for(var f=[],d=[],b=0;b<objj_msgSend(m_stroke_colors,"count");b++){var c=m_stroke_colors[b];f[b]=objj_msgSend(CPString,"stringWithFormat:","[CPColor colorWith8BitRed:%d green:%d blue:%d alpha:%f]",objj_msgSend(c,"redComponent")*255,objj_msgSend(c,"greenComponent")*255,objj_msgSend(c,"blueComponent")*255,objj_msgSend(c,"alphaComponent"))}for(b=
0;b<objj_msgSend(m_fill_colors,"count");b++)c=m_fill_colors[b],d[b]=objj_msgSend(CPString,"stringWithFormat:","[CPColor colorWith8BitRed:%d green:%d blue:%d alpha:%f]",objj_msgSend(c,"redComponent")*255,objj_msgSend(c,"greenComponent")*255,objj_msgSend(c,"blueComponent")*255,objj_msgSend(c,"alphaComponent"));c=objj_msgSend(g,"bgColor");return"[CPDictionary dictionaryWithObjectsAndKeys:"+objj_msgSend(CPString,"stringWithFormat:","[CPColor colorWith8BitRed:%d green:%d blue:%d alpha:%f]",objj_msgSend(c,
"redComponent")*255,objj_msgSend(c,"greenComponent")*255,objj_msgSend(c,"blueComponent")*255,objj_msgSend(c,"alphaComponent"))+', "background_color", '+objj_msgSend(g,"numPoints")+', "number_of_points", '+objj_msgSend(g,"rotation")+', "rotation", '+objj_msgSend(g,"recurseDepth")+', "recurse_depth", '+objj_msgSend(g,"factorLarger")+', "factor_larger", [GRPoint pointWithX:'+objj_msgSend(objj_msgSend(objj_msgSend(g,"circle"),"cpt"),"x")+" Y:"+objj_msgSend(objj_msgSend(objj_msgSend(g,"circle"),"cpt"),
"y")+'], "center_point", '+objj_msgSend(g,"radius")+', "radius", '+(objj_msgSend(g,"showShapes")?"YES":"NO")+', "show_shapes", ['+objj_msgSend(f,"componentsJoinedByString:",",")+'], "stroke_colors", ['+objj_msgSend(d,"componentsJoinedByString:",",")+'], "fill_colors"];'}}),new objj_method(sel_getUid("config"),function(g){with(g)return objj_eval(objj_msgSend(g,"dumpConfig"))}),new objj_method(sel_getUid("compareValue:forConfig:"),function(g,f,d,b){with(g){f=objj_msgSend(g,"config");if(objj_msgSend(f,
"objectForKey:",b)!==d)return objj_msgSend(f,"setObject:forKey:",d,b),objj_msgSend(objj_msgSend(objj_msgSend(g,"class"),"alloc"),"initWithConfig:",f);return g}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPObject.j",baseURL),function(){var h=objj_allocateClassPair(Nil,"CPObject"),g=h.isa;class_addIvars(h,[new objj_ivar("isa")]);objj_registerClassPair(h);class_addMethods(h,[new objj_method(sel_getUid("init"),function(f){with(f)return f}),new objj_method(sel_getUid("copy"),function(f){with(f)return f}),new objj_method(sel_getUid("mutableCopy"),function(f){with(f)return objj_msgSend(f,"copy")}),new objj_method(sel_getUid("dealloc"),
function(f){with(f);}),new objj_method(sel_getUid("class"),function(f){with(f)return isa}),new objj_method(sel_getUid("isKindOfClass:"),function(f,d,b){with(f)return objj_msgSend(isa,"isSubclassOfClass:",b)}),new objj_method(sel_getUid("isMemberOfClass:"),function(f,d,b){with(f)return f.isa===b}),new objj_method(sel_getUid("isProxy"),function(f){with(f)return NO}),new objj_method(sel_getUid("respondsToSelector:"),function(f,d,b){with(f)return!!class_getInstanceMethod(isa,b)}),new objj_method(sel_getUid("implementsSelector:"),
function(f,d,b){with(f){f=class_copyMethodList(isa);for(d=f.length;d--;)if(method_getName(f[d])===b)return YES;return NO}}),new objj_method(sel_getUid("methodForSelector:"),function(f,d,b){with(f)return class_getMethodImplementation(isa,b)}),new objj_method(sel_getUid("methodSignatureForSelector:"),function(f){with(f)return nil}),new objj_method(sel_getUid("description"),function(f){with(f)return"<"+class_getName(isa)+" 0x"+objj_msgSend(CPString,"stringWithHash:",objj_msgSend(f,"UID"))+">"}),new objj_method(sel_getUid("performSelector:"),
function(f,d,b){with(f)return objj_msgSend(f,b)}),new objj_method(sel_getUid("performSelector:withObject:"),function(f,d,b,c){with(f)return objj_msgSend(f,b,c)}),new objj_method(sel_getUid("performSelector:withObject:withObject:"),function(f,d,b,c,a){with(f)return objj_msgSend(f,b,c,a)}),new objj_method(sel_getUid("forwardInvocation:"),function(f,d,b){with(f)objj_msgSend(f,"doesNotRecognizeSelector:",objj_msgSend(b,"selector"))}),new objj_method(sel_getUid("forward::"),function(f,d,b,c){with(f){if(d=
objj_msgSend(f,"methodSignatureForSelector:",b)){d=objj_msgSend(CPInvocation,"invocationWithMethodSignature:",d);objj_msgSend(d,"setTarget:",f);objj_msgSend(d,"setSelector:",b);b=2;for(var a=c.length;b<a;++b)objj_msgSend(d,"setArgument:atIndex:",c[b],b);objj_msgSend(f,"forwardInvocation:",d);return objj_msgSend(d,"returnValue")}objj_msgSend(f,"doesNotRecognizeSelector:",b)}}),new objj_method(sel_getUid("doesNotRecognizeSelector:"),function(f,d,b){with(f)objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,
(class_isMetaClass(isa)?"+":"-")+" ["+objj_msgSend(f,"className")+" "+b+"] unrecognized selector sent to "+(class_isMetaClass(isa)?"class":"instance")+" 0x"+objj_msgSend(CPString,"stringWithHash:",objj_msgSend(f,"UID")))}),new objj_method(sel_getUid("awakeAfterUsingCoder:"),function(f){with(f)return f}),new objj_method(sel_getUid("classForKeyedArchiver"),function(f){with(f)return objj_msgSend(f,"classForCoder")}),new objj_method(sel_getUid("classForCoder"),function(f){with(f)return objj_msgSend(f,
"class")}),new objj_method(sel_getUid("replacementObjectForArchiver:"),function(f,d,b){with(f)return objj_msgSend(f,"replacementObjectForCoder:",b)}),new objj_method(sel_getUid("replacementObjectForKeyedArchiver:"),function(f,d,b){with(f)return objj_msgSend(f,"replacementObjectForCoder:",b)}),new objj_method(sel_getUid("replacementObjectForCoder:"),function(f){with(f)return f}),new objj_method(sel_getUid("className"),function(f){with(f)return isa.name}),new objj_method(sel_getUid("autorelease"),function(f){with(f)return f}),
new objj_method(sel_getUid("hash"),function(f){with(f)return objj_msgSend(f,"UID")}),new objj_method(sel_getUid("UID"),function(f){with(f){if(typeof f._UID==="undefined")f._UID=objj_generateObjectUID();return _UID+""}}),new objj_method(sel_getUid("isEqual:"),function(f,d,b){with(f)return f===b||objj_msgSend(f,"UID")===objj_msgSend(b,"UID")}),new objj_method(sel_getUid("retain"),function(f){with(f)return f}),new objj_method(sel_getUid("release"),function(f){with(f);}),new objj_method(sel_getUid("self"),
function(f){with(f)return f}),new objj_method(sel_getUid("superclass"),function(f){with(f)return isa.super_class})]);class_addMethods(g,[new objj_method(sel_getUid("load"),function(f){with(f);}),new objj_method(sel_getUid("initialize"),function(f){with(f);}),new objj_method(sel_getUid("new"),function(f){with(f)return objj_msgSend(objj_msgSend(f,"alloc"),"init")}),new objj_method(sel_getUid("alloc"),function(f){with(f)return class_createInstance(f)}),new objj_method(sel_getUid("allocWithCoder:"),function(f){with(f)return objj_msgSend(f,
"alloc")}),new objj_method(sel_getUid("class"),function(f){with(f)return f}),new objj_method(sel_getUid("superclass"),function(f){with(f)return super_class}),new objj_method(sel_getUid("isSubclassOfClass:"),function(f,d,b){with(f){for(;f;f=f.super_class)if(f===b)return YES;return NO}}),new objj_method(sel_getUid("isKindOfClass:"),function(f,d,b){with(f)return objj_msgSend(f,"isSubclassOfClass:",b)}),new objj_method(sel_getUid("isMemberOfClass:"),function(f,d,b){with(f)return f===b}),new objj_method(sel_getUid("instancesRespondToSelector:"),
function(f,d,b){with(f)return!!class_getInstanceMethod(f,b)}),new objj_method(sel_getUid("instanceMethodForSelector:"),function(f,d,b){with(f)return class_getMethodImplementation(f,b)}),new objj_method(sel_getUid("description"),function(f){with(f)return class_getName(isa)}),new objj_method(sel_getUid("setVersion:"),function(f,d,b){with(f)class_setVersion(f,b)}),new objj_method(sel_getUid("version"),function(f){with(f)return class_getVersion(f)})]);objj_class.prototype.toString=objj_object.prototype.toString=
function(){return this.isa&&class_getInstanceMethod(this.isa,"description")!=NULL?objj_msgSend(this,"description"):String(this)+" (-description not implemented)"}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPHUDWindowView.j",baseURL),function(h,g){g("CPTextField.j",YES);var f=nil,d=objj_allocateClassPair(_CPWindowView,"_CPHUDWindowView"),b=d.isa;class_addIvars(d,[new objj_ivar("_toolbarView"),new objj_ivar("_titleField"),new objj_ivar("_closeButton")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("contentRectForFrameRect:"),function(b,a,e){with(b)return a=objj_msgSend(objj_msgSend(b,"class"),"contentRectForFrameRect:",
e),objj_msgSend(objj_msgSend(objj_msgSend(b,"window"),"toolbar"),"isVisible")&&(toolbarHeight=CGRectGetHeight(objj_msgSend(objj_msgSend(b,"toolbarView"),"frame")),a.origin.y+=toolbarHeight,a.size.height-=toolbarHeight),a}),new objj_method(sel_getUid("frameRectForContentRect:"),function(b,a,e){with(b)return a=objj_msgSend(objj_msgSend(b,"class"),"frameRectForContentRect:",e),objj_msgSend(objj_msgSend(objj_msgSend(b,"window"),"toolbar"),"isVisible")&&(toolbarHeight=CGRectGetHeight(objj_msgSend(objj_msgSend(b,
"toolbarView"),"frame")),a.origin.y-=toolbarHeight,a.size.height+=toolbarHeight),a}),new objj_method(sel_getUid("initWithFrame:styleMask:"),function(b,a,e,d){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPHUDWindowView").super_class},"initWithFrame:styleMask:",e,d))objj_msgSend(b,"bounds"),objj_msgSend(b,"setBackgroundColor:",f),_titleField=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_titleField,"setHitTests:",NO),objj_msgSend(_titleField,
"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",11)),objj_msgSend(_titleField,"setTextColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_titleField,"setTextShadowColor:",objj_msgSend(CPColor,"blackColor")),objj_msgSend(_titleField,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(_titleField,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_titleField,"setLineBreakMode:",CPLineBreakByTruncatingTail),objj_msgSend(_titleField,"setAlignment:",CPCenterTextAlignment),objj_msgSend(_titleField,
"setStringValue:","Untitled"),objj_msgSend(_titleField,"sizeToFit"),objj_msgSend(_titleField,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_titleField,"setStringValue:",""),objj_msgSend(_titleField,"setFrame:",CGRectMake(20,3,CGRectGetWidth(objj_msgSend(b,"bounds"))-40,CGRectGetHeight(objj_msgSend(_titleField,"frame")))),objj_msgSend(b,"addSubview:",_titleField),_styleMask&CPClosableWindowMask&&(a=objj_msgSend(_CPHUDWindowViewCloseImage,"size"),_closeButton=objj_msgSend(objj_msgSend(CPButton,
"alloc"),"initWithFrame:",CGRectMake(8,5,a.width,a.height)),objj_msgSend(_closeButton,"setBordered:",NO),objj_msgSend(_closeButton,"setImage:",_CPHUDWindowViewCloseImage),objj_msgSend(_closeButton,"setAlternateImage:",_CPHUDWindowViewCloseActiveImage),objj_msgSend(b,"addSubview:",_closeButton)),objj_msgSend(b,"setResizeIndicatorOffset:",CGSizeMake(5,5));return b}}),new objj_method(sel_getUid("viewDidMoveToWindow"),function(b){with(b)objj_msgSend(_closeButton,"setTarget:",objj_msgSend(b,"window")),
objj_msgSend(_closeButton,"setAction:",sel_getUid("performClose:"))}),new objj_method(sel_getUid("setTitle:"),function(b,a,e){with(b)objj_msgSend(_titleField,"setStringValue:",e)}),new objj_method(sel_getUid("toolbarView"),function(b){with(b)return _toolbarView}),new objj_method(sel_getUid("toolbarLabelColor"),function(b){with(b)return objj_msgSend(CPColor,"whiteColor")}),new objj_method(sel_getUid("toolbarLabelShadowColor"),function(b){with(b)return objj_msgSend(CPColor,"blackColor")}),new objj_method(sel_getUid("toolbarOffset"),
function(b){with(b)return CGSizeMake(0,26)}),new objj_method(sel_getUid("tile"),function(b){with(b){objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPHUDWindowView").super_class},"tile");var a=objj_msgSend(b,"window"),e=objj_msgSend(b,"bounds"),d=CGRectGetWidth(e);objj_msgSend(_titleField,"setFrame:",CGRectMake(20,3,d-40,CGRectGetHeight(objj_msgSend(_titleField,"frame"))));b=objj_msgSend(b,"toolbarMaxY");objj_msgSend(objj_msgSend(a,"contentView"),"setFrameOrigin:",CGPointMake(0,b,d,CGRectGetHeight(e)-
b))}})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(b){with(b){if(b!=objj_msgSend(_CPHUDWindowView,"class"))return;b=objj_msgSend(CPBundle,"bundleForClass:",b);f=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground0.png"),CPSizeMake(7,37)),objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground1.png"),CPSizeMake(1,37)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground2.png"),CPSizeMake(7,37)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground3.png"),CPSizeMake(7,1)),objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground4.png"),CPSizeMake(2,2)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground5.png"),CPSizeMake(7,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground6.png"),CPSizeMake(7,3)),objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground7.png"),CPSizeMake(1,3)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/HUD/CPWindowHUDBackground8.png"),CPSizeMake(7,3))]));_CPHUDWindowViewCloseImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","HUDTheme/WindowClose.png"),CPSizeMake(18,18));_CPHUDWindowViewCloseActiveImage=
objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","HUDTheme/WindowCloseActive.png"),CPSizeMake(18,18))}}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(b,a,e){with(b)return b=CGRectMakeCopy(e),b.origin.y+=26,b.size.height-=26,b}),new objj_method(sel_getUid("frameRectForContentRect:"),function(b,a,e){with(b)return b=CGRectMakeCopy(e),b.origin.y-=26,b.size.height+=26,b})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPShadowView.j",baseURL),function(h,g){g("Foundation/CPBundle.j",NO);g("CGGeometry.j",YES);g("CPImage.j",YES);g("CPImageView.j",YES);g("CPView.j",YES);CPLightShadow=0;CPHeavyShadow=1;var f=nil,d=nil,b=objj_allocateClassPair(CPView,"CPShadowView"),c=b.isa;class_addIvars(b,[new objj_ivar("_weight")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("initWithFrame:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,
super_class:objj_getClass("CPShadowView").super_class},"initWithFrame:",c))_weight=CPLightShadow,objj_msgSend(a,"setBackgroundColor:",f),objj_msgSend(a,"setHitTests:",NO);return a}}),new objj_method(sel_getUid("setWeight:"),function(a,b,c){with(a){if(_weight==c)return;_weight=c;_weight==CPLightShadow?objj_msgSend(a,"setBackgroundColor:",f):objj_msgSend(a,"setBackgroundColor:",d)}}),new objj_method(sel_getUid("leftInset"),function(a){with(a)return _weight==CPLightShadow?3:7}),new objj_method(sel_getUid("rightInset"),
function(a){with(a)return _weight==CPLightShadow?3:7}),new objj_method(sel_getUid("topInset"),function(a){with(a)return _weight==CPLightShadow?3:5}),new objj_method(sel_getUid("bottomInset"),function(a){with(a)return _weight==CPLightShadow?5:5}),new objj_method(sel_getUid("horizontalInset"),function(a){with(a){if(_weight==CPLightShadow)return 6;return 14}}),new objj_method(sel_getUid("verticalInset"),function(a){with(a){if(_weight==CPLightShadow)return 8;return 10}}),new objj_method(sel_getUid("frameForContentFrame:"),
function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,"class"),"frameForContentFrame:withWeight:",c,_weight)}),new objj_method(sel_getUid("setFrameForContentFrame:"),function(a,b,c){with(a)objj_msgSend(a,"setFrame:",objj_msgSend(a,"frameForContentFrame:",c))})]);class_addMethods(c,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(CPShadowView,"class"))return;a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(a,"class"));f=objj_msgSend(CPColor,"colorWithPatternImage:",
objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewLightTopLeft.png"),CGSizeMake(9,9)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewLightTop.png"),CGSizeMake(1,9)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:",
"CPShadowView/CPShadowViewLightTopRight.png"),CGSizeMake(9,9)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewLightLeft.png"),CGSizeMake(9,1)),nil,objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewLightRight.png"),CGSizeMake(9,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:",
"CPShadowView/CPShadowViewLightBottomLeft.png"),CGSizeMake(9,9)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewLightBottom.png"),CGSizeMake(1,9)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewLightBottomRight.png"),CGSizeMake(9,9))]));d=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,
"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewHeavyTopLeft.png"),CGSizeMake(17,17)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewHeavyTop.png"),CGSizeMake(1,17)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewHeavyTopRight.png"),
CGSizeMake(17,17)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewHeavyLeft.png"),CGSizeMake(17,1)),nil,objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewHeavyRight.png"),CGSizeMake(17,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewHeavyBottomLeft.png"),
CGSizeMake(17,17)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewHeavyBottom.png"),CGSizeMake(1,17)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPShadowView/CPShadowViewHeavyBottomRight.png"),CGSizeMake(17,17))]))}}),new objj_method(sel_getUid("shadowViewEnclosingView:"),function(a,b,c){with(a)return objj_msgSend(a,"shadowViewEnclosingView:withWeight:",
c,CPLightShadow)}),new objj_method(sel_getUid("shadowViewEnclosingView:withWeight:"),function(a,b,c,d){with(a){a=objj_msgSend(objj_msgSend(CPShadowView,"alloc"),"initWithFrame:",objj_msgSend(c,"frame"));objj_msgSend(a,"setWeight:",d);b=objj_msgSend(a,"frame").size;d=b.width-objj_msgSend(a,"leftInset")-objj_msgSend(a,"rightInset");b=b.height-objj_msgSend(a,"topInset")-objj_msgSend(a,"bottomInset");var f=objj_msgSend(c,"superview");objj_msgSend(a,"setHitTests:",objj_msgSend(c,"hitTests"));objj_msgSend(a,
"setAutoresizingMask:",objj_msgSend(c,"autoresizingMask"));objj_msgSend(c,"removeFromSuperview");objj_msgSend(a,"addSubview:",c);objj_msgSend(c,"setFrame:",CGRectMake(objj_msgSend(a,"leftInset"),objj_msgSend(a,"topInset"),d,b));objj_msgSend(f,"addSubview:",a);return a}}),new objj_method(sel_getUid("frameForContentFrame:withWeight:"),function(a,b,c,d){with(a)return d==CPLightShadow?CGRectMake(c.origin.x-3,c.origin.y-3,c.size.width+3+3,c.size.height+3+5):CGRectMake(c.origin.x-7,c.origin.y-5,c.size.width+
7+7,c.size.height+5+5)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPTimer.j",baseURL),function(h,g){g("CPDate.j",YES);g("CPInvocation.j",YES);g("CPObject.j",YES);g("CPRunLoop.j",YES);var f=objj_allocateClassPair(CPObject,"CPTimer"),d=f.isa;class_addIvars(f,[new objj_ivar("_timeInterval"),new objj_ivar("_invocation"),new objj_ivar("_callback"),new objj_ivar("_repeats"),new objj_ivar("_isValid"),new objj_ivar("_fireDate"),new objj_ivar("_userInfo")]);objj_registerClassPair(f);class_addMethods(f,
[new objj_method(sel_getUid("initWithFireDate:interval:invocation:repeats:"),function(a,b,c,d,f,g){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTimer").super_class},"init"))_timeInterval=d,_invocation=f,_repeats=g,_isValid=YES,_fireDate=c;return a}}),new objj_method(sel_getUid("initWithFireDate:interval:target:selector:userInfo:repeats:"),function(a,b,c,d,f,g,h,l){with(a)return b=objj_msgSend(CPInvocation,"invocationWithMethodSignature:",1),objj_msgSend(b,"setTarget:",f),
objj_msgSend(b,"setSelector:",g),objj_msgSend(b,"setArgument:atIndex:",a,2),(a=objj_msgSend(a,"initWithFireDate:interval:invocation:repeats:",c,d,b,l))&&(_userInfo=h),a}),new objj_method(sel_getUid("initWithFireDate:interval:callback:repeats:"),function(a,b,c,d,f,g){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTimer").super_class},"init"))_timeInterval=d,_callback=f,_repeats=g,_isValid=YES,_fireDate=c;return a}}),new objj_method(sel_getUid("timeInterval"),function(a){with(a)return _timeInterval}),
new objj_method(sel_getUid("fireDate"),function(a){with(a)return _fireDate}),new objj_method(sel_getUid("setFireDate:"),function(a,b,c){with(a)_fireDate=c}),new objj_method(sel_getUid("fire"),function(a){with(a){if(!_isValid)return;_callback?_callback():objj_msgSend(_invocation,"invoke");if(!_isValid)return;_repeats?_fireDate=objj_msgSend(CPDate,"dateWithTimeIntervalSinceNow:",_timeInterval):objj_msgSend(a,"invalidate")}}),new objj_method(sel_getUid("isValid"),function(a){with(a)return _isValid}),
new objj_method(sel_getUid("invalidate"),function(a){with(a)_isValid=NO,_callback=_invocation=_userInfo=nil}),new objj_method(sel_getUid("userInfo"),function(a){with(a)return _userInfo})]);class_addMethods(d,[new objj_method(sel_getUid("scheduledTimerWithTimeInterval:invocation:repeats:"),function(a,b,c,d,f){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"initWithFireDate:interval:invocation:repeats:",objj_msgSend(CPDate,"dateWithTimeIntervalSinceNow:",c),c,d,f),objj_msgSend(objj_msgSend(CPRunLoop,
"currentRunLoop"),"addTimer:forMode:",a,CPDefaultRunLoopMode),a}),new objj_method(sel_getUid("scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:"),function(a,b,c,d,f,g,h){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"initWithFireDate:interval:target:selector:userInfo:repeats:",objj_msgSend(CPDate,"dateWithTimeIntervalSinceNow:",c),c,d,f,g,h),objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"addTimer:forMode:",a,CPDefaultRunLoopMode),a}),new objj_method(sel_getUid("scheduledTimerWithTimeInterval:callback:repeats:"),
function(a,b,c,d,f){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"initWithFireDate:interval:callback:repeats:",objj_msgSend(CPDate,"dateWithTimeIntervalSinceNow:",c),c,d,f),objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"addTimer:forMode:",a,CPDefaultRunLoopMode),a}),new objj_method(sel_getUid("timerWithTimeInterval:invocation:repeats:"),function(a,b,c,d,f){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithFireDate:interval:invocation:repeats:",objj_msgSend(CPDate,"dateWithTimeIntervalSinceNow:",
c),c,d,f)}),new objj_method(sel_getUid("timerWithTimeInterval:target:selector:userInfo:repeats:"),function(a,b,c,d,f,g,h){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithFireDate:interval:target:selector:userInfo:repeats:",objj_msgSend(CPDate,"dateWithTimeIntervalSinceNow:",c),c,d,f,g,h)}),new objj_method(sel_getUid("timerWithTimeInterval:callback:repeats:"),function(a,b,c,d,f){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithFireDate:interval:callback:repeats:",objj_msgSend(CPDate,
"dateWithTimeIntervalSinceNow:",c),c,d,f)})]);var b=1E3,c={},a=function(a,d,f,g){var h=b++,j=nil;typeof a==="string"?j=function(){(new Function(a))();f||(c[h]=nil)}:(g||(g=[]),j=function(){a.apply(window,g);f||(c[h]=nil)});c[h]=objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:callback:repeats:",d/1E3,j,f);return h};if(typeof window!=="undefined")window.setTimeout=function(b,c){return a(b,c,NO,Array.prototype.slice.apply(arguments,[2]))},window.clearTimeout=function(a){var b=c[a];b&&objj_msgSend(b,
"invalidate");c[a]=nil},window.setInterval=function(b,c){return a(b,c,YES,Array.prototype.slice.apply(arguments,[2]))},window.clearInterval=function(a){window.clearTimeout(a)}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPRadio.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);g("Foundation/CPSet.j",NO);g("CPButton.j",YES);CPRadioImageOffset=4;var f=objj_allocateClassPair(CPButton,"CPRadio"),d=f.isa;class_addIvars(f,[new objj_ivar("_radioGroup")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:radioGroup:"),function(b,c,a,e){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPRadio").super_class},
"initWithFrame:",a))objj_msgSend(b,"setRadioGroup:",e),objj_msgSend(b,"setHighlightsBy:",CPContentsCellMask),objj_msgSend(b,"setShowsStateBy:",CPContentsCellMask),objj_msgSend(b,"setImagePosition:",CPImageLeft),objj_msgSend(b,"setAlignment:",CPLeftTextAlignment),objj_msgSend(b,"setBordered:",YES);return b}}),new objj_method(sel_getUid("initWithFrame:"),function(b,c,a){with(b)return objj_msgSend(b,"initWithFrame:radioGroup:",a,objj_msgSend(CPRadioGroup,"new"))}),new objj_method(sel_getUid("nextState"),
function(b){with(b)return CPOnState}),new objj_method(sel_getUid("setRadioGroup:"),function(b,c,a){with(b){if(_radioGroup===a)return;objj_msgSend(_radioGroup,"_removeRadio:",b);_radioGroup=a;objj_msgSend(_radioGroup,"_addRadio:",b)}}),new objj_method(sel_getUid("radioGroup"),function(b){with(b)return _radioGroup}),new objj_method(sel_getUid("setObjectValue:"),function(b,c,a){with(b)objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPRadio").super_class},"setObjectValue:",a),objj_msgSend(b,
"state")===CPOnState&&objj_msgSend(_radioGroup,"_setSelectedRadio:",b)})]);class_addMethods(d,[new objj_method(sel_getUid("radioWithTitle:theme:"),function(b,c,a,e){with(b)return objj_msgSend(b,"buttonWithTitle:theme:",a,e)}),new objj_method(sel_getUid("radioWithTitle:"),function(b,c,a){with(b)return objj_msgSend(b,"buttonWithTitle:",a)}),new objj_method(sel_getUid("standardButtonWithTitle:"),function(b,c,a){with(b)return b=objj_msgSend(objj_msgSend(CPRadio,"alloc"),"init"),objj_msgSend(b,"setTitle:",
a),b}),new objj_method(sel_getUid("defaultThemeClass"),function(b){with(b)return"radio"})]);f=objj_getClass("CPRadio");if(!f)throw new SyntaxError('*** Could not find definition for class "CPRadio"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(b,c,a){with(b)return(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPRadio").super_class},"initWithCoder:",a))&&(_radioGroup=objj_msgSend(a,"decodeObjectForKey:","CPRadioRadioGroupKey")),b}),new objj_method(sel_getUid("encodeWithCoder:"),
function(b,c,a){with(b)objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPRadio").super_class},"encodeWithCoder:",a),objj_msgSend(a,"encodeObject:forKey:",_radioGroup,"CPRadioRadioGroupKey")})]);f=objj_allocateClassPair(CPObject,"CPRadioGroup");d=f.isa;class_addIvars(f,[new objj_ivar("_radios"),new objj_ivar("_selectedRadio"),new objj_ivar("_target"),new objj_ivar("_action")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("target"),function(b){with(b)return _target}),
new objj_method(sel_getUid("setTarget:"),function(b,c,a){with(b)_target=a}),new objj_method(sel_getUid("action"),function(b){with(b)return _action}),new objj_method(sel_getUid("setAction:"),function(b,c,a){with(b)_action=a}),new objj_method(sel_getUid("init"),function(b){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPRadioGroup").super_class},"init"))_radios=objj_msgSend(CPSet,"set"),_selectedRadio=nil;return b}}),new objj_method(sel_getUid("_addRadio:"),function(b,c,a){with(b)objj_msgSend(_radios,
"addObject:",a),objj_msgSend(a,"state")===CPOnState&&objj_msgSend(b,"_setSelectedRadio:",a)}),new objj_method(sel_getUid("_removeRadio:"),function(b,c,a){with(b)_selectedRadio===a&&(_selectedRadio=nil),objj_msgSend(_radios,"removeObject:",a)}),new objj_method(sel_getUid("_setSelectedRadio:"),function(b,c,a){with(b){if(_selectedRadio===a)return;objj_msgSend(_selectedRadio,"setState:",CPOffState);_selectedRadio=a;objj_msgSend(CPApp,"sendAction:to:from:",_action,_target,b)}}),new objj_method(sel_getUid("selectedRadio"),
function(b){with(b)return _selectedRadio}),new objj_method(sel_getUid("radios"),function(b){with(b)return objj_msgSend(_radios,"allObjects")})]);f=objj_getClass("CPRadioGroup");if(!f)throw new SyntaxError('*** Could not find definition for class "CPRadioGroup"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(b,c,a){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPRadioGroup").super_class},"init"))_radios=objj_msgSend(a,"decodeObjectForKey:",
"CPRadioGroupRadiosKey"),_selectedRadio=objj_msgSend(a,"decodeObjectForKey:","CPRadioGroupSelectedRadioKey");return b}}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,c,a){with(b)objj_msgSend(a,"encodeObject:forKey:",_radios,"CPRadioGroupRadiosKey"),objj_msgSend(a,"encodeObject:forKey:",_selectedRadio,"CPRadioGroupSelectedRadioKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPClipView.j",baseURL),function(h,g){g("CPView.j",YES);var f=objj_allocateClassPair(CPView,"CPClipView");class_addIvars(f,[new objj_ivar("_documentView")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("setDocumentView:"),function(d,b,c){with(d){if(_documentView==c)return;b=objj_msgSend(CPNotificationCenter,"defaultCenter");_documentView&&(objj_msgSend(b,"removeObserver:name:object:",d,CPViewFrameDidChangeNotification,
_documentView),objj_msgSend(b,"removeObserver:name:object:",d,CPViewBoundsDidChangeNotification,_documentView),objj_msgSend(_documentView,"removeFromSuperview"));if(_documentView=c)objj_msgSend(d,"addSubview:",_documentView),objj_msgSend(_documentView,"setPostsFrameChangedNotifications:",YES),objj_msgSend(_documentView,"setPostsBoundsChangedNotifications:",YES),objj_msgSend(b,"addObserver:selector:name:object:",d,sel_getUid("viewFrameChanged:"),CPViewFrameDidChangeNotification,_documentView),objj_msgSend(b,
"addObserver:selector:name:object:",d,sel_getUid("viewBoundsChanged:"),CPViewBoundsDidChangeNotification,_documentView)}}),new objj_method(sel_getUid("documentView"),function(d){with(d)return _documentView}),new objj_method(sel_getUid("constrainScrollPoint:"),function(d,b,c){with(d){if(!_documentView)return{x:0,y:0};d=objj_msgSend(_documentView,"frame");c.x=MAX(0,MIN(c.x,MAX(d.size.width-_bounds.size.width,0)));c.y=MAX(0,MIN(c.y,MAX(d.size.height-_bounds.size.height,0)));return c}}),new objj_method(sel_getUid("setBoundsOrigin:"),
function(d,b,c){with(d){if(_bounds.origin.x==c.x&&_bounds.origin.y==c.y)return;objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPClipView").super_class},"setBoundsOrigin:",c);b=objj_msgSend(d,"superview");c=objj_getClass("CPScrollView");objj_msgSend(b,"isKindOfClass:",c)&&objj_msgSend(b,"reflectScrolledClipView:",d)}}),new objj_method(sel_getUid("scrollToPoint:"),function(d,b,c){with(d)objj_msgSend(d,"setBoundsOrigin:",objj_msgSend(d,"constrainScrollPoint:",c))}),new objj_method(sel_getUid("viewBoundsChanged:"),
function(d){with(d)objj_msgSend(d,"_constrainScrollPoint")}),new objj_method(sel_getUid("viewFrameChanged:"),function(d){with(d)objj_msgSend(d,"_constrainScrollPoint")}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(d,b,c){with(d)objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPClipView").super_class},"resizeSubviewsWithOldSize:",c),objj_msgSend(d,"_constrainScrollPoint")}),new objj_method(sel_getUid("_constrainScrollPoint"),function(d){with(d){var b=objj_msgSend(d,"bounds").origin;
objj_msgSend(d,"scrollToPoint:",b);if(!CGPointEqualToPoint(b,objj_msgSend(d,"bounds").origin))return;b=objj_msgSend(d,"superview");var c=objj_getClass("CPScrollView");objj_msgSend(b,"isKindOfClass:",c)&&objj_msgSend(b,"reflectScrolledClipView:",d)}}),new objj_method(sel_getUid("autoscroll:"),function(d,b,c){with(d){b=objj_msgSend(d,"bounds");c=objj_msgSend(d,"convertPoint:fromView:",objj_msgSend(c,"locationInWindow"),nil);var a=objj_msgSend(d,"superview"),e=0,f=0;if(CGRectContainsPoint(b,c))return NO;
if(!objj_msgSend(a,"isKindOfClass:",objj_msgSend(CPScrollView,"class"))||objj_msgSend(a,"hasVerticalScroller"))if(c.y<CGRectGetMinY(b)?f=CGRectGetMinY(b)-c.y:c.y>CGRectGetMaxY(b)&&(f=CGRectGetMaxY(b)-c.y),f<-b.size.height&&(f=-b.size.height),f>b.size.height)f=b.size.height;if(!objj_msgSend(a,"isKindOfClass:",objj_msgSend(CPScrollView,"class"))||objj_msgSend(a,"hasHorizontalScroller"))if(c.x<CGRectGetMinX(b)?e=CGRectGetMinX(b)-c.x:c.x>CGRectGetMaxX(b)&&(e=CGRectGetMaxX(b)-c.x),e<-b.size.width&&(e=
-b.size.width),e>b.size.width)e=b.size.width;return objj_msgSend(d,"scrollToPoint:",CGPointMake(b.origin.x-e,b.origin.y-f))}})]);f=objj_getClass("CPClipView");if(!f)throw new SyntaxError('*** Could not find definition for class "CPClipView"');class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(d,b,c){with(d)return(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPClipView").super_class},"initWithCoder:",c))&&objj_msgSend(d,"setDocumentView:",objj_msgSend(c,"decodeObjectForKey:",
"CPScrollViewDocumentView")),d}),new objj_method(sel_getUid("encodeWithCoder:"),function(d,b,c){with(d)objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPClipView").super_class},"encodeWithCoder:",c),objj_msgSend(c,"encodeObject:forKey:",_documentView,"CPScrollViewDocumentView")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPFont.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);g("Foundation/CPBundle.j",NO);g("CPView.j",YES);var f={},d="Arial, sans-serif",b=RegExp("\\s*,\\s*","g"),c=objj_allocateClassPair(CPObject,"CPFont"),a=c.isa;class_addIvars(c,[new objj_ivar("_name"),new objj_ivar("_size"),new objj_ivar("_ascender"),new objj_ivar("_descender"),new objj_ivar("_lineHeight"),new objj_ivar("_isBold"),new objj_ivar("_cssString")]);objj_registerClassPair(c);
class_addMethods(c,[new objj_method(sel_getUid("_initWithName:size:bold:"),function(a,c,g,h,p){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPFont").super_class},"init"))_name=g,_size=h,_lineHeight=_descender=_ascender=0,_isBold=p,_cssString=(_isBold?"bold ":"")+ROUND(_size)+"px "+(_name===d?_name:'"'+_name.replace(b,'", "')+'", '+d),f[_cssString]=a;return a}}),new objj_method(sel_getUid("ascender"),function(a){with(a)return _ascender||objj_msgSend(a,"_getMetrics"),_ascender}),
new objj_method(sel_getUid("descender"),function(a){with(a)return _descender||objj_msgSend(a,"_getMetrics"),_descender}),new objj_method(sel_getUid("defaultLineHeightForFont"),function(a){with(a)return _lineHeight||objj_msgSend(a,"_getMetrics"),_lineHeight}),new objj_method(sel_getUid("size"),function(a){with(a)return _size}),new objj_method(sel_getUid("cssString"),function(a){with(a)return _cssString}),new objj_method(sel_getUid("familyName"),function(a){with(a)return _name}),new objj_method(sel_getUid("isEqual:"),
function(a,b,c){with(a)return objj_msgSend(c,"isKindOfClass:",objj_msgSend(CPFont,"class"))&&objj_msgSend(c,"cssString")===objj_msgSend(a,"cssString")}),new objj_method(sel_getUid("description"),function(a){with(a)return objj_msgSend(CPString,"stringWithFormat:","%@ %@ %f pt.",objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPFont").super_class},"description"),objj_msgSend(a,"familyName"),objj_msgSend(a,"size"))}),new objj_method(sel_getUid("_getMetrics"),function(a){with(a)a=objj_msgSend(CPString,
"metricsOfFont:",a),_ascender=objj_msgSend(a,"objectForKey:","ascender"),_descender=objj_msgSend(a,"objectForKey:","descender"),_lineHeight=objj_msgSend(a,"objectForKey:","lineHeight")})]);class_addMethods(a,[new objj_method(sel_getUid("initialize"),function(a){with(a)(a=objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPView,"class")),"objectForInfoDictionaryKey:","CPSystemFontFace"))&&(d=a)}),new objj_method(sel_getUid("fontWithName:size:"),function(a,c,g,h){with(a)return f[(NO?
"bold ":"")+ROUND(h)+"px "+(g===d?g:'"'+g.replace(b,'", "')+'", '+d)]||objj_msgSend(objj_msgSend(CPFont,"alloc"),"_initWithName:size:bold:",g,h,NO)}),new objj_method(sel_getUid("boldFontWithName:size:"),function(a,c,g,h){with(a)return f[(YES?"bold ":"")+ROUND(h)+"px "+(g===d?g:'"'+g.replace(b,'", "')+'", '+d)]||objj_msgSend(objj_msgSend(CPFont,"alloc"),"_initWithName:size:bold:",g,h,YES)}),new objj_method(sel_getUid("systemFontOfSize:"),function(a,c,g){with(a)return f[(NO?"bold ":"")+ROUND(g)+"px "+
(d===d?d:'"'+d.replace(b,'", "')+'", '+d)]||objj_msgSend(objj_msgSend(CPFont,"alloc"),"_initWithName:size:bold:",d,g,NO)}),new objj_method(sel_getUid("boldSystemFontOfSize:"),function(a,c,g){with(a)return f[(YES?"bold ":"")+ROUND(g)+"px "+(d===d?d:'"'+d.replace(b,'", "')+'", '+d)]||objj_msgSend(objj_msgSend(CPFont,"alloc"),"_initWithName:size:bold:",d,g,YES)})]);c=objj_getClass("CPFont");if(!c)throw new SyntaxError('*** Could not find definition for class "CPFont"');a=c.isa;class_addMethods(c,[new objj_method(sel_getUid("initWithCoder:"),
function(a,b,c){with(a)return objj_msgSend(a,"_initWithName:size:bold:",objj_msgSend(c,"decodeObjectForKey:","CPFontNameKey"),objj_msgSend(c,"decodeFloatForKey:","CPFontSizeKey"),objj_msgSend(c,"decodeBoolForKey:","CPFontIsBoldKey"))}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a)objj_msgSend(c,"encodeObject:forKey:",_name,"CPFontNameKey"),objj_msgSend(c,"encodeFloat:forKey:",_size,"CPFontSizeKey"),objj_msgSend(c,"encodeBool:forKey:",_isBold,"CPFontIsBoldKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPData.j",baseURL),function(h,g){g("CPObject.j",YES);g("CPString.j",YES);var f=objj_allocateClassPair(CPObject,"CPData"),d=f.isa;objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithRawString:"),function(b,c,a){with(b)return(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPData").super_class},"init"))&&objj_msgSend(b,"setRawString:",a),b}),new objj_method(sel_getUid("initWithPlistObject:"),
function(b,c,a){with(b)return(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPData").super_class},"init"))&&objj_msgSend(b,"setPlistObject:",a),b}),new objj_method(sel_getUid("initWithPlistObject:format:"),function(b,c,a,e){with(b)return(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPData").super_class},"init"))&&objj_msgSend(b,"setPlistObject:format:",a,e),b}),new objj_method(sel_getUid("initWithJSONObject:"),function(b,c,a){with(b)return(b=objj_msgSendSuper({receiver:b,
super_class:objj_getClass("CPData").super_class},"init"))&&objj_msgSend(b,"setJSONObject:",a),b}),new objj_method(sel_getUid("rawString"),function(b){with(b)return b.rawString()}),new objj_method(sel_getUid("plistObject"),function(b){with(b)return b.propertyList()}),new objj_method(sel_getUid("JSONObject"),function(b){with(b)return b.JSONObject()}),new objj_method(sel_getUid("length"),function(b){with(b)return objj_msgSend(objj_msgSend(b,"rawString"),"length")}),new objj_method(sel_getUid("description"),
function(b){with(b)return b.toString()})]);class_addMethods(d,[new objj_method(sel_getUid("alloc"),function(b){with(b){var c=new CFMutableData;c.isa=objj_msgSend(b,"class");return c}}),new objj_method(sel_getUid("data"),function(b){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"init")}),new objj_method(sel_getUid("dataWithRawString:"),function(b,c,a){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithRawString:",a)}),new objj_method(sel_getUid("dataWithPlistObject:"),function(b,c,a){with(b)return objj_msgSend(objj_msgSend(b,
"alloc"),"initWithPlistObject:",a)}),new objj_method(sel_getUid("dataWithPlistObject:format:"),function(b,c,a,e){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithPlistObject:format:",a,e)}),new objj_method(sel_getUid("dataWithJSONObject:"),function(b,c,a){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithJSONObject:",a)})]);f=objj_getClass("CPData");if(!f)throw new SyntaxError('*** Could not find definition for class "CPData"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("setRawString:"),
function(b,c,a){with(b)b.setRawString(a)}),new objj_method(sel_getUid("setPlistObject:"),function(b,c,a){with(b)b.setPropertyList(a)}),new objj_method(sel_getUid("setPlistObject:format:"),function(b,c,a,e){with(b)b.setPropertyList(a,e)}),new objj_method(sel_getUid("setJSONObject:"),function(b,c,a){with(b)b.setJSONObject(a)})]);f=objj_getClass("CPData");if(!f)throw new SyntaxError('*** Could not find definition for class "CPData"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithString:"),
function(b,c,a){with(b)return _CPReportLenientDeprecation(b,c,sel_getUid("initWithRawString:")),objj_msgSend(b,"initWithRawString:",a)}),new objj_method(sel_getUid("setString:"),function(b,c,a){with(b)_CPReportLenientDeprecation(b,c,sel_getUid("setRawString:")),objj_msgSend(b,"setRawString:",a)}),new objj_method(sel_getUid("string"),function(b,c){with(b)return _CPReportLenientDeprecation(b,c,sel_getUid("rawString")),objj_msgSend(b,"rawString")})]);class_addMethods(d,[new objj_method(sel_getUid("dataWithString:"),
function(b,c,a){with(b)return _CPReportLenientDeprecation(b,c,sel_getUid("dataWithRawString:")),objj_msgSend(b,"dataWithRawString:",a)})]);CFData.prototype.isa=CPData;CFMutableData.prototype.isa=CPData});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/two.j",baseURL),function(){var h=objj_allocateClassPair(PatternMaker,"PatternTwo"),g=h.isa;objj_registerClassPair(h);class_addMethods(h,[new objj_method(sel_getUid("_draw:"),function(f,d,b){with(f)objj_msgSend(f,"showShapes")?(objj_msgSend(f,"draw_frame_1:",b),objj_msgSend(f,"draw_frame_2:",b),objj_msgSend(f,"draw_frame_3:",b),objj_msgSend(f,"draw_frame_4:",b)):(objj_msgSend(f,"draw_frame_1:",b),objj_msgSend(f,"draw_frame_2:",b))}),
new objj_method(sel_getUid("draw_frame_1:"),function(f,d,b){with(f)objj_msgSend(f,"setupColorWithIndex:context:",0,b),objj_msgSend(objj_msgSend(f,"circle"),"draw:",b),objj_msgSend(f,"fillAndStroke:",b)}),new objj_method(sel_getUid("draw_frame_2:"),function(f,d,b){with(f){d=objj_msgSend(f,"sub_circles");for(var c=objj_msgSend(d,"count");c--;)objj_msgSend(d[c],"draw:",b),objj_msgSend(f,"setupColorWithIndex:context:",c%2+1,b),objj_msgSend(f,"fillAndStroke:",b)}}),new objj_method(sel_getUid("draw_frame_3:"),
function(f,d,b){with(f){objj_msgSend(f,"setupColorWithIndex:context:",3,b);d=objj_msgSend(f,"sub_circles");for(var c=0;c<objj_msgSend(f,"numPoints");c++){var a=d[c],e=objj_msgSend(a,"cpt"),g=objj_msgSend(e,"closest:",objj_msgSend(objj_msgSend(objj_msgSend(a,"prevCircle"),"prevCircle"),"intersection:",objj_msgSend(a,"nextCircle"))),h=objj_msgSend(objj_msgSend(objj_msgSend(f,"circle"),"cpt"),"furthest:",objj_msgSend(objj_msgSend(a,"prevCircle"),"intersection:",objj_msgSend(a,"nextCircle")));a=objj_msgSend(h,
"closest:",objj_msgSend(objj_msgSend(objj_msgSend(a,"nextCircle"),"nextCircle"),"intersection:",objj_msgSend(a,"prevCircle")));a!=null&&g!=null&&(objj_msgSend(objj_msgSend(GRRect,"rectWithPoints:",[e,g,h,a]),"draw:",b),objj_msgSend(f,"fillAndStroke:",b))}}}),new objj_method(sel_getUid("draw_frame_4:"),function(f,d,b){with(f){objj_msgSend(f,"setupColorWithIndex:context:",4,b);d=objj_msgSend(f,"sub_circles");for(var c=0;c<objj_msgSend(f,"numPoints");c++){var a=d[c],e=objj_msgSend(objj_msgSend(a,"cpt"),
"distance:",objj_msgSend(objj_msgSend(a,"nextCircle"),"cpt")),g=objj_msgSend(GRCircle,"circleWithCenter:radius:",objj_msgSend(a,"cpt"),e);e=objj_msgSend(g,"intersection:",objj_msgSend(GRCircle,"circleWithCenter:radius:",objj_msgSend(objj_msgSend(a,"nextCircle"),"cpt"),e));objj_msgSend(f,"setupColorWithIndex:context:",1,b);objj_msgSend(g,"draw:",b);objj_msgSend(f,"fillAndStroke:",b);objj_msgSend(f,"setupColorWithIndex:context:",4,b);objj_msgSend(objj_msgSend(GRRect,"rectWithPoints:",[objj_msgSend(a,
"cpt"),e[0],objj_msgSend(objj_msgSend(a,"nextCircle"),"cpt"),e[1]]),"draw:",b);objj_msgSend(f,"fillAndStroke:",b)}}})]);class_addMethods(g,[new objj_method(sel_getUid("defaultConfig"),function(f){with(f)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",3,3,3,1),"background_color",12,"number_of_points",0,"rotation",0,"recurse_depth",1.18,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",127,"radius",
YES,"show_shapes",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,255,10,0.1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,255,0,0.11818181818181818),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",47,8,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,2,10,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,23,10,1)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",
51,32,255,0.4727272727272727),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",198,157,165,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0.02727272727272727),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,9,45,0.4727272727272727),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,200,10,0.8545454545454545),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,1)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCibLoading.j",baseURL),function(h,g){g("Foundation/CPBundle.j",NO);g("Foundation/CPDictionary.j",NO);g("Foundation/CPString.j",NO);var f=objj_getClass("CPObject");if(!f)throw new SyntaxError('*** Could not find definition for class "CPObject"');var d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("awakeFromCib"),function(b){with(b);})]);f=objj_getClass("CPBundle");if(!f)throw new SyntaxError('*** Could not find definition for class "CPBundle"');
d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("loadCibFile:externalNameTable:"),function(b,c,a,e){with(b)return objj_msgSend(objj_msgSend(objj_msgSend(CPCib,"alloc"),"initWithContentsOfURL:",a),"instantiateCibWithExternalNameTable:",e)}),new objj_method(sel_getUid("loadCibFile:externalNameTable:loadDelegate:"),function(b,c,a,e,d){with(b)return objj_msgSend(objj_msgSend(CPCib,"alloc"),"initWithCibNamed:bundle:loadDelegate:",a,b,objj_msgSend(objj_msgSend(_CPCibLoadDelegate,"alloc"),"initWithLoadDelegate:externalNameTable:",
d,e))})]);class_addMethods(d,[new objj_method(sel_getUid("loadCibFile:externalNameTable:"),function(b,c,a,d){with(b)return objj_msgSend(objj_msgSend(objj_msgSend(CPCib,"alloc"),"initWithContentsOfURL:",a),"instantiateCibWithExternalNameTable:",d)}),new objj_method(sel_getUid("loadCibNamed:owner:"),function(b,c,a,d){with(b)return objj_msgSend(a,"hasSuffix:",".cib")||(a=objj_msgSend(a,"stringByAppendingString:",".cib")),c=d?objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(d,"class")):objj_msgSend(CPBundle,
"mainBundle"),a=objj_msgSend(c,"pathForResource:",a),objj_msgSend(b,"loadCibFile:externalNameTable:",a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",d,"CPCibOwner"))}),new objj_method(sel_getUid("loadCibFile:externalNameTable:loadDelegate:"),function(b,c,a,d,f){with(b)return objj_msgSend(objj_msgSend(CPCib,"alloc"),"initWithContentsOfURL:loadDelegate:",a,objj_msgSend(objj_msgSend(_CPCibLoadDelegate,"alloc"),"initWithLoadDelegate:externalNameTable:",f,d))}),new objj_method(sel_getUid("loadCibNamed:owner:loadDelegate:"),
function(b,c,a,d,f){with(b)return objj_msgSend(a,"hasSuffix:",".cib")||(a=objj_msgSend(a,"stringByAppendingString:",".cib")),c=d?objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(d,"class")):objj_msgSend(CPBundle,"mainBundle"),a=objj_msgSend(c,"pathForResource:",a),objj_msgSend(b,"loadCibFile:externalNameTable:loadDelegate:",a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",d,"CPCibOwner"),f)})]);f=objj_allocateClassPair(CPObject,"_CPCibLoadDelegate");d=f.isa;class_addIvars(f,[new objj_ivar("_loadDelegate"),
new objj_ivar("_externalNameTable")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithLoadDelegate:externalNameTable:"),function(b,c,a,d){with(b){if(b=objj_msgSend(b,"init"))_loadDelegate=a,_externalNameTable=d;return b}}),new objj_method(sel_getUid("cibDidFinishLoading:"),function(b,c,a){with(b)objj_msgSend(a,"instantiateCibWithExternalNameTable:",_externalNameTable),objj_msgSend(_loadDelegate,"cibDidFinishLoading:",a)}),new objj_method(sel_getUid("cibDidFailToLoad:"),
function(b,c,a){with(b)objj_msgSend(_loadDelegate,"cibDidFailToLoad:",a)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPSortDescriptor.j",baseURL),function(h,g){g("CPObject.j",YES);g("CPObjJRuntime.j",YES);g("CPString.j",YES);var f=objj_allocateClassPair(CPObject,"CPSortDescriptor"),d=f.isa;class_addIvars(f,[new objj_ivar("_key"),new objj_ivar("_selector"),new objj_ivar("_ascending")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithKey:ascending:"),function(b,c,a,d){with(b)return objj_msgSend(b,"initWithKey:ascending:selector:",
a,d,sel_getUid("compare:"))}),new objj_method(sel_getUid("initWithKey:ascending:selector:"),function(b,c,a,d,f){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPSortDescriptor").super_class},"init"))_key=a,_ascending=d,_selector=f;return b}}),new objj_method(sel_getUid("ascending"),function(b){with(b)return _ascending}),new objj_method(sel_getUid("key"),function(b){with(b)return _key}),new objj_method(sel_getUid("selector"),function(b){with(b)return _selector}),new objj_method(sel_getUid("compareObject:withObject:"),
function(b,c,a,d){with(b)return(_ascending?1:-1)*objj_msgSend(objj_msgSend(a,"valueForKeyPath:",_key),"performSelector:withObject:",_selector,objj_msgSend(d,"valueForKeyPath:",_key))}),new objj_method(sel_getUid("reversedSortDescriptor"),function(b){with(b)return objj_msgSend(objj_msgSend(objj_msgSend(b,"class"),"alloc"),"initWithKey:ascending:selector:",_key,!_ascending,_selector)}),new objj_method(sel_getUid("description"),function(b){with(b)return objj_msgSend(CPString,"stringWithFormat:","(%@, %@, %@)",
objj_msgSend(b,"key"),objj_msgSend(b,"ascending")?"ascending":"descending",CPStringFromSelector(objj_msgSend(b,"selector")))})]);class_addMethods(d,[new objj_method(sel_getUid("sortDescriptorWithKey:ascending:"),function(b,c,a,d){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithKey:ascending:",a,d)}),new objj_method(sel_getUid("sortDescriptorWithKey:ascending:selector:"),function(b,c,a,d,f){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithKey:ascending:selector:",a,d,f)})]);
f=objj_getClass("CPSortDescriptor");if(!f)throw new SyntaxError('*** Could not find definition for class "CPSortDescriptor"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(b,c,a){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPSortDescriptor").super_class},"init"))_key=objj_msgSend(a,"decodeObjectForKey:","CPSortDescriptorKeyKey"),_ascending=objj_msgSend(a,"decodeBoolForKey:","CPSortDescriptorAscendingKey"),_selector=CPSelectorFromString(objj_msgSend(a,
"decodeObjectForKey:","CPSortDescriptorSelectorKey"));return b}}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,c,a){with(b)objj_msgSend(a,"encodeObject:forKey:",_key,"CPSortDescriptorKeyKey"),objj_msgSend(a,"encodeBool:forKey:",_ascending,"CPSortDescriptorAscendingKey"),objj_msgSend(a,"encodeObject:forKey:",CPStringFromSelector(_selector),"CPSortDescriptorSelectorKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPMutableSet.j",baseURL),function(h,g){g("CPSet.j",YES);var f=objj_allocateClassPair(CPSet,"CPMutableSet"),d=f.isa;objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithCapacity:"),function(b){with(b)return objj_msgSend(b,"init")}),new objj_method(sel_getUid("filterUsingPredicate:"),function(b,c,a){with(b)for(var d=objj_msgSend(b,"objectEnumerator");(c=objj_msgSend(d,"nextObject"))!==nil;)objj_msgSend(a,
"evaluateWithObject:",c)||objj_msgSend(b,"removeObject:",c)}),new objj_method(sel_getUid("removeObject:"),function(b,c){with(b)_CPRaiseInvalidAbstractInvocation(b,c)}),new objj_method(sel_getUid("removeObjectsInArray:"),function(b,c,a){with(b){c=0;for(var d=objj_msgSend(a,"count");c<d;++c)objj_msgSend(b,"removeObject:",objj_msgSend(a,"objectAtIndex:",c))}}),new objj_method(sel_getUid("removeAllObjects"),function(b){with(b)for(var c,a=objj_msgSend(b,"objectEnumerator");(c=objj_msgSend(a,"nextObject"))!==
nil;)objj_msgSend(b,"removeObject:",c)}),new objj_method(sel_getUid("addObjectsFromArray:"),function(b,c,a){with(b)for(c=objj_msgSend(a,"count");c--;)objj_msgSend(b,"addObject:",a[c])}),new objj_method(sel_getUid("unionSet:"),function(b,c,a){with(b)for(a=objj_msgSend(a,"objectEnumerator");(c=objj_msgSend(a,"nextObject"))!==nil;)objj_msgSend(b,"addObject:",c)}),new objj_method(sel_getUid("minusSet:"),function(b,c,a){with(b)for(a=objj_msgSend(a,"objectEnumerator");(c=objj_msgSend(a,"nextObject"))!==
nil;)objj_msgSend(b,"removeObject:",c)}),new objj_method(sel_getUid("intersectSet:"),function(b,c,a){with(b){var d,f=objj_msgSend(b,"objectEnumerator");for(c=[];(d=objj_msgSend(f,"nextObject"))!==nil;)objj_msgSend(a,"containsObject:",d)||c.push(d);for(a=objj_msgSend(c,"count");a--;)objj_msgSend(b,"removeObject:",c[a])}}),new objj_method(sel_getUid("setSet:"),function(b,c,a){with(b)objj_msgSend(b,"removeAllObjects"),objj_msgSend(b,"unionSet:",a)})]);class_addMethods(d,[new objj_method(sel_getUid("setWithCapacity:"),
function(b,c,a){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithCapacity:",a)})]);g("_CPConcreteMutableSet.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCibConnector.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);g("Foundation/CPKeyValueCoding.j",NO);var f=objj_allocateClassPair(CPObject,"CPCibConnector");class_addIvars(f,[new objj_ivar("_source"),new objj_ivar("_destination"),new objj_ivar("_label")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("source"),function(d){with(d)return _source}),new objj_method(sel_getUid("setSource:"),function(d,
b,c){with(d)_source=c}),new objj_method(sel_getUid("destination"),function(d){with(d)return _destination}),new objj_method(sel_getUid("setDestination:"),function(d,b,c){with(d)_destination=c}),new objj_method(sel_getUid("label"),function(d){with(d)return _label}),new objj_method(sel_getUid("setLabel:"),function(d,b,c){with(d)_label=c}),new objj_method(sel_getUid("replaceObject:withObject:"),function(d,b,c,a){with(d)_source===c&&(_source=a),_destination===c&&(_destination=a)}),new objj_method(sel_getUid("replaceObjects:"),
function(d,b,c){with(d)d=c[objj_msgSend(_source,"UID")],d!==void 0&&(_source=d),d=c[objj_msgSend(_destination,"UID")],d!==void 0&&(_destination=d)})]);f=objj_getClass("CPCibConnector");if(!f)throw new SyntaxError('*** Could not find definition for class "CPCibConnector"');class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(d,b,c){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPCibConnector").super_class},"init"))_source=objj_msgSend(c,"decodeObjectForKey:",
"_CPCibConnectorSourceKey"),_destination=objj_msgSend(c,"decodeObjectForKey:","_CPCibConnectorDestinationKey"),_label=objj_msgSend(c,"decodeObjectForKey:","_CPCibConnectorLabelKey");return d}}),new objj_method(sel_getUid("encodeWithCoder:"),function(d,b,c){with(d)objj_msgSend(c,"encodeObject:forKey:",_source,"_CPCibConnectorSourceKey"),objj_msgSend(c,"encodeObject:forKey:",_destination,"_CPCibConnectorDestinationKey"),objj_msgSend(c,"encodeObject:forKey:",_label,"_CPCibConnectorLabelKey")})]);f=objj_allocateClassPair(CPCibConnector,
"_CPCibConnector");objj_registerClassPair(f)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPDOMWindowLayer.j",baseURL),function(h,g){g("Foundation/CPArray.j",NO);g("Foundation/CPObject.j",NO);var f=objj_allocateClassPair(CPObject,"CPDOMWindowLayer");class_addIvars(f,[new objj_ivar("_level"),new objj_ivar("_windows"),new objj_ivar("_DOMElement")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithLevel:"),function(d,b,c){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPDOMWindowLayer").super_class},
"init"))_level=c,_windows=[],_DOMElement=document.createElement("div"),_DOMElement.style.position="absolute",_DOMElement.style.top="0px",_DOMElement.style.left="0px",_DOMElement.style.width="1px",_DOMElement.style.height="1px";return d}}),new objj_method(sel_getUid("level"),function(d){with(d)return _level}),new objj_method(sel_getUid("removeWindow:"),function(d,b,c){with(d){if(!c._isVisible)return;d=c._index;b=_windows.length-1;_DOMElement.removeChild(c._DOMElement);for(objj_msgSend(_windows,"removeObjectAtIndex:",
c._index);d<b;++d)_windows[d]._index=d,_windows[d]._DOMElement.style.zIndex=d;c._isVisible=NO}}),new objj_method(sel_getUid("insertWindow:atIndex:"),function(d,b,c,a){with(d){d=objj_msgSend(_windows,"count");b=a==CPNotFound?d:a;c._isVisible?(b=MIN(b,c._index),objj_msgSend(_windows,"removeObjectAtIndex:",c._index)):++d;for(a==CPNotFound||a>=d?objj_msgSend(_windows,"addObject:",c):objj_msgSend(_windows,"insertObject:atIndex:",c,a);b<d;++b)_windows[b]._index=b,_windows[b]._DOMElement.style.zIndex=b;
if(c._DOMElement.parentNode!==_DOMElement)_DOMElement.appendChild(c._DOMElement),c._isVisible=YES,objj_msgSend(c,"isFullBridge")&&objj_msgSend(c,"setFrame:",objj_msgSend(c._platformWindow,"usableContentFrame"))}}),new objj_method(sel_getUid("orderedWindows"),function(d){with(d)return _windows})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/AppKit.j",baseURL),function(h,g){g("CALayer.j",YES);g("CPAlert.j",YES);g("CPAnimation.j",YES);g("CPApplication.j",YES);g("CPBox.j",YES);g("CPButton.j",YES);g("CPCheckBox.j",YES);g("CPCib.j",YES);g("CPCibBindingConnector.j",YES);g("CPCibConnector.j",YES);g("CPCibControlConnector.j",YES);g("CPCibLoading.j",YES);g("CPCibOutletConnector.j",YES);g("CPClipView.j",YES);g("CPCollectionView.j",YES);g("CPCollectionViewItem.j",YES);g("CPColor.j",
YES);g("CPColorPanel.j",YES);g("CPColorWell.j",YES);g("CPCompatibility.j",YES);g("CPControl.j",YES);g("CPCookie.j",YES);g("CPCursor.j",YES);g("CPDocument.j",YES);g("CPDocumentController.j",YES);g("CPEvent.j",YES);g("CPFont.j",YES);g("CPGeometry.j",YES);g("CPGraphics.j",YES);g("CPImage.j",YES);g("CPImageView.j",YES);g("CPKeyBinding.j",YES);g("CPMenu.j",YES);g("CPMenuItem.j",YES);g("CPOpenPanel.j",YES);g("CPPanel.j",YES);g("CPPasteboard.j",YES);g("CPPopUpButton.j",YES);g("CPRadio.j",YES);g("CPResponder.j",
YES);g("CPScroller.j",YES);g("CPScrollView.j",YES);g("CPSegmentedControl.j",YES);g("CPShadow.j",YES);g("CPSlider.j",YES);g("CPText.j",YES);g("CPTextField.j",YES);g("CPToolbar.j",YES);g("CPToolbarItem.j",YES);g("CPView.j",YES);g("CPViewController.j",YES);g("CPWindow.j",YES);g("CPWindowController.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPDocModalWindowView.j",baseURL),function(h,g){g("_CPWindowView.j",YES);var f=nil,d=objj_allocateClassPair(_CPWindowView,"_CPDocModalWindowView"),b=d.isa;class_addIvars(d,[new objj_ivar("_bodyView"),new objj_ivar("_shadowView")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithFrame:styleMask:"),function(b,a,d,f){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPDocModalWindowView").super_class},
"initWithFrame:styleMask:",d,f))d=objj_msgSend(b,"class"),a=objj_msgSend(b,"bounds"),_bodyView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:a.size.width,height:a.size.height}}),objj_msgSend(_bodyView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(_bodyView,"setBackgroundColor:",objj_msgSend(d,"bodyBackgroundColor")),objj_msgSend(_bodyView,"setHitTests:",NO),objj_msgSend(b,"addSubview:",_bodyView),d=objj_msgSend(CPBundle,"bundleForClass:",
objj_msgSend(CPWindow,"class")),_shadowView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,a.size.width,8)),objj_msgSend(_shadowView,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_shadowView,"setBackgroundColor:",objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(d,"pathForResource:","CPWindow/CPWindowAttachedSheetShadow.png"),CGSizeMake(9,8)))),objj_msgSend(b,"addSubview:",_shadowView);
return b}}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(b,a,d){with(b)return d}),new objj_method(sel_getUid("frameRectForContentRect:"),function(b,a,d){with(b)return d})]);class_addMethods(b,[new objj_method(sel_getUid("bodyBackgroundColor"),function(b){with(b)return f||(f=objj_msgSend(CPColor,"colorWithWhite:alpha:",0.96,0.9)),f})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPValue.j",baseURL),function(h,g){g("CPCoder.j",YES);g("CPObject.j",YES);var f=objj_allocateClassPair(CPObject,"CPValue"),d=f.isa;class_addIvars(f,[new objj_ivar("_JSObject")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithJSObject:"),function(b,c,a){with(b)return(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPValue").super_class},"init"))&&(_JSObject=a),b}),new objj_method(sel_getUid("JSObject"),
function(b){with(b)return _JSObject})]);class_addMethods(d,[new objj_method(sel_getUid("valueWithJSObject:"),function(b,c,a){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithJSObject:",a)})]);f=objj_getClass("CPValue");if(!f)throw new SyntaxError('*** Could not find definition for class "CPValue"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(b,c,a){with(b)return(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPValue").super_class},"init"))&&
(_JSObject=JSON.parse(objj_msgSend(a,"decodeObjectForKey:","CPValueValueKey"))),b}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,c,a){with(b)objj_msgSend(a,"encodeObject:forKey:",JSON.stringify(_JSObject),"CPValueValueKey")})]);CPJSObjectCreateJSON=function(b){CPLog.warn("CPJSObjectCreateJSON deprecated, use JSON.stringify() or CPString's objectFromJSON");return JSON.stringify(b)};CPJSObjectCreateWithJSON=function(b){CPLog.warn("CPJSObjectCreateWithJSON deprecated, use JSON.parse() or CPString's JSONFromObject");
return JSON.parse(b)}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPCountedSet.j",baseURL),function(h,g){g("CPObject.j",YES);g("CPSet.j",YES);var f=objj_allocateClassPair(_CPConcreteMutableSet,"CPCountedSet");class_addIvars(f,[new objj_ivar("_counts")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("addObject:"),function(d,b,c){with(d)_counts||(_counts={}),objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPCountedSet").super_class},"addObject:",c),d=objj_msgSend(c,
"UID"),_counts[d]===void 0?_counts[d]=1:++_counts[d]}),new objj_method(sel_getUid("removeObject:"),function(d,b,c){with(d){if(!_counts)return;b=objj_msgSend(c,"UID");_counts[b]!==void 0&&(--_counts[b],_counts[b]===0&&(delete _counts[b],objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPCountedSet").super_class},"removeObject:",c)))}}),new objj_method(sel_getUid("removeAllObjects"),function(d){with(d)objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPCountedSet").super_class},"removeAllObjects"),
_counts={}}),new objj_method(sel_getUid("countForObject:"),function(d,b,c){with(d){_counts||(_counts={});d=objj_msgSend(c,"UID");if(_counts[d]===void 0)return 0;return _counts[d]}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/Foundation.j",baseURL),function(h,g){g("CPArray.j",YES);g("CPBundle.j",YES);g("CPCoder.j",YES);g("CPData.j",YES);g("CPDate.j",YES);g("CPDictionary.j",YES);g("CPEnumerator.j",YES);g("CPException.j",YES);g("CPIndexSet.j",YES);g("CPInvocation.j",YES);g("CPKeyedArchiver.j",YES);g("CPKeyedUnarchiver.j",YES);g("CPKeyValueCoding.j",YES);g("CPKeyValueObserving.j",YES);g("CPMutableArray.j",YES);g("CPMutableSet.j",YES);g("CPNotification.j",
YES);g("CPNotificationCenter.j",YES);g("CPNull.j",YES);g("CPNumber.j",YES);g("CPObject.j",YES);g("CPObjJRuntime.j",YES);g("CPPropertyListSerialization.j",YES);g("CPRange.j",YES);g("CPRunLoop.j",YES);g("CPSet.j",YES);g("CPSortDescriptor.j",YES);g("CPString.j",YES);g("CPTimer.j",YES);g("CPUndoManager.j",YES);g("CPURL.j",YES);g("CPURLConnection.j",YES);g("CPURLRequest.j",YES);g("CPURLResponse.j",YES);g("CPValue.j",YES);g("CPValueTransformer.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/views/pattern_view.j",baseURL),function(){var h=objj_allocateClassPair(GRRotateView,"PatternView");class_addIvars(h,[new objj_ivar("m_pattern")]);objj_registerClassPair(h);class_addMethods(h,[new objj_method(sel_getUid("pattern"),function(g){with(g)return m_pattern}),new objj_method(sel_getUid("setPattern:"),function(g,f,d){with(g)m_pattern=d}),new objj_method(sel_getUid("initWithFrame:"),function(g,f,d){with(g)return(g=objj_msgSendSuper({receiver:g,
super_class:objj_getClass("PatternView").super_class},"initWithFrame:",d))&&objj_msgSend(g,"setClipsToBounds:",YES),g}),new objj_method(sel_getUid("setPattern:"),function(g,f,d){with(g)m_pattern=d,objj_msgSend(g,"setRotation:",objj_msgSend(m_pattern,"rotation")*(Math.PI/180))}),new objj_method(sel_getUid("drawLayer:inContext:"),function(g,f,d,b){with(g){objj_msgSend(objj_msgSend(g,"superview"),"setBackgroundColor:",objj_msgSend(objj_msgSend(g,"pattern"),"bgColor"));CGContextSetFillColor(b,objj_msgSend(objj_msgSend(g,
"pattern"),"bgColor"));CGContextFillRect(b,objj_msgSend(g,"bounds"));try{objj_msgSend(objj_msgSend(g,"pattern"),"draw:",b)}catch(c){CPLogConsole("Exception: happend, configuration broke everything")}}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/six.j",baseURL),function(){var h=objj_allocateClassPair(PatternTwo,"PatternSix"),g=h.isa;objj_registerClassPair(h);class_addMethods(g,[new objj_method(sel_getUid("defaultConfig"),function(f){with(f)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",132,132,132,1),"background_color",50,"number_of_points",0,"rotation",0,"recurse_depth",0.88,"factor_larger",objj_msgSend(GRPoint,
"pointWithX:Y:",350,350),"center_point",181,"radius",YES,"show_shapes",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,221,88,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",37,15,255,0.7727272727272727),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,255,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",2,13,2,0.20909090909090908),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",146,26,255,0.9363636363636364),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",
0,0,0,0)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",51,32,255,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",198,157,165,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0.02727272727272727),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",201,8,37,0.39545454545454545),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,200,10,0.4),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/twenty.j",baseURL),function(){var h=objj_allocateClassPair(PatternEleven,"PatternTwenty"),g=h.isa;objj_registerClassPair(h);class_addMethods(g,[new objj_method(sel_getUid("defaultConfig"),function(f){with(f)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",94,59,255,1),"background_color",40,"number_of_points",0,"rotation",0,"recurse_depth",0.48,"factor_larger",
objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",184,"radius",YES,"show_shapes",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,255,100,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.33636363636363636),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.3),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,0,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,2,10,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",
255,23,10,1)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",51,32,255,0.5363636363636364),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,0,0.1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,96,175,0.6454545454545455),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,200,10,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPToolbarShowColorsItem.j",baseURL),function(h,g){g("CPApplication.j",YES);g("CPToolbarItem.j",YES);var f=objj_allocateClassPair(CPToolbarItem,"_CPToolbarShowColorsItem");objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithItemIdentifier:"),function(d){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("_CPToolbarShowColorsItem").super_class},"initWithItemIdentifier:",CPToolbarShowColorsItemIdentifier))objj_msgSend(d,
"setMinSize:",CGSizeMake(32,32)),objj_msgSend(d,"setMaxSize:",CGSizeMake(32,32)),objj_msgSend(d,"setLabel:","Colors"),objj_msgSend(d,"setPaletteLabel:","Show Colors"),objj_msgSend(d,"setTarget:",CPApp),objj_msgSend(d,"setAction:",sel_getUid("orderFrontColorPanel:")),objj_msgSend(d,"setImage:",objj_msgSend(CPImage,"imageNamed:",CPImageNameColorPanel)),objj_msgSend(d,"setAlternateImage:",objj_msgSend(CPImage,"imageNamed:",CPImageNameColorPanelHighlighted)),objj_msgSend(d,"setToolTip:","Show the Colors panel.");
return d}}),new objj_method(sel_getUid("initWithCoder:"),function(d){with(d)return objj_msgSend(d,"init")}),new objj_method(sel_getUid("encodeWithCoder:"),function(d){with(d);})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/four.j",baseURL),function(){var h=objj_allocateClassPair(PatternThree,"PatternFour"),g=h.isa;objj_registerClassPair(h);class_addMethods(g,[new objj_method(sel_getUid("defaultConfig"),function(f){with(f)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",6,"number_of_points",0,"recurse_depth",1.22,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",118,"radius",NO,"show_shapes",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",0,0,0,0.2727272727272727),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",31,255,211,0.7272727272727273),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",85,85,85,0.4909090909090909),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",190,73,12,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,0.6909090909090909),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,0.6909090909090909)],"stroke_colors",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",0,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,33,50,0.2545454545454545),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",130,18,120,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",76,156,180,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/fourteen.j",baseURL),function(){var h=objj_allocateClassPair(PatternTwelve,"PatternFourteen"),g=h.isa;objj_registerClassPair(h);class_addMethods(g,[new objj_method(sel_getUid("defaultConfig"),function(f){with(f)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",24,"number_of_points",0,"recurse_depth",0.44,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",151,"radius",YES,"show_shapes",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",174,174,174,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.6181818181818182),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.39090909090909093),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,0,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,2,10,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,23,10,1)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",
255,255,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,96,175,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,200,10,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/fifteen.j",baseURL),function(){var h=objj_allocateClassPair(PatternOne,"PatternFifteen"),g=h.isa;objj_registerClassPair(h);class_addMethods(g,[new objj_method(sel_getUid("defaultConfig"),function(f){with(f)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",6,"number_of_points",2,"recurse_depth",1.18,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",84,"radius",YES,"show_shapes",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",0,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",85,85,85,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,23,41,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,15,12,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,23,10,1)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",225,255,221,0),objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",28,248,12,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",29,44,255,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",239,198,151,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",202,132,78,0.9545454545454546),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPGraphicsContext.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);g("CGContext.j",YES);var f=nil,d=objj_allocateClassPair(CPObject,"CPGraphicsContext"),b=d.isa;class_addIvars(d,[new objj_ivar("_graphicsPort")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithGraphicsPort:"),function(b,a,d){with(b)return(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPGraphicsContext").super_class},
"init"))&&(_graphicsPort=d),b}),new objj_method(sel_getUid("graphicsPort"),function(b){with(b)return _graphicsPort})]);class_addMethods(b,[new objj_method(sel_getUid("currentContext"),function(b){with(b)return f}),new objj_method(sel_getUid("setCurrentContext:"),function(b,a,d){with(b)f=d}),new objj_method(sel_getUid("graphicsContextWithGraphicsPort:flipped:"),function(b,a,d){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithGraphicsPort:",d)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPNull.j",baseURL),function(h,g){g("CPObject.j",YES);var f=nil,d=objj_allocateClassPair(CPObject,"CPNull"),b=d.isa;objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("isEqual:"),function(b,a,d){with(b){if(b===d)return YES;return objj_msgSend(d,"isKindOfClass:",objj_msgSend(CPNull,"class"))}}),new objj_method(sel_getUid("initWithCoder:"),function(b){with(b)return objj_msgSend(CPNull,"null")}),new objj_method(sel_getUid("encodeWithCoder:"),
function(b){with(b);})]);class_addMethods(b,[new objj_method(sel_getUid("null"),function(b){with(b)return f||(f=objj_msgSend(objj_msgSend(CPNull,"alloc"),"init")),f})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCibOutletConnector.j",baseURL),function(h,g){g("CPCibConnector.j",YES);var f=objj_allocateClassPair(CPCibConnector,"CPCibOutletConnector");objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("establishConnection"),function(d){with(d)try{objj_msgSend(_source,"setValue:forKey:",_destination,_label)}catch(b){if(objj_msgSend(b,"name")===CPUndefinedKeyException)CPLog.warn("Could not connect the outlet "+_label+
" of target of class "+objj_msgSend(_source,"className"));else throw b;}})]);f=objj_allocateClassPair(CPCibOutletConnector,"_CPCibOutletConnector");objj_registerClassPair(f)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPScreen.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);var f=objj_allocateClassPair(CPObject,"CPScreen");objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("visibleFrame"),function(d){with(d)return{origin:{x:window.screen.availLeft,y:window.screen.availTop},size:{width:window.screen.availWidth,height:window.screen.availHeight}}})])});
CFHTTPRequest._cacheRequest(new CFURL("Frameworks/GRKit/Info.plist",baseURL),200,{},"280NPLIST;1.0;D;K;29;CPBundleInfoDictionaryVersiond;1;6K;12;CPBundleNameS;5;GRKitK;18;CPBundleIdentifierS;15;es.2monki.GRKitK;15;CPBundleVersionS;3;1.0K;19;CPBundlePackageTypeS;4;FMWKK;20;CPBundleEnvironmentsA;S;7;BrowserS;8;CommonJSE;K;18;CPBundleExecutableS;8;GRKit.sjK;36;CPBundleEnvironmentsWithImageSpritesA;E;E;\n");
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPBorderlessWindowView.j",baseURL),function(h,g){g("_CPWindowView.j",YES);var f=objj_allocateClassPair(_CPWindowView,"_CPBorderlessWindowView");objj_registerClassPair(f)});
