ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPView.j",baseURL),function(h,g){g("Foundation/CPArray.j",NO);g("Foundation/CPObjJRuntime.j",NO);g("Foundation/CPSet.j",NO);g("CGAffineTransform.j",YES);g("CGGeometry.j",YES);g("CPColor.j",YES);g("CPGeometry.j",YES);g("CPGraphicsContext.j",YES);g("CPResponder.j",YES);g("CPTheme.j",YES);g("_CPDisplayServer.j",YES);CPViewNotSizable=0;CPViewMinXMargin=1;CPViewWidthSizable=2;CPViewMaxXMargin=4;CPViewMinYMargin=8;CPViewHeightSizable=
16;CPViewMaxYMargin=32;CPViewBoundsDidChangeNotification="CPViewBoundsDidChangeNotification";CPViewFrameDidChangeNotification="CPViewFrameDidChangeNotification";var f=nil,e=nil,b=nil,c={},a=objj_allocateClassPair(CPResponder,"CPView"),d=a.isa;class_addIvars(a,[new objj_ivar("_window"),new objj_ivar("_superview"),new objj_ivar("_subviews"),new objj_ivar("_graphicsContext"),new objj_ivar("_tag"),new objj_ivar("_frame"),new objj_ivar("_bounds"),new objj_ivar("_boundsTransform"),new objj_ivar("_inverseBoundsTransform"),
new objj_ivar("_registeredDraggedTypes"),new objj_ivar("_registeredDraggedTypesArray"),new objj_ivar("_isHidden"),new objj_ivar("_hitTests"),new objj_ivar("_clipsToBounds"),new objj_ivar("_postsFrameChangedNotifications"),new objj_ivar("_postsBoundsChangedNotifications"),new objj_ivar("_inhibitFrameAndBoundsChangedNotifications"),new objj_ivar("_DOMElement"),new objj_ivar("_DOMContentsElement"),new objj_ivar("_DOMImageParts"),new objj_ivar("_DOMImageSizes"),new objj_ivar("_backgroundType"),new objj_ivar("_dirtyRect"),
new objj_ivar("_opacity"),new objj_ivar("_backgroundColor"),new objj_ivar("_autoresizesSubviews"),new objj_ivar("_autoresizingMask"),new objj_ivar("_layer"),new objj_ivar("_wantsLayer"),new objj_ivar("_isInFullScreenMode"),new objj_ivar("_fullScreenModeState"),new objj_ivar("_needsLayout"),new objj_ivar("_ephemeralSubviews"),new objj_ivar("_theme"),new objj_ivar("_themeClass"),new objj_ivar("_themeAttributes"),new objj_ivar("_themeState"),new objj_ivar("_ephemeralSubviewsForNames"),new objj_ivar("_ephereralSubviews"),
new objj_ivar("_nextKeyView"),new objj_ivar("_previousKeyView"),new objj_ivar("_viewClassFlags")]);objj_registerClassPair(a);class_addMethods(a,[new objj_method(sel_getUid("setupViewFlags"),function(a){with(a){a=objj_msgSend(a,"class");var d=objj_msgSend(a,"UID");if(c[d]===void 0){var b=0;objj_msgSend(a,"instanceMethodForSelector:",sel_getUid("drawRect:"))!==objj_msgSend(CPView,"instanceMethodForSelector:",sel_getUid("drawRect:"))&&(b|=1);objj_msgSend(a,"instanceMethodForSelector:",sel_getUid("layoutSubviews"))!==
objj_msgSend(CPView,"instanceMethodForSelector:",sel_getUid("layoutSubviews"))&&(b|=2);c[d]=b}_viewClassFlags=c[d]}}),new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithFrame:",CGRectMakeZero())}),new objj_method(sel_getUid("initWithFrame:"),function(a,d,j){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPView").super_class},"init")){d=j.size.width;var c=j.size.height;_subviews=[];_registeredDraggedTypes=objj_msgSend(CPSet,"set");_registeredDraggedTypesArray=
[];_tag=-1;_frame={origin:{x:j.origin.x,y:j.origin.y},size:{width:j.size.width,height:j.size.height}};_bounds={origin:{x:0,y:0},size:{width:d,height:c}};_autoresizingMask=CPViewNotSizable;_clipsToBounds=_autoresizesSubviews=YES;_opacity=1;_isHidden=NO;_hitTests=YES;_DOMElement=b.cloneNode(!1);j=NULL?{x:CGPointMake(j.origin.x,j.origin.y).x*NULL.a+CGPointMake(j.origin.x,j.origin.y).y*NULL.c+NULL.tx,y:CGPointMake(j.origin.x,j.origin.y).x*NULL.b+CGPointMake(j.origin.x,j.origin.y).y*NULL.d+NULL.ty}:{x:j.origin.x,
y:j.origin.y};_DOMElement.style.left=ROUND(j.x)+"px";_DOMElement.style.top=ROUND(j.y)+"px";_DOMElement.style.width=MAX(0,ROUND(d))+"px";_DOMElement.style.height=MAX(0,ROUND(c))+"px";_DOMImageParts=[];_DOMImageSizes=[];_theme=objj_msgSend(CPTheme,"defaultTheme");_themeState=CPThemeStateNormal;objj_msgSend(a,"setupViewFlags");objj_msgSend(a,"_loadThemeAttributes")}return a}}),new objj_method(sel_getUid("superview"),function(a){with(a)return _superview}),new objj_method(sel_getUid("subviews"),function(a){with(a)return objj_msgSend(_subviews,
"copy")}),new objj_method(sel_getUid("window"),function(a){with(a)return _window}),new objj_method(sel_getUid("addSubview:"),function(a,d,b){with(a)objj_msgSend(a,"_insertSubview:atIndex:",b,CPNotFound)}),new objj_method(sel_getUid("addSubview:positioned:relativeTo:"),function(a,d,b,c,e){with(a)d=e?objj_msgSend(_subviews,"indexOfObjectIdenticalTo:",e):CPNotFound,d===CPNotFound?d=c===CPWindowAbove?objj_msgSend(_subviews,"count"):0:c===CPWindowAbove&&++d,objj_msgSend(a,"_insertSubview:atIndex:",b,d)}),
new objj_method(sel_getUid("_insertSubview:atIndex:"),function(a,d,b,c){with(a){d=_subviews.length;objj_msgSend(objj_msgSend(a,"window"),"_dirtyKeyViewLoop");if(b._superview==a){var e=objj_msgSend(_subviews,"indexOfObjectIdenticalTo:",b);if(e===c||e===d-1&&c===d)return;objj_msgSend(_subviews,"removeObjectAtIndex:",e);_DOMElement.removeChild(b._DOMElement);c>e&&--c;--d}else objj_msgSend(b,"removeFromSuperview"),objj_msgSend(b,"_setWindow:",_window),objj_msgSend(b,"viewWillMoveToSuperview:",a),b._superview=
a;c===CPNotFound||c>=d?(_subviews.push(b),_DOMElement.appendChild(b._DOMElement)):(_subviews.splice(c,0,b),_DOMElement.insertBefore(b._DOMElement,_subviews[c+1]._DOMElement));objj_msgSend(b,"setNextResponder:",a);objj_msgSend(b,"viewDidMoveToSuperview");objj_msgSend(a,"didAddSubview:",b)}}),new objj_method(sel_getUid("didAddSubview:"),function(a){with(a);}),new objj_method(sel_getUid("removeFromSuperview"),function(a){with(a){if(!_superview)return;objj_msgSend(objj_msgSend(a,"window"),"_dirtyKeyViewLoop");
objj_msgSend(_superview,"willRemoveSubview:",a);objj_msgSend(_superview._subviews,"removeObject:",a);_superview._DOMElement.removeChild(_DOMElement);_superview=nil;objj_msgSend(a,"_setWindow:",nil)}}),new objj_method(sel_getUid("replaceSubview:with:"),function(a,d,b,c){with(a){if(b._superview!=a)return;d=objj_msgSend(_subviews,"indexOfObjectIdenticalTo:",b);objj_msgSend(b,"removeFromSuperview");objj_msgSend(a,"_insertSubview:atIndex:",c,d)}}),new objj_method(sel_getUid("setSubviews:"),function(a,
d,b){with(a){b||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"newSubviews cannot be nil in -[CPView setSubviews:]");if(objj_msgSend(_subviews,"isEqual:",b))return;if(objj_msgSend(_subviews,"count")===0){d=0;for(var c=objj_msgSend(b,"count");d<c;++d)objj_msgSend(a,"addSubview:",b[d]);return}if(objj_msgSend(b,"count")===0){for(c=objj_msgSend(_subviews,"count");c--;)objj_msgSend(_subviews[c],"removeFromSuperview");return}d=objj_msgSend(CPMutableSet,"setWithArray:",_subviews);objj_msgSend(d,
"removeObjectsInArray:",b);objj_msgSend(d,"makeObjectsPerformSelector:",sel_getUid("removeFromSuperview"));c=objj_msgSend(CPMutableSet,"setWithArray:",b);objj_msgSend(c,"removeObjectsInArray:",_subviews);d=nil;for(c=objj_msgSend(c,"objectEnumerator");d=objj_msgSend(c,"nextObject");)objj_msgSend(a,"addSubview:",d);if(objj_msgSend(_subviews,"isEqual:",b))return;_subviews=objj_msgSend(b,"copy");d=0;for(c=objj_msgSend(_subviews,"count");d<c;++d)a=_subviews[d],_DOMElement.removeChild(a._DOMElement),_DOMElement.appendChild(a._DOMElement)}}),
new objj_method(sel_getUid("_setWindow:"),function(a,d,b){with(a){if(_window===b)return;objj_msgSend(objj_msgSend(a,"window"),"_dirtyKeyViewLoop");objj_msgSend(_window,"firstResponder")===a&&objj_msgSend(_window,"makeFirstResponder:",nil);objj_msgSend(a,"viewWillMoveToWindow:",b);_registeredDraggedTypes&&(objj_msgSend(_window,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes),objj_msgSend(b,"_noteRegisteredDraggedTypes:",_registeredDraggedTypes));_window=b;for(d=objj_msgSend(_subviews,"count");d--;)objj_msgSend(_subviews[d],
"_setWindow:",b);objj_msgSend(a,"viewDidMoveToWindow");objj_msgSend(objj_msgSend(a,"window"),"_dirtyKeyViewLoop")}}),new objj_method(sel_getUid("isDescendantOf:"),function(a,d,b){with(a){do if(a==b)return YES;while(a=objj_msgSend(a,"superview"));return NO}}),new objj_method(sel_getUid("viewDidMoveToSuperview"),function(a){with(a)objj_msgSend(a,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("viewDidMoveToWindow"),function(a){with(a);}),new objj_method(sel_getUid("viewWillMoveToSuperview:"),function(a){with(a);
}),new objj_method(sel_getUid("viewWillMoveToWindow:"),function(a){with(a);}),new objj_method(sel_getUid("willRemoveSubview:"),function(a){with(a);}),new objj_method(sel_getUid("enclosingMenuItem"),function(a){with(a){for(;a&&!objj_msgSend(a,"isKindOfClass:",objj_msgSend(_CPMenuItemView,"class"));)a=objj_msgSend(a,"superview");if(a)return a._menuItem;return nil}}),new objj_method(sel_getUid("setTag:"),function(a,d,b){with(a)_tag=b}),new objj_method(sel_getUid("tag"),function(a){with(a)return _tag}),
new objj_method(sel_getUid("viewWithTag:"),function(a,d,b){with(a){if(objj_msgSend(a,"tag")==b)return a;a=0;for(d=_subviews.length;a<d;++a){var c=objj_msgSend(_subviews[a],"viewWithTag:",b);if(c)return c}return nil}}),new objj_method(sel_getUid("isFlipped"),function(a){with(a)return YES}),new objj_method(sel_getUid("setFrame:"),function(a,d,b){with(a){if(_frame.origin.x==b.origin.x&&_frame.origin.y==b.origin.y&&_frame.size.width==b.size.width&&_frame.size.height==b.size.height)return;_inhibitFrameAndBoundsChangedNotifications=
YES;objj_msgSend(a,"setFrameOrigin:",b.origin);objj_msgSend(a,"setFrameSize:",b.size);_inhibitFrameAndBoundsChangedNotifications=NO;_postsFrameChangedNotifications&&objj_msgSend(f,"postNotificationName:object:",CPViewFrameDidChangeNotification,a)}}),new objj_method(sel_getUid("frame"),function(a){with(a)return{origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:_frame.size.width,height:_frame.size.height}}}),new objj_method(sel_getUid("frameOrigin"),function(a){with(a)return{x:_frame.origin.x,
y:_frame.origin.y}}),new objj_method(sel_getUid("frameSize"),function(a){with(a)return{width:_frame.size.width,height:_frame.size.height}}),new objj_method(sel_getUid("setCenter:"),function(a,d,b){with(a)objj_msgSend(a,"setFrameOrigin:",CGPointMake(b.x-_frame.size.width/2,b.y-_frame.size.height/2))}),new objj_method(sel_getUid("center"),function(a){with(a)return CGPointMake(_frame.size.width/2+_frame.origin.x,_frame.size.height/2+_frame.origin.y)}),new objj_method(sel_getUid("setFrameOrigin:"),function(a,
d,b){with(a){d=_frame.origin;if(!b||d.x==b.x&&d.y==b.y)return;d.x=b.x;d.y=b.y;_postsFrameChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications&&objj_msgSend(f,"postNotificationName:object:",CPViewFrameDidChangeNotification,a);a=(a=_superview?_superview._boundsTransform:NULL)?{x:CGPointMake(d.x,d.y).x*a.a+CGPointMake(d.x,d.y).y*a.c+a.tx,y:CGPointMake(d.x,d.y).x*a.b+CGPointMake(d.x,d.y).y*a.d+a.ty}:{x:d.x,y:d.y};_DOMElement.style.left=ROUND(a.x)+"px";_DOMElement.style.top=ROUND(a.y)+"px"}}),
new objj_method(sel_getUid("setFrameSize:"),function(a,d,b){with(a){d=_frame.size;if(!b||d.width==b.width&&d.height==b.height)return;var c={width:d.width,height:d.height};d.width=b.width;d.height=b.height;if(YES)_bounds.size.width=b.width,_bounds.size.height=b.height;_layer&&objj_msgSend(_layer,"_owningViewBoundsChanged");_autoresizesSubviews&&objj_msgSend(a,"resizeSubviewsWithOldSize:",c);objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES);_DOMElement.style.width=MAX(0,ROUND(d.width))+
"px";_DOMElement.style.height=MAX(0,ROUND(d.height))+"px";if(_DOMContentsElement)_DOMContentsElement.width=MAX(0,ROUND(d.width)),_DOMContentsElement.height=MAX(0,ROUND(d.height)),_DOMContentsElement.style.width=MAX(0,ROUND(d.width))+"px",_DOMContentsElement.style.height=MAX(0,ROUND(d.height))+"px";if(_backgroundType!==0)if(_backgroundType===4)_DOMImageParts[0].style.width=MAX(0,ROUND(d.width))+"px",_DOMImageParts[0].style.height=MAX(0,ROUND(d.height))+"px";else if(objj_msgSend(objj_msgSend(_backgroundColor,
"patternImage"),"imageSlices"),_backgroundType===1)_DOMImageParts[1].style.width=MAX(0,ROUND(d.width))+"px",_DOMImageParts[1].style.height=MAX(0,ROUND(d.height-_DOMImageSizes[0].height-_DOMImageSizes[2].height))+"px";else if(_backgroundType===2)_DOMImageParts[1].style.width=MAX(0,ROUND(d.width-_DOMImageSizes[0].width-_DOMImageSizes[2].width))+"px",_DOMImageParts[1].style.height=MAX(0,ROUND(d.height))+"px";else if(_backgroundType===3)b=d.width-_DOMImageSizes[0].width-_DOMImageSizes[2].width,d=d.height-
_DOMImageSizes[0].height-_DOMImageSizes[6].height,_DOMImageParts[1].style.width=MAX(0,ROUND(b))+"px",_DOMImageParts[1].style.height=MAX(0,ROUND(_DOMImageSizes[0].height))+"px",_DOMImageParts[3].style.width=MAX(0,ROUND(_DOMImageSizes[3].width))+"px",_DOMImageParts[3].style.height=MAX(0,ROUND(d))+"px",_DOMImageParts[4].style.width=MAX(0,ROUND(b))+"px",_DOMImageParts[4].style.height=MAX(0,ROUND(d))+"px",_DOMImageParts[5].style.width=MAX(0,ROUND(_DOMImageSizes[5].width))+"px",_DOMImageParts[5].style.height=
MAX(0,ROUND(d))+"px",_DOMImageParts[7].style.width=MAX(0,ROUND(b))+"px",_DOMImageParts[7].style.height=MAX(0,ROUND(_DOMImageSizes[7].height))+"px";_postsFrameChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications&&objj_msgSend(f,"postNotificationName:object:",CPViewFrameDidChangeNotification,a)}}),new objj_method(sel_getUid("setBounds:"),function(a,d,b){with(a){if(_bounds.origin.x==b.origin.x&&_bounds.origin.y==b.origin.y&&_bounds.size.width==b.size.width&&_bounds.size.height==b.size.height)return;
_inhibitFrameAndBoundsChangedNotifications=YES;objj_msgSend(a,"setBoundsOrigin:",b.origin);objj_msgSend(a,"setBoundsSize:",b.size);_inhibitFrameAndBoundsChangedNotifications=NO;_postsBoundsChangedNotifications&&objj_msgSend(f,"postNotificationName:object:",CPViewBoundsDidChangeNotification,a)}}),new objj_method(sel_getUid("bounds"),function(a){with(a)return{origin:{x:_bounds.origin.x,y:_bounds.origin.y},size:{width:_bounds.size.width,height:_bounds.size.height}}}),new objj_method(sel_getUid("boundsOrigin"),
function(a){with(a)return{x:_bounds.origin.x,y:_bounds.origin.y}}),new objj_method(sel_getUid("boundsSize"),function(a){with(a)return{width:_bounds.size.width,height:_bounds.size.height}}),new objj_method(sel_getUid("setBoundsOrigin:"),function(a,d,b){with(a){d=_bounds.origin;if(d.x==b.x&&d.y==b.y)return;d.x=b.x;d.y=b.y;d.x!=0||d.y!=0?(_boundsTransform={a:1,b:0,c:0,d:1,tx:-d.x,ty:-d.y},_inverseBoundsTransform=CGAffineTransformInvert(_boundsTransform)):_inverseBoundsTransform=_boundsTransform=nil;
for(b=_subviews.length;b--;){var c=_subviews[b];d=c._frame.origin;d=_boundsTransform?{x:CGPointMake(d.x,d.y).x*_boundsTransform.a+CGPointMake(d.x,d.y).y*_boundsTransform.c+_boundsTransform.tx,y:CGPointMake(d.x,d.y).x*_boundsTransform.b+CGPointMake(d.x,d.y).y*_boundsTransform.d+_boundsTransform.ty}:{x:d.x,y:d.y};c._DOMElement.style.left=ROUND(d.x)+"px";c._DOMElement.style.top=ROUND(d.y)+"px"}_postsBoundsChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications&&objj_msgSend(f,"postNotificationName:object:",
CPViewBoundsDidChangeNotification,a)}}),new objj_method(sel_getUid("setBoundsSize:"),function(a,d,b){with(a){d=_bounds.size;if(d.width==b.width&&d.height==b.height)return;var c=_frame.size;if(!(d.width==c.width&&d.height==c.height)){var e=_bounds.origin;e.x/=d.width/c.width;e.y/=d.height/c.height}d.width=b.width;d.height=b.height;if(!(d.width==c.width&&d.height==c.height))e=_bounds.origin,e.x*=d.width/c.width,e.y*=d.height/c.height;_postsBoundsChangedNotifications&&!_inhibitFrameAndBoundsChangedNotifications&&
objj_msgSend(f,"postNotificationName:object:",CPViewBoundsDidChangeNotification,a)}}),new objj_method(sel_getUid("resizeWithOldSuperviewSize:"),function(a,d,b){with(a){d=objj_msgSend(a,"autoresizingMask");if(d==CPViewNotSizable)return;var c=_superview._frame,e={origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:_frame.size.width,height:_frame.size.height}},i=(c.size.width-b.width)/((d&CPViewMinXMargin?1:0)+(d&CPViewWidthSizable?1:0)+(d&CPViewMaxXMargin?1:0));b=(c.size.height-b.height)/((d&CPViewMinYMargin?
1:0)+(d&CPViewHeightSizable?1:0)+(d&CPViewMaxYMargin?1:0));d&CPViewMinXMargin&&(e.origin.x+=i);d&CPViewWidthSizable&&(e.size.width+=i);d&CPViewMinYMargin&&(e.origin.y+=b);d&CPViewHeightSizable&&(e.size.height+=b);objj_msgSend(a,"setFrame:",e)}}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(a,d,b){with(a)for(a=_subviews.length;a--;)objj_msgSend(_subviews[a],"resizeWithOldSuperviewSize:",b)}),new objj_method(sel_getUid("setAutoresizesSubviews:"),function(a,d,b){with(a)_autoresizesSubviews=
!!b}),new objj_method(sel_getUid("autoresizesSubviews"),function(a){with(a)return _autoresizesSubviews}),new objj_method(sel_getUid("setAutoresizingMask:"),function(a,d,b){with(a)_autoresizingMask=b}),new objj_method(sel_getUid("autoresizingMask"),function(a){with(a)return _autoresizingMask}),new objj_method(sel_getUid("enterFullScreenMode"),function(a){with(a)return objj_msgSend(a,"enterFullScreenMode:withOptions:",nil,nil)}),new objj_method(sel_getUid("enterFullScreenMode:withOptions:"),function(a){with(a){var d=
a._superview;_fullScreenModeState={autoresizingMask:a._autoresizingMask,frame:CGRectMakeCopy(a._frame),index:d?objj_msgSend(d._subviews,"indexOfObjectIdenticalTo:",a):0,superview:d};d=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",objj_msgSend(objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),"contentBounds"),CPBorderlessWindowMask);objj_msgSend(d,"setLevel:",CPScreenSaverWindowLevel);objj_msgSend(d,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
var b=objj_msgSend(d,"contentView");objj_msgSend(b,"setBackgroundColor:",objj_msgSend(CPColor,"blackColor"));objj_msgSend(b,"addSubview:",a);objj_msgSend(a,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);objj_msgSend(a,"setFrame:",CGRectMakeCopy(objj_msgSend(b,"bounds")));objj_msgSend(d,"makeKeyAndOrderFront:",a);objj_msgSend(d,"makeFirstResponder:",a);return _isInFullScreenMode=YES}}),new objj_method(sel_getUid("exitFullScreenMode"),function(a){with(a)objj_msgSend(a,"exitFullScreenModeWithOptions:",
nil)}),new objj_method(sel_getUid("exitFullScreenModeWithOptions:"),function(a){with(a){if(!_isInFullScreenMode)return;_isInFullScreenMode=NO;objj_msgSend(a,"setFrame:",_fullScreenModeState.frame);objj_msgSend(a,"setAutoresizingMask:",_fullScreenModeState.autoresizingMask);objj_msgSend(_fullScreenModeState.superview,"_insertSubview:atIndex:",a,_fullScreenModeState.index);objj_msgSend(objj_msgSend(a,"window"),"orderOut:",a)}}),new objj_method(sel_getUid("isInFullScreenMode"),function(a){with(a)return _isInFullScreenMode}),
new objj_method(sel_getUid("setHidden:"),function(a,d,b){with(a){b=!!b;if(_isHidden===b)return;_isHidden=b;_DOMElement.style.display=_isHidden?"none":"block";if(b){d=objj_msgSend(_window,"firstResponder");if(objj_msgSend(d,"isKindOfClass:",objj_msgSend(CPView,"class"))){do if(a==d){objj_msgSend(_window,"makeFirstResponder:",objj_msgSend(a,"nextValidKeyView"));break}while(d=objj_msgSend(d,"superview"))}objj_msgSend(a,"_notifyViewDidHide")}else objj_msgSend(a,"_notifyViewDidUnhide")}}),new objj_method(sel_getUid("_notifyViewDidHide"),
function(a){with(a){objj_msgSend(a,"viewDidHide");for(a=objj_msgSend(_subviews,"count");a--;)objj_msgSend(_subviews[a],"_notifyViewDidHide")}}),new objj_method(sel_getUid("_notifyViewDidUnhide"),function(a){with(a){objj_msgSend(a,"viewDidUnhide");for(a=objj_msgSend(_subviews,"count");a--;)objj_msgSend(_subviews[a],"_notifyViewDidUnhide")}}),new objj_method(sel_getUid("isHidden"),function(a){with(a)return _isHidden}),new objj_method(sel_getUid("setClipsToBounds:"),function(a,d,b){with(a){if(_clipsToBounds===
b)return;_clipsToBounds=b;_DOMElement.style.overflow=_clipsToBounds?"hidden":"visible"}}),new objj_method(sel_getUid("clipsToBounds"),function(a){with(a)return _clipsToBounds}),new objj_method(sel_getUid("setAlphaValue:"),function(a,d,b){with(a){if(_opacity==b)return;_opacity=b;if(CPFeatureIsCompatible(CPOpacityRequiresFilterFeature))if(b===1)try{_DOMElement.style.removeAttribute("filter")}catch(c){}else _DOMElement.style.filter="alpha(opacity="+b*100+")";else _DOMElement.style.opacity=b}}),new objj_method(sel_getUid("alphaValue"),
function(a){with(a)return _opacity}),new objj_method(sel_getUid("isHiddenOrHasHiddenAncestor"),function(a){with(a){for(;a&&!objj_msgSend(a,"isHidden");)a=objj_msgSend(a,"superview");return a!==nil}}),new objj_method(sel_getUid("viewDidHide"),function(a){with(a);}),new objj_method(sel_getUid("viewDidUnhide"),function(a){with(a);}),new objj_method(sel_getUid("acceptsFirstMouse:"),function(a){with(a)return YES}),new objj_method(sel_getUid("hitTests"),function(a){with(a)return _hitTests}),new objj_method(sel_getUid("setHitTests:"),
function(a,d,b){with(a)_hitTests=!!b}),new objj_method(sel_getUid("hitTest:"),function(a,d,b){with(a){if(_isHidden||!_hitTests||!CPRectContainsPoint(_frame,b))return nil;d=nil;var c=_subviews.length;b={x:b.x-_frame.origin.x,y:b.y-_frame.origin.y};for(_inverseBoundsTransform&&(b={x:b.x*_inverseBoundsTransform.a+b.y*_inverseBoundsTransform.c+_inverseBoundsTransform.tx,y:b.x*_inverseBoundsTransform.b+b.y*_inverseBoundsTransform.d+_inverseBoundsTransform.ty});c--;)if(d=objj_msgSend(_subviews[c],"hitTest:",
b))return d;return a}}),new objj_method(sel_getUid("needsPanelToBecomeKey"),function(a){with(a)return NO}),new objj_method(sel_getUid("mouseDownCanMoveWindow"),function(a){with(a)return!objj_msgSend(a,"isOpaque")}),new objj_method(sel_getUid("mouseDown:"),function(a,d,b){with(a)objj_msgSend(a,"mouseDownCanMoveWindow")&&objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPView").super_class},"mouseDown:",b)}),new objj_method(sel_getUid("rightMouseDown:"),function(a,d,b){with(a)(d=objj_msgSend(a,
"menuForEvent:",b))?objj_msgSend(CPMenu,"popUpContextMenu:withEvent:forView:",d,b,a):objj_msgSend(objj_msgSend(a,"nextResponder"),"isKindOfClass:",CPView)?objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPView").super_class},"rightMouseDown:",b):objj_msgSend(objj_msgSend(objj_msgSend(b,"window"),"platformWindow"),"_propagateContextMenuDOMEvent:",YES)}),new objj_method(sel_getUid("menuForEvent:"),function(a){with(a)return objj_msgSend(a,"menu")||objj_msgSend(objj_msgSend(a,"class"),"defaultMenu")}),
new objj_method(sel_getUid("setBackgroundColor:"),function(a,d,c){with(a){if(_backgroundColor==c)return;c==objj_msgSend(CPNull,"null")&&(c=nil);_backgroundColor=c;c=objj_msgSend(_backgroundColor,"patternImage");var e=_backgroundColor&&(objj_msgSend(_backgroundColor,"patternImage")||objj_msgSend(_backgroundColor,"alphaComponent")>0),i=e&&objj_msgSend(_backgroundColor,"alphaComponent")<1;d=CPFeatureIsCompatible(CPCSSRGBAFeature);i=i&&!d;var l=0;objj_msgSend(c,"isThreePartImage")?(_backgroundType=objj_msgSend(c,
"isVertical")?1:2,l=3-_DOMImageParts.length):objj_msgSend(c,"isNinePartImage")?(_backgroundType=3,l=9-_DOMImageParts.length):(_backgroundType=i?4:0,l=(i?1:0)-_DOMImageParts.length);if(l>0)for(;l--;){var f=b.cloneNode(!1);f.style.zIndex=-1E3;_DOMImageParts.push(f);_DOMElement.appendChild(f)}else for(l=-l;l--;)_DOMElement.removeChild(_DOMImageParts.pop());if(_backgroundType===0||_backgroundType===4)d=e?objj_msgSend(_backgroundColor,"cssString"):"",i?(_DOMElement.style.background="",_DOMImageParts[0].style.background=
objj_msgSend(_backgroundColor,"cssString"),CPFeatureIsCompatible(CPOpacityRequiresFilterFeature)?_DOMImageParts[0].style.filter="alpha(opacity="+objj_msgSend(_backgroundColor,"alphaComponent")*100+")":_DOMImageParts[0].style.opacity=objj_msgSend(_backgroundColor,"alphaComponent"),c=objj_msgSend(a,"bounds").size,_DOMImageParts[0].style.width=MAX(0,ROUND(c.width))+"px",_DOMImageParts[0].style.height=MAX(0,ROUND(c.height))+"px"):_DOMElement.style.background=d;else{e=objj_msgSend(c,"imageSlices");i=MIN(_DOMImageParts.length,
e.length);for(a=_frame.size;i--;)if(l=e[i],c=_DOMImageSizes[i]=l?objj_msgSend(l,"size"):{width:0,height:0},_DOMImageParts[i].style.width=MAX(0,ROUND(c.width))+"px",_DOMImageParts[i].style.height=MAX(0,ROUND(c.height))+"px",_DOMImageParts[i].style.background=l?'url("'+objj_msgSend(l,"filename")+'")':"",!d)if(CPFeatureIsCompatible(CPOpacityRequiresFilterFeature))try{_DOMImageParts[i].style.removeAttribute("filter")}catch(g){}else _DOMImageParts[i].style.opacity=1;if(_backgroundType==3)d=a.width-_DOMImageSizes[0].width-
_DOMImageSizes[2].width,a=a.height-_DOMImageSizes[0].height-_DOMImageSizes[6].height,_DOMImageParts[1].style.width=MAX(0,ROUND(d))+"px",_DOMImageParts[1].style.height=MAX(0,ROUND(_DOMImageSizes[0].height))+"px",_DOMImageParts[3].style.width=MAX(0,ROUND(_DOMImageSizes[3].width))+"px",_DOMImageParts[3].style.height=MAX(0,ROUND(a))+"px",_DOMImageParts[4].style.width=MAX(0,ROUND(d))+"px",_DOMImageParts[4].style.height=MAX(0,ROUND(a))+"px",_DOMImageParts[5].style.width=MAX(0,ROUND(_DOMImageSizes[5].width))+
"px",_DOMImageParts[5].style.height=MAX(0,ROUND(a))+"px",_DOMImageParts[7].style.width=MAX(0,ROUND(d))+"px",_DOMImageParts[7].style.height=MAX(0,ROUND(_DOMImageSizes[7].height))+"px",d=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[0].style.left=ROUND(d.x)+"px",_DOMImageParts[0].style.top=ROUND(d.y)+"px",d=NULL?{x:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.a+CGPointMake(_DOMImageSizes[0].width,
0).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.b+CGPointMake(_DOMImageSizes[0].width,0).y*NULL.d+NULL.ty}:{x:_DOMImageSizes[0].width,y:0},_DOMImageParts[1].style.left=ROUND(d.x)+"px",_DOMImageParts[1].style.top=ROUND(d.y)+"px",d=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[2].style.right=ROUND(d.x)+"px",_DOMImageParts[2].style.top=ROUND(d.y)+"px",d=NULL?{x:CGPointMake(0,
_DOMImageSizes[1].height).x*NULL.a+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.c+NULL.tx,y:CGPointMake(0,_DOMImageSizes[1].height).x*NULL.b+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.d+NULL.ty}:{x:0,y:_DOMImageSizes[1].height},_DOMImageParts[3].style.left=ROUND(d.x)+"px",_DOMImageParts[3].style.top=ROUND(d.y)+"px",d=NULL?{x:CGPointMake(_DOMImageSizes[0].width,_DOMImageSizes[0].height).x*NULL.a+CGPointMake(_DOMImageSizes[0].width,_DOMImageSizes[0].height).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[0].width,
_DOMImageSizes[0].height).x*NULL.b+CGPointMake(_DOMImageSizes[0].width,_DOMImageSizes[0].height).y*NULL.d+NULL.ty}:{x:_DOMImageSizes[0].width,y:_DOMImageSizes[0].height},_DOMImageParts[4].style.left=ROUND(d.x)+"px",_DOMImageParts[4].style.top=ROUND(d.y)+"px",d=NULL?{x:CGPointMake(0,_DOMImageSizes[1].height).x*NULL.a+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.c+NULL.tx,y:CGPointMake(0,_DOMImageSizes[1].height).x*NULL.b+CGPointMake(0,_DOMImageSizes[1].height).y*NULL.d+NULL.ty}:{x:0,y:_DOMImageSizes[1].height},
_DOMImageParts[5].style.right=ROUND(d.x)+"px",_DOMImageParts[5].style.top=ROUND(d.y)+"px",d=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[6].style.left=ROUND(d.x)+"px",_DOMImageParts[6].style.bottom=ROUND(d.y)+"px",d=NULL?{x:CGPointMake(_DOMImageSizes[6].width,0).x*NULL.a+CGPointMake(_DOMImageSizes[6].width,0).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[6].width,0).x*NULL.b+CGPointMake(_DOMImageSizes[6].width,
0).y*NULL.d+NULL.ty}:{x:_DOMImageSizes[6].width,y:0},_DOMImageParts[7].style.left=ROUND(d.x)+"px",_DOMImageParts[7].style.bottom=ROUND(d.y)+"px",d=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[8].style.right=ROUND(d.x)+"px",_DOMImageParts[8].style.bottom=ROUND(d.y)+"px";else if(_backgroundType==1)_DOMImageParts[1].style.width=MAX(0,ROUND(a.width))+"px",_DOMImageParts[1].style.height=MAX(0,
ROUND(a.height-_DOMImageSizes[0].height-_DOMImageSizes[2].height))+"px",d=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[0].style.left=ROUND(d.x)+"px",_DOMImageParts[0].style.top=ROUND(d.y)+"px",d=NULL?{x:CGPointMake(0,_DOMImageSizes[0].height).x*NULL.a+CGPointMake(0,_DOMImageSizes[0].height).y*NULL.c+NULL.tx,y:CGPointMake(0,_DOMImageSizes[0].height).x*NULL.b+CGPointMake(0,_DOMImageSizes[0].height).y*
NULL.d+NULL.ty}:{x:0,y:_DOMImageSizes[0].height},_DOMImageParts[1].style.left=ROUND(d.x)+"px",_DOMImageParts[1].style.top=ROUND(d.y)+"px",d=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[2].style.left=ROUND(d.x)+"px",_DOMImageParts[2].style.bottom=ROUND(d.y)+"px";else if(_backgroundType==2)_DOMImageParts[1].style.width=MAX(0,ROUND(a.width-_DOMImageSizes[0].width-_DOMImageSizes[2].width))+"px",
_DOMImageParts[1].style.height=MAX(0,ROUND(a.height))+"px",d=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[0].style.left=ROUND(d.x)+"px",_DOMImageParts[0].style.top=ROUND(d.y)+"px",d=NULL?{x:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.a+CGPointMake(_DOMImageSizes[0].width,0).y*NULL.c+NULL.tx,y:CGPointMake(_DOMImageSizes[0].width,0).x*NULL.b+CGPointMake(_DOMImageSizes[0].width,0).y*NULL.d+
NULL.ty}:{x:_DOMImageSizes[0].width,y:0},_DOMImageParts[1].style.left=ROUND(d.x)+"px",_DOMImageParts[1].style.top=ROUND(d.y)+"px",d=NULL?{x:CGPointMake(0,0).x*NULL.a+CGPointMake(0,0).y*NULL.c+NULL.tx,y:CGPointMake(0,0).x*NULL.b+CGPointMake(0,0).y*NULL.d+NULL.ty}:{x:0,y:0},_DOMImageParts[2].style.right=ROUND(d.x)+"px",_DOMImageParts[2].style.top=ROUND(d.y)+"px"}}}),new objj_method(sel_getUid("backgroundColor"),function(a){with(a)return _backgroundColor}),new objj_method(sel_getUid("convertPoint:fromView:"),
function(a,d,b,c){with(a)return CGPointApplyAffineTransform(b,i(c,a))}),new objj_method(sel_getUid("convertPointFromBase:"),function(a,d,b){with(a)return CGPointApplyAffineTransform(b,i(nil,a))}),new objj_method(sel_getUid("convertPoint:toView:"),function(a,d,b,c){with(a)return CGPointApplyAffineTransform(b,i(a,c))}),new objj_method(sel_getUid("convertPointToBase:"),function(a,d,b){with(a)return CGPointApplyAffineTransform(b,i(a,nil))}),new objj_method(sel_getUid("convertSize:fromView:"),function(a,
d,b,c){with(a)return CGSizeApplyAffineTransform(b,i(c,a))}),new objj_method(sel_getUid("convertSize:toView:"),function(a,d,b,c){with(a)return CGSizeApplyAffineTransform(b,i(a,c))}),new objj_method(sel_getUid("convertRect:fromView:"),function(a,d,b,c){with(a)return CGRectApplyAffineTransform(b,i(c,a))}),new objj_method(sel_getUid("convertRectFromBase:"),function(a,d,b){with(a)return CGRectApplyAffineTransform(b,i(nil,a))}),new objj_method(sel_getUid("convertRect:toView:"),function(a,d,b,c){with(a)return CGRectApplyAffineTransform(b,
i(a,c))}),new objj_method(sel_getUid("convertRectToBase:"),function(a,d,b){with(a)return CGRectApplyAffineTransform(b,i(a,nil))}),new objj_method(sel_getUid("setPostsFrameChangedNotifications:"),function(a,d,b){with(a){b=!!b;if(_postsFrameChangedNotifications===b)return;(_postsFrameChangedNotifications=b)&&objj_msgSend(f,"postNotificationName:object:",CPViewFrameDidChangeNotification,a)}}),new objj_method(sel_getUid("postsFrameChangedNotifications"),function(a){with(a)return _postsFrameChangedNotifications}),
new objj_method(sel_getUid("setPostsBoundsChangedNotifications:"),function(a,d,b){with(a){b=!!b;if(_postsBoundsChangedNotifications===b)return;(_postsBoundsChangedNotifications=b)&&objj_msgSend(f,"postNotificationName:object:",CPViewBoundsDidChangeNotification,a)}}),new objj_method(sel_getUid("postsBoundsChangedNotifications"),function(a){with(a)return _postsBoundsChangedNotifications}),new objj_method(sel_getUid("dragImage:at:offset:event:pasteboard:source:slideBack:"),function(a,d,b,c,e,i,f,g,h){with(a)objj_msgSend(_window,
"dragImage:at:offset:event:pasteboard:source:slideBack:",b,objj_msgSend(a,"convertPoint:toView:",c,nil),e,i,f,g,h)}),new objj_method(sel_getUid("dragView:at:offset:event:pasteboard:source:slideBack:"),function(a,d,b,c,e,i,f,g,h){with(a)objj_msgSend(_window,"dragView:at:offset:event:pasteboard:source:slideBack:",b,objj_msgSend(a,"convertPoint:toView:",c,nil),e,i,f,g,h)}),new objj_method(sel_getUid("registerForDraggedTypes:"),function(a,d,b){with(a){if(!b||!objj_msgSend(b,"count"))return;a=objj_msgSend(a,
"window");objj_msgSend(a,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes);objj_msgSend(_registeredDraggedTypes,"addObjectsFromArray:",b);objj_msgSend(a,"_noteRegisteredDraggedTypes:",_registeredDraggedTypes);_registeredDraggedTypesArray=nil}}),new objj_method(sel_getUid("registeredDraggedTypes"),function(a){with(a)return _registeredDraggedTypesArray||(_registeredDraggedTypesArray=objj_msgSend(_registeredDraggedTypes,"allObjects")),_registeredDraggedTypesArray}),new objj_method(sel_getUid("unregisterDraggedTypes"),
function(a){with(a)objj_msgSend(objj_msgSend(a,"window"),"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes),_registeredDraggedTypes=objj_msgSend(CPSet,"set"),_registeredDraggedTypesArray=[]}),new objj_method(sel_getUid("drawRect:"),function(a){with(a);}),new objj_method(sel_getUid("setNeedsDisplay:"),function(a,d,b){with(a)b&&objj_msgSend(a,"setNeedsDisplayInRect:",objj_msgSend(a,"bounds"))}),new objj_method(sel_getUid("setNeedsDisplayInRect:"),function(a,d,b){with(a){if(!(_viewClassFlags&
1))return;if(b.size.width<=0||b.size.height<=0)return;_dirtyRect=_dirtyRect&&!(_dirtyRect.size.width<=0||_dirtyRect.size.height<=0)?CGRectUnion(b,_dirtyRect):{origin:{x:b.origin.x,y:b.origin.y},size:{width:b.size.width,height:b.size.height}};_CPDisplayServerAddDisplayObject(a)}}),new objj_method(sel_getUid("needsDisplay"),function(a){with(a)return _dirtyRect&&!(_dirtyRect.size.width<=0||_dirtyRect.size.height<=0)}),new objj_method(sel_getUid("displayIfNeeded"),function(a){with(a)objj_msgSend(a,"needsDisplay")&&
objj_msgSend(a,"displayRect:",_dirtyRect)}),new objj_method(sel_getUid("display"),function(a){with(a)objj_msgSend(a,"displayRect:",objj_msgSend(a,"visibleRect"))}),new objj_method(sel_getUid("displayIfNeededInRect:"),function(a,d,b){with(a)objj_msgSend(a,"needsDisplay")&&objj_msgSend(a,"displayRect:",b)}),new objj_method(sel_getUid("displayRect:"),function(a,d,b){with(a)objj_msgSend(a,"viewWillDraw"),objj_msgSend(a,"displayRectIgnoringOpacity:inContext:",b,nil),_dirtyRect=NULL}),new objj_method(sel_getUid("displayRectIgnoringOpacity:inContext:"),
function(a,d,b){with(a){if(objj_msgSend(a,"isHidden"))return;objj_msgSend(a,"lockFocus");CGContextClearRect(objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),b);objj_msgSend(a,"drawRect:",b);objj_msgSend(a,"unlockFocus")}}),new objj_method(sel_getUid("viewWillDraw"),function(a){with(a);}),new objj_method(sel_getUid("lockFocus"),function(a){with(a){if(!_graphicsContext)a=CGBitmapGraphicsContextCreate(),_DOMContentsElement=a.DOMElement,_DOMContentsElement.style.zIndex=-100,
_DOMContentsElement.style.overflow="hidden",_DOMContentsElement.style.position="absolute",_DOMContentsElement.style.visibility="visible",_DOMContentsElement.width=ROUND(_frame.size.width),_DOMContentsElement.height=ROUND(_frame.size.height),_DOMContentsElement.style.top="0px",_DOMContentsElement.style.left="0px",_DOMContentsElement.style.width=ROUND(_frame.size.width)+"px",_DOMContentsElement.style.height=ROUND(_frame.size.height)+"px",_DOMElement.appendChild(_DOMContentsElement),_graphicsContext=
objj_msgSend(CPGraphicsContext,"graphicsContextWithGraphicsPort:flipped:",a,YES);objj_msgSend(CPGraphicsContext,"setCurrentContext:",_graphicsContext);CGContextSaveGState(objj_msgSend(_graphicsContext,"graphicsPort"))}}),new objj_method(sel_getUid("unlockFocus"),function(a){with(a)CGContextRestoreGState(objj_msgSend(_graphicsContext,"graphicsPort")),objj_msgSend(CPGraphicsContext,"setCurrentContext:",nil)}),new objj_method(sel_getUid("setNeedsLayout"),function(a){with(a){if(!(_viewClassFlags&2))return;
_needsLayout=YES;_CPDisplayServerAddLayoutObject(a)}}),new objj_method(sel_getUid("layoutIfNeeded"),function(a){with(a)_needsLayout&&(_needsLayout=NO,objj_msgSend(a,"layoutSubviews"))}),new objj_method(sel_getUid("layoutSubviews"),function(a){with(a);}),new objj_method(sel_getUid("isOpaque"),function(a){with(a)return NO}),new objj_method(sel_getUid("visibleRect"),function(a){with(a){if(!_superview)return _bounds;return CGRectIntersection(objj_msgSend(a,"convertRect:fromView:",objj_msgSend(_superview,
"visibleRect"),_superview),_bounds)}}),new objj_method(sel_getUid("_enclosingClipView"),function(a){with(a){a=_superview;for(var d=objj_msgSend(CPClipView,"class");a&&!objj_msgSend(a,"isKindOfClass:",d);)a=a._superview;return a}}),new objj_method(sel_getUid("scrollPoint:"),function(a,d,b){with(a){d=objj_msgSend(a,"_enclosingClipView");if(!d)return;objj_msgSend(d,"scrollToPoint:",objj_msgSend(a,"convertPoint:toView:",b,d))}}),new objj_method(sel_getUid("scrollRectToVisible:"),function(a,d,b){with(a){d=
objj_msgSend(a,"visibleRect");b=CGRectIntersection(b,_bounds);if(b.size.width<=0||b.size.height<=0||CGRectContainsRect(d,b))return NO;a=objj_msgSend(a,"_enclosingClipView");if(!a)return NO;var c={x:d.origin.x,y:d.origin.y};b.origin.x<=d.origin.x?c.x=b.origin.x:b.origin.x+b.size.width>d.origin.x+d.size.width&&(c.x+=b.origin.x+b.size.width-(d.origin.x+d.size.width));b.origin.y<=d.origin.y?c.y=CGRectGetMinY(b):b.origin.y+b.size.height>d.origin.y+d.size.height&&(c.y+=b.origin.y+b.size.height-(d.origin.y+
d.size.height));objj_msgSend(a,"scrollToPoint:",CGPointMake(c.x,c.y));return YES}}),new objj_method(sel_getUid("autoscroll:"),function(a,d,b){with(a)return objj_msgSend(objj_msgSend(a,"superview"),"autoscroll:",b)}),new objj_method(sel_getUid("adjustScroll:"),function(a,d,b){with(a)return b}),new objj_method(sel_getUid("scrollRect:by:"),function(a){with(a);}),new objj_method(sel_getUid("enclosingScrollView"),function(a){with(a){a=_superview;for(var d=objj_msgSend(CPScrollView,"class");a&&!objj_msgSend(a,
"isKindOfClass:",d);)a=a._superview;return a}}),new objj_method(sel_getUid("scrollClipView:toPoint:"),function(a,d,b,c){with(a)objj_msgSend(b,"scrollToPoint:",c)}),new objj_method(sel_getUid("reflectScrolledClipView:"),function(a){with(a);})]);class_addMethods(d,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==objj_msgSend(CPView,"class"))return;b=document.createElement("div");a=b.style;a.overflow="hidden";a.position="absolute";a.visibility="visible";a.zIndex=0;f=objj_msgSend(CPNotificationCenter,
"defaultCenter")}}),new objj_method(sel_getUid("keyPathsForValuesAffectingFrame"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","frameOrigin","frameSize")}),new objj_method(sel_getUid("keyPathsForValuesAffectingBounds"),function(a){with(a)return objj_msgSend(CPSet,"setWithObjects:","boundsOrigin","boundsSize")}),new objj_method(sel_getUid("defaultMenu"),function(a){with(a)return nil})]);a=objj_getClass("CPView");if(!a)throw new SyntaxError('*** Could not find definition for class "CPView"');
d=a.isa;class_addMethods(a,[new objj_method(sel_getUid("performKeyEquivalent:"),function(a,d,b){with(a){for(a=objj_msgSend(_subviews,"count");a--;)if(objj_msgSend(_subviews[a],"performKeyEquivalent:",b))return YES;return NO}}),new objj_method(sel_getUid("canBecomeKeyView"),function(a){with(a)return objj_msgSend(a,"acceptsFirstResponder")&&!objj_msgSend(a,"isHiddenOrHasHiddenAncestor")}),new objj_method(sel_getUid("nextKeyView"),function(a){with(a)return _nextKeyView}),new objj_method(sel_getUid("nextValidKeyView"),
function(a){with(a){for(var d=a=objj_msgSend(a,"nextKeyView");a&&!objj_msgSend(a,"canBecomeKeyView");)if(a=objj_msgSend(a,"nextKeyView"),a===d)return nil;return a}}),new objj_method(sel_getUid("previousKeyView"),function(a){with(a)return _previousKeyView}),new objj_method(sel_getUid("previousValidKeyView"),function(a){with(a){for(a=objj_msgSend(a,"previousKeyView");a&&!objj_msgSend(a,"canBecomeKeyView");)a=objj_msgSend(a,"previousKeyView");return a}}),new objj_method(sel_getUid("_setPreviousKeyView:"),
function(a,d,b){with(a)_previousKeyView=b}),new objj_method(sel_getUid("setNextKeyView:"),function(a,d,b){with(a)_nextKeyView=b,objj_msgSend(_nextKeyView,"_setPreviousKeyView:",a)})]);a=objj_getClass("CPView");if(!a)throw new SyntaxError('*** Could not find definition for class "CPView"');d=a.isa;class_addMethods(a,[new objj_method(sel_getUid("setLayer:"),function(a,d,b){with(a){if(_layer==b)return;if(_layer)_layer._owningView=nil,_DOMElement.removeChild(_layer._DOMElement);if(_layer=b)CGRectMakeCopy(objj_msgSend(a,
"bounds")),objj_msgSend(_layer,"_setOwningView:",a),_layer._DOMElement.style.zIndex=100,_DOMElement.appendChild(_layer._DOMElement)}}),new objj_method(sel_getUid("layer"),function(a){with(a)return _layer}),new objj_method(sel_getUid("setWantsLayer:"),function(a,d,b){with(a)_wantsLayer=!!b}),new objj_method(sel_getUid("wantsLayer"),function(a){with(a)return _wantsLayer})]);a=objj_getClass("CPView");if(!a)throw new SyntaxError('*** Could not find definition for class "CPView"');d=a.isa;class_addMethods(a,
[new objj_method(sel_getUid("themeState"),function(a){with(a)return _themeState}),new objj_method(sel_getUid("hasThemeState:"),function(a,d,b){with(a){if(b===CPThemeStateNormal&&_themeState===CPThemeStateNormal)return YES;return!!(_themeState&(typeof b==="string"?CPThemeState(b):b))}}),new objj_method(sel_getUid("setThemeState:"),function(a,d,b){with(a){d=typeof b==="string"?CPThemeState(b):b;if(_themeState&d)return NO;_themeState|=d;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",
YES);return YES}}),new objj_method(sel_getUid("unsetThemeState:"),function(a,d,b){with(a){d=typeof b==="string"?CPThemeState(b):b;if(!(_themeState&d))return NO;_themeState&=~d;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES);return YES}}),new objj_method(sel_getUid("themeClass"),function(a){with(a){if(_themeClass)return _themeClass;return objj_msgSend(objj_msgSend(a,"class"),"defaultThemeClass")}}),new objj_method(sel_getUid("setThemeClass:"),function(a,d,b){with(a)_themeClass=
b,objj_msgSend(a,"_loadThemeAttributes"),objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("_loadThemeAttributes"),function(a){with(a){var d=objj_msgSend(a,"class");d=objj_msgSend(d,"_themeAttributes");var b=d.length;if(!b)return;var c=objj_msgSend(a,"theme");a=objj_msgSend(a,"themeClass");for(_themeAttributes={};b--;){var e=d[b--],i=objj_msgSend(objj_msgSend(_CPThemeAttribute,"alloc"),"initWithName:defaultValue:",e,d[b]);objj_msgSend(i,"setParentAttribute:",
objj_msgSend(c,"attributeWithName:forClass:",e,a));_themeAttributes[e]=i}}}),new objj_method(sel_getUid("setTheme:"),function(a,d,b){with(a){if(_theme===b)return;_theme=b;objj_msgSend(a,"viewDidChangeTheme")}}),new objj_method(sel_getUid("theme"),function(a){with(a)return _theme}),new objj_method(sel_getUid("viewDidChangeTheme"),function(a){with(a){if(!_themeAttributes)return;var d=objj_msgSend(a,"theme"),b=objj_msgSend(a,"themeClass"),c;for(c in _themeAttributes)_themeAttributes.hasOwnProperty(c)&&
objj_msgSend(_themeAttributes[c],"setParentAttribute:",objj_msgSend(d,"attributeWithName:forClass:",c,b));objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("_themeAttributeDictionary"),function(a){with(a){var d=objj_msgSend(CPDictionary,"dictionary");if(_themeAttributes)for(var b in objj_msgSend(a,"theme"),_themeAttributes)_themeAttributes.hasOwnProperty(b)&&objj_msgSend(d,"setObject:forKey:",_themeAttributes[b],b);return d}}),new objj_method(sel_getUid("setValue:forThemeAttribute:inState:"),
function(a,d,b,c,e){with(a){(!_themeAttributes||!_themeAttributes[c])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+c+"'");d=objj_msgSend(a,"currentValueForThemeAttribute:",c);objj_msgSend(_themeAttributes[c],"setValue:forState:",b,e);if(objj_msgSend(a,"currentValueForThemeAttribute:",c)===d)return;objj_msgSend(a,"setNeedsDisplay:",YES);objj_msgSend(a,"setNeedsLayout")}}),new objj_method(sel_getUid("setValue:forThemeAttribute:"),
function(a,d,b,c){with(a){(!_themeAttributes||!_themeAttributes[c])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+c+"'");d=objj_msgSend(a,"currentValueForThemeAttribute:",c);objj_msgSend(_themeAttributes[c],"setValue:",b);if(objj_msgSend(a,"currentValueForThemeAttribute:",c)===d)return;objj_msgSend(a,"setNeedsDisplay:",YES);objj_msgSend(a,"setNeedsLayout")}}),new objj_method(sel_getUid("valueForThemeAttribute:inState:"),
function(a,d,b,c){with(a)return(!_themeAttributes||!_themeAttributes[b])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+b+"'"),objj_msgSend(_themeAttributes[b],"valueForState:",c)}),new objj_method(sel_getUid("valueForThemeAttribute:"),function(a,d,b){with(a)return(!_themeAttributes||!_themeAttributes[b])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+
b+"'"),objj_msgSend(_themeAttributes[b],"value")}),new objj_method(sel_getUid("currentValueForThemeAttribute:"),function(a,d,b){with(a)return(!_themeAttributes||!_themeAttributes[b])&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,objj_msgSend(a,"className")+" does not contain theme attribute '"+b+"'"),objj_msgSend(_themeAttributes[b],"valueForState:",_themeState)}),new objj_method(sel_getUid("hasThemeAttribute:"),function(a,d,b){with(a)return _themeAttributes&&_themeAttributes[b]!==
void 0}),new objj_method(sel_getUid("createEphemeralSubviewNamed:"),function(a){with(a)return nil}),new objj_method(sel_getUid("rectForEphemeralSubviewNamed:"),function(a){with(a)return{origin:{x:0,y:0},size:{width:0,height:0}}}),new objj_method(sel_getUid("layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:"),function(a,d,b,c,e){with(a)return _ephemeralSubviewsForNames||(_ephemeralSubviewsForNames={},_ephemeralSubviews=objj_msgSend(CPSet,"set")),(d=objj_msgSend(a,"rectForEphemeralSubviewNamed:",
b))?(_ephemeralSubviewsForNames[b]||(_ephemeralSubviewsForNames[b]=objj_msgSend(a,"createEphemeralSubviewNamed:",b),objj_msgSend(_ephemeralSubviews,"addObject:",_ephemeralSubviewsForNames[b]),_ephemeralSubviewsForNames[b]&&objj_msgSend(a,"addSubview:positioned:relativeTo:",_ephemeralSubviewsForNames[b],c,_ephemeralSubviewsForNames[e])),_ephemeralSubviewsForNames[b]&&objj_msgSend(_ephemeralSubviewsForNames[b],"setFrame:",d)):_ephemeralSubviewsForNames[b]&&(objj_msgSend(_ephemeralSubviewsForNames[b],
"removeFromSuperview"),objj_msgSend(_ephemeralSubviews,"removeObject:",_ephemeralSubviewsForNames[b]),delete _ephemeralSubviewsForNames[b]),_ephemeralSubviewsForNames[b]}),new objj_method(sel_getUid("ephemeralSubviewNamed:"),function(a,d,b){with(a){if(!_ephemeralSubviewsForNames)return nil;return _ephemeralSubviewsForNames[b]||nil}})]);class_addMethods(d,[new objj_method(sel_getUid("defaultThemeClass"),function(a){with(a)return nil}),new objj_method(sel_getUid("themeAttributes"),function(a){with(a)return nil}),
new objj_method(sel_getUid("_themeAttributes"),function(a){with(a){e||(e={});for(var d=objj_msgSend(a,"class"),b=objj_msgSend(CPView,"class"),c=[],i=objj_msgSend(CPNull,"null");d&&d!==b;d=objj_msgSend(d,"superclass")){var l=e[class_getName(d)];if(l){c=c.length?c.concat(l):c;e[objj_msgSend(a,"className")]=c;break}if(l=objj_msgSend(d,"themeAttributes"))for(var f=objj_msgSend(l,"allKeys"),g=f.length;g--;){var h=f[g],r=objj_msgSend(l,"objectForKey:",h);c.push(r===i?nil:r);c.push(h)}}return c}})]);a=objj_getClass("CPView");
if(!a)throw new SyntaxError('*** Could not find definition for class "CPView"');d=a.isa;class_addMethods(a,[new objj_method(sel_getUid("initWithCoder:"),function(a,d,c){with(a){_DOMElement=b.cloneNode(!1);_frame=objj_msgSend(c,"decodeRectForKey:","CPViewFrameKey");_bounds=objj_msgSend(c,"decodeRectForKey:","CPViewBoundsKey");if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPView").super_class},"initWithCoder:",c)){_tag=objj_msgSend(c,"containsValueForKey:","CPViewTagKey")?objj_msgSend(c,
"decodeIntForKey:","CPViewTagKey"):-1;_window=objj_msgSend(c,"decodeObjectForKey:","CPViewWindowKey");_subviews=objj_msgSend(c,"decodeObjectForKey:","CPViewSubviewsKey")||[];_superview=objj_msgSend(c,"decodeObjectForKey:","CPViewSuperviewKey");_registeredDraggedTypes=objj_msgSend(CPSet,"set");_registeredDraggedTypesArray=[];_autoresizingMask=objj_msgSend(c,"decodeIntForKey:","CPViewAutoresizingMask")||CPViewNotSizable;_autoresizesSubviews=!objj_msgSend(c,"containsValueForKey:","CPViewAutoresizesSubviews")||
objj_msgSend(c,"decodeBoolForKey:","CPViewAutoresizesSubviews");_hitTests=!objj_msgSend(c,"containsValueForKey:","CPViewHitTestsKey")||objj_msgSend(c,"decodeObjectForKey:","CPViewHitTestsKey");_DOMImageParts=[];_DOMImageSizes=[];d=NULL?{x:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.a+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.c+NULL.tx,y:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.b+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.d+NULL.ty}:{x:_frame.origin.x,y:_frame.origin.y};
_DOMElement.style.left=ROUND(d.x)+"px";_DOMElement.style.top=ROUND(d.y)+"px";_DOMElement.style.width=MAX(0,ROUND(_frame.size.width))+"px";_DOMElement.style.height=MAX(0,ROUND(_frame.size.height))+"px";var e=0;for(d=_subviews.length;e<d;++e)_DOMElement.appendChild(_subviews[e]._DOMElement);objj_msgSend(c,"containsValueForKey:","CPViewIsHiddenKey")?objj_msgSend(a,"setHidden:",objj_msgSend(c,"decodeBoolForKey:","CPViewIsHiddenKey")):_isHidden=NO;objj_msgSend(c,"containsValueForKey:","CPViewOpacityKey")?
objj_msgSend(a,"setAlphaValue:",objj_msgSend(c,"decodeIntForKey:","CPViewOpacityKey")):_opacity=1;objj_msgSend(a,"setBackgroundColor:",objj_msgSend(c,"decodeObjectForKey:","CPViewBackgroundColor"));objj_msgSend(a,"setupViewFlags");_theme=objj_msgSend(CPTheme,"defaultTheme");_themeClass=objj_msgSend(c,"decodeObjectForKey:","CPViewThemeClassKey");_themeState=CPThemeState(objj_msgSend(c,"decodeIntForKey:","CPViewThemeStateKey"));_themeAttributes={};d=objj_msgSend(a,"class");e=objj_msgSend(a,"themeClass");
var i=objj_msgSend(d,"_themeAttributes");for(d=i.length;d--;){var l=i[d--];_themeAttributes[l]=CPThemeAttributeDecode(c,l,i[d],_theme,e)}objj_msgSend(a,"setNeedsDisplay:",YES);objj_msgSend(a,"setNeedsLayout")}return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,d,b){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPView").super_class},"encodeWithCoder:",b);_tag!==-1&&objj_msgSend(b,"encodeInt:forKey:",_tag,"CPViewTagKey");objj_msgSend(b,"encodeRect:forKey:",_frame,
"CPViewFrameKey");objj_msgSend(b,"encodeRect:forKey:",_bounds,"CPViewBoundsKey");_window!==nil&&objj_msgSend(b,"encodeConditionalObject:forKey:",_window,"CPViewWindowKey");d=objj_msgSend(_subviews,"count");var c=_subviews;if(d>0&&objj_msgSend(_ephemeralSubviews,"count")>0)for(c=objj_msgSend(c,"copy");d--;)objj_msgSend(_ephemeralSubviews,"containsObject:",c[d])&&c.splice(d,1);c.length>0&&objj_msgSend(b,"encodeObject:forKey:",c,"CPViewSubviewsKey");_superview!==nil&&objj_msgSend(b,"encodeConditionalObject:forKey:",
_superview,"CPViewSuperviewKey");_autoresizingMask!==CPViewNotSizable&&objj_msgSend(b,"encodeInt:forKey:",_autoresizingMask,"CPViewAutoresizingMask");_autoresizesSubviews||objj_msgSend(b,"encodeBool:forKey:",_autoresizesSubviews,"CPViewAutoresizesSubviews");_backgroundColor!==nil&&objj_msgSend(b,"encodeObject:forKey:",_backgroundColor,"CPViewBackgroundColor");_hitTests!==YES&&objj_msgSend(b,"encodeBool:forKey:",_hitTests,"CPViewHitTestsKey");_opacity!==1&&objj_msgSend(b,"encodeFloat:forKey:",_opacity,
"CPViewOpacityKey");_isHidden&&objj_msgSend(b,"encodeBool:forKey:",_isHidden,"CPViewIsHiddenKey");d=objj_msgSend(a,"nextKeyView");d!==nil&&objj_msgSend(b,"encodeConditionalObject:forKey:",d,"CPViewNextKeyViewKey");d=objj_msgSend(a,"previousKeyView");d!==nil&&objj_msgSend(b,"encodeConditionalObject:forKey:",d,"CPViewPreviousKeyViewKey");objj_msgSend(b,"encodeObject:forKey:",objj_msgSend(a,"themeClass"),"CPViewThemeClassKey");objj_msgSend(b,"encodeInt:forKey:",CPThemeStateName(_themeState),"CPViewThemeStateKey");
for(var e in _themeAttributes)_themeAttributes.hasOwnProperty(e)&&CPThemeAttributeEncode(b,_themeAttributes[e])}})]);var i=function(a,d){var b=CGAffineTransformMakeIdentity(),c=YES,e=nil,i=nil;if(a){for(e=a;e&&e!=d;){var f=e._frame;b.tx+=f.origin.x;b.ty+=f.origin.y;if(e._boundsTransform){f=b.tx*e._boundsTransform.a+b.ty*e._boundsTransform.c+e._boundsTransform.tx;b.ty=b.tx*e._boundsTransform.b+b.ty*e._boundsTransform.d+e._boundsTransform.ty;b.tx=f;f=b.a*e._boundsTransform.a+b.b*e._boundsTransform.c;
var g=b.a*e._boundsTransform.b+b.b*e._boundsTransform.d,h=b.c*e._boundsTransform.a+b.d*e._boundsTransform.c;b.d=b.c*e._boundsTransform.b+b.d*e._boundsTransform.d;b.a=f;b.b=g;b.c=h}e=e._superview}if(e===d)return b;else a&&d&&(e=objj_msgSend(a,"window"),i=objj_msgSend(d,"window"),e&&i&&e!==i&&(c=NO,f=objj_msgSend(e,"frame"),b.tx+=f.origin.x,b.ty+=f.origin.y))}for(e=d;e;){f=e._frame;b.tx-=f.origin.x;b.ty-=f.origin.y;if(e._boundsTransform)f=b.tx*e._inverseBoundsTransform.a+b.ty*e._inverseBoundsTransform.c+
e._inverseBoundsTransform.tx,b.ty=b.tx*e._inverseBoundsTransform.b+b.ty*e._inverseBoundsTransform.d+e._inverseBoundsTransform.ty,b.tx=f,f=b.a*e._inverseBoundsTransform.a+b.b*e._inverseBoundsTransform.c,g=b.a*e._inverseBoundsTransform.b+b.b*e._inverseBoundsTransform.d,h=b.c*e._inverseBoundsTransform.a+b.d*e._inverseBoundsTransform.c,b.d=b.c*e._inverseBoundsTransform.b+b.d*e._inverseBoundsTransform.d,b.a=f,b.b=g,b.c=h;e=e._superview}c||(f=objj_msgSend(i,"frame"),b.tx-=f.origin.x,b.ty-=f.origin.y);return b}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPTextField.j",baseURL),function(h,g){g("CPControl.j",YES);g("CPStringDrawing.j",YES);g("CPCompatibility.j",YES);g("_CPImageAndTextView.j",YES);CPTextFieldSquareBezel=0;CPTextFieldRoundedBezel=1;CPTextFieldDidFocusNotification="CPTextFieldDidFocusNotification";CPTextFieldDidBlurNotification="CPTextFieldDidBlurNotification";var f=nil,e=nil,b=nil,c=nil,a=NO,d=NO,i=NO,o=nil,n=nil,j=nil,k=objj_getClass("CPString");if(!k)throw new SyntaxError('*** Could not find definition for class "CPString"');
var t=k.isa;class_addMethods(k,[new objj_method(sel_getUid("string"),function(a){with(a)return a})]);CPTextFieldStateRounded=CPThemeState("rounded");CPTextFieldStatePlaceholder=CPThemeState("placeholder");k=objj_allocateClassPair(CPControl,"CPTextField");t=k.isa;class_addIvars(k,[new objj_ivar("_isEditing"),new objj_ivar("_isEditable"),new objj_ivar("_isSelectable"),new objj_ivar("_isSecure"),new objj_ivar("_willBecomeFirstResponderByClick"),new objj_ivar("_drawsBackground"),new objj_ivar("_textFieldBackgroundColor"),
new objj_ivar("_placeholderString"),new objj_ivar("_delegate"),new objj_ivar("_textDidChangeValue"),new objj_ivar("_bezelStyle"),new objj_ivar("_isBordered"),new objj_ivar("_controlSize")]);objj_registerClassPair(k);class_addMethods(k,[new objj_method(sel_getUid("_inputElement"),function(i){with(i){if(!f)f=document.createElement("input"),f.style.position="absolute",f.style.border="0px",f.style.padding="0px",f.style.margin="0px",f.style.whiteSpace="pre",f.style.background="transparent",f.style.outline=
"none",j=function(b){if(!(c&&c._DOMElement!=f.parentNode))if(a)return CPTextFieldHandleBlur(b,f),d=YES,!0;else objj_msgSend(objj_msgSend(c,"window"),"makeFirstResponder:",nil)},CPTextFieldHandleBlur=function(){c=nil;objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode)},f.onblur=j,b=f;if(CPFeatureIsCompatible(CPInputTypeCanBeChangedFeature))return f.type=objj_msgSend(i,"isSecure")?"password":"text",f;if(objj_msgSend(i,"isSecure")){if(!e)e=document.createElement("input"),
e.style.position="absolute",e.style.border="0px",e.style.padding="0px",e.style.margin="0px",e.style.whiteSpace="pre",e.style.background="transparent",e.style.outline="none",e.type="password",e.onblur=j;f=e}else f=b;return f}}),new objj_method(sel_getUid("initWithFrame:"),function(a,d,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"initWithFrame:",b))objj_msgSend(a,"setStringValue:",""),objj_msgSend(a,"setPlaceholderString:",""),_sendActionOn=CPKeyUpMask|
CPKeyDownMask,objj_msgSend(a,"setValue:forThemeAttribute:",CPLeftTextAlignment,"alignment");return a}}),new objj_method(sel_getUid("setEditable:"),function(a,d,b){with(a){if(_isEditable===b)return;(_isEditable=b)&&(_isSelectable=YES);!b&&objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a&&objj_msgSend(objj_msgSend(a,"window"),"makeFirstResponder:",nil)}}),new objj_method(sel_getUid("isEditable"),function(a){with(a)return _isEditable}),new objj_method(sel_getUid("setEnabled:"),function(a,
d,b){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"setEnabled:",b),!b&&objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a&&objj_msgSend(objj_msgSend(a,"window"),"makeFirstResponder:",nil)}),new objj_method(sel_getUid("setSelectable:"),function(a,d,b){with(a)_isSelectable=b}),new objj_method(sel_getUid("isSelectable"),function(a){with(a)return _isSelectable}),new objj_method(sel_getUid("setSecure:"),function(a,d,b){with(a)_isSecure=b}),new objj_method(sel_getUid("isSecure"),
function(a){with(a)return _isSecure}),new objj_method(sel_getUid("setBezeled:"),function(a,d,b){with(a)b?objj_msgSend(a,"setThemeState:",CPThemeStateBezeled):objj_msgSend(a,"unsetThemeState:",CPThemeStateBezeled)}),new objj_method(sel_getUid("isBezeled"),function(a){with(a)return objj_msgSend(a,"hasThemeState:",CPThemeStateBezeled)}),new objj_method(sel_getUid("setBezelStyle:"),function(a,d,b){with(a)b===CPTextFieldRoundedBezel?objj_msgSend(a,"setThemeState:",CPTextFieldStateRounded):objj_msgSend(a,
"unsetThemeState:",CPTextFieldStateRounded)}),new objj_method(sel_getUid("bezelStyle"),function(a){with(a){if(objj_msgSend(a,"hasThemeState:",CPTextFieldStateRounded))return CPTextFieldRoundedBezel;return CPTextFieldSquareBezel}}),new objj_method(sel_getUid("setBordered:"),function(a,d,b){with(a)b?objj_msgSend(a,"setThemeState:",CPThemeStateBordered):objj_msgSend(a,"unsetThemeState:",CPThemeStateBordered)}),new objj_method(sel_getUid("isBordered"),function(a){with(a)return objj_msgSend(a,"hasThemeState:",
CPThemeStateBordered)}),new objj_method(sel_getUid("setDrawsBackground:"),function(a,d,b){with(a){if(_drawsBackground==b)return;_drawsBackground=b;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("drawsBackground"),function(a){with(a)return _drawsBackground}),new objj_method(sel_getUid("setTextFieldBackgroundColor:"),function(a,d,b){with(a){if(_textFieldBackgroundColor==b)return;_textFieldBackgroundColor=b;objj_msgSend(a,"setNeedsLayout");objj_msgSend(a,
"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("textFieldBackgroundColor"),function(a){with(a)return _textFieldBackgroundColor}),new objj_method(sel_getUid("acceptsFirstResponder"),function(a){with(a)return objj_msgSend(a,"isEditable")&&objj_msgSend(a,"isEnabled")}),new objj_method(sel_getUid("becomeFirstResponder"),function(a){with(a){c&&objj_msgSend(c,"window")!==objj_msgSend(a,"window")&&objj_msgSend(objj_msgSend(c,"window"),"makeFirstResponder:",nil);objj_msgSend(a,"setThemeState:",CPThemeStateEditing);
objj_msgSend(a,"_updatePlaceholderState");objj_msgSend(a,"setNeedsLayout");_isEditing=NO;var d=objj_msgSend(a,"stringValue"),b=objj_msgSend(a,"_inputElement"),e=objj_msgSend(a,"currentValueForThemeAttribute:","font");objj_msgSend(e,"_getMetrics");b.value=d;b.style.color=objj_msgSend(objj_msgSend(a,"currentValueForThemeAttribute:","text-color"),"cssString");b.style.font=objj_msgSend(e,"cssString");b.style.zIndex=1E3;switch(objj_msgSend(a,"alignment")){case CPCenterTextAlignment:b.style.textAlign="center";
break;case CPRightTextAlignment:b.style.textAlign="right";break;default:b.style.textAlign="left"}d=objj_msgSend(a,"contentRectForBounds:",objj_msgSend(a,"bounds"));switch(objj_msgSend(a,"currentValueForThemeAttribute:","vertical-alignment")){case CPTopVerticalTextAlignment:var j=d.origin.y+1+"px";break;case CPCenterVerticalTextAlignment:j=d.origin.y+d.size.height/2-e._lineHeight/2+1+"px";break;case CPBottomVerticalTextAlignment:j=d.origin.y+d.size.height-e._lineHeight+"px";break;default:j=d.origin.y+
1+"px"}b.style.top=j;b.style.left=d.origin.x-1+"px";b.style.width=d.size.width+"px";b.style.height=e._lineHeight+"px";_DOMElement.appendChild(b);window.setTimeout(function(){b.focus();_willBecomeFirstResponderByClick||objj_msgSend(a,"selectText:",a);_willBecomeFirstResponderByClick=NO;objj_msgSend(a,"textDidFocus:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPTextFieldDidFocusNotification,a,nil));c=a},0);b.value=objj_msgSend(a,"stringValue");objj_msgSend(objj_msgSend(objj_msgSend(a,
"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);i=YES;if(document.attachEvent)o=objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart,n=objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.ondrag,objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.ondrag=function(){},objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart=function(){};return YES}}),new objj_method(sel_getUid("resignFirstResponder"),
function(b){with(b){objj_msgSend(b,"unsetThemeState:",CPThemeStateEditing);objj_msgSend(b,"_updatePlaceholderState");objj_msgSend(b,"setNeedsLayout");var c=objj_msgSend(b,"_inputElement");objj_msgSend(b,"stringValue")!==c.value&&objj_msgSend(b,"_setStringValue:",c.value);a=YES;i&&c.blur();d||j();a=d=NO;c.parentNode==_DOMElement&&c.parentNode.removeChild(c);i=NO;if(document.attachEvent)objj_msgSend(objj_msgSend(b,"window"),"platformWindow")._DOMBodyElement.ondrag=n,objj_msgSend(objj_msgSend(b,"window"),
"platformWindow")._DOMBodyElement.onselectstart=o,n=o=nil;_isEditing&&(_isEditing=NO,objj_msgSend(b,"textDidEndEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidEndEditingNotification,b,nil)),objj_msgSend(b,"sendsActionOnEndEditing")&&objj_msgSend(b,"sendAction:to:",objj_msgSend(b,"action"),objj_msgSend(b,"target")));objj_msgSend(b,"textDidBlur:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPTextFieldDidBlurNotification,b,nil));return YES}}),
new objj_method(sel_getUid("needsPanelToBecomeKey"),function(a){with(a)return YES}),new objj_method(sel_getUid("mouseDown:"),function(a,d,b){with(a)if(objj_msgSend(a,"isEditable")&&objj_msgSend(a,"isEnabled"))_willBecomeFirstResponderByClick=YES,objj_msgSend(objj_msgSend(a,"window"),"makeFirstResponder:",a);else if(objj_msgSend(a,"isSelectable")){if(document.attachEvent)o=objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart,n=objj_msgSend(objj_msgSend(a,"window"),
"platformWindow")._DOMBodyElement.ondrag,objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.ondrag=function(){},objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart=function(){};return objj_msgSend(objj_msgSend(objj_msgSend(b,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES)}else return objj_msgSend(objj_msgSend(a,"nextResponder"),"mouseDown:",b)}),new objj_method(sel_getUid("mouseUp:"),function(a,d,b){with(a)if(!objj_msgSend(a,"isSelectable")&&
(!objj_msgSend(a,"isEditable")||!objj_msgSend(a,"isEnabled")))objj_msgSend(objj_msgSend(a,"nextResponder"),"mouseUp:",b);else if(objj_msgSend(a,"isSelectable")){if(document.attachEvent)objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.ondrag=n,objj_msgSend(objj_msgSend(a,"window"),"platformWindow")._DOMBodyElement.onselectstart=o,n=o=nil;return objj_msgSend(objj_msgSend(objj_msgSend(b,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES)}}),new objj_method(sel_getUid("mouseDragged:"),
function(a,d,b){with(a)if(!objj_msgSend(a,"isSelectable")&&(!objj_msgSend(a,"isEditable")||!objj_msgSend(a,"isEnabled")))objj_msgSend(objj_msgSend(a,"nextResponder"),"mouseDragged:",b);else if(objj_msgSend(a,"isSelectable"))return objj_msgSend(objj_msgSend(objj_msgSend(b,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES)}),new objj_method(sel_getUid("keyUp:"),function(a){with(a){var d=objj_msgSend(a,"stringValue");objj_msgSend(a,"_setStringValue:",objj_msgSend(a,"_inputElement").value);
d!==objj_msgSend(a,"stringValue")&&(_isEditing||(_isEditing=YES,objj_msgSend(a,"textDidBeginEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidBeginEditingNotification,a,nil))),objj_msgSend(a,"textDidChange:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidChangeNotification,a,nil)));objj_msgSend(objj_msgSend(objj_msgSend(a,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES)}}),new objj_method(sel_getUid("keyDown:"),
function(a,d,b){with(a){if(objj_msgSend(b,"_couldBeKeyEquivalent")&&objj_msgSend(a,"performKeyEquivalent:",b))return;objj_msgSend(objj_msgSend(objj_msgSend(a,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);objj_msgSend(a,"interpretKeyEvents:",[b]);objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode)}}),new objj_method(sel_getUid("doCommandBySelector:"),function(a,d,b){with(a)objj_msgSend(a,"respondsToSelector:",b)&&objj_msgSend(a,"performSelector:",
b)}),new objj_method(sel_getUid("insertNewline:"),function(a){with(a)_isEditing&&(_isEditing=NO,objj_msgSend(a,"textDidEndEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidEndEditingNotification,a,nil))),objj_msgSend(a,"sendAction:to:",objj_msgSend(a,"action"),objj_msgSend(a,"target")),objj_msgSend(a,"selectText:",nil),objj_msgSend(objj_msgSend(objj_msgSend(a,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",NO)}),new objj_method(sel_getUid("insertNewlineIgnoringFieldEditor:"),
function(a){with(a){var d=objj_msgSend(a,"stringValue");objj_msgSend(a,"_inputElement").value+=CPNewlineCharacter;objj_msgSend(a,"_setStringValue:",objj_msgSend(a,"_inputElement").value);d!==objj_msgSend(a,"stringValue")&&(_isEditing||(_isEditing=YES,objj_msgSend(a,"textDidBeginEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidBeginEditingNotification,a,nil))),objj_msgSend(a,"textDidChange:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",
CPControlTextDidChangeNotification,a,nil)))}}),new objj_method(sel_getUid("insertTabIgnoringFieldEditor:"),function(a){with(a){var d=objj_msgSend(a,"stringValue");objj_msgSend(a,"_inputElement").value+=CPTabCharacter;objj_msgSend(a,"_setStringValue:",objj_msgSend(a,"_inputElement").value);d!==objj_msgSend(a,"stringValue")&&(_isEditing||(_isEditing=YES,objj_msgSend(a,"textDidBeginEditing:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidBeginEditingNotification,
a,nil))),objj_msgSend(a,"textDidChange:",objj_msgSend(CPNotification,"notificationWithName:object:userInfo:",CPControlTextDidChangeNotification,a,nil)))}}),new objj_method(sel_getUid("textDidBlur:"),function(a,d,b){with(a){if(objj_msgSend(b,"object")!=a)return;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotification:",b)}}),new objj_method(sel_getUid("textDidFocus:"),function(a,d,b){with(a){if(objj_msgSend(b,"object")!=a)return;objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotification:",b)}}),new objj_method(sel_getUid("sendAction:to:"),function(a,d,b,c){with(a)objj_msgSend(a,"_reverseSetBinding"),objj_msgSend(CPApp,"sendAction:to:from:",b,c,a)}),new objj_method(sel_getUid("objectValue"),function(a){with(a)return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"objectValue")}),new objj_method(sel_getUid("_setStringValue:"),function(a,d,b){with(a)objj_msgSend(a,"willChangeValueForKey:","objectValue"),objj_msgSendSuper({receiver:a,
super_class:objj_getClass("CPTextField").super_class},"setObjectValue:",String(b)),objj_msgSend(a,"_updatePlaceholderState"),objj_msgSend(a,"didChangeValueForKey:","objectValue")}),new objj_method(sel_getUid("setObjectValue:"),function(a,d,b){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"setObjectValue:",b);if(c===a||objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a)objj_msgSend(a,"_inputElement").value=b;objj_msgSend(a,"_updatePlaceholderState")}}),
new objj_method(sel_getUid("_updatePlaceholderState"),function(a){with(a){var d=objj_msgSend(a,"stringValue");(!d||d.length===0)&&!objj_msgSend(a,"hasThemeState:",CPThemeStateEditing)?objj_msgSend(a,"setThemeState:",CPTextFieldStatePlaceholder):objj_msgSend(a,"unsetThemeState:",CPTextFieldStatePlaceholder)}}),new objj_method(sel_getUid("setPlaceholderString:"),function(a,d,b){with(a){if(_placeholderString===b)return;_placeholderString=b;objj_msgSend(a,"hasThemeState:",CPTextFieldStatePlaceholder)&&
(objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,"setNeedsDisplay:",YES))}}),new objj_method(sel_getUid("placeholderString"),function(a){with(a)return _placeholderString}),new objj_method(sel_getUid("sizeToFit"),function(a){with(a)objj_msgSend(a,"setFrameSize:",objj_msgSend(a,"_minimumFrameSize"))}),new objj_method(sel_getUid("_minimumFrameSize"),function(a){with(a){var d=objj_msgSend(a,"frameSize"),b=objj_msgSend(a,"currentValueForThemeAttribute:","content-inset"),c=objj_msgSend(a,"currentValueForThemeAttribute:",
"min-size"),e=objj_msgSend(a,"currentValueForThemeAttribute:","max-size"),i=objj_msgSend(a,"lineBreakMode"),n=objj_msgSend(a,"stringValue")||" ",j={width:d.width,height:d.height},o=objj_msgSend(a,"currentValueForThemeAttribute:","font");j.width-=b.left+b.right;j.height-=b.top+b.bottom;j=d.width!==0&&!objj_msgSend(a,"isBezeled")&&(i===CPLineBreakByWordWrapping||i===CPLineBreakByCharWrapping)?objj_msgSend(n,"sizeWithFont:inWidth:",o,j.width):objj_msgSend(n,"sizeWithFont:",o);d.height=j.height+b.top+
b.bottom;if(objj_msgSend(a,"isBezeled")){d.height=MAX(d.height,c.height);if(e.width>0)d.width=MIN(d.width,e.width);if(e.height>0)d.height=MIN(d.height,e.height)}else d.width=j.width+b.left+b.right;d.width=MAX(d.width,c.width);return d}}),new objj_method(sel_getUid("selectText:"),function(a,d,b){with(a)if(objj_msgSend(a,"isEditable")||objj_msgSend(a,"isSelectable")){var c=objj_msgSend(a,"_inputElement");objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a?window.setTimeout(function(){c.select()},
0):objj_msgSend(a,"window")!==nil&&objj_msgSend(objj_msgSend(a,"window"),"makeFirstResponder:",a)&&window.setTimeout(function(){objj_msgSend(a,"selectText:",b)},0)}}),new objj_method(sel_getUid("copy:"),function(a){with(a)if(!objj_msgSend(CPPlatform,"isBrowser")){var d=objj_msgSend(a,"selectedRange");if(d.length<1)return;var b=objj_msgSend(CPPasteboard,"generalPasteboard");a=objj_msgSend(a,"stringValue");d=objj_msgSend(a,"substringWithRange:",d);objj_msgSend(b,"declareTypes:owner:",[CPStringPboardType],
nil);objj_msgSend(b,"setString:forType:",d,CPStringPboardType)}}),new objj_method(sel_getUid("cut:"),function(a,d,b){with(a)objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",0,a,sel_getUid("keyUp:"),nil,NO):(objj_msgSend(a,"copy:",b),objj_msgSend(a,"deleteBackward:",b))}),new objj_method(sel_getUid("paste:"),function(a,d,b){with(a)if(objj_msgSend(CPPlatform,"isBrowser"))objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",
0,a,sel_getUid("keyUp:"),nil,NO);else{d=objj_msgSend(CPPasteboard,"generalPasteboard");if(!objj_msgSend(objj_msgSend(d,"types"),"containsObject:",CPStringPboardType))return;objj_msgSend(a,"deleteBackward:",b);b=objj_msgSend(a,"selectedRange");var c=objj_msgSend(a,"stringValue");d=objj_msgSend(d,"stringForType:",CPStringPboardType);c=objj_msgSend(c,"stringByReplacingCharactersInRange:withString:",b,d);objj_msgSend(a,"setStringValue:",c);objj_msgSend(a,"setSelectedRange:",CPMakeRange(b.location+d.length,
0))}}),new objj_method(sel_getUid("selectedRange"),function(a){with(a){if(objj_msgSend(objj_msgSend(a,"window"),"firstResponder")!==a)return CPMakeRange(0,0);try{var d=objj_msgSend(a,"_inputElement"),b=d.selectionStart,c=d.selectionEnd;if(objj_msgSend(b,"isKindOfClass:",CPNumber))return CPMakeRange(b,c-b);var e=(d.ownerDocument||d.document).selection.createRange(),i=d.createTextRange();if(i.inRange(e))return i.setEndPoint("EndToStart",e),CPMakeRange(i.text.length,e.text.length)}catch(n){}return CPMakeRange(0,
0)}}),new objj_method(sel_getUid("setSelectedRange:"),function(a,d,b){with(a){if(!objj_msgSend(objj_msgSend(a,"window"),"firstResponder")===a)return;a=objj_msgSend(a,"_inputElement");try{if(objj_msgSend(a.selectionStart,"isKindOfClass:",CPNumber))a.selectionStart=b.location,a.selectionEnd=CPMaxRange(b);else{var c=(a.ownerDocument||a.document).selection.createRange(),e=a.createTextRange();e.inRange(c)&&(e.collapse(!0),e.move("character",b.location),e.moveEnd("character",b.length),e.select())}}catch(i){}}}),
new objj_method(sel_getUid("selectAll:"),function(a,d,b){with(a)objj_msgSend(a,"selectText:",b)}),new objj_method(sel_getUid("deleteBackward:"),function(a){with(a){var d=objj_msgSend(a,"selectedRange");if(d.length<2)return;d.location+=1;d.length-=1;var b=objj_msgSend(a,"stringValue");b=objj_msgSend(b,"stringByReplacingCharactersInRange:withString:",d,"");objj_msgSend(a,"setStringValue:",b);objj_msgSend(a,"setSelectedRange:",CPMakeRange(d.location,0))}}),new objj_method(sel_getUid("setDelegate:"),
function(a,d,b){with(a)d=objj_msgSend(CPNotificationCenter,"defaultCenter"),_delegate&&(objj_msgSend(d,"removeObserver:name:object:",_delegate,CPControlTextDidBeginEditingNotification,a),objj_msgSend(d,"removeObserver:name:object:",_delegate,CPControlTextDidChangeNotification,a),objj_msgSend(d,"removeObserver:name:object:",_delegate,CPControlTextDidEndEditingNotification,a),objj_msgSend(d,"removeObserver:name:object:",_delegate,CPTextFieldDidFocusNotification,a),objj_msgSend(d,"removeObserver:name:object:",
_delegate,CPTextFieldDidBlurNotification,a)),_delegate=b,objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidBeginEditing:"))&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidBeginEditing:"),CPControlTextDidBeginEditingNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidChange:"))&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidChange:"),CPControlTextDidChangeNotification,
a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidEndEditing:"))&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidEndEditing:"),CPControlTextDidEndEditingNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidFocus:"))&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidFocus:"),CPTextFieldDidFocusNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("controlTextDidBlur:"))&&
objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("controlTextDidBlur:"),CPTextFieldDidBlurNotification,a)}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("contentRectForBounds:"),function(a,d,b){with(a){a=objj_msgSend(a,"currentValueForThemeAttribute:","content-inset");if(!a)return b;b.origin.x+=a.left;b.origin.y+=a.top;b.size.width-=a.left+a.right;b.size.height-=a.top+a.bottom;return b}}),new objj_method(sel_getUid("bezelRectForBounds:"),
function(a,d,b){with(a){a=objj_msgSend(a,"currentValueForThemeAttribute:","bezel-inset");if(a.top===0&&a.right===0&&a.bottom===0&&a.left===0)return b;b.origin.x+=a.left;b.origin.y+=a.top;b.size.width-=a.left+a.right;b.size.height-=a.top+a.bottom;return b}}),new objj_method(sel_getUid("rectForEphemeralSubviewNamed:"),function(a,d,b){with(a){if(b==="bezel-view")return objj_msgSend(a,"bezelRectForBounds:",objj_msgSend(a,"bounds"));else if(b==="content-view")return objj_msgSend(a,"contentRectForBounds:",
objj_msgSend(a,"bounds"));return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"rectForEphemeralSubviewNamed:",b)}}),new objj_method(sel_getUid("createEphemeralSubviewNamed:"),function(a,d,b){with(a)return a=b==="bezel-view"?objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}}):objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:0,height:0}}),objj_msgSend(a,"setHitTests:",
NO),a}),new objj_method(sel_getUid("layoutSubviews"),function(a){with(a){var d=objj_msgSend(a,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","bezel-view",CPWindowBelow,"content-view");d&&objj_msgSend(d,"setBackgroundColor:",objj_msgSend(a,"currentValueForThemeAttribute:","bezel-color"));if(d=objj_msgSend(a,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","content-view",CPWindowAbove,"bezel-view")){objj_msgSend(d,"setHidden:",objj_msgSend(a,"hasThemeState:",
CPThemeStateEditing));var b="";objj_msgSend(a,"hasThemeState:",CPTextFieldStatePlaceholder)?b=objj_msgSend(a,"placeholderString"):(b=objj_msgSend(a,"stringValue"),objj_msgSend(a,"isSecure")&&(b=b?Array(b.length+1).join(""):""));objj_msgSend(d,"setText:",b);objj_msgSend(d,"setTextColor:",objj_msgSend(a,"currentValueForThemeAttribute:","text-color"));objj_msgSend(d,"setFont:",objj_msgSend(a,"currentValueForThemeAttribute:","font"));objj_msgSend(d,"setAlignment:",objj_msgSend(a,"currentValueForThemeAttribute:",
"alignment"));objj_msgSend(d,"setVerticalAlignment:",objj_msgSend(a,"currentValueForThemeAttribute:","vertical-alignment"));objj_msgSend(d,"setLineBreakMode:",objj_msgSend(a,"currentValueForThemeAttribute:","line-break-mode"));objj_msgSend(d,"setTextShadowColor:",objj_msgSend(a,"currentValueForThemeAttribute:","text-shadow-color"));objj_msgSend(d,"setTextShadowOffset:",objj_msgSend(a,"currentValueForThemeAttribute:","text-shadow-offset"))}}}),new objj_method(sel_getUid("takeValueFromKeyPath:ofObjects:"),
function(a,d,b,c){with(a){d=c.length;var e=objj_msgSend(c[0],"valueForKeyPath:",b);objj_msgSend(a,"setStringValue:",e);for(objj_msgSend(a,"setPlaceholderString:","");d-- >1;)e!==objj_msgSend(c[d],"valueForKeyPath:",b)&&(objj_msgSend(a,"setPlaceholderString:","Multiple Values"),objj_msgSend(a,"setStringValue:",""))}})]);class_addMethods(t,[new objj_method(sel_getUid("textFieldWithStringValue:placeholder:width:"),function(a,d,b,c,e){with(a)return objj_msgSend(a,"textFieldWithStringValue:placeholder:width:theme:",
b,c,e,objj_msgSend(CPTheme,"defaultTheme"))}),new objj_method(sel_getUid("textFieldWithStringValue:placeholder:width:theme:"),function(a,d,b,c,e,i){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"initWithFrame:",CGRectMake(0,0,e,29)),objj_msgSend(a,"setTheme:",i),objj_msgSend(a,"setStringValue:",b),objj_msgSend(a,"setPlaceholderString:",c),objj_msgSend(a,"setBordered:",YES),objj_msgSend(a,"setBezeled:",YES),objj_msgSend(a,"setEditable:",YES),objj_msgSend(a,"sizeToFit"),a}),new objj_method(sel_getUid("roundedTextFieldWithStringValue:placeholder:width:"),
function(a,d,b,c,e){with(a)return objj_msgSend(a,"roundedTextFieldWithStringValue:placeholder:width:theme:",b,c,e,objj_msgSend(CPTheme,"defaultTheme"))}),new objj_method(sel_getUid("roundedTextFieldWithStringValue:placeholder:width:theme:"),function(a,d,b,c,e,i){with(a)return a=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMake(0,0,e,29)),objj_msgSend(a,"setTheme:",i),objj_msgSend(a,"setStringValue:",b),objj_msgSend(a,"setPlaceholderString:",c),objj_msgSend(a,"setBezelStyle:",
CPTextFieldRoundedBezel),objj_msgSend(a,"setBordered:",YES),objj_msgSend(a,"setBezeled:",YES),objj_msgSend(a,"setEditable:",YES),objj_msgSend(a,"sizeToFit"),a}),new objj_method(sel_getUid("labelWithTitle:"),function(a,d,b){with(a)return objj_msgSend(a,"labelWithTitle:theme:",b,objj_msgSend(CPTheme,"defaultTheme"))}),new objj_method(sel_getUid("labelWithTitle:theme:"),function(a,d,b){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"init"),objj_msgSend(a,"setStringValue:",b),objj_msgSend(a,"sizeToFit"),
a}),new objj_method(sel_getUid("defaultThemeClass"),function(a){with(a)return"textfield"}),new objj_method(sel_getUid("_binderClassForBinding:"),function(a,d,b){with(a){if(b===CPValueBinding)return objj_msgSend(_CPTextFieldValueBinder,"class");return objj_msgSendSuper({receiver:a,super_class:objj_getMetaClass("CPTextField").super_class},"_binderClassForBinding:",b)}}),new objj_method(sel_getUid("themeAttributes"),function(a){with(a)return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",
[{top:0,right:0,bottom:0,left:0},{top:2,right:2,bottom:2,left:2},objj_msgSend(CPNull,"null")],["bezel-inset","content-inset","bezel-color"])})]);k=objj_getClass("CPTextField");if(!k)throw new SyntaxError('*** Could not find definition for class "CPTextField"');t=k.isa;class_addMethods(k,[new objj_method(sel_getUid("initWithCoder:"),function(a,d,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"initWithCoder:",b))objj_msgSend(a,"setEditable:",objj_msgSend(b,
"decodeBoolForKey:","CPTextFieldIsEditableKey")),objj_msgSend(a,"setSelectable:",objj_msgSend(b,"decodeBoolForKey:","CPTextFieldIsSelectableKey")),objj_msgSend(a,"setDrawsBackground:",objj_msgSend(b,"decodeBoolForKey:","CPTextFieldDrawsBackgroundKey")),objj_msgSend(a,"setTextFieldBackgroundColor:",objj_msgSend(b,"decodeObjectForKey:","CPTextFieldBackgroundColorKey")),objj_msgSend(a,"setLineBreakMode:",objj_msgSend(b,"decodeIntForKey:","CPTextFieldLineBreakModeKey")),objj_msgSend(a,"setAlignment:",
objj_msgSend(b,"decodeIntForKey:","CPTextFieldAlignmentKey")),objj_msgSend(a,"setPlaceholderString:",objj_msgSend(b,"decodeObjectForKey:","CPTextFieldPlaceholderStringKey"));return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,d,b){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTextField").super_class},"encodeWithCoder:",b),objj_msgSend(b,"encodeBool:forKey:",_isEditable,"CPTextFieldIsEditableKey"),objj_msgSend(b,"encodeBool:forKey:",_isSelectable,"CPTextFieldIsSelectableKey"),
objj_msgSend(b,"encodeBool:forKey:",_drawsBackground,"CPTextFieldDrawsBackgroundKey"),objj_msgSend(b,"encodeObject:forKey:",_textFieldBackgroundColor,"CPTextFieldBackgroundColorKey"),objj_msgSend(b,"encodeInt:forKey:",objj_msgSend(a,"lineBreakMode"),"CPTextFieldLineBreakModeKey"),objj_msgSend(b,"encodeInt:forKey:",objj_msgSend(a,"alignment"),"CPTextFieldAlignmentKey"),objj_msgSend(b,"encodeObject:forKey:",_placeholderString,"CPTextFieldPlaceholderStringKey")})]);k=objj_allocateClassPair(CPBinder,
"_CPTextFieldValueBinder");t=k.isa;objj_registerClassPair(k);class_addMethods(k,[new objj_method(sel_getUid("setValueFor:"),function(a){with(a){var d=objj_msgSend(_info,"objectForKey:",CPObservedObjectKey),b=objj_msgSend(_info,"objectForKey:",CPObservedKeyPathKey),c=objj_msgSend(_info,"objectForKey:",CPOptionsKey);d=objj_msgSend(d,"valueForKeyPath:",b);if(CPIsControllerMarker(d)){switch(d){case CPMultipleValuesMarker:d=objj_msgSend(c,"objectForKey:",CPMultipleValuesPlaceholderBindingOption)||"Multiple Values";
break;case CPNoSelectionMarker:d=objj_msgSend(c,"objectForKey:",CPNoSelectionPlaceholderBindingOption)||"No Selection";break;case CPNotApplicableMarker:objj_msgSend(c,"objectForKey:",CPRaisesForNotApplicableKeysBindingOption)&&objj_msgSend(CPException,"raise:reason:",CPGenericException,"can't transform non applicable key on: "+_source+" value: "+d),d=objj_msgSend(c,"objectForKey:",CPNotApplicablePlaceholderBindingOption)||"Not Applicable"}objj_msgSend(_source,"setPlaceholderString:",d);objj_msgSend(_source,
"setObjectValue:",nil)}else d=objj_msgSend(a,"transformValue:withOptions:",d,c),objj_msgSend(_source,"setObjectValue:",d)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGContext.j",baseURL),function(h,g){g("CGAffineTransform.j",YES);g("CPCompatibility.j",YES);g("CGGeometry.j",YES);g("CGPath.j",YES);kCGLineCapButt=0;kCGLineCapRound=1;kCGLineCapSquare=2;kCGLineJoinMiter=0;kCGLineJoinRound=1;kCGLineJoinBevel=2;kCGPathFill=0;kCGPathEOFill=1;kCGPathStroke=2;kCGPathFillStroke=3;kCGPathEOFillStroke=4;kCGBlendModeNormal=0;kCGBlendModeMultiply=1;kCGBlendModeScreen=2;kCGBlendModeOverlay=3;kCGBlendModeDarken=
4;kCGBlendModeLighten=5;kCGBlendModeColorDodge=6;kCGBlendModeColorBurn=7;kCGBlendModeSoftLight=8;kCGBlendModeHardLight=9;kCGBlendModeDifference=10;kCGBlendModeExclusion=11;kCGBlendModeHue=12;kCGBlendModeSaturation=13;kCGBlendModeColor=14;kCGBlendModeLuminosity=15;kCGBlendModeClear=16;kCGBlendModeCopy=17;kCGBlendModeSourceIn=18;kCGBlendModeSourceOut=19;kCGBlendModeSourceAtop=20;kCGBlendModeDestinationOver=21;kCGBlendModeDestinationIn=22;kCGBlendModeDestinationOut=23;kCGBlendModeDestinationAtop=24;
kCGBlendModeXOR=25;kCGBlendModePlusDarker=26;kCGBlendModePlusLighter=27;CGContextRelease=function(){};CGContextRetain=function(a){return a};CPFeatureIsCompatible(CPHTMLCanvasFeature)||(CGGStateCreate=function(){return{alpha:1,strokeStyle:"#000",fillStyle:"#ccc",lineWidth:1,lineJoin:kCGLineJoinMiter,lineCap:kCGLineCapButt,miterLimit:10,globalAlpha:1,blendMode:kCGBlendModeNormal,shadowOffset:{width:0,height:0},shadowBlur:0,shadowColor:NULL,CTM:{a:1,b:0,c:0,d:1,tx:0,ty:0}}},CGGStateCreateCopy=function(a){return{alpha:a.alpha,
strokeStyle:a.strokeStyle,fillStyle:a.fillStyle,lineWidth:a.lineWidth,lineJoin:a.lineJoin,lineCap:a.lineCap,miterLimit:a.miterLimit,globalAlpha:a.globalAlpha,blendMode:a.blendMode,shadowOffset:a.shadowOffset,shadowBlur:a.shadowBlur,shadowColor:a.shadowColor,CTM:{a:a.CTM.a,b:a.CTM.b,c:a.CTM.c,d:a.CTM.d,tx:a.CTM.tx,ty:a.CTM.ty}}},CGBitmapGraphicsContextCreate=function(){return{DOMElement:document.createElement("div"),path:NULL,gState:CGGStateCreate(),gStateStack:[]}},CGContextSaveGState=function(a){a.gStateStack.push(CGGStateCreateCopy(a.gState))},
CGContextRestoreGState=function(a){a.gState=a.gStateStack.pop()},CGContextSetLineCap=function(a,d){a.gState.lineCap=d},CGContextSetLineJoin=function(a,d){a.gState.lineJoin=d},CGContextSetLineWidth=function(a,d){a.gState.lineWidth=d},CGContextSetMiterLimit=function(a,d){a.gState.miterLimit=d},CGContextSetBlendMode=function(a,d){a.gState.blendMode=d},CGContextAddArc=function(a,d,b,c,e,i,o){CGPathAddArc(a.path,a.gState.CTM,d,b,c,e,i,o)},CGContextAddArcToPoint=function(a,d,b,c,e,i){CGPathAddArcToPoint(a.path,
a.gState.CTM,d,b,c,e,i)},CGContextAddCurveToPoint=function(a,d,b,c,e,i,o){CGPathAddCurveToPoint(a.path,a.gState.CTM,d,b,c,e,i,o)},CGContextAddLines=function(a,d,b){CGPathAddLines(a.path,a.gState.CTM,d,b)},CGContextAddLineToPoint=function(a,d,b){CGPathAddLineToPoint(a.path,a.gState.CTM,d,b)},CGContextAddPath=function(a,d){if(a&&!CGPathIsEmpty(d)){if(!a.path)a.path=CGPathCreateMutable();CGPathAddPath(a.path,a.gState.CTM,d)}},CGContextAddQuadCurveToPoint=function(a,d,b,c,e){CGPathAddQuadCurveToPoint(a.path,
a.gState.CTM,d,b,c,e)},CGContextAddRect=function(a,d){CGPathAddRect(a.path,a.gState.CTM,d)},CGContextAddRects=function(a,d,b){CGPathAddRects(a.path,a.gState.CTM,d,b)},CGContextBeginPath=function(a){a.path=CGPathCreateMutable()},CGContextClosePath=function(a){CGPathCloseSubpath(a.path)},CGContextMoveToPoint=function(a,d,b){if(!a.path)a.path=CGPathCreateMutable();CGPathMoveToPoint(a.path,a.gState.CTM,d,b)},CGContextFillRect=function(a,d){CGContextFillRects(a,[d],1)},CGContextFillRects=function(a,d,
b){if(b===void 0)b=d.length;CGContextBeginPath(a);CGContextAddRects(a,d,b);CGContextClosePath(a);CGContextDrawPath(a,kCGPathFill)},CGContextStrokeRect=function(a,d){CGContextBeginPath(a);CGContextAddRect(a,d);CGContextClosePath(a);CGContextDrawPath(a,kCGPathStroke)},CGContextStrokeRectWithWidth=function(a,d,b){CGContextSaveGState(a);CGContextSetLineWidth(a,b);CGContextStrokeRect(a,d);CGContextRestoreGState(a)},CGContextConcatCTM=function(a,d){var b=a.gState.CTM,c=b.tx*d.a+b.ty*d.c+d.tx;b.ty=b.tx*
d.b+b.ty*d.d+d.ty;b.tx=c;c=b.a*d.a+b.b*d.c;var e=b.a*d.b+b.b*d.d,i=b.c*d.a+b.d*d.c;b.d=b.c*d.b+b.d*d.d;b.a=c;b.b=e;b.c=i},CGContextGetCTM=function(a){return a.gState.CTM},CGContextRotateCTM=function(a,d){var b=a.gState;b.CTM=CGAffineTransformRotate(b.CTM,d)},CGContextScaleCTM=function(a,d,b){a=a.gState;a.CTM={a:a.CTM.a*d,b:a.CTM.b*d,c:a.CTM.c*b,d:a.CTM.d*b,tx:a.CTM.tx,ty:a.CTM.ty}},CGContextTranslateCTM=function(a,d,b){a=a.gState;a.CTM={a:a.CTM.a,b:a.CTM.b,c:a.CTM.c,d:a.CTM.d,tx:a.CTM.tx+a.CTM.a*
d+a.CTM.c*b,ty:a.CTM.ty+a.CTM.b*d+a.CTM.d*b}},CGContextSetShadow=function(a,d,b){a=a.gState;a.shadowOffset={width:d.width,height:d.height};a.shadowBlur=b;a.shadowColor=objj_msgSend(CPColor,"shadowColor")},CGContextSetShadowWithColor=function(a,d,b,c){a=a.gState;a.shadowOffset={width:d.width,height:d.height};a.shadowBlur=b;a.shadowColor=c},CGContextSetAlpha=function(a,d){a.gState.alpha=MAX(MIN(d,1),0)});CGContextEOFillPath=function(a){CGContextDrawPath(a,kCGPathEOFill)};CGContextFillPath=function(a){CGContextDrawPath(a,
kCGPathFill);CGContextClosePath(a)};CGContextAddEllipseInRect=function(a,d){CGContextBeginPath(a);CGContextAddPath(a,CGPathWithEllipseInRect(d));CGContextClosePath(a)};CGContextFillEllipseInRect=function(a,d){CGContextBeginPath(a);CGContextAddEllipseInRect(a,d);CGContextClosePath(a);CGContextFillPath(a)};CGContextStrokeEllipseInRect=function(a,d){CGContextBeginPath(a);CGContextAddEllipseInRect(a,d);CGContextClosePath(a);CGContextStrokePath(a)};CGContextStrokePath=function(a){CGContextDrawPath(a,kCGPathStroke);
CGContextClosePath(a)};CGContextStrokeLineSegments=function(a,d,b){var c=0;if(arguments.count==NULL)b=d.length;for(CGContextBeginPath(a);c<b;c+=2)CGContextMoveToPoint(a,d[c].x,d[c].y),CGContextAddLineToPoint(a,d[c+1].x,d[c+1].y);CGContextStrokePath(a)};CGContextSetFillColor=function(a,d){if(d)a.gState.fillStyle=objj_msgSend(d,"cssString")};CGContextSetStrokeColor=function(a,d){if(d)a.gState.strokeStyle=objj_msgSend(d,"cssString")};CGContextFillRoundedRectangleInRect=function(a,d,b,c,e,i,o){CGContextBeginPath(a);
CGContextAddPath(a,CGPathWithRoundedRectangleInRect(d,b,b,c,e,i,o));CGContextClosePath(a);CGContextFillPath(a)};CGContextStrokeRoundedRectangleInRect=function(a,d,b,c,e,i,o){CGContextBeginPath(a);CGContextAddPath(a,CGPathWithRoundedRectangleInRect(d,b,b,c,e,i,o));CGContextClosePath(a);CGContextStrokePath(a)};if(CPFeatureIsCompatible(CPHTMLCanvasFeature)){var f=["butt","round","square"],e=["miter","round","bevel"],b=["source-over","source-over","source-over","source-over","darker","lighter","source-over",
"source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","source-over","copy","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","xor","source-over","source-over"];CGContextSaveGState=function(a){a.save()};CGContextRestoreGState=function(a){a.restore()};CGContextSetLineCap=function(a,d){a.lineCap=f[d]};CGContextSetLineJoin=function(a,d){a.lineJoin=e[d]};CGContextSetLineWidth=
function(a,d){a.lineWidth=d};CGContextSetMiterLimit=function(a,d){a.miterLimit=d};CGContextSetBlendMode=function(a,d){a.globalCompositeOperation=b[d]};CGContextAddArc=function(a,d,b,c,e,i,o){a.arc(d,b,c,e,i,!o)};CGContextAddArcToPoint=function(a,d,b,c,e,i){a.arcTo(d,b,c,e,i)};CGContextAddCurveToPoint=function(a,d,b,c,e,i,o){a.bezierCurveTo(d,b,c,e,i,o)};CGContextAddLineToPoint=function(a,d,b){a.lineTo(d,b)};CGContextAddPath=function(a,d){if(a&&!CGPathIsEmpty(d))for(var b=d.elements,c=0,e=d.count;c<
e;++c){var i=b[c];switch(i.type){case kCGPathElementMoveToPoint:a.moveTo(i.x,i.y);break;case kCGPathElementAddLineToPoint:a.lineTo(i.x,i.y);break;case kCGPathElementAddQuadCurveToPoint:a.quadraticCurveTo(i.cpx,i.cpy,i.x,i.y);break;case kCGPathElementAddCurveToPoint:a.bezierCurveTo(i.cp1x,i.cp1y,i.cp2x,i.cp2y,i.x,i.y);break;case kCGPathElementCloseSubpath:a.closePath();break;case kCGPathElementAddArc:a.arc(i.x,i.y,i.radius,i.startAngle,i.endAngle,i.clockwise)}}};CGContextAddRect=function(a,d){a.rect(d.origin.x,
d.origin.y,d.size.width,d.size.height)};CGContextAddRects=function(a,d,b){var c=0;if(arguments.count==NULL)b=d.length;for(;c<b;++c){var e=d[c];a.rect(e.origin.x,e.origin.y,e.size.width,e.size.height)}};CGContextBeginPath=function(a){a.beginPath()};CGContextClosePath=function(a){a.closePath()};CGContextMoveToPoint=function(a,d,b){a.moveTo(d,b)};CGContextClearRect=function(a,d){a.clearRect(d.origin.x,d.origin.y,d.size.width,d.size.height)};CGContextDrawPath=function(a,d){d==kCGPathFill||d==kCGPathFillStroke?
a.fill():(d==kCGPathEOFill||d==kCGPathEOFillStroke)&&alert("not implemented!!!");(d==kCGPathStroke||d==kCGPathFillStroke||d==kCGPathEOFillStroke)&&a.stroke()};CGContextFillRect=function(a,d){a.fillRect(d.origin.x,d.origin.y,d.size.width,d.size.height)};CGContextFillRects=function(a,d,b){var c=0;if(arguments.count==NULL)b=d.length;for(;c<b;++c){var e=d[c];a.fillRect(e.origin.x,e.origin.y,e.size.width,e.size.height)}};CGContextStrokeRect=function(a,d){a.strokeRect(d.origin.x,d.origin.y,d.size.width,
d.size.height)};CGContextClip=function(a){a.clip()};CGContextClipToRect=function(a,d){a.beginPath();a.rect(d.origin.x,d.origin.y,d.size.width,d.size.height);a.closePath();a.clip()};CGContextClipToRects=function(a,d,b){if(arguments.count==NULL)b=d.length;a.beginPath();CGContextAddRects(a,d,b);a.clip()};CGContextSetAlpha=function(a,d){a.globalAlpha=d};CGContextSetFillColor=function(a,d){if(objj_msgSend(d,"patternImage")){var b=objj_msgSend(d,"patternImage"),c=objj_msgSend(b,"size");c=c?new Image(c.width,
c.height):new Image;c.src=objj_msgSend(b,"filename");b=a.createPattern(c,"repeat");a.fillStyle=b}else a.fillStyle=objj_msgSend(d,"cssString")};CGContextSetStrokeColor=function(a,d){a.strokeStyle=objj_msgSend(d,"cssString")};CGContextSetShadow=function(a,d,b){a.shadowOffsetX=d.width;a.shadowOffsetY=d.height;a.shadowBlur=b};CGContextSetShadowWithColor=function(a,d,b,c){a.shadowOffsetX=d.width;a.shadowOffsetY=d.height;a.shadowBlur=b;a.shadowColor=objj_msgSend(c,"cssString")};CGContextRotateCTM=function(a,
d){a.rotate(d)};CGContextScaleCTM=function(a,d,b){a.scale(d,b)};CGContextTranslateCTM=function(a,d,b){a.translate(d,b)};eigen=function(){alert("IMPLEMENT ME!")};CGContextConcatCTM=CPFeatureIsCompatible(CPJavaScriptCanvasTransformFeature)?function(a,d){a.transform(d.a,d.b,d.c,d.d,d.tx,d.ty)}:function(a,d){var b=d.a,c=d.b,e=d.c,i=d.d,o=d.tx,f=d.ty,g=1,h=1,m=0,s=0;if(c==0&&e==0)g=b,h=i;else if(b*c==-e*i){g=b*i<0||c*e>0?-1:1;s=(ATAN2(c,i)+ATAN2(-g*e,g*b))/2;h=COS(s);var p=SIN(s);h==0?(g=-e/p,h=c/p):p==
0?(g=b/h,h=i/h):(abs_cos=ABS(h),abs_sin=ABS(p),g=(abs_cos*b/h+abs_sin*-e/p)/(abs_cos+abs_sin),h=(abs_cos*i/h+abs_sin*c/p)/(abs_cos+abs_sin))}else if(b*e==-c*i)g=b*i<0||c*e>0?-1:1,m=(Math.atan2(g*c,g*b)+Math.atan2(-e,i))/2,h=COS(m),p=SIN(m),h==0?(g=c/p,h=-e/p):p==0?(g=b/h,h=i/h):(abs_cos=ABS(h),abs_sin=ABS(p),g=(abs_cos*b/h+abs_sin*c/p)/(abs_cos+abs_sin),h=(abs_cos*i/h+abs_sin*-e/p)/(abs_cos+abs_sin));else{c=CGAffineTransformMake(b,e,c,i,0,0);b=eigen(CGAffineTransformConcat(d,c));c=eigen(CGAffineTransformConcat(c,
d));m=CGAffineTransformMake(b.vector_1.x,b.vector_2.x,b.vector_1.y,b.vector_2.y,0,0);i=CGAffineTransformMake(c.vector_1.x,c.vector_1.y,c.vector_2.x,c.vector_2.y,0,0);var v=CGAffineTransformConcat(CGAffineTransformConcat(CGAffineTransformInvert(m),d),CGAffineTransformInvert(i));b=i.a;c=i.b;e=i.c;i=i.d;g=b*i<0||c*e>0?-1:1;s=(ATAN2(c,i)+ATAN2(-g*e,g*b))/2;h=COS(s);p=SIN(s);h==0?(g=-e/p,h=c/p):p==0?(g=b/h,h=i/h):(abs_cos=ABS(h),abs_sin=ABS(p),g=(abs_cos*b/h+abs_sin*-e/p)/(abs_cos+abs_sin),h=(abs_cos*
i/h+abs_sin*c/p)/(abs_cos+abs_sin));v.a*=g;v.d*=h;b=m.a;c=m.b;e=m.c;i=m.d;g=b*i<0||c*e>0?-1:1;m=(Math.atan2(g*c,g*b)+Math.atan2(-e,i))/2;h=COS(m);p=SIN(m);h==0?(g=c/p,h=-e/p):p==0?(g=b/h,h=i/h):(abs_cos=ABS(h),abs_sin=ABS(p),g=(abs_cos*b/h+abs_sin*c/p)/(abs_cos+abs_sin),h=(abs_cos*i/h+abs_sin*-e/p)/(abs_cos+abs_sin));g*=v.a;h*=v.d}(o!=0||f!=0)&&CGContextTranslateCTM(a,o,f);m!=0&&CGContextRotateCTM(a,m);(g!=1||h!=1)&&CGContextScaleCTM(a,g,h);s!=0&&CGContextRotateCTM(a,s)};CGContextDrawImage=function(a,
d,b){a.drawImage(b._image,d.origin.x,d.origin.y,d.size.width,d.size.height)};to_string=function(a){return"rgba("+ROUND(a.components[0]*255)+", "+ROUND(a.components[1]*255)+", "+ROUND(255*a.components[2])+", "+a.components[3]+")"};CGContextDrawLinearGradient=function(a,d,b,c){var e=d.colors,i=e.length;for(b=a.createLinearGradient(b.x,b.y,c.x,c.y);i--;)b.addColorStop(d.locations[i],to_string(e[i]));a.fillStyle=b;a.fill()};CGBitmapGraphicsContextCreate=function(){var a=document.createElement("canvas"),
d=a.getContext("2d");d.DOMElement=a;return d}}else if(CPFeatureIsCompatible(CPVMLFeature)){var c=["f","t"],a=["flat","round","square"],d=["miter","round","bevel"],i=[" m "," l ","qb"," c "," x ",[" at "," wa "]],o=CGBitmapGraphicsContextCreate;CGBitmapGraphicsContextCreate=function(){document.namespaces.add("cg_vml_","urn:schemas-microsoft-com:vml");document.createStyleSheet().cssText="cg_vml_\\:*{behavior:url(#default#VML)}";CGBitmapGraphicsContextCreate=o;return o()};CGContextSetFillColor=function(a,
d){a.gState.fillStyle=objj_msgSend(d,"patternImage")?"!"+objj_msgSend(objj_msgSend(d,"patternImage"),"filename"):objj_msgSend(d,"cssString")};CGContextClearRect=function(a){a.buffer!=nil?a.buffer="":a.DOMElement.innerHTML="";a.path=NULL};CGContextDrawImage=function(a,d,b){var c="";if(b.buffer!=nil)c=b.buffer;else{c=a.gState.CTM;var e=CGPointApplyAffineTransform(d.origin,c),i=['<cg_vml_:group coordsize="1,1" coordorigin="0,0" style="width:1;height:1;position:absolute'],o=CGRectApplyAffineTransform(d,
c);i.push(";padding:0 ",ROUND(o.origin.x+o.size.width),"px ",ROUND(o.origin.y+o.size.height),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(","M11='",c.a,"',M12='",c.c,"',M21='",c.b,"',M22='",c.d,"',","Dx='",ROUND(e.x),"', Dy='",ROUND(e.y),"', sizingmethod='clip');");i.push('"><cg_vml_:image src="',b._image.src,'" style="width:',d.size.width,"px;height:",d.size.height,'px;"/></g_vml_:group>');c=i.join("")}a.buffer!=nil?a.buffer+=c:a.DOMElement.insertAdjacentHTML("BeforeEnd",c)};CGContextDrawPath=
function(b,e){if(b&&!CGPathIsEmpty(b.path)){var o=b.path.elements,f=0,g=b.path.count,h=b.gState,y=e==kCGPathFill||e==kCGPathFillStroke?1:0,A=e==kCGPathStroke||e==kCGPathFillStroke?1:0,r=h.alpha,q=["<cg_vml_:shape"];h.fillStyle.charAt(0)!=="!"&&q.push(' fillcolor="',h.fillStyle,'"');for(q.push(' filled="',c[y],'" style="position:absolute;width:',10,";height:",10,';" coordorigin="0 0" coordsize="',100," ",100,'" stroked="',c[A],'" strokeweight="',h.lineWidth,'" strokecolor="',h.strokeStyle,'" path="');f<
g;++f){var m=o[f],s=m.type;switch(s){case kCGPathElementMoveToPoint:case kCGPathElementAddLineToPoint:q.push(i[s],m.x===0?0:ROUND(10*m.x-5),",",m.y===0?0:ROUND(10*m.y-5));break;case kCGPathElementAddQuadCurveToPoint:q.push(i[s],m.cpx===0?0:ROUND(10*m.cpx-5),",",m.cpy===0?0:ROUND(10*m.cpy-5),",",m.x===0?0:ROUND(10*m.x-5),",",m.y===0?0:ROUND(10*m.y-5));break;case kCGPathElementAddCurveToPoint:q.push(i[s],m.cp1x===0?0:ROUND(10*m.cp1x-5),",",m.cp1y===0?0:ROUND(10*m.cp1y-5),",",m.cp2x===0?0:ROUND(10*m.cp2x-
5),",",m.cp2y===0?0:ROUND(10*m.cp2y-5),",",m.x===0?0:ROUND(10*m.x-5),",",m.y===0?0:ROUND(10*m.y-5));break;case kCGPathElementCloseSubpath:q.push(i[s]);break;case kCGPathElementAddArc:var p=m.x,v=m.y,x=m.radius,C=m.clockwise?1:0,B=m.endAngle;m=m.startAngle;var u={x:p+x*COS(m),y:v+x*SIN(m)};if(m==B&&!C){q.push(i[kCGPathElementMoveToPoint],u.x===0?0:ROUND(10*u.x-5),",",u.y===0?0:ROUND(10*u.y-5));continue}var z={x:p+x*COS(B),y:v+x*SIN(B)};C&&m!=B&&u.x==z.x&&u.y==z.y&&(u.x>=p?u.y<v?u.x+=0.125:u.y+=0.125:
z.y<=v?z.x+=0.125:z.y+=0.125);q.push(i[s][C],p-x===0?0:ROUND(10*(p-x)-5),",",v-x===0?0:ROUND(10*(v-x)-5)," ",p+x===0?0:ROUND(10*(p+x)-5),",",v+x===0?0:ROUND(10*(v+x)-5)," ",u.x===0?0:ROUND(10*u.x-5),",",u.y===0?0:ROUND(10*u.y-5)," ",z.x===0?0:ROUND(10*z.x-5),",",z.y===0?0:ROUND(10*z.y-5))}}q.push('">');h.gradient?q.push(h.gradient):y&&(h.fillStyle.charAt(0)==="!"?q.push('<cg_vml_:fill type="tile" src="',h.fillStyle.substring(1),'" opacity="',r,'" />'):q.push('<cg_vml_:fill color="',h.fillStyle,'" opacity="',
r,'" />'));A&&q.push('<cg_vml_:stroke opacity="',r,'" joinstyle="',d[h.lineJoin],'" miterlimit="',h.miterLimit,'" endcap="',a[h.lineCap],'" weight="',h.lineWidth,"",'px" color="',h.strokeStyle,'" />');if(o=h.shadowColor)h=h.shadowOffset,q.push('<cg_vml_:shadow on="t" offset="',h.width,"pt ",h.height,'pt" opacity="',objj_msgSend(o,"alphaComponent"),'" color=black />');q.push("</cg_vml_:shape>");b.buffer!=nil?b.buffer+=q.join(""):b.DOMElement.insertAdjacentHTML("BeforeEnd",q.join(""))}};to_string=function(a){return"rgb("+
ROUND(a.components[0]*255)+", "+ROUND(a.components[1]*255)+", "+ROUND(255*a.components[2])+")"};CGContextDrawLinearGradient=function(a,d){if(a&&d){var b=nil;if(d.vml_gradient){var c=objj_msgSend(objj_msgSend(d.vml_gradient,"stops"),"sortedArrayUsingSelector:",sel_getUid("comparePosition:")),e=objj_msgSend(c,"count");b=['<cg_vml_:fill type="gradient" method="linear sigma" '];b.push('angle="'+(objj_msgSend(d.vml_gradient,"angle")+90)+'" ');b.push('colors="');for(var i=0;i<e;i++)b.push((objj_msgSend(c[i],
"position")*100).toFixed(0)+"% "),b.push(objj_msgSend(objj_msgSend(objj_msgSend(c[i],"color"),"colorForSlideBase:",nil),"cssString")),i<e-1&&b.push(",")}else{c=d.colors;e=c.length;b=['<cg_vml_:fill type="gradient" '];b.push('colors="');for(i=0;i<e;i++)b.push((d.locations[i]*100).toFixed(0)+"% "+to_string(c[i])+(i<e-1?",":""))}b.push('" />');a.gState.gradient=b.join("")}}}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CALayer.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);g("CABackingStore.j",YES);g("CGContext.j",YES);g("CGGeometry.j",YES);var f=NO,e=nil,b=objj_allocateClassPair(CPObject,"CALayer"),c=b.isa;class_addIvars(b,[new objj_ivar("_frame"),new objj_ivar("_bounds"),new objj_ivar("_position"),new objj_ivar("_zPosition"),new objj_ivar("_anchorPoint"),new objj_ivar("_affineTransform"),new objj_ivar("_sublayerTransform"),new objj_ivar("_sublayerTransformForSublayers"),
new objj_ivar("_backingStoreFrame"),new objj_ivar("_standardBackingStoreFrame"),new objj_ivar("_hasSublayerTransform"),new objj_ivar("_hasCustomBackingStoreFrame"),new objj_ivar("_opacity"),new objj_ivar("_isHidden"),new objj_ivar("_backgroundColor"),new objj_ivar("_superlayer"),new objj_ivar("_sublayers"),new objj_ivar("_runLoopUpdateMask"),new objj_ivar("_needsDisplayOnBoundsChange"),new objj_ivar("_delegate"),new objj_ivar("_delegateRespondsToDisplayLayerSelector"),new objj_ivar("_delegateRespondsToDrawLayerInContextSelector"),
new objj_ivar("_DOMElement"),new objj_ivar("_DOMContentsElement"),new objj_ivar("_contents"),new objj_ivar("_context"),new objj_ivar("_owningView"),new objj_ivar("_transformToLayer"),new objj_ivar("_transformFromLayer")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CALayer").super_class},"init"))_frame=CGRectMakeZero(),_backingStoreFrame=CGRectMakeZero(),_standardBackingStoreFrame=
CGRectMakeZero(),_bounds=CGRectMakeZero(),_position=CGPointMakeZero(),_zPosition=0,_anchorPoint=CGPointMake(0.5,0.5),_affineTransform=CGAffineTransformMakeIdentity(),_sublayerTransform=CGAffineTransformMakeIdentity(),_transformToLayer=CGAffineTransformMakeIdentity(),_transformFromLayer=CGAffineTransformMakeIdentity(),_opacity=1,_masksToBounds=_isHidden=NO,_sublayers=[],_DOMElement=document.createElement("div"),_DOMElement.style.overflow="visible",_DOMElement.style.position="absolute",_DOMElement.style.visibility=
"visible",_DOMElement.style.top="0px",_DOMElement.style.left="0px",_DOMElement.style.zIndex=0,_DOMElement.style.width="0px",_DOMElement.style.height="0px";return a}}),new objj_method(sel_getUid("setBounds:"),function(a,d,b){with(a){if(CGRectEqualToRect(_bounds,b))return;_bounds={origin:{x:b.origin.x,y:b.origin.y},size:{width:b.size.width,height:b.size.height}};_hasSublayerTransform&&_CALayerUpdateSublayerTransformForSublayers(a);_CALayerRecalculateGeometry(a,1)}}),new objj_method(sel_getUid("bounds"),
function(a){with(a)return _bounds}),new objj_method(sel_getUid("setPosition:"),function(a,d,b){with(a){if(CGPointEqualToPoint(_position,b))return;_position={x:b.x,y:b.y};_CALayerRecalculateGeometry(a,2)}}),new objj_method(sel_getUid("position"),function(a){with(a)return _position}),new objj_method(sel_getUid("setZPosition:"),function(a,d,b){with(a){if(_zPosition==b)return;_zPosition=b;objj_msgSend(a,"registerRunLoopUpdateWithMask:",4)}}),new objj_method(sel_getUid("setAnchorPoint:"),function(a,d,
b){with(a){b={x:b.x,y:b.y};b.x=MIN(1,MAX(0,b.x));b.y=MIN(1,MAX(0,b.y));if(CGPointEqualToPoint(_anchorPoint,b))return;_anchorPoint=b;_hasSublayerTransform&&_CALayerUpdateSublayerTransformForSublayers(a);_owningView&&(_position=CGPointMake(_bounds.size.width*_anchorPoint.x,_bounds.size.height*_anchorPoint.y));_CALayerRecalculateGeometry(a,4)}}),new objj_method(sel_getUid("anchorPoint"),function(a){with(a)return _anchorPoint}),new objj_method(sel_getUid("setAffineTransform:"),function(a,d,b){with(a){if(CGAffineTransformEqualToTransform(_affineTransform,
b))return;_affineTransform={a:b.a,b:b.b,c:b.c,d:b.d,tx:b.tx,ty:b.ty};_CALayerRecalculateGeometry(a,8)}}),new objj_method(sel_getUid("affineTransform"),function(a){with(a)return _affineTransform}),new objj_method(sel_getUid("setSublayerTransform:"),function(a,d,b){with(a){if(CGAffineTransformEqualToTransform(_sublayerTransform,b))return;_sublayerTransform={a:b.a,b:b.b,c:b.c,d:b.d,tx:b.tx,ty:b.ty};if(_hasSublayerTransform=!(_sublayerTransform.a==1&&_sublayerTransform.b==0&&_sublayerTransform.c==0&&
_sublayerTransform.d==1&&_sublayerTransform.tx==0&&_sublayerTransform.ty==0)){_CALayerUpdateSublayerTransformForSublayers(a);for(a=_sublayers.length;a--;)_CALayerRecalculateGeometry(_sublayers[a],16)}}}),new objj_method(sel_getUid("sublayerTransform"),function(a){with(a)return _sublayerTransform}),new objj_method(sel_getUid("transformToLayer"),function(a){with(a)return _transformToLayer}),new objj_method(sel_getUid("setFrame:"),function(a){with(a)alert("FIXME IMPLEMENT")}),new objj_method(sel_getUid("frame"),
function(a){with(a)return _frame||(_frame=objj_msgSend(a,"convertRect:toLayer:",_bounds,_superlayer)),_frame}),new objj_method(sel_getUid("backingStoreFrame"),function(a){with(a)return _backingStoreFrame}),new objj_method(sel_getUid("setBackingStoreFrame:"),function(a,d,b){with(a)_hasCustomBackingStoreFrame=b!=nil,b==nil?b=CGRectMakeCopy(_standardBackingStoreFrame):_superlayer?(b=objj_msgSend(_superlayer,"convertRect:toLayer:",b,nil),d=objj_msgSend(_superlayer,"bounds"),d=objj_msgSend(_superlayer,
"convertRect:toLayer:",d,nil),b.origin.x-=d.origin.x,b.origin.y-=d.origin.y):b=CGRectMakeCopy(b),CGPointEqualToPoint(_backingStoreFrame.origin,b.origin)||objj_msgSend(a,"registerRunLoopUpdateWithMask:",1),CGSizeEqualToSize(_backingStoreFrame.size,b.size)||objj_msgSend(a,"registerRunLoopUpdateWithMask:",2),_backingStoreFrame=b}),new objj_method(sel_getUid("contents"),function(a){with(a)return _contents}),new objj_method(sel_getUid("setContents:"),function(a,d,b){with(a){if(_contents==b)return;_contents=
b;objj_msgSend(a,"composite")}}),new objj_method(sel_getUid("composite"),function(a){with(a){if(f&&!_contents||!_context)return;CGContextClearRect(_context,{origin:{x:0,y:0},size:{width:_backingStoreFrame.size.width,height:_backingStoreFrame.size.height}});var d;if(_superlayer){d=_CALayerGetTransform(_superlayer,nil);var b=CGPointApplyAffineTransform(_superlayer._bounds.origin,d);d=CGAffineTransformConcat(_transformFromLayer,d);d.tx-=b.x;d.ty-=b.y}else d=CGAffineTransformCreateCopy(_transformFromLayer);
d.tx-=_backingStoreFrame.origin.x;d.ty-=_backingStoreFrame.origin.y;CGContextSaveGState(_context);CGContextConcatCTM(_context,d);f?_context.drawImage(_contents.buffer,_bounds.origin.x,_bounds.origin.y):objj_msgSend(a,"drawInContext:",_context);CGContextRestoreGState(_context)}}),new objj_method(sel_getUid("display"),function(a){with(a){if(!_context)_context=CGBitmapGraphicsContextCreate(),_DOMContentsElement=_context.DOMElement,_DOMContentsElement.style.zIndex=-100,_DOMContentsElement.style.overflow=
"hidden",_DOMContentsElement.style.position="absolute",_DOMContentsElement.style.visibility="visible",_DOMContentsElement.width=ROUND(_backingStoreFrame.size.width),_DOMContentsElement.height=ROUND(_backingStoreFrame.size.height),_DOMContentsElement.style.top="0px",_DOMContentsElement.style.left="0px",_DOMContentsElement.style.width=ROUND(_backingStoreFrame.size.width)+"px",_DOMContentsElement.style.height=ROUND(_backingStoreFrame.size.height)+"px",_DOMElement.appendChild(_DOMContentsElement);if(f){if(_delegateRespondsToDisplayLayerSelector)return objj_msgSend(_delegate,
"displayInLayer:",a);if(_backingStoreFrame.size.width==0||_backingStoreFrame.size.height==0)return;_contents||(_contents=CABackingStoreCreate());CABackingStoreSetSize(_contents,_bounds.size);objj_msgSend(a,"drawInContext:",CABackingStoreGetContext(_contents))}objj_msgSend(a,"composite")}}),new objj_method(sel_getUid("drawInContext:"),function(a,d,b){with(a)_backgroundColor&&(CGContextSetFillColor(b,_backgroundColor),CGContextFillRect(b,_bounds)),_delegateRespondsToDrawLayerInContextSelector&&objj_msgSend(_delegate,
"drawLayer:inContext:",a,b)}),new objj_method(sel_getUid("opacity"),function(a){with(a)return _opacity}),new objj_method(sel_getUid("setOpacity:"),function(a,d,b){with(a){if(_opacity==b)return;_opacity=b;_DOMElement.style.opacity=b;_DOMElement.style.filter="alpha(opacity="+b*100+")"}}),new objj_method(sel_getUid("setHidden:"),function(a,d,b){with(a)_isHidden=b,_DOMElement.style.display=b?"none":"block"}),new objj_method(sel_getUid("hidden"),function(a){with(a)return _isHidden}),new objj_method(sel_getUid("isHidden"),
function(a){with(a)return _isHidden}),new objj_method(sel_getUid("setMasksToBounds:"),function(a,d,b){with(a){if(_masksToBounds==b)return;_masksToBounds=b;_DOMElement.style.overflow=_masksToBounds?"hidden":"visible"}}),new objj_method(sel_getUid("setBackgroundColor:"),function(a,d,b){with(a)_backgroundColor=b,objj_msgSend(a,"setNeedsDisplay")}),new objj_method(sel_getUid("backgroundColor"),function(a){with(a)return _backgroundColor}),new objj_method(sel_getUid("sublayers"),function(a){with(a)return _sublayers}),
new objj_method(sel_getUid("superlayer"),function(a){with(a)return _superlayer}),new objj_method(sel_getUid("addSublayer:"),function(a,d,b){with(a)objj_msgSend(a,"insertSublayer:atIndex:",b,_sublayers.length)}),new objj_method(sel_getUid("removeFromSuperlayer"),function(a){with(a){_owningView&&objj_msgSend(_owningView,"setLayer:",nil);if(!_superlayer)return;_superlayer._DOMElement.removeChild(_DOMElement);objj_msgSend(_superlayer._sublayers,"removeObject:",a);_superlayer=nil}}),new objj_method(sel_getUid("insertSublayer:atIndex:"),
function(a,d,b,c){with(a){if(!b)return;d=objj_msgSend(b,"superlayer");if(d==a){var e=objj_msgSend(_sublayers,"indexOfObjectIdenticalTo:",b);if(e==c)return;objj_msgSend(_sublayers,"removeObjectAtIndex:",e);e<c&&--c}else d!=nil&&objj_msgSend(b,"removeFromSuperlayer");_DOMContentsElement&&b._zPosition>_DOMContentsElement.style.zIndex&&(_DOMContentsElement.style.zIndex-=100);objj_msgSend(_sublayers,"insertObject:atIndex:",b,c);c>=_sublayers.length-1?_DOMElement.appendChild(b._DOMElement):_DOMElement.insertBefore(b._DOMElement,
_sublayers[c+1]._DOMElement);b._superlayer=a;a!=d&&_CALayerRecalculateGeometry(b,268435455)}}),new objj_method(sel_getUid("insertSublayer:below:"),function(a,d,b,c){with(a)d=c?objj_msgSend(_sublayers,"indexOfObjectIdenticalTo:",c):0,objj_msgSend(a,"insertSublayer:atIndex:",b,d==CPNotFound?_sublayers.length:d)}),new objj_method(sel_getUid("insertSublayer:above:"),function(a,d,b,c){with(a)a=c?objj_msgSend(_sublayers,"indexOfObjectIdenticalTo:",c):_sublayers.length,a==CPNotFound&&objj_msgSend(CPException,
"raise:reason:","CALayerNotFoundException","aSublayer is not a sublayer of this layer"),objj_msgSend(_sublayers,"insertObject:atIndex:",b,a==CPNotFound?_sublayers.length:a+1)}),new objj_method(sel_getUid("replaceSublayer:with:"),function(a,d,b,c){with(a){if(b==c)return;if(b._superlayer!=a){alert("EXCEPTION");return}_DOMContentsElement&&c._zPosition>_DOMContentsElement.style.zIndex&&(_DOMContentsElement.style.zIndex-=100);objj_msgSend(_sublayers,"replaceObjectAtIndex:withObject:",objj_msgSend(_sublayers,
"indexOfObjectIdenticalTo:",b),c);_DOMElement.replaceChild(b._DOMElement,c._DOMElement)}}),new objj_method(sel_getUid("registerRunLoopUpdateWithMask:"),function(a,d,b){with(a)e==nil&&(e={},objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"performSelector:target:argument:order:modes:",sel_getUid("runLoopUpdateLayers"),CALayer,nil,0,[CPDefaultRunLoopMode])),_runLoopUpdateMask|=b,e[objj_msgSend(a,"UID")]=a}),new objj_method(sel_getUid("setNeedsComposite"),function(a){with(a)objj_msgSend(a,"registerRunLoopUpdateWithMask:",
16)}),new objj_method(sel_getUid("setNeedsDisplay"),function(a){with(a)objj_msgSend(a,"registerRunLoopUpdateWithMask:",8)}),new objj_method(sel_getUid("setNeedsDisplayOnBoundsChange:"),function(a,d,b){with(a)_needsDisplayOnBoundsChange=b}),new objj_method(sel_getUid("needsDisplayOnBoundsChange"),function(a){with(a)return _needsDisplayOnBoundsChange}),new objj_method(sel_getUid("setNeedsDisplayInRect:"),function(a,d,b){with(a)_dirtyRect=b,objj_msgSend(a,"display")}),new objj_method(sel_getUid("convertPoint:fromLayer:"),
function(a,d,b,c){with(a)return CGPointApplyAffineTransform(b,_CALayerGetTransform(c,a))}),new objj_method(sel_getUid("convertPoint:toLayer:"),function(a,d,b,c){with(a)return CGPointApplyAffineTransform(b,_CALayerGetTransform(a,c))}),new objj_method(sel_getUid("convertRect:fromLayer:"),function(a,d,b,c){with(a)return CGRectApplyAffineTransform(b,_CALayerGetTransform(c,a))}),new objj_method(sel_getUid("convertRect:toLayer:"),function(a,d,b,c){with(a)return CGRectApplyAffineTransform(b,_CALayerGetTransform(a,
c))}),new objj_method(sel_getUid("containsPoint:"),function(a,d,b){with(a)return b.x>=_bounds.origin.x&&b.y>=_bounds.origin.y&&b.x<_bounds.origin.x+_bounds.size.width&&b.y<_bounds.origin.y+_bounds.size.height}),new objj_method(sel_getUid("hitTest:"),function(a,d,b){with(a){if(_isHidden)return nil;d=CGPointApplyAffineTransform(b,_transformToLayer);if(!(d.x>=_bounds.origin.x&&d.y>=_bounds.origin.y&&d.x<_bounds.origin.x+_bounds.size.width&&d.y<_bounds.origin.y+_bounds.size.height))return nil;b=nil;for(var c=
_sublayers.length;c--;)if(b=objj_msgSend(_sublayers[c],"hitTest:",d))return b;return a}}),new objj_method(sel_getUid("setDelegate:"),function(a,d,b){with(a){if(_delegate==b)return;_delegate=b;_delegateRespondsToDisplayLayerSelector=objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("displayLayer:"));_delegateRespondsToDrawLayerInContextSelector=objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("drawLayer:inContext:"));(_delegateRespondsToDisplayLayerSelector||_delegateRespondsToDrawLayerInContextSelector)&&
objj_msgSend(a,"setNeedsDisplay")}}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("_setOwningView:"),function(a,d,b){with(a){if(_owningView=b)_owningView=b,_bounds.size=CGSizeMakeCopy(objj_msgSend(_owningView,"bounds").size),_position=CGPointMake(_bounds.size.width*_anchorPoint.x,_bounds.size.height*_anchorPoint.y);_CALayerRecalculateGeometry(a,3)}}),new objj_method(sel_getUid("_owningViewBoundsChanged"),function(a){with(a)_bounds.size=CGSizeMakeCopy(objj_msgSend(_owningView,
"bounds").size),_position=CGPointMake(_bounds.size.width*_anchorPoint.x,_bounds.size.height*_anchorPoint.y),_CALayerRecalculateGeometry(a,3)}),new objj_method(sel_getUid("_update"),function(a){with(a){window.loop=!0;var b=_runLoopUpdateMask;b&7&&_CALayerUpdateDOM(a,b);b&8?objj_msgSend(a,"display"):(b&2||b&16)&&objj_msgSend(a,"composite");_runLoopUpdateMask=0;window.loop=!1}})]);class_addMethods(c,[new objj_method(sel_getUid("layer"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,
"class"),"alloc"),"init")}),new objj_method(sel_getUid("runLoopUpdateLayers"),function(a){with(a){for(UID in e){a=e[UID];var b=a._runLoopUpdateMask;b&7&&_CALayerUpdateDOM(a,b);b&8?objj_msgSend(a,"display"):(b&2||b&16)&&objj_msgSend(a,"composite");a._runLoopUpdateMask=0}window.loop=!1;e=nil}})]);_CALayerUpdateSublayerTransformForSublayers=function(a){var b=a._bounds,c=a._anchorPoint,e=b.size.width*c.x;b=b.size.height*c.y;a._sublayerTransformForSublayers=CGAffineTransformConcat(CGAffineTransformMakeTranslation(-e,
-b),CGAffineTransformConcat(a._sublayerTransform,CGAffineTransformMakeTranslation(e,b)))};_CALayerUpdateDOM=function(a,b){var c=a._DOMElement.style;if(b&4)c.zIndex=a._zPosition;var e=a._backingStoreFrame;if(b&1)c.top=ROUND(e.origin.y)+"px",c.left=ROUND(e.origin.x)+"px";if(b&2){var f=MAX(0,ROUND(e.size.width));e=MAX(0,ROUND(e.size.height));var g=a._DOMContentsElement;c.width=f+"px";c.height=e+"px";if(g)g.width=f,g.height=e,g.style.width=f+"px",g.style.height=e+"px"}};_CALayerRecalculateGeometry=function(a,
b){var c=a._bounds,e=a._superlayer,f=a._position,g=a._anchorPoint,k=a._affineTransform,h=a._hasCustomBackingStoreFrame;a._transformFromLayer=CGAffineTransformConcat(CGAffineTransformMakeTranslation(-c.size.width*g.x-a._bounds.origin.x,-c.size.height*g.y-a._bounds.origin.y),CGAffineTransformConcat(k,CGAffineTransformMakeTranslation(f.x,f.y)));if(e&&e._hasSublayerTransform)f=a._transformFromLayer.tx*e._sublayerTransformForSublayers.a+a._transformFromLayer.ty*e._sublayerTransformForSublayers.c+e._sublayerTransformForSublayers.tx,
a._transformFromLayer.ty=a._transformFromLayer.tx*e._sublayerTransformForSublayers.b+a._transformFromLayer.ty*e._sublayerTransformForSublayers.d+e._sublayerTransformForSublayers.ty,a._transformFromLayer.tx=f,f=a._transformFromLayer.a*e._sublayerTransformForSublayers.a+a._transformFromLayer.b*e._sublayerTransformForSublayers.c,g=a._transformFromLayer.a*e._sublayerTransformForSublayers.b+a._transformFromLayer.b*e._sublayerTransformForSublayers.d,k=a._transformFromLayer.c*e._sublayerTransformForSublayers.a+
a._transformFromLayer.d*e._sublayerTransformForSublayers.c,a._transformFromLayer.d=a._transformFromLayer.c*e._sublayerTransformForSublayers.b+a._transformFromLayer.d*e._sublayerTransformForSublayers.d,a._transformFromLayer.a=f,a._transformFromLayer.b=g,a._transformFromLayer.c=k;a._transformToLayer=CGAffineTransformInvert(a._transformFromLayer);a._frame=nil;a._standardBackingStoreFrame=objj_msgSend(a,"convertRect:toLayer:",c,nil);e&&(c=objj_msgSend(e,"bounds"),c=objj_msgSend(e,"convertRect:toLayer:",
c,nil),a._standardBackingStoreFrame.origin.x-=c.origin.x,a._standardBackingStoreFrame.origin.y-=c.origin.y);c=a._standardBackingStoreFrame.origin;e=a._standardBackingStoreFrame.size;c.x=FLOOR(c.x);c.y=FLOOR(c.y);e.width=CEIL(e.width)+1;e.height=CEIL(e.height)+1;if(!h)c=CGRectMakeCopy(a._standardBackingStoreFrame),(ROUND(c.origin.x)!=ROUND(a._backingStoreFrame.origin.x)||ROUND(c.origin.y)!=ROUND(a._backingStoreFrame.origin.y))&&objj_msgSend(a,"registerRunLoopUpdateWithMask:",1),(c.size.width!=ROUND(a._backingStoreFrame.size.width)||
c.size.height!=ROUND(a._backingStoreFrame.size.height))&&objj_msgSend(a,"registerRunLoopUpdateWithMask:",2),a._backingStoreFrame=c;b&1&&a._needsDisplayOnBoundsChange?objj_msgSend(a,"setNeedsDisplay"):(h||b&-7)&&objj_msgSend(a,"setNeedsComposite");h=a._sublayers;c=0;for(e=h.length;c<e;++c)_CALayerRecalculateGeometry(h[c],b)};_CALayerGetTransform=function(a,b){var c=CGAffineTransformMakeIdentity();if(a){for(var e=a;e&&e!=b;){var f=e._transformFromLayer,g=c.tx*f.a+c.ty*f.c+f.tx;c.ty=c.tx*f.b+c.ty*f.d+
f.ty;c.tx=g;g=c.a*f.a+c.b*f.c;var k=c.a*f.b+c.b*f.d,h=c.c*f.a+c.d*f.c;c.d=c.c*f.b+c.d*f.d;c.a=g;c.b=k;c.c=h;e=e._superlayer}if(e==b)return c}f=[];for(e=b;e;)f.push(e),e=e._superlayer;for(e=f.length;e--;){var l=f[e]._transformToLayer;g=c.tx*l.a+c.ty*l.c+l.tx;c.ty=c.tx*l.b+c.ty*l.d+l.ty;c.tx=g;g=c.a*l.a+c.b*l.c;k=c.a*l.b+c.b*l.d;h=c.c*l.a+c.d*l.c;c.d=c.c*l.b+c.d*l.d;c.a=g;c.b=k;c.c=h}return c}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPControl.j",baseURL),function(h,g){g("CPFont.j",YES);g("CPShadow.j",YES);g("CPView.j",YES);g("CPKeyValueBinding.j",YES);CPLeftTextAlignment=0;CPRightTextAlignment=1;CPCenterTextAlignment=2;CPJustifiedTextAlignment=3;CPNaturalTextAlignment=4;CPRegularControlSize=0;CPSmallControlSize=1;CPMiniControlSize=2;CPLineBreakByWordWrapping=0;CPLineBreakByCharWrapping=1;CPLineBreakByClipping=2;CPLineBreakByTruncatingHead=3;CPLineBreakByTruncatingTail=
4;CPLineBreakByTruncatingMiddle=5;CPTopVerticalTextAlignment=1;CPCenterVerticalTextAlignment=2;CPBottomVerticalTextAlignment=3;CPScaleProportionally=0;CPScaleToFit=1;CPScaleNone=2;CPNoImage=0;CPImageOnly=1;CPImageLeft=2;CPImageRight=3;CPImageBelow=4;CPImageAbove=5;CPImageOverlaps=6;CPOnState=1;CPOffState=0;CPMixedState=-1;CPControlNormalBackgroundColor="CPControlNormalBackgroundColor";CPControlSelectedBackgroundColor="CPControlSelectedBackgroundColor";CPControlHighlightedBackgroundColor="CPControlHighlightedBackgroundColor";
CPControlDisabledBackgroundColor="CPControlDisabledBackgroundColor";CPControlTextDidBeginEditingNotification="CPControlTextDidBeginEditingNotification";CPControlTextDidChangeNotification="CPControlTextDidChangeNotification";CPControlTextDidEndEditingNotification="CPControlTextDidEndEditingNotification";objj_msgSend(CPColor,"blackColor");var f=objj_allocateClassPair(CPView,"CPControl"),e=f.isa;class_addIvars(f,[new objj_ivar("_value"),new objj_ivar("_target"),new objj_ivar("_action"),new objj_ivar("_sendActionOn"),
new objj_ivar("_sendsActionOnEndEditing"),new objj_ivar("_continuousTracking"),new objj_ivar("_trackingWasWithinFrame"),new objj_ivar("_trackingMouseDownFlags"),new objj_ivar("_previousTrackingLocation"),new objj_ivar("_toolTip")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("sendsActionOnEndEditing"),function(a){with(a)return _sendsActionOnEndEditing}),new objj_method(sel_getUid("setSendsActionOnEndEditing:"),function(a,b,c){with(a)_sendsActionOnEndEditing=c}),new objj_method(sel_getUid("_reverseSetBinding"),
function(a){with(a){var b=objj_msgSend(objj_msgSend(a,"class"),"_binderClassForBinding:",CPValueBinding);a=objj_msgSend(b,"getBinding:forObject:",CPValueBinding,a);objj_msgSend(a,"reverseSetValueFor:","objectValue")}}),new objj_method(sel_getUid("initWithFrame:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPControl").super_class},"initWithFrame:",c))_sendActionOn=CPLeftMouseUpMask,_trackingMouseDownFlags=0;return a}}),new objj_method(sel_getUid("setAction:"),
function(a,b,c){with(a)_action=c}),new objj_method(sel_getUid("action"),function(a){with(a)return _action}),new objj_method(sel_getUid("setTarget:"),function(a,b,c){with(a)_target=c}),new objj_method(sel_getUid("target"),function(a){with(a)return _target}),new objj_method(sel_getUid("sendAction:to:"),function(a,b,c,e){with(a)objj_msgSend(a,"_reverseSetBinding"),objj_msgSend(CPApp,"sendAction:to:from:",c,e,a)}),new objj_method(sel_getUid("sendActionOn:"),function(a,b,c){with(a)return _sendActionOn=
c}),new objj_method(sel_getUid("isContinuous"),function(a){with(a)return(_sendActionOn&CPPeriodicMask)!==0}),new objj_method(sel_getUid("setContinuous:"),function(a,b,c){with(a)c?_sendActionOn|=CPPeriodicMask:_sendActionOn&=~CPPeriodicMask}),new objj_method(sel_getUid("tracksMouseOutsideOfFrame"),function(a){with(a)return NO}),new objj_method(sel_getUid("trackMouse:"),function(a,b,c){with(a){b=objj_msgSend(c,"type");var e=objj_msgSend(a,"convertPoint:fromView:",objj_msgSend(c,"locationInWindow"),
nil),f=objj_msgSend(a,"tracksMouseOutsideOfFrame")||CGRectContainsPoint(objj_msgSend(a,"bounds"),e);b===CPLeftMouseUp?(objj_msgSend(a,"stopTracking:at:mouseIsUp:",_previousTrackingLocation,e,YES),_trackingMouseDownFlags=0,f&&objj_msgSend(a,"setThemeState:",CPThemeStateHovered)):(objj_msgSend(a,"unsetThemeState:",CPThemeStateHovered),b===CPLeftMouseDown?(_trackingMouseDownFlags=objj_msgSend(c,"modifierFlags"),_continuousTracking=objj_msgSend(a,"startTrackingAt:",e)):b===CPLeftMouseDragged&&(f?_trackingWasWithinFrame?
_continuousTracking&&(_continuousTracking=objj_msgSend(a,"continueTracking:at:",_previousTrackingLocation,e)):_continuousTracking=objj_msgSend(a,"startTrackingAt:",e):objj_msgSend(a,"stopTracking:at:mouseIsUp:",_previousTrackingLocation,e,NO)),objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",a,sel_getUid("trackMouse:"),CPLeftMouseDraggedMask|CPLeftMouseUpMask,nil,nil,YES));_sendActionOn&1<<b&&f&&objj_msgSend(a,"sendAction:to:",_action,_target);_trackingWasWithinFrame=
f;_previousTrackingLocation=e}}),new objj_method(sel_getUid("setState:"),function(a){with(a);}),new objj_method(sel_getUid("nextState"),function(a){with(a)return 0}),new objj_method(sel_getUid("performClick:"),function(a){with(a){if(!objj_msgSend(a,"isEnabled"))return;objj_msgSend(a,"highlight:",YES);objj_msgSend(a,"setState:",objj_msgSend(a,"nextState"));try{objj_msgSend(a,"sendAction:to:",objj_msgSend(a,"action"),objj_msgSend(a,"target"))}catch(b){throw b;}finally{objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",
0.1,a,sel_getUid("unhighlightButtonTimerDidFinish:"),nil,NO)}}}),new objj_method(sel_getUid("unhighlightButtonTimerDidFinish:"),function(a){with(a)objj_msgSend(a,"highlight:",NO)}),new objj_method(sel_getUid("mouseDownFlags"),function(a){with(a)return _trackingMouseDownFlags}),new objj_method(sel_getUid("startTrackingAt:"),function(a){with(a)return objj_msgSend(a,"highlight:",YES),_sendActionOn&CPPeriodicMask||_sendActionOn&CPLeftMouseDraggedMask}),new objj_method(sel_getUid("continueTracking:at:"),
function(a){with(a)return _sendActionOn&CPPeriodicMask||_sendActionOn&CPLeftMouseDraggedMask}),new objj_method(sel_getUid("stopTracking:at:mouseIsUp:"),function(a){with(a)objj_msgSend(a,"highlight:",NO)}),new objj_method(sel_getUid("mouseDown:"),function(a,b,c){with(a){if(!objj_msgSend(a,"isEnabled"))return;objj_msgSend(a,"trackMouse:",c)}}),new objj_method(sel_getUid("mouseEntered:"),function(a){with(a){if(!objj_msgSend(a,"isEnabled"))return;objj_msgSend(a,"setThemeState:",CPThemeStateHovered)}}),
new objj_method(sel_getUid("mouseExited:"),function(a,b,c){with(a)b=objj_msgSend(a,"convertPoint:fromView:",objj_msgSend(c,"locationInWindow"),nil),objj_msgSend(a,"tracksMouseOutsideOfFrame")||CGRectContainsPoint(objj_msgSend(a,"bounds"),b)||objj_msgSend(a,"unsetThemeState:",CPThemeStateHovered)}),new objj_method(sel_getUid("objectValue"),function(a){with(a)return _value}),new objj_method(sel_getUid("setObjectValue:"),function(a,b,c){with(a)_value=c,objj_msgSend(a,"setNeedsLayout"),objj_msgSend(a,
"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("floatValue"),function(a){with(a)return a=parseFloat(_value,10),isNaN(a)?0:a}),new objj_method(sel_getUid("setFloatValue:"),function(a,b,c){with(a)objj_msgSend(a,"setObjectValue:",c)}),new objj_method(sel_getUid("doubleValue"),function(a){with(a)return a=parseFloat(_value,10),isNaN(a)?0:a}),new objj_method(sel_getUid("setDoubleValue:"),function(a,b,c){with(a)objj_msgSend(a,"setObjectValue:",c)}),new objj_method(sel_getUid("intValue"),function(a){with(a)return a=
parseInt(_value,10),isNaN(a)?0:a}),new objj_method(sel_getUid("setIntValue:"),function(a,b,c){with(a)objj_msgSend(a,"setObjectValue:",c)}),new objj_method(sel_getUid("integerValue"),function(a){with(a)return a=parseInt(_value,10),isNaN(a)?0:a}),new objj_method(sel_getUid("setIntegerValue:"),function(a,b,c){with(a)objj_msgSend(a,"setObjectValue:",c)}),new objj_method(sel_getUid("stringValue"),function(a){with(a)return _value===void 0||_value===nil?"":String(_value)}),new objj_method(sel_getUid("setStringValue:"),
function(a,b,c){with(a)objj_msgSend(a,"setObjectValue:",c)}),new objj_method(sel_getUid("takeDoubleValueFrom:"),function(a,b,c){with(a)objj_msgSend(c,"respondsToSelector:",sel_getUid("doubleValue"))&&objj_msgSend(a,"setDoubleValue:",objj_msgSend(c,"doubleValue"))}),new objj_method(sel_getUid("takeFloatValueFrom:"),function(a,b,c){with(a)objj_msgSend(c,"respondsToSelector:",sel_getUid("floatValue"))&&objj_msgSend(a,"setFloatValue:",objj_msgSend(c,"floatValue"))}),new objj_method(sel_getUid("takeIntegerValueFrom:"),
function(a,b,c){with(a)objj_msgSend(c,"respondsToSelector:",sel_getUid("integerValue"))&&objj_msgSend(a,"setIntegerValue:",objj_msgSend(c,"integerValue"))}),new objj_method(sel_getUid("takeIntValueFrom:"),function(a,b,c){with(a)objj_msgSend(c,"respondsToSelector:",sel_getUid("intValue"))&&objj_msgSend(a,"setIntValue:",objj_msgSend(c,"intValue"))}),new objj_method(sel_getUid("takeObjectValueFrom:"),function(a,b,c){with(a)objj_msgSend(c,"respondsToSelector:",sel_getUid("objectValue"))&&objj_msgSend(a,
"setObjectValue:",objj_msgSend(c,"objectValue"))}),new objj_method(sel_getUid("takeStringValueFrom:"),function(a,b,c){with(a)objj_msgSend(c,"respondsToSelector:",sel_getUid("stringValue"))&&objj_msgSend(a,"setStringValue:",objj_msgSend(c,"stringValue"))}),new objj_method(sel_getUid("textDidBeginEditing:"),function(a,b,c){with(a){if(objj_msgSend(c,"object")!=a)return;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPControlTextDidBeginEditingNotification,
a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",objj_msgSend(c,"object"),"CPFieldEditor"))}}),new objj_method(sel_getUid("textDidChange:"),function(a,b,c){with(a){if(objj_msgSend(c,"object")!=a)return;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPControlTextDidChangeNotification,a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",objj_msgSend(c,"object"),"CPFieldEditor"))}}),new objj_method(sel_getUid("textDidEndEditing:"),
function(a,b,c){with(a){if(objj_msgSend(c,"object")!=a)return;objj_msgSend(a,"_reverseSetBinding");objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPControlTextDidEndEditingNotification,a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",objj_msgSend(c,"object"),"CPFieldEditor"))}}),new objj_method(sel_getUid("setAlignment:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"alignment")}),new objj_method(sel_getUid("alignment"),
function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","alignment")}),new objj_method(sel_getUid("setVerticalAlignment:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"vertical-alignment")}),new objj_method(sel_getUid("verticalAlignment"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","vertical-alignment")}),new objj_method(sel_getUid("setLineBreakMode:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"line-break-mode")}),
new objj_method(sel_getUid("lineBreakMode"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","line-break-mode")}),new objj_method(sel_getUid("setTextColor:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"text-color")}),new objj_method(sel_getUid("textColor"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","text-color")}),new objj_method(sel_getUid("setTextShadowColor:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",
c,"text-shadow-color")}),new objj_method(sel_getUid("textShadowColor"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","text-shadow-color")}),new objj_method(sel_getUid("setTextShadowOffset:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"text-shadow-offset")}),new objj_method(sel_getUid("textShadowOffset"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","text-shadow-offset")}),new objj_method(sel_getUid("setFont:"),function(a,b,c){with(a)objj_msgSend(a,
"setValue:forThemeAttribute:",c,"font")}),new objj_method(sel_getUid("font"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","font")}),new objj_method(sel_getUid("setImagePosition:"),function(a,b,c){with(a)objj_msgSend(a,"setValue:forThemeAttribute:",c,"image-position")}),new objj_method(sel_getUid("imagePosition"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","image-position")}),new objj_method(sel_getUid("setImageScaling:"),function(a,b,c){with(a)objj_msgSend(a,
"setValue:forThemeAttribute:",c,"image-scaling")}),new objj_method(sel_getUid("imageScaling"),function(a){with(a)return objj_msgSend(a,"valueForThemeAttribute:","image-scaling")}),new objj_method(sel_getUid("setEnabled:"),function(a,b,c){with(a)c?objj_msgSend(a,"unsetThemeState:",CPThemeStateDisabled):objj_msgSend(a,"setThemeState:",CPThemeStateDisabled)}),new objj_method(sel_getUid("isEnabled"),function(a){with(a)return!objj_msgSend(a,"hasThemeState:",CPThemeStateDisabled)}),new objj_method(sel_getUid("highlight:"),
function(a,b,c){with(a)objj_msgSend(a,"setHighlighted:",c)}),new objj_method(sel_getUid("setHighlighted:"),function(a,b,c){with(a)c?objj_msgSend(a,"setThemeState:",CPThemeStateHighlighted):objj_msgSend(a,"unsetThemeState:",CPThemeStateHighlighted)}),new objj_method(sel_getUid("isHighlighted"),function(a){with(a)return objj_msgSend(a,"hasThemeState:",CPThemeStateHighlighted)})]);class_addMethods(e,[new objj_method(sel_getUid("themeAttributes"),function(a){with(a)return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",
[CPLeftTextAlignment,CPTopVerticalTextAlignment,CPLineBreakByClipping,objj_msgSend(CPColor,"blackColor"),objj_msgSend(CPFont,"systemFontOfSize:",12),objj_msgSend(CPNull,"null"),{width:0,height:0},CPImageLeft,CPScaleToFit,{width:0,height:0},{width:-1,height:-1}],["alignment","vertical-alignment","line-break-mode","text-color","font","text-shadow-color","text-shadow-offset","image-position","image-scaling","min-size","max-size"])}),new objj_method(sel_getUid("initialize"),function(a){with(a)a===objj_msgSend(CPControl,
"class")&&(objj_msgSend(a,"exposeBinding:","value"),objj_msgSend(a,"exposeBinding:","objectValue"),objj_msgSend(a,"exposeBinding:","stringValue"),objj_msgSend(a,"exposeBinding:","integerValue"),objj_msgSend(a,"exposeBinding:","intValue"),objj_msgSend(a,"exposeBinding:","doubleValue"),objj_msgSend(a,"exposeBinding:","floatValue"),objj_msgSend(a,"exposeBinding:","enabled"))}),new objj_method(sel_getUid("_binderClassForBinding:"),function(a,b,c){with(a){if(c===CPValueBinding)return objj_msgSend(_CPValueBinder,
"class");return objj_msgSendSuper({receiver:a,super_class:objj_getMetaClass("CPControl").super_class},"_binderClassForBinding:",c)}})]);f=objj_getClass("CPControl");if(!f)throw new SyntaxError('*** Could not find definition for class "CPControl"');e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPControl").super_class},"initWithCoder:",c))objj_msgSend(a,"setObjectValue:",objj_msgSend(c,"decodeObjectForKey:",
"CPControlValueKey")),objj_msgSend(a,"setTarget:",objj_msgSend(c,"decodeObjectForKey:","CPControlTargetKey")),objj_msgSend(a,"setAction:",objj_msgSend(c,"decodeObjectForKey:","CPControlActionKey")),objj_msgSend(a,"sendActionOn:",objj_msgSend(c,"decodeIntForKey:","CPControlSendActionOnKey")),objj_msgSend(a,"setSendsActionOnEndEditing:",objj_msgSend(c,"decodeBoolForKey:","CPControlSendsActionOnEndEditingKey"));return a}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a)objj_msgSendSuper({receiver:a,
super_class:objj_getClass("CPControl").super_class},"encodeWithCoder:",c),_sendsActionOnEndEditing&&objj_msgSend(c,"encodeBool:forKey:",_sendsActionOnEndEditing,"CPControlSendsActionOnEndEditingKey"),a=objj_msgSend(a,"objectValue"),a!==nil&&objj_msgSend(c,"encodeObject:forKey:",a,"CPControlValueKey"),_target!==nil&&objj_msgSend(c,"encodeConditionalObject:forKey:",_target,"CPControlTargetKey"),_action!==NULL&&objj_msgSend(c,"encodeObject:forKey:",_action,"CPControlActionKey"),objj_msgSend(c,"encodeInt:forKey:",
_sendActionOn,"CPControlSendActionOnKey")})]);var b=[],c={},a={};b[CPRegularControlSize]="Regular";b[CPSmallControlSize]="Small";b[CPMiniControlSize]="Mini";_CPControlIdentifierForControlSize=function(a){return b[a]};_CPControlColorWithPatternImage=function(a,b){for(var e=1,f=arguments.length,g="";e<f;++e)g+=arguments[e];e=c[g];e||(e=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPControl,"class")),e=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(e,"pathForResource:",b+"/"+g+".png"),a[g])),c[g]=e);return e};_CPControlThreePartImagePattern=function(b,c,e){for(var f=2,g=arguments.length,k="";f<g;++f)k+=arguments[f];f=a[k];f||(f=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPControl,"class")),g=e+"/"+k,c=c[k],f=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPThreePartImage,"alloc"),"initWithImageSlices:isVertical:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(f,
"pathForResource:",g+"0.png"),c[0]),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(f,"pathForResource:",g+"1.png"),c[1]),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(f,"pathForResource:",g+"2.png"),c[2])],b)),a[k]=f);return f}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuManager.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);_CPMenuManagerScrollingStateUp=-1;_CPMenuManagerScrollingStateDown=1;_CPMenuManagerScrollingStateNone=0;var f=nil,e=objj_allocateClassPair(CPObject,"_CPMenuManager"),b=e.isa;class_addIvars(e,[new objj_ivar("_startTime"),new objj_ivar("_scrollingState"),new objj_ivar("_lastGlobalLocation"),new objj_ivar("_lastMouseOverMenuView"),new objj_ivar("_constraintRect"),
new objj_ivar("_menuContainerStack"),new objj_ivar("_trackingCallback"),new objj_ivar("_keyBuffer"),new objj_ivar("_previousActiveItem"),new objj_ivar("_showTimerID")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(b){with(b){if(f)return f;return objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPMenuManager").super_class},"init")}}),new objj_method(sel_getUid("trackingMenuContainer"),function(b){with(b)return _menuContainerStack[0]}),new objj_method(sel_getUid("trackingMenu"),
function(b){with(b)return objj_msgSend(objj_msgSend(b,"trackingMenuContainer"),"menu")}),new objj_method(sel_getUid("beginTracking:menuContainer:constraintRect:callback:"),function(b,a,d,e,f,g){with(b){a=objj_msgSend(e,"menu");CPApp._activeMenu=a;_startTime=objj_msgSend(d,"timestamp");_scrollingState=_CPMenuManagerScrollingStateNone;_constraintRect=f;_menuContainerStack=[e];_trackingCallback=g;if(a===objj_msgSend(CPApp,"mainMenu")&&(f=objj_msgSend(d,"globalLocation"),f=objj_msgSend(e,"convertGlobalToBase:",
f),f=objj_msgSend(e,"itemIndexAtPoint:",f),a=f!==CPNotFound?objj_msgSend(a,"itemAtIndex:",f):nil,_menuBarButtonItemIndex=f,_menuBarButtonMenuContainer=e,objj_msgSend(a,"_isMenuBarButton")))return objj_msgSend(b,"trackMenuBarButtonEvent:",d);objj_msgSend(b,"trackEvent:",d)}}),new objj_method(sel_getUid("trackEvent:"),function(b,a,d){with(b){a=objj_msgSend(d,"type");var e=objj_msgSend(b,"trackingMenu");if(a===CPAppKitDefined)return objj_msgSend(b,"completeTracking");objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",
b,sel_getUid("trackEvent:"),CPKeyDownMask|CPPeriodicMask|CPMouseMovedMask|CPLeftMouseDraggedMask|CPLeftMouseUpMask|CPAppKitDefinedMask|CPScrollWheelMask,nil,nil,YES);if(a===CPKeyDown){for(var f=e,g=objj_msgSend(objj_msgSend(f,"highlightedItem"),"submenu");g&&objj_msgSend(g._menuWindow,"isVisible");)f=g,g=objj_msgSend(objj_msgSend(f,"highlightedItem"),"submenu");objj_msgSend(f,"numberOfItems")&&objj_msgSend(b,"interpretKeyEvent:forMenu:",d,f);return}if(_keyBuffer&&(objj_msgSend(CPDate,"date")-_startTime>
500+objj_msgSend(g,"numberOfItems")/2&&objj_msgSend(b,"selectNextItemBeginningWith:inMenu:clearBuffer:",_keyBuffer,f,YES),a===CPPeriodic))return;var j=a===CPPeriodic?_lastGlobalLocation:objj_msgSend(d,"globalLocation");_lastGlobalLocation=j;if(!_lastGlobalLocation)return;f=objj_msgSend(b,"menuContainerForPoint:",j);g=objj_msgSend(f,"menu");var k=objj_msgSend(f,"convertGlobalToBase:",j),h=f?objj_msgSend(f,"itemIndexAtPoint:",k):CPNotFound,l=h!==CPNotFound?objj_msgSend(g,"itemAtIndex:",h):nil;if(!objj_msgSend(l,
"isEnabled")||objj_msgSend(l,"_isMenuBarButton"))h=CPNotFound,l=nil;var w=objj_msgSend(l,"view");a===CPScrollWheel&&objj_msgSend(f,"scrollByDelta:",objj_msgSend(d,"deltaY"));a===CPPeriodic&&(_scrollingState===_CPMenuManagerScrollingStateUp?objj_msgSend(f,"scrollUp"):_scrollingState===_CPMenuManagerScrollingStateDown&&objj_msgSend(f,"scrollDown"));w?(_lastMouseOverMenuView||objj_msgSend(g,"_highlightItemAtIndex:",CPNotFound),_lastMouseOverMenuView!=w&&(objj_msgSend(w,"mouseExited:",d),objj_msgSend(_lastMouseOverMenuView,
"mouseEntered:",d),_lastMouseOverMenuView=w),e=f,objj_msgSend(e,"isKindOfClass:",objj_msgSend(CPWindow,"class"))||(e=objj_msgSend(e,"window")),objj_msgSend(e,"sendEvent:",objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",a,k,objj_msgSend(d,"modifierFlags"),objj_msgSend(d,"timestamp"),e,nil,0,objj_msgSend(d,"clickCount"),objj_msgSend(d,"pressure")))):(_lastMouseOverMenuView&&(objj_msgSend(_lastMouseOverMenuView,"mouseExited:",
d),_lastMouseOverMenuView=nil),objj_msgSend(g,"_highlightItemAtIndex:",h),a===CPMouseMoved||a===CPLeftMouseDragged||a===CPLeftMouseDown||a===CPPeriodic?(d=_scrollingState,_scrollingState=objj_msgSend(f,"scrollingStateForPoint:",j),_scrollingState!==d&&(_scrollingState===_CPMenuManagerScrollingStateNone?objj_msgSend(CPEvent,"stopPeriodicEvents"):d===_CPMenuManagerScrollingStateNone&&objj_msgSend(CPEvent,"startPeriodicEventsAfterDelay:withPeriod:",0,0.04))):a===CPLeftMouseUp&&objj_msgSend(d,"timestamp")-
_startTime>500+objj_msgSend(g,"numberOfItems")*5&&objj_msgSend(e,"cancelTracking"));_previousActiveItem!==l&&(clearTimeout(_showTimerID),_showTimerID=void 0);if(objj_msgSend(l,"hasSubmenu")){d=objj_msgSend(f,"rectForItemAtIndex:",h);var y=objj_msgSend(f,"isMenuBar")?CGPointMake(CGRectGetMinX(d),CGRectGetMaxY(d)):CGPointMake(CGRectGetMaxX(d),CGRectGetMinY(d));y=objj_msgSend(f,"convertBaseToGlobal:",y);_showTimerID===void 0&&(objj_msgSend(b,"showMenu:fromMenu:atPoint:",nil,g,CGPointMakeZero()),_showTimerID=
setTimeout(function(){objj_msgSend(b,"showMenu:fromMenu:atPoint:",objj_msgSend(l,"submenu"),objj_msgSend(l,"menu"),y)},250))}else objj_msgSend(b,"showMenu:fromMenu:atPoint:",nil,g,CGPointMakeZero());_previousActiveItem=l}}),new objj_method(sel_getUid("trackMenuBarButtonEvent:"),function(b,a,d){with(b){a=objj_msgSend(d,"type");if(a===CPAppKitDefined)return objj_msgSend(b,"completeTracking");var e=objj_msgSend(d,"globalLocation");d=objj_msgSend(b,"trackingMenu");var f=objj_msgSend(b,"trackingMenuContainer");
e=objj_msgSend(f,"convertGlobalToBase:",e);objj_msgSend(f,"itemIndexAtPoint:",e)===_menuBarButtonItemIndex?objj_msgSend(d,"_highlightItemAtIndex:",_menuBarButtonItemIndex):objj_msgSend(d,"_highlightItemAtIndex:",CPNotFound);objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",b,sel_getUid("trackMenuBarButtonEvent:"),CPPeriodicMask|CPMouseMovedMask|CPLeftMouseDraggedMask|CPLeftMouseUpMask|CPAppKitDefinedMask,nil,nil,YES);a===CPLeftMouseUp&&objj_msgSend(d,"cancelTracking")}}),
new objj_method(sel_getUid("completeTracking"),function(b){with(b){var a=objj_msgSend(b,"trackingMenu");objj_msgSend(CPEvent,"stopPeriodicEvents");objj_msgSend(b,"showMenu:fromMenu:atPoint:",nil,a,nil);var d=objj_msgSend(a,"delegate");objj_msgSend(d,"respondsToSelector:",sel_getUid("menuDidClose:"))&&objj_msgSend(d,"menuDidClose:",a);_trackingCallback&&_trackingCallback(objj_msgSend(b,"trackingMenuContainer"),a);objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",
CPMenuDidEndTrackingNotification,a);CPApp._activeMenu=nil}}),new objj_method(sel_getUid("menuContainerForPoint:"),function(b,a,d){with(b){var e=objj_msgSend(_menuContainerStack,"count"),f=_menuContainerStack[0];if(e===1)return f;b=0;a=e-1;if(objj_msgSend(f,"isMenuBar")){if(CGRectContainsPoint(objj_msgSend(f,"globalFrame"),d))return f;b=1}d=d.x;f=Infinity;for(var g=nil;e-- >b;){var j=_menuContainerStack[e],k=objj_msgSend(j,"globalFrame"),h=k.origin.x;k=k.origin.x+k.size.width;if(d<k&&d>=h)return j;
if(e===b||e===a)h=ABS(d<h?h-d:k-d),h<f&&(g=j,f=h)}return g}}),new objj_method(sel_getUid("showMenu:fromMenu:atPoint:"),function(b,a,d,e,f){with(b){for(a=_menuContainerStack.length;a--;){var g=_menuContainerStack[a],j=objj_msgSend(g,"menu");if(j===e)break;if(j===d)return objj_msgSend(d,"_highlightItemAtIndex:",CPNotFound);objj_msgSend(g,"orderOut:",b);objj_msgSend(g,"setMenu:",nil);objj_msgSend(_CPMenuWindow,"poolMenuWindow:",g);objj_msgSend(_menuContainerStack,"removeObjectAtIndex:",a)}if(!d)return;
objj_msgSend(d,"_highlightItemAtIndex:",CPNotFound);d=objj_msgSend(_CPMenuWindow,"menuWindowWithMenu:font:",d,objj_msgSend(_menuContainerStack[0],"font"));objj_msgSend(_menuContainerStack,"addObject:",d);objj_msgSend(d,"setConstraintRect:",_constraintRect);e===objj_msgSend(b,"trackingMenu")&&objj_msgSend(objj_msgSend(b,"trackingMenuContainer"),"isMenuBar")?objj_msgSend(d,"setBackgroundStyle:",_CPMenuWindowMenuBarBackgroundStyle):objj_msgSend(d,"setBackgroundStyle:",_CPMenuWindowPopUpBackgroundStyle);
objj_msgSend(d,"setFrameOrigin:",f);objj_msgSend(d,"orderFront:",b)}}),new objj_method(sel_getUid("interpretKeyEvent:forMenu:"),function(b,a,d,e){with(b){a=objj_msgSend(d,"modifierFlags");d=objj_msgSend(d,"charactersIgnoringModifiers");var f=objj_msgSend(CPKeyBinding,"selectorsForKey:modifierFlags:",d,a);if(f)for(a=objj_msgSend(f,"objectEnumerator");d=objj_msgSend(a,"nextObject");)d=CPSelectorFromString(d),objj_msgSend(b,"respondsToSelector:",d)&&objj_msgSend(b,"performSelector:withObject:",d,e);
else a&(CPCommandKeyMask|CPControlKeyMask)||(_keyBuffer?_keyBuffer+=d:(_startTime=objj_msgSend(CPDate,"date"),_keyBuffer=d,objj_msgSend(CPEvent,"stopPeriodicEvents"),objj_msgSend(CPEvent,"startPeriodicEventsAfterDelay:withPeriod:",0.1,0.1)),objj_msgSend(b,"selectNextItemBeginningWith:inMenu:clearBuffer:",_keyBuffer,e,NO),_lastGlobalLocation=Nil)}}),new objj_method(sel_getUid("selectNextItemBeginningWith:inMenu:clearBuffer:"),function(b,a,d,e,f){with(b){for(b=objj_msgSend(objj_msgSend(e,"itemArray"),
"objectEnumerator");a=objj_msgSend(b,"nextObject");)if(objj_msgSend(objj_msgSend(objj_msgSend(a,"title"),"commonPrefixWithString:options:",d,CPCaseInsensitiveSearch),"length")==objj_msgSend(d,"length")&&!objj_msgSend(a,"isHidden")&&objj_msgSend(a,"isEnabled")){objj_msgSend(e,"_highlightItemAtIndex:",b._index);break}f?(objj_msgSend(CPEvent,"stopPeriodicEvents"),_keyBuffer=Nil):_startTime=objj_msgSend(CPDate,"date")}}),new objj_method(sel_getUid("scrollToBeginningOfDocument:"),function(b,a,d){with(b)objj_msgSend(d,
"_highlightItemAtIndex:",0)}),new objj_method(sel_getUid("scrollToEndOfDocument:"),function(b,a,d){with(b)objj_msgSend(d,"_highlightItemAtIndex:",objj_msgSend(d,"numberOfItems")-1)}),new objj_method(sel_getUid("scrollPageDown:"),function(b,a,d){with(b){var e=d._menuWindow,f=objj_msgSend(e._menuClipView,"bounds").size.height;a=objj_msgSend(e,"itemIndexAtPoint:",CGPointMake(1,10));e=objj_msgSend(e,"itemIndexAtPoint:",CGPointMake(1,f));f=objj_msgSend(d,"indexOfItem:",objj_msgSend(d,"highlightedItem"));
if(f==CPNotFound){objj_msgSend(d,"_highlightItemAtIndex:",0);return}next=f+(e-a);next<objj_msgSend(d,"numberOfItems")?objj_msgSend(d,"_highlightItemAtIndex:",next):objj_msgSend(d,"_highlightItemAtIndex:",objj_msgSend(d,"numberOfItems")-1);a=objj_msgSend(d,"highlightedItem");(objj_msgSend(a,"isSeparatorItem")||objj_msgSend(a,"isHidden")||!objj_msgSend(a,"isEnabled"))&&objj_msgSend(b,"moveDown:",d)}}),new objj_method(sel_getUid("scrollPageUp:"),function(b,a,d){with(b){var e=d._menuWindow,f=objj_msgSend(e._menuClipView,
"bounds").size.height;a=objj_msgSend(e,"itemIndexAtPoint:",CGPointMake(1,10));e=objj_msgSend(e,"itemIndexAtPoint:",CGPointMake(1,f));f=objj_msgSend(d,"indexOfItem:",objj_msgSend(d,"highlightedItem"));if(f==CPNotFound){objj_msgSend(d,"_highlightItemAtIndex:",0);return}next=f-(e-a);next<0?objj_msgSend(d,"_highlightItemAtIndex:",0):objj_msgSend(d,"_highlightItemAtIndex:",next);a=objj_msgSend(d,"highlightedItem");(objj_msgSend(a,"isSeparatorItem")||objj_msgSend(a,"isHidden")||!objj_msgSend(a,"isEnabled"))&&
objj_msgSend(b,"moveUp:",d)}}),new objj_method(sel_getUid("moveLeft:"),function(b,a,d){with(b)objj_msgSend(d,"supermenu")&&(objj_msgSend(d,"supermenu")==objj_msgSend(CPApp,"mainMenu")?(objj_msgSend(b,"showMenu:fromMenu:atPoint:",nil,objj_msgSend(d,"supermenu"),CGPointMakeZero()),objj_msgSend(b,"moveUp:",objj_msgSend(CPApp,"mainMenu")),a=objj_msgSend(objj_msgSend(CPApp,"mainMenu"),"highlightedItem"),d=CGPointMake(objj_msgSend(objj_msgSend(a,"_menuItemView"),"frameOrigin").x,objj_msgSend(objj_msgSend(a,
"_menuItemView"),"frameSize").height),objj_msgSend(b,"showMenu:fromMenu:atPoint:",objj_msgSend(a,"submenu"),objj_msgSend(a,"menu"),d)):objj_msgSend(b,"showMenu:fromMenu:atPoint:",nil,objj_msgSend(d,"supermenu"),CGPointMakeZero()))}),new objj_method(sel_getUid("moveRight:"),function(b,a,d){with(b)if(a=objj_msgSend(d,"highlightedItem"),objj_msgSend(a,"hasSubmenu")){if(objj_msgSend(objj_msgSend(a,"submenu"),"numberOfItems")){var e=objj_msgSend(d,"indexOfItem:",a);d=d._menuWindow;e=objj_msgSend(d,"rectForItemAtIndex:",
e);e=objj_msgSend(d,"isMenuBar")?CGPointMake(CGRectGetMinX(e),CGRectGetMaxY(e)):CGPointMake(CGRectGetMaxX(e),CGRectGetMinY(e));e=objj_msgSend(d,"convertBaseToGlobal:",e);objj_msgSend(b,"showMenu:fromMenu:atPoint:",objj_msgSend(a,"submenu"),objj_msgSend(a,"menu"),e);objj_msgSend(b,"moveDown:",objj_msgSend(a,"submenu"))}}else objj_msgSend(b,"trackingMenu")==objj_msgSend(CPApp,"mainMenu")&&(objj_msgSend(b,"showMenu:fromMenu:atPoint:",nil,d,CGPointMakeZero()),objj_msgSend(b,"moveDown:",objj_msgSend(CPApp,
"mainMenu")),a=objj_msgSend(objj_msgSend(CPApp,"mainMenu"),"highlightedItem"),d=CGPointMake(objj_msgSend(objj_msgSend(a,"_menuItemView"),"frameOrigin").x,objj_msgSend(objj_msgSend(a,"_menuItemView"),"frameSize").height),objj_msgSend(b,"showMenu:fromMenu:atPoint:",objj_msgSend(a,"submenu"),objj_msgSend(a,"menu"),d))}),new objj_method(sel_getUid("moveDown:"),function(b,a,d){with(b)a=d._highlightedIndex+1,a<objj_msgSend(d,"numberOfItems")&&(objj_msgSend(d,"_highlightItemAtIndex:",a),a=objj_msgSend(d,
"highlightedItem"),(objj_msgSend(a,"isSeparatorItem")||objj_msgSend(a,"isHidden")||!objj_msgSend(a,"isEnabled"))&&objj_msgSend(b,"moveDown:",d))}),new objj_method(sel_getUid("moveUp:"),function(b,a,d){with(b){a=d._highlightedIndex-1;if(a<0)return;objj_msgSend(d,"_highlightItemAtIndex:",a);a=objj_msgSend(d,"highlightedItem");(objj_msgSend(a,"isSeparatorItem")||objj_msgSend(a,"isHidden")||!objj_msgSend(a,"isEnabled"))&&objj_msgSend(b,"moveUp:",d)}}),new objj_method(sel_getUid("insertNewline:"),function(b,
a,d){with(b)objj_msgSend(objj_msgSend(d,"highlightedItem"),"hasSubmenu")?objj_msgSend(b,"moveRight:",d):objj_msgSend(d,"cancelTracking")}),new objj_method(sel_getUid("cancelOperation:"),function(b,a,d){with(b)objj_msgSend(d,"_highlightItemAtIndex:",CPNotFound),objj_msgSend(CPEvent,"stopPeriodicEvents"),objj_msgSend(objj_msgSend(b,"trackingMenu"),"cancelTracking")})]);class_addMethods(b,[new objj_method(sel_getUid("sharedMenuManager"),function(b){with(b)return f||(f=objj_msgSend(objj_msgSend(_CPMenuManager,
"alloc"),"init")),f})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPImageAndTextView.j",baseURL),function(h,g){g("Foundation/CPString.j",NO);g("CPColor.j",YES);g("CPFont.j",YES);g("CPImage.j",YES);g("CPView.j",YES);g("CPControl.j",YES);var f=objj_allocateClassPair(CPView,"_CPImageAndTextView");class_addIvars(f,[new objj_ivar("_alignment"),new objj_ivar("_verticalAlignment"),new objj_ivar("_lineBreakMode"),new objj_ivar("_textColor"),new objj_ivar("_font"),new objj_ivar("_textShadowColor"),new objj_ivar("_textShadowOffset"),
new objj_ivar("_imagePosition"),new objj_ivar("_imageScaling"),new objj_ivar("_imageOffset"),new objj_ivar("_shouldDimImage"),new objj_ivar("_image"),new objj_ivar("_text"),new objj_ivar("_textSize"),new objj_ivar("_flags"),new objj_ivar("_DOMImageElement"),new objj_ivar("_DOMTextElement"),new objj_ivar("_DOMTextShadowElement")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:control:"),function(e,b,c,a){with(e){if(e=objj_msgSendSuper({receiver:e,super_class:objj_getClass("_CPImageAndTextView").super_class},
"initWithFrame:",c))_textShadowOffset={width:0,height:0},objj_msgSend(e,"setVerticalAlignment:",CPTopVerticalTextAlignment),a?(objj_msgSend(e,"setLineBreakMode:",objj_msgSend(a,"lineBreakMode")),objj_msgSend(e,"setTextColor:",objj_msgSend(a,"textColor")),objj_msgSend(e,"setAlignment:",objj_msgSend(a,"alignment")),objj_msgSend(e,"setVerticalAlignment:",objj_msgSend(a,"verticalAlignment")),objj_msgSend(e,"setFont:",objj_msgSend(a,"font")),objj_msgSend(e,"setImagePosition:",objj_msgSend(a,"imagePosition")),
objj_msgSend(e,"setImageScaling:",objj_msgSend(a,"imageScaling")),objj_msgSend(e,"setImageOffset:",objj_msgSend(a,"imageOffset"))):(objj_msgSend(e,"setLineBreakMode:",CPLineBreakByClipping),objj_msgSend(e,"setAlignment:",CPCenterTextAlignment),objj_msgSend(e,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",12)),objj_msgSend(e,"setImagePosition:",CPNoImage),objj_msgSend(e,"setImageScaling:",CPScaleNone)),_textSize=nil;return e}}),new objj_method(sel_getUid("initWithFrame:"),function(e,b,c){with(e)return objj_msgSend(e,
"initWithFrame:control:",c,nil)}),new objj_method(sel_getUid("setAlignment:"),function(e,b,c){with(e){if(_alignment===c)return;_alignment=c;switch(_alignment){case CPLeftTextAlignment:_DOMElement.style.textAlign="left";break;case CPRightTextAlignment:_DOMElement.style.textAlign="right";break;case CPCenterTextAlignment:_DOMElement.style.textAlign="center";break;case CPJustifiedTextAlignment:_DOMElement.style.textAlign="justify";break;case CPNaturalTextAlignment:_DOMElement.style.textAlign=""}}}),new objj_method(sel_getUid("alignment"),
function(e){with(e)return _alignment}),new objj_method(sel_getUid("setVerticalAlignment:"),function(e,b,c){with(e){if(_verticalAlignment===c)return;_verticalAlignment=c;_flags|=16;objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("verticalAlignment"),function(e){with(e)return _verticalAlignment}),new objj_method(sel_getUid("setLineBreakMode:"),function(e,b,c){with(e){if(_lineBreakMode===c)return;_lineBreakMode=c;_flags|=32;objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("lineBreakMode"),
function(e){with(e)return _lineBreakMode}),new objj_method(sel_getUid("setImagePosition:"),function(e,b,c){with(e){if(_imagePosition==c)return;_imagePosition==CPNoImage&&(_flags|=2);_imagePosition=c;_flags|=512;objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("imagePosition"),function(e){with(e)return _imagePosition}),new objj_method(sel_getUid("setImageScaling:"),function(e,b,c){with(e){if(_imageScaling==c)return;_imageScaling=c;_flags|=1024;objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("imageScaling"),
function(e){with(e)return _imageScaling}),new objj_method(sel_getUid("setDimsImage:"),function(e,b,c){with(e)c=!!c,_shouldDimImage!==c&&(_shouldDimImage=c,objj_msgSend(e,"setNeedsLayout"))}),new objj_method(sel_getUid("setTextColor:"),function(e,b,c){with(e){if(_textColor===c)return;_textColor=c;_DOMElement.style.color=objj_msgSend(_textColor,"cssString")}}),new objj_method(sel_getUid("textColor"),function(e){with(e)return _textColor}),new objj_method(sel_getUid("setFont:"),function(e,b,c){with(e){if(_font===
c)return;_font=c;_flags|=128;_textSize=nil;objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("font"),function(e){with(e)return _font}),new objj_method(sel_getUid("setTextShadowColor:"),function(e,b,c){with(e){if(_textShadowColor===c)return;_textShadowColor=c;_flags|=256;objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("textShadowColor"),function(e){with(e)return _textShadowColor}),new objj_method(sel_getUid("setTextShadowOffset:"),function(e,b,c){with(e){if(_textShadowOffset.width==
c.width&&_textShadowOffset.height==c.height)return;_textShadowOffset={width:c.width,height:c.height};objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("textShadowOffset"),function(e){with(e)return _textShadowOffset}),new objj_method(sel_getUid("setImage:"),function(e,b,c){with(e){if(_image==c)return;objj_msgSend(_image,"delegate")===e&&objj_msgSend(_image,"setDelegate:",nil);_image=c;_flags|=2;objj_msgSend(_image,"loadStatus")!==CPImageLoadStatusCompleted&&objj_msgSend(_image,"setDelegate:",
e);objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("setImageOffset:"),function(e,b,c){with(e){if(_imageOffset===c)return;_imageOffset=c;objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("imageOffset"),function(e){with(e)return _imageOffset}),new objj_method(sel_getUid("imageDidLoad:"),function(e,b,c){with(e)c===_image&&(_flags|=2,objj_msgSend(e,"setNeedsLayout"))}),new objj_method(sel_getUid("image"),function(e){with(e)return _image}),new objj_method(sel_getUid("setText:"),
function(e,b,c){with(e){if(_text===c)return;_text=c;_flags|=4;_textSize=nil;objj_msgSend(e,"setNeedsLayout")}}),new objj_method(sel_getUid("text"),function(e){with(e)return _text}),new objj_method(sel_getUid("layoutSubviews"),function(e){with(e){var b=_imagePosition!==CPImageOnly&&objj_msgSend(_text,"length")>0,c=!!_DOMTextElement;if(b!==c)c?(_DOMElement.removeChild(_DOMTextElement),_DOMTextElement=nil,c=NO):(_DOMTextElement=document.createElement("div"),b=_DOMTextElement.style,b.position="absolute",
b.whiteSpace="pre",b.zIndex=200,b.overflow="hidden",_DOMElement.appendChild(_DOMTextElement),c=YES,_flags|=164);b=c?_DOMTextElement.style:nil;var a=!!_DOMTextShadowElement;if((c&&!!_textShadowColor)!==a)a?(_DOMElement.removeChild(_DOMTextShadowElement),_DOMTextShadowElement=nil,a=NO):(_DOMTextShadowElement=document.createElement("div"),a=_DOMTextShadowElement.style,a.font=objj_msgSend(_font?_font:objj_msgSend(CPFont,"systemFontOfSize:",12),"cssString"),a.position="absolute",a.whiteSpace=b.whiteSpace,
a.wordWrap=b.wordWrap,a.color=objj_msgSend(_textShadowColor,"cssString"),a.zIndex=150,a.textOverflow=b.textOverflow,document.attachEvent?a.overflow=b.overflow:(a.overflowX=b.overflowX,a.overflowY=b.overflowY),_DOMElement.appendChild(_DOMTextShadowElement),a=YES,_flags|=4);a=a?_DOMTextShadowElement.style:nil;if(c){if(_flags&4)if(CPFeatureIsCompatible(CPJavaScriptInnerTextFeature)){if(_DOMTextElement.innerText=_text,_DOMTextShadowElement)_DOMTextShadowElement.innerText=_text}else if(CPFeatureIsCompatible(CPJavaScriptTextContentFeature)&&
(_DOMTextElement.textContent=_text,_DOMTextShadowElement))_DOMTextShadowElement.textContent=_text;if(_flags&128){var d=objj_msgSend(_font?_font:objj_msgSend(CPFont,"systemFontOfSize:",12),"cssString");b.font=d;if(a)a.font=d}if(_flags&32){switch(_lineBreakMode){case CPLineBreakByClipping:b.overflow="hidden";b.textOverflow="clip";b.whiteSpace="pre";b.wordWrap="normal";break;case CPLineBreakByTruncatingHead:case CPLineBreakByTruncatingMiddle:case CPLineBreakByTruncatingTail:b.textOverflow="ellipsis";
b.whiteSpace="nowrap";b.overflow="hidden";b.wordWrap="normal";break;case CPLineBreakByCharWrapping:case CPLineBreakByWordWrapping:b.wordWrap="break-word";try{b.whiteSpace="pre",b.whiteSpace="-o-pre-wrap",b.whiteSpace="-pre-wrap",b.whiteSpace="-moz-pre-wrap",b.whiteSpace="pre-wrap"}catch(f){b.whiteSpace="pre"}b.overflow="hidden";b.textOverflow="clip"}if(a)document.attachEvent?a.overflow=b.overflow:(a.overflowX=b.overflowX,a.overflowY=b.overflowY),a.wordWrap=b.wordWrap,a.whiteSpace=b.whiteSpace,a.textOverflow=
b.textOverflow}}var g=!!_DOMImageElement;if((_image!==nil&&_imagePosition!==CPNoImage)!==g)if(g)_DOMElement.removeChild(_DOMImageElement),_DOMImageElement=nil,g=NO;else{_DOMImageElement=document.createElement("img");objj_msgSend(CPPlatform,"supportsDragAndDrop")&&(_DOMImageElement.setAttribute("draggable","true"),_DOMImageElement.style["-khtml-user-drag"]="element");var n=_DOMImageElement.style;n.top="0px";n.left="0px";n.position="absolute";n.zIndex=100;_DOMElement.appendChild(_DOMImageElement);g=
YES}d=objj_msgSend(e,"bounds").size;e={origin:{x:0,y:0},size:{width:d.width,height:d.height}};if(g){if(!n)n=_DOMImageElement.style;if(_flags&2)_DOMImageElement.src=objj_msgSend(_image,"filename");g=d.width/2;var j=d.height/2,k=objj_msgSend(_image,"size"),h=k.width;k=k.height;if(_imageScaling===CPScaleToFit)h=d.width,k=d.height;else if(_imageScaling===CPScaleProportionally){var l=MIN(MIN(d.width,h)/h,MIN(d.height,k)/k);h*=l;k*=l}CPFeatureIsCompatible(CPOpacityRequiresFilterFeature)?n.filter="alpha(opacity="+
_shouldDimImage?35:"100)":n.opacity=_shouldDimImage?0.35:1;_DOMImageElement.width=h;_DOMImageElement.height=k;n.width=MAX(h,0)+"px";n.height=MAX(k,0)+"px";if(_imagePosition===CPImageBelow)n.left=FLOOR(g-h/2)+"px",n.top=FLOOR(d.height-k)+"px",e.size.height=d.height-k-_imageOffset;else if(_imagePosition===CPImageAbove)n.left=FLOOR(g-h/2)+"px",n.top="0px",e.origin.y+=k+_imageOffset,e.size.height=d.height-k-_imageOffset;else if(_imagePosition===CPImageLeft)n.top=FLOOR(j-k/2)+"px",n.left="0px",e.origin.x=
h+_imageOffset,e.size.width-=h+_imageOffset;else if(_imagePosition===CPImageRight)n.top=FLOOR(j-k/2)+"px",n.left=FLOOR(d.width-h)+"px",e.size.width-=h+_imageOffset;else if(_imagePosition===CPImageOnly||_imagePosition==CPImageOverlaps)n.top=FLOOR(j-k/2)+"px",n.left=FLOOR(g-h/2)+"px"}if(c){c=e.origin.x;n=e.origin.y;d=e.size.width;e=e.size.height;if(_verticalAlignment!==CPTopVerticalTextAlignment)_textSize||(_textSize=_lineBreakMode===CPLineBreakByCharWrapping||_lineBreakMode===CPLineBreakByWordWrapping?
objj_msgSend(_text,"sizeWithFont:inWidth:",_font,d):objj_msgSend(_text,"sizeWithFont:",_font)),_verticalAlignment===CPCenterVerticalTextAlignment?n+=(e-_textSize.height)/2:n=n+e-_textSize.height,e=_textSize.height;b.top=ROUND(n)+"px";b.left=ROUND(c)+"px";b.width=MAX(ROUND(d),0)+"px";b.height=MAX(ROUND(e),0)+"px";if(a){if(_flags&256)a.color=objj_msgSend(_textShadowColor,"cssString");a.top=ROUND(n+_textShadowOffset.height)+"px";a.left=ROUND(c+_textShadowOffset.width)+"px";a.width=MAX(ROUND(d),0)+"px";
a.height=MAX(ROUND(e),0)+"px"}}_flags=0}}),new objj_method(sel_getUid("sizeToFit"),function(e){with(e){var b=CGSizeMakeZero();if(_imagePosition!==CPNoImage&&_image){var c=objj_msgSend(_image,"size");b.width+=c.width;b.height+=c.height}if(_imagePosition!==CPImageOnly&&objj_msgSend(_text,"length")>0)if(_textSize||(_textSize=objj_msgSend(_text,"sizeWithFont:",_font?_font:objj_msgSend(CPFont,"systemFontOfSize:",12))),!_image||_imagePosition===CPImageOverlaps)b.width=MAX(b.width,_textSize.width),b.height=
MAX(b.height,_textSize.height);else if(_imagePosition===CPImageLeft||_imagePosition===CPImageRight)b.width+=_textSize.width+_imageOffset,b.height=MAX(b.height,_textSize.height);else if(_imagePosition===CPImageAbove||_imagePosition===CPImageBelow)b.width=MAX(b.width,_textSize.width),b.height+=_textSize.height+_imageOffset;objj_msgSend(e,"setFrameSize:",b)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPDragServer.j",baseURL),function(h,g){g("CPApplication.j",YES);g("CPEvent.j",YES);g("CPImageView.j",YES);g("CPPasteboard.j",YES);g("CPView.j",YES);g("CPWindow.j",YES);CPDragOperationNone=0;CPDragOperationLink=CPDragOperationCopy=2;CPDragOperationGeneric=4;CPDragOperationPrivate=8;CPDragOperationMove=16;CPDragOperationDelete=32;CPDragOperationEvery=-1;var f=nil,e=nil,b=objj_allocateClassPair(CPObject,"CPDraggingInfo"),c=b.isa;objj_registerClassPair(b);
class_addMethods(b,[new objj_method(sel_getUid("draggingPasteboard"),function(a){with(a){if(objj_msgSend(CPPlatform,"supportsDragAndDrop"))return objj_msgSend(_CPDOMDataTransferPasteboard,"DOMDataTransferPasteboard");return objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingPasteboard")}}),new objj_method(sel_getUid("draggingSource"),function(a){with(a)return objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingSource")}),new objj_method(sel_getUid("draggingLocation"),
function(a){with(a)return objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingLocation")}),new objj_method(sel_getUid("draggingDestinationWindow"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingDestination"),"isKindOfClass:",objj_msgSend(CPWindow,"class"))?objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingDestination"):objj_msgSend(objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggingDestination"),
"window")}),new objj_method(sel_getUid("draggedImage"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"draggedView"),"image")}),new objj_method(sel_getUid("draggedImageLocation"),function(a){with(a)return objj_msgSend(a,"draggedViewLocation")}),new objj_method(sel_getUid("draggedView"),function(a){with(a)return objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"draggedView")}),new objj_method(sel_getUid("draggedViewLocation"),function(a){with(a)return a=objj_msgSend(CPDragServer,"sharedDragServer"),
objj_msgSend(objj_msgSend(objj_msgSend(a,"draggingDestination"),"isKindOfClass:",objj_msgSend(CPWindow,"class"))?objj_msgSend(a,"draggingDestination"):objj_msgSend(objj_msgSend(a,"draggingDestination"),"window"),"convertPlatformWindowToBase:",objj_msgSend(objj_msgSend(a,"draggedView"),"frame").origin)})]);b=objj_allocateClassPair(CPObject,"CPDragServer");c=b.isa;class_addIvars(b,[new objj_ivar("_isDragging"),new objj_ivar("_draggedWindow"),new objj_ivar("_draggedView"),new objj_ivar("_imageView"),
new objj_ivar("_isDraggingImage"),new objj_ivar("_draggingOffset"),new objj_ivar("_draggingPasteboard"),new objj_ivar("_draggingSource"),new objj_ivar("_implementedDraggingSourceMethods"),new objj_ivar("_draggingLocation"),new objj_ivar("_draggingDestination"),new objj_ivar("_draggingDestinationWantsPeriodicUpdates"),new objj_ivar("_startDragLocation"),new objj_ivar("_shouldSlideBack"),new objj_ivar("_dragOperation"),new objj_ivar("_draggingUpdateTimer")]);objj_registerClassPair(b);class_addMethods(b,
[new objj_method(sel_getUid("isDragging"),function(a){with(a)return _isDragging}),new objj_method(sel_getUid("draggedWindow"),function(a){with(a)return _draggedWindow}),new objj_method(sel_getUid("draggedView"),function(a){with(a)return _draggedView}),new objj_method(sel_getUid("draggingOffset"),function(a){with(a)return _draggingOffset}),new objj_method(sel_getUid("draggingPasteboard"),function(a){with(a)return _draggingPasteboard}),new objj_method(sel_getUid("draggingSource"),function(a){with(a)return _draggingSource}),
new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPDragServer").super_class},"init"))_draggedWindow=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",{origin:{x:0,y:0},size:{width:0,height:0}},CPBorderlessWindowMask),objj_msgSend(_draggedWindow,"setLevel:",CPDraggingWindowLevel);return a}}),new objj_method(sel_getUid("draggingDestination"),function(a){with(a)return _draggingDestination}),new objj_method(sel_getUid("draggingLocation"),
function(a){with(a)return _draggingLocation}),new objj_method(sel_getUid("draggingStartedInPlatformWindow:globalLocation:"),function(a,b,c,e){with(a)_isDraggingImage?objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedImage:beganAt:"))&&objj_msgSend(_draggingSource,"draggedImage:beganAt:",objj_msgSend(_draggedView,"image"),e):objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedView:beganAt:"))&&objj_msgSend(_draggingSource,"draggedView:beganAt:",_draggedView,e),
objj_msgSend(CPPlatform,"supportsDragAndDrop")||objj_msgSend(_draggedWindow,"orderFront:",a)}),new objj_method(sel_getUid("draggingSourceUpdatedWithGlobalLocation:"),function(a,b,c){with(a)objj_msgSend(CPPlatform,"supportsDragAndDrop")||objj_msgSend(_draggedWindow,"setFrameOrigin:",{x:c.x-_draggingOffset.width,y:c.y-_draggingOffset.height}),_implementedDraggingSourceMethods&1?objj_msgSend(_draggingSource,"draggedImage:movedTo:",objj_msgSend(_draggedView,"image"),c):_implementedDraggingSourceMethods&
4&&objj_msgSend(_draggingSource,"draggedView:movedTo:",_draggedView,c)}),new objj_method(sel_getUid("draggingUpdatedInPlatformWindow:location:"),function(a,b,c,f){with(a){objj_msgSend(_draggingUpdateTimer,"invalidate");_draggingUpdateTimer=nil;b=CPDragOperationCopy;var g=objj_msgSend(c,"_dragHitTest:pasteboard:",f,objj_msgSend(e,"draggingPasteboard"));g&&(_draggingLocation=objj_msgSend(objj_msgSend(g,"isKindOfClass:",objj_msgSend(CPWindow,"class"))?g:objj_msgSend(g,"window"),"convertPlatformWindowToBase:",
f));g!==_draggingDestination?(objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("draggingExited:"))&&objj_msgSend(_draggingDestination,"draggingExited:",e),_draggingDestination=g,_draggingDestinationWantsPeriodicUpdates=objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("wantsPeriodicDraggingUpdates"))?objj_msgSend(_draggingDestination,"wantsPeriodicDraggingUpdates"):YES,objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("draggingEntered:"))&&(b=objj_msgSend(_draggingDestination,
"draggingEntered:",e))):objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("draggingUpdated:"))&&(b=objj_msgSend(_draggingDestination,"draggingUpdated:",e));if(_draggingDestination){if(_draggingDestinationWantsPeriodicUpdates&&(_draggingUpdateTimer=objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",0.05,a,sel_getUid("_sendPeriodicDraggingUpdate:"),objj_msgSend(CPDictionary,"dictionaryWithJSObject:",{platformWindow:c,location:f}),NO)),a=objj_msgSend(_draggingDestination,
"isKindOfClass:",objj_msgSend(CPView,"class"))?objj_msgSend(_draggingDestination,"enclosingScrollView"):nil){c=objj_msgSend(a,"contentView");f=objj_msgSend(c,"bounds");g=CGRectInset(f,10,10);var j=objj_msgSend(c,"convertPoint:fromView:",_draggingLocation,nil),k=0,h=0;if(!CGRectContainsPoint(g,j)){if(objj_msgSend(a,"hasVerticalScroller")&&(j.y<CGRectGetMinY(g)?h=CGRectGetMinY(g)-j.y:j.y>CGRectGetMaxY(g)&&(h=CGRectGetMaxY(g)-j.y),h<-g.size.height&&(h=-g.size.height),h>g.size.height))h=g.size.height;
if(objj_msgSend(a,"hasHorizontalScroller")&&(j.x<CGRectGetMinX(g)?k=CGRectGetMinX(g)-j.x:j.x>CGRectGetMaxX(g)&&(k=CGRectGetMaxX(g)-j.x),k<-g.size.width&&(k=-g.size.width),k>g.size.width))k=g.size.width;objj_msgSend(c,"scrollToPoint:",CGPointMake(f.origin.x-k,f.origin.y-h))}}}else b=CPDragOperationNone;return b}}),new objj_method(sel_getUid("_sendPeriodicDraggingUpdate:"),function(a,b,c){with(a)b=objj_msgSend(c,"userInfo"),_dragOperation=objj_msgSend(a,"draggingUpdatedInPlatformWindow:location:",objj_msgSend(b,
"objectForKey:","platformWindow"),objj_msgSend(b,"objectForKey:","location"))}),new objj_method(sel_getUid("draggingEndedInPlatformWindow:globalLocation:operation:"),function(a,b,c,e,f){with(a)objj_msgSend(_draggingUpdateTimer,"invalidate"),_draggingUpdateTimer=nil,objj_msgSend(_draggedView,"removeFromSuperview"),objj_msgSend(CPPlatform,"supportsDragAndDrop")||objj_msgSend(_draggedWindow,"orderOut:",a),_implementedDraggingSourceMethods&2?objj_msgSend(_draggingSource,"draggedImage:endedAt:operation:",
objj_msgSend(_draggedView,"image"),e,f):_implementedDraggingSourceMethods&8&&objj_msgSend(_draggingSource,"draggedView:endedAt:operation:",_draggedView,e,f),_isDragging=NO}),new objj_method(sel_getUid("performDragOperationInPlatformWindow:"),function(a){with(a)_draggingDestination&&(!objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("prepareForDragOperation:"))||objj_msgSend(_draggingDestination,"prepareForDragOperation:",e))&&(!objj_msgSend(_draggingDestination,"respondsToSelector:",
sel_getUid("performDragOperation:"))||objj_msgSend(_draggingDestination,"performDragOperation:",e))&&objj_msgSend(_draggingDestination,"respondsToSelector:",sel_getUid("concludeDragOperation:"))&&objj_msgSend(_draggingDestination,"concludeDragOperation:",e)}),new objj_method(sel_getUid("dragView:fromWindow:at:offset:event:pasteboard:source:slideBack:"),function(a,b,c,e,f,g,k,h,l,w){with(a)_isDragging=YES,_draggedView=c,_draggingPasteboard=h||objj_msgSend(CPPasteboard,"pasteboardWithName:",CPDragPboard),
_draggingSource=l,_draggingDestination=nil,_shouldSlideBack=w,b=objj_msgSend(k,"window"),(g=objj_msgSend(k,"locationInWindow"))?(b&&(g=objj_msgSend(b,"convertBaseToGlobal:",g)),_draggingOffset={width:g.x-f.x,height:g.y-f.y}):_draggingOffset={width:0,height:0},objj_msgSend(CPPlatform,"isBrowser")&&objj_msgSend(_draggedWindow,"setPlatformWindow:",objj_msgSend(e,"platformWindow")),objj_msgSend(c,"setFrameOrigin:",{x:0,y:0}),f=objj_msgSend(CPEvent,"mouseLocation"),_startDragLocation={x:f.x-_draggingOffset.width,
y:f.y-_draggingOffset.height},objj_msgSend(_draggedWindow,"setFrameOrigin:",_startDragLocation),objj_msgSend(_draggedWindow,"setFrameSize:",objj_msgSend(c,"frame").size),objj_msgSend(objj_msgSend(_draggedWindow,"contentView"),"addSubview:",c),_implementedDraggingSourceMethods=0,_draggedView===_imageView?(objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedImage:movedTo:"))&&(_implementedDraggingSourceMethods|=1),objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedImage:endedAt:operation:"))&&
(_implementedDraggingSourceMethods|=2)):(objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedView:movedTo:"))&&(_implementedDraggingSourceMethods|=4),objj_msgSend(_draggingSource,"respondsToSelector:",sel_getUid("draggedView:endedAt:operation:"))&&(_implementedDraggingSourceMethods|=8)),objj_msgSend(CPPlatform,"supportsDragAndDrop")||(objj_msgSend(a,"draggingStartedInPlatformWindow:globalLocation:",objj_msgSend(e,"platformWindow"),f),objj_msgSend(a,"trackDragging:",k))}),new objj_method(sel_getUid("dragImage:fromWindow:at:offset:event:pasteboard:source:slideBack:"),
function(a,b,c,e,f,g,h,t,l,w){with(a)_isDraggingImage=YES,b=objj_msgSend(c,"size"),_imageView||(_imageView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",{origin:{x:0,y:0},size:{width:b.width,height:b.height}})),objj_msgSend(_imageView,"setImage:",c),objj_msgSend(a,"dragView:fromWindow:at:offset:event:pasteboard:source:slideBack:",_imageView,e,f,g,h,t,l,w)}),new objj_method(sel_getUid("trackDragging:"),function(a,b,c){with(a){b=objj_msgSend(c,"type");var e=objj_msgSend(_draggedWindow,
"platformWindow"),f=objj_msgSend(objj_msgSend(c,"window"),"convertBaseToPlatformWindow:",objj_msgSend(c,"locationInWindow"));if(b===CPLeftMouseUp){_dragOperation!==CPDragOperationNone&&objj_msgSend(a,"performDragOperationInPlatformWindow:",e);objj_msgSend(a,"draggingEndedInPlatformWindow:globalLocation:operation:",e,f,_dragOperation);return}else if(b===CPKeyDown){if(objj_msgSend(c,"characters")===CPEscapeFunctionKey){_dragOperation=CPDragOperationNone;objj_msgSend(a,"draggingEndedInPlatformWindow:globalLocation:operation:",
e,CGPointMakeZero(),_dragOperation);return}}else objj_msgSend(a,"draggingSourceUpdatedWithGlobalLocation:",f),_dragOperation=objj_msgSend(a,"draggingUpdatedInPlatformWindow:location:",e,f);objj_msgSend(CPApp,"setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:",a,sel_getUid("trackDragging:"),CPMouseMovedMask|CPLeftMouseDraggedMask|CPLeftMouseUpMask|CPKeyDownMask,nil,0,NO)}})]);class_addMethods(c,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==objj_msgSend(CPDragServer,
"class"))return;e=objj_msgSend(objj_msgSend(CPDraggingInfo,"alloc"),"init")}}),new objj_method(sel_getUid("sharedDragServer"),function(a){with(a)return f||(f=objj_msgSend(objj_msgSend(CPDragServer,"alloc"),"init")),f})]);b=objj_getClass("CPWindow");if(!b)throw new SyntaxError('*** Could not find definition for class "CPWindow"');c=b.isa;class_addMethods(b,[new objj_method(sel_getUid("_dragHitTest:pasteboard:"),function(a,b,c,e){with(a){if(!_inclusiveRegisteredDraggedTypes)return nil;b=objj_msgSend(a,
"convertPlatformWindowToBase:",c);for(b=objj_msgSend(_windowView,"hitTest:",b);b&&!objj_msgSend(e,"availableTypeFromArray:",objj_msgSend(b,"registeredDraggedTypes"));)b=objj_msgSend(b,"superview");if(b)return b;if(objj_msgSend(e,"availableTypeFromArray:",objj_msgSend(a,"registeredDraggedTypes")))return a;return nil}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuBarWindow.j",baseURL),function(h,g){g("CPPanel.j",YES);g("_CPMenuWindow.j",YES);var f=nil,e=nil,b=objj_allocateClassPair(CPPanel,"_CPMenuBarWindow"),c=b.isa;class_addIvars(b,[new objj_ivar("_menu"),new objj_ivar("_highlightView"),new objj_ivar("_menuItemViews"),new objj_ivar("_trackingMenuItem"),new objj_ivar("_iconImageView"),new objj_ivar("_titleField"),new objj_ivar("_textColor"),new objj_ivar("_titleColor"),new objj_ivar("_textShadowColor"),
new objj_ivar("_titleShadowColor"),new objj_ivar("_highlightColor"),new objj_ivar("_highlightTextColor"),new objj_ivar("_highlightTextShadowColor")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("init"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"),"contentBounds");b.size.height=28;if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuBarWindow").super_class},"initWithContentRect:styleMask:",b,CPBorderlessWindowMask))objj_msgSend(a,
"setLevel:",CPMainMenuWindowLevel),objj_msgSend(a,"setAutoresizingMask:",CPWindowWidthSizable),b=objj_msgSend(a,"contentView"),objj_msgSend(b,"setAutoresizesSubviews:",NO),objj_msgSend(a,"setBecomesKeyOnlyIfNeeded:",YES),_iconImageView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMake(0,0,16,16)),objj_msgSend(b,"addSubview:",_iconImageView),_titleField=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_titleField,"setFont:",objj_msgSend(CPFont,
"boldSystemFontOfSize:",13)),objj_msgSend(_titleField,"setAlignment:",CPCenterTextAlignment),objj_msgSend(_titleField,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(b,"addSubview:",_titleField);return a}}),new objj_method(sel_getUid("setTitle:"),function(a,b,c){with(a)b=objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"objectForInfoDictionaryKey:","CPBundleName"),document.title=objj_msgSend(b,"length")?objj_msgSend(c,"length")?c+" - "+b:b:c,objj_msgSend(_titleField,"setStringValue:",c),objj_msgSend(_titleField,
"sizeToFit"),objj_msgSend(a,"tile")}),new objj_method(sel_getUid("setIconImage:"),function(a,b,c){with(a)objj_msgSend(_iconImageView,"setImage:",c),objj_msgSend(_iconImageView,"setHidden:",c==nil),objj_msgSend(a,"tile")}),new objj_method(sel_getUid("setIconImageAlphaValue:"),function(a,b,c){with(a)objj_msgSend(_iconImageView,"setAlphaValue:",c)}),new objj_method(sel_getUid("setColor:"),function(a,b,c){with(a)c?objj_msgSend(objj_msgSend(a,"contentView"),"setBackgroundColor:",c):(f||(f=objj_msgSend(CPColor,
"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_CPMenuBarWindow,"class")),"pathForResource:","_CPMenuBarWindow/_CPMenuBarWindowBackground.png"),CGSizeMake(1,28)))),objj_msgSend(objj_msgSend(a,"contentView"),"setBackgroundColor:",f))}),new objj_method(sel_getUid("setTextColor:"),function(a,b,c){with(a){if(_textColor==c)return;_textColor=c;objj_msgSend(_menuItemViews,"makeObjectsPerformSelector:withObject:",
sel_getUid("setTextColor:"),_textColor)}}),new objj_method(sel_getUid("setTitleColor:"),function(a,b,c){with(a){if(_titleColor==c)return;_titleColor=c;objj_msgSend(_titleField,"setTextColor:",c?c:objj_msgSend(CPColor,"blackColor"))}}),new objj_method(sel_getUid("setTextShadowColor:"),function(a,b,c){with(a){if(_textShadowColor==c)return;_textShadowColor=c;objj_msgSend(_menuItemViews,"makeObjectsPerformSelector:withObject:",sel_getUid("setTextShadowColor:"),_textShadowColor)}}),new objj_method(sel_getUid("setTitleShadowColor:"),
function(a,b,c){with(a){if(_titleShadowColor==c)return;_titleShadowColor=c;objj_msgSend(_titleField,"setTextShadowColor:",c?c:objj_msgSend(CPColor,"whiteColor"))}}),new objj_method(sel_getUid("setHighlightColor:"),function(a,b,c){with(a){if(_highlightColor==c)return;_highlightColor=c}}),new objj_method(sel_getUid("setHighlightTextColor:"),function(a,b,c){with(a){if(_highlightTextColor==c)return;_highlightTextColor=c}}),new objj_method(sel_getUid("setHighlightTextShadowColor:"),function(a,b,c){with(a){if(_highlightTextShadowColor==
c)return;_highlightTextShadowColor=c}}),new objj_method(sel_getUid("setMenu:"),function(a,b,c){with(a){if(_menu==c)return;var e=objj_msgSend(CPNotificationCenter,"defaultCenter");if(_menu){objj_msgSend(e,"removeObserver:name:object:",a,CPMenuDidAddItemNotification,_menu);objj_msgSend(e,"removeObserver:name:object:",a,CPMenuDidChangeItemNotification,_menu);objj_msgSend(e,"removeObserver:name:object:",a,CPMenuDidRemoveItemNotification,_menu);b=objj_msgSend(_menu,"itemArray");for(var f=b.length;f--;)objj_msgSend(objj_msgSend(b[f],
"_menuItemView"),"removeFromSuperview")}if(_menu=c)objj_msgSend(e,"addObserver:selector:name:object:",a,sel_getUid("menuDidAddItem:"),CPMenuDidAddItemNotification,_menu),objj_msgSend(e,"addObserver:selector:name:object:",a,sel_getUid("menuDidChangeItem:"),CPMenuDidChangeItemNotification,_menu),objj_msgSend(e,"addObserver:selector:name:object:",a,sel_getUid("menuDidRemoveItem:"),CPMenuDidRemoveItemNotification,_menu);_menuItemViews=[];c=objj_msgSend(a,"contentView");b=objj_msgSend(_menu,"itemArray");
f=b.length;for(index=0;index<f;++index){e=b[index];var g=objj_msgSend(e,"_menuItemView");_menuItemViews.push(g);objj_msgSend(g,"setTextColor:",_textColor);objj_msgSend(g,"setHidden:",objj_msgSend(e,"isHidden"));objj_msgSend(g,"synchronizeWithMenuItem");objj_msgSend(c,"addSubview:",g)}objj_msgSend(a,"tile")}}),new objj_method(sel_getUid("menuDidChangeItem:"),function(a,b,c){with(a)b=objj_msgSend(_menu,"itemAtIndex:",objj_msgSend(objj_msgSend(c,"userInfo"),"objectForKey:","CPMenuItemIndex")),c=objj_msgSend(b,
"_menuItemView"),objj_msgSend(c,"setHidden:",objj_msgSend(b,"isHidden")),objj_msgSend(c,"synchronizeWithMenuItem"),objj_msgSend(a,"tile")}),new objj_method(sel_getUid("menuDidAddItem:"),function(a,b,c){with(a){b=objj_msgSend(objj_msgSend(c,"userInfo"),"objectForKey:","CPMenuItemIndex");c=objj_msgSend(_menu,"itemAtIndex:",b);var e=objj_msgSend(c,"_menuItemView");objj_msgSend(_menuItemViews,"insertObject:atIndex:",e,b);objj_msgSend(e,"setTextColor:",_textColor);objj_msgSend(e,"setHidden:",objj_msgSend(c,
"isHidden"));objj_msgSend(e,"synchronizeWithMenuItem");objj_msgSend(objj_msgSend(a,"contentView"),"addSubview:",e);objj_msgSend(a,"tile")}}),new objj_method(sel_getUid("menuDidRemoveItem:"),function(a,b,c){with(a)b=objj_msgSend(objj_msgSend(c,"userInfo"),"objectForKey:","CPMenuItemIndex"),c=objj_msgSend(_menuItemViews,"objectAtIndex:",b),objj_msgSend(_menuItemViews,"removeObjectAtIndex:",b),objj_msgSend(c,"removeFromSuperview"),objj_msgSend(a,"tile")}),new objj_method(sel_getUid("mouseDown:"),function(a,
b,c){with(a)b=CGRectInset(objj_msgSend(objj_msgSend(a,"platformWindow"),"visibleFrame"),5,0),b.size.height-=5,objj_msgSend(objj_msgSend(_CPMenuManager,"sharedMenuManager"),"beginTracking:menuContainer:constraintRect:callback:",c,a,b,function(a,b){objj_msgSend(b,"_performActionOfHighlightedItemChain");objj_msgSend(b,"_highlightItemAtIndex:",CPNotFound)})}),new objj_method(sel_getUid("font"),function(a){with(a)objj_msgSend(CPFont,"systemFontOfSize:",12)}),new objj_method(sel_getUid("tile"),function(a){with(a){for(var b=
objj_msgSend(_menu,"itemArray"),c=0,e=b.length,f=10,g=YES;c<e;++c){var h=b[c];if(objj_msgSend(h,"isSeparatorItem"))f=CGRectGetWidth(objj_msgSend(a,"frame"))-10,g=NO;else if(!objj_msgSend(h,"isHidden")){h=objj_msgSend(h,"_menuItemView");var t=objj_msgSend(h,"frame");g?(objj_msgSend(h,"setFrame:",CGRectMake(f,0,CGRectGetWidth(t),28)),f+=CGRectGetWidth(objj_msgSend(h,"frame"))):(objj_msgSend(h,"setFrame:",CGRectMake(f-CGRectGetWidth(t),0,CGRectGetWidth(t),28)),f=CGRectGetMinX(objj_msgSend(h,"frame")))}}a=
objj_msgSend(objj_msgSend(a,"contentView"),"bounds");b=objj_msgSend(_titleField,"frame");objj_msgSend(_iconImageView,"isHidden")?objj_msgSend(_titleField,"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-CGRectGetWidth(b))/2,(CGRectGetHeight(a)-CGRectGetHeight(b))/2)):(c=objj_msgSend(_iconImageView,"frame"),e=CGRectGetWidth(c),f=e+CGRectGetWidth(b),objj_msgSend(_iconImageView,"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-f)/2,(CGRectGetHeight(a)-CGRectGetHeight(c))/2)),objj_msgSend(_titleField,
"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-f)/2+e,(CGRectGetHeight(a)-CGRectGetHeight(b))/2)))}}),new objj_method(sel_getUid("setFrame:display:animate:"),function(a,b,c,e,f){with(a)b=objj_msgSend(a,"frame").size,objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuBarWindow").super_class},"setFrame:display:animate:",c,e,f),b.width==c.size.width&&b.height==c.size.height||objj_msgSend(a,"tile")})]);class_addMethods(c,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=
objj_msgSend(_CPMenuBarWindow,"class"))return;objj_msgSend(CPBundle,"bundleForClass:",a);e=objj_msgSend(CPFont,"boldSystemFontOfSize:",12)}}),new objj_method(sel_getUid("font"),function(a){with(a)return e})]);b=objj_getClass("_CPMenuBarWindow");if(!b)throw new SyntaxError('*** Could not find definition for class "_CPMenuBarWindow"');c=b.isa;class_addMethods(b,[new objj_method(sel_getUid("isMenuBar"),function(a){with(a)return YES}),new objj_method(sel_getUid("globalFrame"),function(a){with(a)return objj_msgSend(a,
"frame")}),new objj_method(sel_getUid("scrollingStateForPoint:"),function(a){with(a)return _CPMenuManagerScrollingStateNone}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(a,b,c){with(a){b=objj_msgSend(_menu,"itemArray");for(var e=b.length;e--;){var f=b[e];if(!objj_msgSend(f,"isHidden")&&!objj_msgSend(f,"isSeparatorItem")&&CGRectContainsPoint(objj_msgSend(a,"rectForItemAtIndex:",e),c))return e}return CPNotFound}}),new objj_method(sel_getUid("rectForItemAtIndex:"),function(a,b,c){with(a)return a=
objj_msgSend(_menu,"itemAtIndex:",c===CPNotFound?0:c),objj_msgSend(objj_msgSend(a,"_menuItemView"),"frame")})]);b=objj_allocateClassPair(_CPMenuView,"_CPMenuBarView");c=b.isa;objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("rectForItemAtIndex:"),function(a,b,c){with(a)return objj_msgSend(_menuItemViews[c===CPNotFound?0:c],"frame")}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(a,b,c){with(a){a=objj_msgSend(a,"bounds");if(!CGRectContainsPoint(a,c))return CPNotFound;
c=c.x;a=0;for(b=_visibleMenuItemInfos.length-1;a<=b;){var e=FLOOR(a+(b-a)/2),f=_visibleMenuItemInfos[e],g=objj_msgSend(f.view,"frame");if(c<CGRectGetMinX(g))b=e-1;else if(c>CGRectGetMaxX(g))a=e+1;else return f.index}return CPNotFound}}),new objj_method(sel_getUid("tile"),function(a){with(a){for(var b=objj_msgSend(_menu,"itemArray"),c=0,e=b.length,f=10,g=YES;c<e;++c){var h=b[c];if(objj_msgSend(h,"isSeparatorItem"))f=CGRectGetWidth(objj_msgSend(a,"frame"))-10,g=NO;else if(!objj_msgSend(h,"isHidden")){h=
objj_msgSend(h,"_menuItemView");var t=objj_msgSend(h,"frame");g?(objj_msgSend(h,"setFrameOrigin:",CGPointMake(f,(27-CGRectGetHeight(t))/2)),f+=CGRectGetWidth(objj_msgSend(h,"frame"))+10):(objj_msgSend(h,"setFrameOrigin:",CGPointMake(f-CGRectGetWidth(t),(27-CGRectGetHeight(t))/2)),f=CGRectGetMinX(objj_msgSend(h,"frame"))-10)}}a=objj_msgSend(objj_msgSend(a,"contentView"),"bounds");b=objj_msgSend(_titleField,"frame");objj_msgSend(_iconImageView,"isHidden")?objj_msgSend(_titleField,"setFrameOrigin:",
CGPointMake((CGRectGetWidth(a)-CGRectGetWidth(b))/2,(CGRectGetHeight(a)-CGRectGetHeight(b))/2)):(c=objj_msgSend(_iconImageView,"frame"),e=CGRectGetWidth(c),f=e+CGRectGetWidth(b),objj_msgSend(_iconImageView,"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-f)/2,(CGRectGetHeight(a)-CGRectGetHeight(c))/2)),objj_msgSend(_titleField,"setFrameOrigin:",CGPointMake((CGRectGetWidth(a)-f)/2+e,(CGRectGetHeight(a)-CGRectGetHeight(b))/2)))}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPColor.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);g("CGColor.j",YES);g("CPCompatibility.j",YES);g("CPImage.j",YES);var f,e,b,c,a,d,i,o,n,j,k,t,l,w,y,A,r=objj_allocateClassPair(CPObject,"CPColor"),q=r.isa;class_addIvars(r,[new objj_ivar("_components"),new objj_ivar("_patternImage"),new objj_ivar("_cssString")]);objj_registerClassPair(r);class_addMethods(r,[new objj_method(sel_getUid("_initWithCSSString:"),function(a,
b,c){with(a){if(c.indexOf("rgb")==CPNotFound)return nil;a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPColor").super_class},"init");b=c.indexOf("(");b=c.substring(b+1).split(",");_components=[parseInt(b[0],10)/255,parseInt(b[1],10)/255,parseInt(b[2],10)/255,b[3]?parseInt(b[3],10)/255:1];_cssString=c;return a}}),new objj_method(sel_getUid("_initWithRGBA:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPColor").super_class},"init"))_components=
c,b=CPFeatureIsCompatible(CPCSSRGBAFeature)&&_components[3]!=1,_cssString=(b?"rgba(":"rgb(")+parseInt(_components[0]*255)+", "+parseInt(_components[1]*255)+", "+parseInt(_components[2]*255)+(b?", "+_components[3]:"")+")";return a}}),new objj_method(sel_getUid("_initWithPatternImage:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPColor").super_class},"init"))_patternImage=c,_cssString='url("'+objj_msgSend(_patternImage,"filename")+'")',_components=[0,0,0,
1];return a}}),new objj_method(sel_getUid("patternImage"),function(a){with(a)return _patternImage}),new objj_method(sel_getUid("alphaComponent"),function(a){with(a)return _components[3]}),new objj_method(sel_getUid("blueComponent"),function(a){with(a)return _components[2]}),new objj_method(sel_getUid("greenComponent"),function(a){with(a)return _components[1]}),new objj_method(sel_getUid("redComponent"),function(a){with(a)return _components[0]}),new objj_method(sel_getUid("components"),function(a){with(a)return _components}),
new objj_method(sel_getUid("colorWithAlphaComponent:"),function(a,b,c){with(a)return b=_components.slice(),b[b.length-1]=c,objj_msgSend(objj_msgSend(objj_msgSend(a,"class"),"alloc"),"_initWithRGBA:",b)}),new objj_method(sel_getUid("hsbComponents"),function(a){with(a){a=ROUND(_components[0]*255);var b=ROUND(_components[1]*255),c=ROUND(_components[2]*255),d=MAX(a,b,c),e=MIN(a,b,c),f=d-e;e=d/255;var g=d!=0?f/d:0;if(g==0)a=0;else{var i=(d-a)/f,j=(d-b)/f;c=(d-c)/f;a=a==d?c-j:b==d?2+i-c:4+j-i;a/=6;a<0&&
a++}return[ROUND(a*360),ROUND(g*100),ROUND(e*100)]}}),new objj_method(sel_getUid("cssString"),function(a){with(a)return _cssString}),new objj_method(sel_getUid("hexString"),function(a){with(a){var b=objj_msgSend(a,"redComponent"),c=objj_msgSend(a,"greenComponent");a=objj_msgSend(a,"blueComponent");return s(b)+s(c)+s(a)}}),new objj_method(sel_getUid("isEqual:"),function(a,b,c){with(a){if(!c)return NO;if(c===a)return YES;return objj_msgSend(c,"isKindOfClass:",CPColor)&&objj_msgSend(c,"cssString")===
objj_msgSend(a,"cssString")}}),new objj_method(sel_getUid("description"),function(a){with(a)return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPColor").super_class},"description")+" "+objj_msgSend(a,"cssString")})]);class_addMethods(q,[new objj_method(sel_getUid("colorWithRed:green:blue:alpha:"),function(a,b,c,d,e,f){with(a)return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[c,d,e,f])}),new objj_method(sel_getUid("colorWithCalibratedRed:green:blue:alpha:"),function(a,
b,c,d,e,f){with(a)return objj_msgSend(a,"colorWithRed:green:blue:alpha:",c,d,e,f)}),new objj_method(sel_getUid("colorWithWhite:alpha:"),function(a,b,c,d){with(a)return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[c,c,c,d])}),new objj_method(sel_getUid("colorWithCalibratedWhite:alpha:"),function(a,b,c,d){with(a)return objj_msgSend(a,"colorWithWhite:alpha:",c,d)}),new objj_method(sel_getUid("colorWithHue:saturation:brightness:"),function(a,b,c,d,e){with(a)return objj_msgSend(a,"colorWithHue:saturation:brightness:alpha:",
c,d,e,1)}),new objj_method(sel_getUid("colorWithHue:saturation:brightness:alpha:"),function(a,b,c,d,e,f){with(a){if(d===0)return objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",e/100,f);var g=c%60;a=e*(100-d)/1E4;b=e*(6E3-d*g)/6E5;d=e*(6E3-d*(60-g))/6E5;e/=100;switch(FLOOR(c/60)){case 0:return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",e,d,a,f);case 1:return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",b,e,a,f);case 2:return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",
a,e,d,f);case 3:return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",a,b,e,f);case 4:return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",d,a,e,f);case 5:return objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",e,a,b,f)}}}),new objj_method(sel_getUid("colorWithHexString:"),function(a,b,c){with(a)return(a=m(c))?objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",a):null}),new objj_method(sel_getUid("blackColor"),function(a){with(a)return f||
(f=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0,0,0,1])),f}),new objj_method(sel_getUid("blueColor"),function(a){with(a)return c||(c=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0,0,1,1])),c}),new objj_method(sel_getUid("darkGrayColor"),function(a){with(a)return o||(o=objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",1/3,1)),o}),new objj_method(sel_getUid("grayColor"),function(a){with(a)return d||(d=objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",0.5,
1)),d}),new objj_method(sel_getUid("greenColor"),function(a){with(a)return b||(b=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0,1,0,1])),b}),new objj_method(sel_getUid("lightGrayColor"),function(a){with(a)return i||(i=objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",2/3,1)),i}),new objj_method(sel_getUid("redColor"),function(a){with(a)return e||(e=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,0,0,1])),e}),new objj_method(sel_getUid("whiteColor"),function(a){with(a)return n||
(n=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,1,1,1])),n}),new objj_method(sel_getUid("yellowColor"),function(b){with(b)return a||(a=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,1,0,1])),a}),new objj_method(sel_getUid("brownColor"),function(a){with(a)return j||(j=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0.6,0.4,0.2,1])),j}),new objj_method(sel_getUid("cyanColor"),function(a){with(a)return k||(k=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",
[0,1,1,1])),k}),new objj_method(sel_getUid("magentaColor"),function(a){with(a)return t||(t=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,0,1,1])),t}),new objj_method(sel_getUid("orangeColor"),function(a){with(a)return l||(l=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[1,0.5,0,1])),l}),new objj_method(sel_getUid("purpleColor"),function(a){with(a)return w||(w=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0.5,0,0.5,1])),w}),new objj_method(sel_getUid("shadowColor"),
function(a){with(a)return y||(y=objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0,0,0,1/3])),y}),new objj_method(sel_getUid("clearColor"),function(a){with(a)return A||(A=objj_msgSend(a,"colorWithCalibratedWhite:alpha:",0,0)),A}),new objj_method(sel_getUid("alternateSelectedControlColor"),function(a){with(a)return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithRGBA:",[0.22,0.46,0.84,1])}),new objj_method(sel_getUid("secondarySelectedControlColor"),function(a){with(a)return objj_msgSend(objj_msgSend(CPColor,
"alloc"),"_initWithRGBA:",[0.83,0.83,0.83,1])}),new objj_method(sel_getUid("colorWithPatternImage:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithPatternImage:",c)}),new objj_method(sel_getUid("colorWithCSSString:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(CPColor,"alloc"),"_initWithCSSString:",c)})]);r=objj_getClass("CPColor");if(!r)throw new SyntaxError('*** Could not find definition for class "CPColor"');q=r.isa;class_addMethods(r,[new objj_method(sel_getUid("set"),
function(a){with(a)objj_msgSend(a,"setFill"),objj_msgSend(a,"setStroke")}),new objj_method(sel_getUid("setFill"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");CGContextSetFillColor(b,a)}}),new objj_method(sel_getUid("setStroke"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");CGContextSetStrokeColor(b,a)}})]);r=objj_getClass("CPColor");if(!r)throw new SyntaxError('*** Could not find definition for class "CPColor"');
q=r.isa;class_addMethods(q,[new objj_method(sel_getUid("randomColor"),function(a){with(a)return objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",RAND(),RAND(),RAND(),1)})]);r=objj_getClass("CPColor");if(!r)throw new SyntaxError('*** Could not find definition for class "CPColor"');q=r.isa;class_addMethods(r,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a){if(objj_msgSend(c,"containsValueForKey:","CPColorPatternImageKey"))return objj_msgSend(a,"_initWithPatternImage:",objj_msgSend(c,
"decodeObjectForKey:","CPColorPatternImageKey"));return objj_msgSend(a,"_initWithRGBA:",objj_msgSend(c,"decodeObjectForKey:","CPColorComponentsKey"))}}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a)_patternImage?objj_msgSend(c,"encodeObject:forKey:",_patternImage,"CPColorPatternImageKey"):objj_msgSend(c,"encodeObject:forKey:",_components,"CPColorComponentsKey")})]);var m=function(a){a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2));if(a.length!=
6)return null;a=a.toUpperCase();for(var b=0;b<a.length;b++)if("0123456789ABCDEF".indexOf(a.charAt(b))==-1)return null;b=("0123456789ABCDEF".indexOf(a.charAt(0))*16+"0123456789ABCDEF".indexOf(a.charAt(1)))/255;var c=("0123456789ABCDEF".indexOf(a.charAt(2))*16+"0123456789ABCDEF".indexOf(a.charAt(3)))/255;a=("0123456789ABCDEF".indexOf(a.charAt(4))*16+"0123456789ABCDEF".indexOf(a.charAt(5)))/255;return[b,c,a,1]},s=function(a){if(!a||isNaN(a))return"00";a=FLOOR(MIN(255,MAX(0,256*a)));return"0123456789ABCDEF".charAt((a-
a%16)/16)+"0123456789ABCDEF".charAt(a%16)}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPSlider.j",baseURL),function(h,g){g("CPControl.j",YES);CPLinearSlider=0;CPCircularSlider=1;var f=objj_allocateClassPair(CPControl,"CPSlider"),e=f.isa;class_addIvars(f,[new objj_ivar("_minValue"),new objj_ivar("_maxValue"),new objj_ivar("_altIncrementValue"),new objj_ivar("_isVertical")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:"),function(b,c,a){with(b){if(b=objj_msgSendSuper({receiver:b,
super_class:objj_getClass("CPSlider").super_class},"initWithFrame:",a))_minValue=0,_maxValue=100,objj_msgSend(b,"setObjectValue:",50),objj_msgSend(b,"setContinuous:",YES),objj_msgSend(b,"_recalculateIsVertical");return b}}),new objj_method(sel_getUid("setMinValue:"),function(b,c,a){with(b){if(_minValue===a)return;_minValue=a;objj_msgSend(b,"doubleValue")<_minValue&&objj_msgSend(b,"setDoubleValue:",_minValue);objj_msgSend(b,"setNeedsLayout");objj_msgSend(b,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("minValue"),
function(b){with(b)return _minValue}),new objj_method(sel_getUid("setMaxValue:"),function(b,c,a){with(b){if(_maxValue===a)return;_maxValue=a;objj_msgSend(b,"doubleValue")>_maxValue&&objj_msgSend(b,"setDoubleValue:",_maxValue);objj_msgSend(b,"setNeedsLayout");objj_msgSend(b,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("maxValue"),function(b){with(b)return _maxValue}),new objj_method(sel_getUid("setObjectValue:"),function(b,c,a){with(b)objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPSlider").super_class},
"setObjectValue:",MIN(MAX(a,_minValue),_maxValue)),objj_msgSend(b,"setNeedsLayout"),objj_msgSend(b,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("setSliderType:"),function(b,c,a){with(b)a===CPCircularSlider?objj_msgSend(b,"setThemeState:",CPThemeStateCircular):objj_msgSend(b,"unsetThemeState:",CPThemeStateCircular)}),new objj_method(sel_getUid("sliderType"),function(b){with(b)return objj_msgSend(b,"hasThemeState:",CPThemeStateCircular)?CPCircularSlider:CPLinearSlider}),new objj_method(sel_getUid("trackRectForBounds:"),
function(b,c,a){with(b){if(objj_msgSend(b,"hasThemeState:",CPThemeStateCircular))b=CGRectCreateCopy(a),a.size.width=MIN(a.size.width,a.size.height),a.size.height=a.size.width,a.size.width<b.size.width?a.origin.x+=(b.size.width-a.size.width)/2:a.origin.y+=(b.size.height-a.size.height)/2;else{c=objj_msgSend(b,"currentValueForThemeAttribute:","track-width");if(c<=0)return{origin:{x:0,y:0},size:{width:0,height:0}};objj_msgSend(b,"isVertical")?(a.origin.x=(a.size.width-c)/2,a.size.width=c):(a.origin.y=
(a.size.height-c)/2,a.size.height=c)}return a}}),new objj_method(sel_getUid("knobRectForBounds:"),function(b,c,a){with(b){var d=objj_msgSend(b,"currentValueForThemeAttribute:","knob-size");if(d.width<=0||d.height<=0)return{origin:{x:0,y:0},size:{width:0,height:0}};c={origin:{x:0,y:0},size:{width:d.width,height:d.height}};var e=objj_msgSend(b,"trackRectForBounds:",a);if(!e||e.size.width<=0||e.size.height<=0)e=a;objj_msgSend(b,"hasThemeState:",CPThemeStateCircular)?(b=3*PI_2-(1-objj_msgSend(b,"doubleValue")-
_minValue)/(_maxValue-_minValue)*PI2,a=CGRectGetWidth(e)/2-8,c.origin.x=a*COS(b)+CGRectGetMidX(e)-3,c.origin.y=a*SIN(b)+CGRectGetMidY(e)-2):objj_msgSend(b,"isVertical")?(c.origin.x=e.origin.x+e.size.width/2-d.width/2,c.origin.y=(_maxValue-objj_msgSend(b,"doubleValue"))/(_maxValue-_minValue)*(e.size.height-d.height)):(c.origin.x=(objj_msgSend(b,"doubleValue")-_minValue)/(_maxValue-_minValue)*(e.size.width-d.width),c.origin.y=e.origin.y+e.size.height/2-d.height/2);return c}}),new objj_method(sel_getUid("rectForEphemeralSubviewNamed:"),
function(b,c,a){with(b){if(a==="track-view")return objj_msgSend(b,"trackRectForBounds:",objj_msgSend(b,"bounds"));else if(a==="knob-view")return objj_msgSend(b,"knobRectForBounds:",objj_msgSend(b,"bounds"));return objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPSlider").super_class},"rectForEphemeralSubviewNamed:",a)}}),new objj_method(sel_getUid("createEphemeralSubviewNamed:"),function(b,c,a){with(b){if(a==="track-view"||a==="knob-view")return b=objj_msgSend(objj_msgSend(CPView,"alloc"),
"init"),objj_msgSend(b,"setHitTests:",NO),b;return objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPSlider").super_class},"createEphemeralSubviewNamed:",a)}}),new objj_method(sel_getUid("setAltIncrementValue:"),function(b,c,a){with(b)_altIncrementValue=a}),new objj_method(sel_getUid("altIncrementValue"),function(b){with(b)return _altIncrementValue}),new objj_method(sel_getUid("setFrameSize:"),function(b,c,a){with(b)objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPSlider").super_class},
"setFrameSize:",a),objj_msgSend(b,"_recalculateIsVertical")}),new objj_method(sel_getUid("_recalculateIsVertical"),function(b){with(b){var c=objj_msgSend(b,"bounds"),a=c.size.width;c=c.size.height;_isVertical=a<c?1:a>c?0:-1;_isVertical===1?objj_msgSend(b,"setThemeState:",CPThemeStateVertical):_isVertical===0&&objj_msgSend(b,"unsetThemeState:",CPThemeStateVertical)}}),new objj_method(sel_getUid("isVertical"),function(b){with(b)return _isVertical}),new objj_method(sel_getUid("layoutSubviews"),function(b){with(b){var c=
objj_msgSend(b,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","track-view",CPWindowBelow,"knob-view");c&&objj_msgSend(c,"setBackgroundColor:",objj_msgSend(b,"currentValueForThemeAttribute:","track-color"));(c=objj_msgSend(b,"layoutEphemeralSubviewNamed:positioned:relativeToEphemeralSubviewNamed:","knob-view",CPWindowAbove,"track-view"))&&objj_msgSend(c,"setBackgroundColor:",objj_msgSend(b,"currentValueForThemeAttribute:","knob-color"))}}),new objj_method(sel_getUid("tracksMouseOutsideOfFrame"),
function(b){with(b)return YES}),new objj_method(sel_getUid("_valueAtPoint:"),function(b,c,a){with(b){c=objj_msgSend(b,"bounds");var d=objj_msgSend(b,"knobRectForBounds:",c);c=objj_msgSend(b,"trackRectForBounds:",c);return objj_msgSend(b,"hasThemeState:",CPThemeStateCircular)?(d=d.size.width,c.origin.x+=d/2,c.size.width-=d,d=objj_msgSend(b,"minValue"),MAX(0,MIN(1,1-(3*PI_2-ATAN2(a.y-(c.origin.y+c.size.height/2),a.x-(c.origin.x+c.size.width/2)))%PI2/PI2))*(objj_msgSend(b,"maxValue")-d)+d):objj_msgSend(b,
"isVertical")?(d=d.size.height,c.origin.y+=d/2,c.size.height-=d,d=objj_msgSend(b,"minValue"),MAX(0,MIN(1,(c.origin.y+c.size.height-a.y)/c.size.height))*(objj_msgSend(b,"maxValue")-d)+d):(d=d.size.width,c.origin.x+=d/2,c.size.width-=d,d=objj_msgSend(b,"minValue"),MAX(0,MIN(1,(a.x-c.origin.x)/c.size.width))*(objj_msgSend(b,"maxValue")-d)+d)}}),new objj_method(sel_getUid("startTrackingAt:"),function(b,c,a){with(b){c=objj_msgSend(b,"bounds");var d=objj_msgSend(b,"knobRectForBounds:",{origin:{x:c.origin.x,
y:c.origin.y},size:{width:c.size.width,height:c.size.height}});if(a.x>=d.origin.x&&a.y>=d.origin.y&&a.x<d.origin.x+d.size.width&&a.y<d.origin.y+d.size.height)_dragOffset={width:d.origin.x+d.size.width/2-a.x,height:d.origin.y+d.size.height/2-a.y};else if((c=objj_msgSend(b,"trackRectForBounds:",c))&&a.x>=c.origin.x&&a.y>=c.origin.y&&a.x<c.origin.x+c.size.width&&a.y<c.origin.y+c.size.height)_dragOffset={width:0,height:0},objj_msgSend(b,"setObjectValue:",objj_msgSend(b,"_valueAtPoint:",a));else return NO;
objj_msgSend(b,"setHighlighted:",YES);objj_msgSend(b,"setNeedsLayout");objj_msgSend(b,"setNeedsDisplay:",YES);return YES}}),new objj_method(sel_getUid("continueTracking:at:"),function(b,c,a,d){with(b)return objj_msgSend(b,"setObjectValue:",objj_msgSend(b,"_valueAtPoint:",{x:d.x+_dragOffset.width,y:d.y+_dragOffset.height})),YES}),new objj_method(sel_getUid("stopTracking:at:mouseIsUp:"),function(b){with(b)objj_msgSend(b,"setHighlighted:",NO),objj_msgSend(_target,"respondsToSelector:",sel_getUid("sliderDidFinish:"))&&
objj_msgSend(_target,"sliderDidFinish:",b),objj_msgSend(b,"setNeedsLayout"),objj_msgSend(b,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("setContinuous:"),function(b,c,a){with(b)a?_sendActionOn|=CPLeftMouseDraggedMask:_sendActionOn&=~CPLeftMouseDraggedMask}),new objj_method(sel_getUid("takeValueFromKeyPath:ofObjects:"),function(b,c,a,d){with(b){c=d.length;var e=objj_msgSend(d[0],"valueForKeyPath:",a);for(objj_msgSend(b,"setObjectValue:",e);c-- >1;)if(e!==objj_msgSend(d[c],"valueForKeyPath:",
a))return objj_msgSend(b,"setFloatValue:",1)}})]);class_addMethods(e,[new objj_method(sel_getUid("defaultThemeClass"),function(b){with(b)return"slider"}),new objj_method(sel_getUid("themeAttributes"),function(b){with(b)return objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[objj_msgSend(CPNull,"null"),{width:0,height:0},0,objj_msgSend(CPNull,"null")],["knob-color","knob-size","track-width","track-color"])})]);f=objj_getClass("CPSlider");if(!f)throw new SyntaxError('*** Could not find definition for class "CPSlider"');
e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(b,c,a){with(b){_minValue=objj_msgSend(a,"decodeDoubleForKey:","CPSliderMinValueKey");_maxValue=objj_msgSend(a,"decodeDoubleForKey:","CPSliderMaxValueKey");if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPSlider").super_class},"initWithCoder:",a))_altIncrementValue=objj_msgSend(a,"decodeDoubleForKey:","CPSliderAltIncrValueKey"),objj_msgSend(b,"setContinuous:",YES),objj_msgSend(b,"_recalculateIsVertical"),
objj_msgSend(b,"setNeedsLayout"),objj_msgSend(b,"setNeedsDisplay:",YES);return b}}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,c,a){with(b)objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPSlider").super_class},"encodeWithCoder:",a),objj_msgSend(a,"encodeDouble:forKey:",_minValue,"CPSliderMinValueKey"),objj_msgSend(a,"encodeDouble:forKey:",_maxValue,"CPSliderMaxValueKey"),objj_msgSend(a,"encodeDouble:forKey:",_altIncrementValue,"CPSliderAltIncrValueKey")})]);f=objj_getClass("CPSlider");
if(!f)throw new SyntaxError('*** Could not find definition for class "CPSlider"');e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("value"),function(b){with(b)return CPLog.warn("[CPSlider value] is deprecated, use doubleValue or objectValue instead."),objj_msgSend(b,"doubleValue")}),new objj_method(sel_getUid("setValue:"),function(b,c,a){with(b)CPLog.warn("[CPSlider setValue:] is deprecated, use setDoubleValue: or setObjectValue: instead."),objj_msgSend(b,"setObjectValue:",a)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPKeyValueCoding.j",baseURL),function(h,g){g("CPArray.j",YES);g("CPDictionary.j",YES);g("CPException.j",YES);g("CPIndexSet.j",YES);g("CPNull.j",YES);g("CPObject.j",YES);g("CPSet.j",YES);CPUndefinedKeyException="CPUndefinedKeyException";CPTargetObjectUserInfoKey="CPTargetObjectUserInfoKey";CPUnknownUserInfoKey="CPUnknownUserInfoKey";var f=objj_getClass("CPObject");if(!f)throw new SyntaxError('*** Could not find definition for class "CPObject"');
var e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("valueForKey:"),function(b,c,a){with(b){c=objj_msgSend(b,"class");var d=nil,e=c.$CPObjectAccessorsForClassKey;e||(e=c.$CPObjectAccessorsForClassKey={});if(e.hasOwnProperty(a))d=e[a];else{var f=nil,g=a.charAt(0).toUpperCase()+a.substr(1),j=nil,h=nil;objj_msgSend(c,"instancesRespondToSelector:",f=sel_getUid("get"+g))||objj_msgSend(c,"instancesRespondToSelector:",f=sel_getUid(a))||objj_msgSend(c,"instancesRespondToSelector:",f=sel_getUid(h="is"+
g))||objj_msgSend(c,"instancesRespondToSelector:",f=sel_getUid("_get"+g))||objj_msgSend(c,"instancesRespondToSelector:",f=sel_getUid(j="_"+a))||objj_msgSend(c,"instancesRespondToSelector:",f=sel_getUid("_"+h))?d=e[a]=[0,f]:objj_msgSend(c,"instancesRespondToSelector:",sel_getUid("countOf"+g))&&(objj_msgSend(c,"instancesRespondToSelector:",sel_getUid("objectIn"+g+"AtIndex:"))||objj_msgSend(c,"instancesRespondToSelector:",sel_getUid(a+"AtIndexes:"))?d=e[a]=[1]:objj_msgSend(c,"instancesRespondToSelector:",
sel_getUid("enumeratorOf"+g))&&objj_msgSend(c,"instancesRespondToSelector:",sel_getUid("memberOf"+g+":"))&&(d=e[a]=[2]));d||(d=class_getInstanceVariable(c,f=j)||class_getInstanceVariable(c,f="_"+h)||class_getInstanceVariable(c,f=a)||class_getInstanceVariable(c,f=h)?e[a]=[3,f]:e[a]=[])}switch(d[0]){case 0:return objj_msgSend(b,d[1]);case 1:return objj_msgSend(objj_msgSend(_CPKeyValueCodingArray,"alloc"),"initWithTarget:key:",b,a);case 2:return objj_msgSend(objj_msgSend(_CPKeyValueCodingSet,"alloc"),
"initWithTarget:key:",b,a);case 3:if(objj_msgSend(c,"accessInstanceVariablesDirectly"))return b[d[1]]}return objj_msgSend(b,"valueForUndefinedKey:",a)}}),new objj_method(sel_getUid("valueForKeyPath:"),function(b,c,a){with(b){var d=a.indexOf(".");if(d===CPNotFound)return objj_msgSend(b,"valueForKey:",a);c=a.substring(0,d);a=a.substring(d+1);b=objj_msgSend(b,"valueForKey:",c);return objj_msgSend(b,"valueForKeyPath:",a)}}),new objj_method(sel_getUid("dictionaryWithValuesForKeys:"),function(b,c,a){with(b){c=
0;for(var d=a.length,e=objj_msgSend(CPDictionary,"dictionary");c<d;++c){var f=a[c],g=objj_msgSend(b,"valueForKey:",f);g===nil?objj_msgSend(e,"setObject:forKey:",objj_msgSend(CPNull,"null"),f):objj_msgSend(e,"setObject:forKey:",g,f)}return e}}),new objj_method(sel_getUid("valueForUndefinedKey:"),function(b,c,a){with(b)objj_msgSend(objj_msgSend(CPException,"exceptionWithName:reason:userInfo:",CPUndefinedKeyException,objj_msgSend(b,"description")+" is not key value coding-compliant for the key "+a,objj_msgSend(CPDictionary,
"dictionaryWithObjects:forKeys:",[b,a],[CPTargetObjectUserInfoKey,CPUnknownUserInfoKey])),"raise")}),new objj_method(sel_getUid("setValue:forKeyPath:"),function(b,c,a,d){with(b){d||(d="self");var e=d.indexOf(".");if(e===CPNotFound)return objj_msgSend(b,"setValue:forKey:",a,d);c=d.substring(0,e);d=d.substring(e+1);b=objj_msgSend(b,"valueForKey:",c);return objj_msgSend(b,"setValue:forKeyPath:",a,d)}}),new objj_method(sel_getUid("setValue:forKey:"),function(b,c,a,d){with(b){c=objj_msgSend(b,"class");
var e=nil;(e=c.$CPObjectModifiersForClassKey)||(e=c.$CPObjectModifiersForClassKey={});if(e.hasOwnProperty(d))e=e[d];else{var f=nil,g=d.charAt(0).toUpperCase()+d.substr(1),j=nil;e=objj_msgSend(c,"instancesRespondToSelector:",f=sel_getUid("set"+g+":"))||objj_msgSend(c,"instancesRespondToSelector:",f=sel_getUid("_set"+g+":"))?e[d]=[0,f]:class_getInstanceVariable(c,f="_"+d)||class_getInstanceVariable(c,f="_"+(j="is"+g))||class_getInstanceVariable(c,f=d)||class_getInstanceVariable(c,f=j)?e[d]=[1,f]:e[d]=
[]}switch(e[0]){case 0:return objj_msgSend(b,e[1],a);case 1:if(objj_msgSend(c,"accessInstanceVariablesDirectly"))return objj_msgSend(b,"willChangeValueForKey:",d),b[e[1]]=a,objj_msgSend(b,"didChangeValueForKey:",d)}return objj_msgSend(b,"setValue:forUndefinedKey:",a,d)}}),new objj_method(sel_getUid("setValuesForKeysWithDictionary:"),function(b,c,a){with(b)for(var d,e=objj_msgSend(a,"keyEnumerator");d=objj_msgSend(e,"nextObject");)c=objj_msgSend(a,"objectForKey:",d),c===objj_msgSend(CPNull,"null")?
objj_msgSend(b,"setValue:forKey:",nil,d):objj_msgSend(b,"setValue:forKey:",c,d)}),new objj_method(sel_getUid("setValue:forUndefinedKey:"),function(b,c,a,d){with(b)objj_msgSend(objj_msgSend(CPException,"exceptionWithName:reason:userInfo:",CPUndefinedKeyException,objj_msgSend(b,"description")+" is not key value coding-compliant for the key "+d,objj_msgSend(CPDictionary,"dictionaryWithObjects:forKeys:",[b,d],[CPTargetObjectUserInfoKey,CPUnknownUserInfoKey])),"raise")})]);class_addMethods(e,[new objj_method(sel_getUid("accessInstanceVariablesDirectly"),
function(b){with(b)return YES})]);f=objj_getClass("CPDictionary");if(!f)throw new SyntaxError('*** Could not find definition for class "CPDictionary"');e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("valueForKey:"),function(b,c,a){with(b){if(objj_msgSend(a,"hasPrefix:","@"))return objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPDictionary").super_class},"valueForKey:",a.substr(1));return objj_msgSend(b,"objectForKey:",a)}}),new objj_method(sel_getUid("setValue:forKey:"),function(b,
c,a,d){with(b)a!==nil?objj_msgSend(b,"setObject:forKey:",a,d):objj_msgSend(b,"removeObjectForKey:",d)})]);f=objj_getClass("CPNull");if(!f)throw new SyntaxError('*** Could not find definition for class "CPNull"');e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("valueForKey:"),function(b){with(b)return b})]);f=objj_allocateClassPair(CPArray,"_CPKeyValueCodingArray");e=f.isa;class_addIvars(f,[new objj_ivar("_target"),new objj_ivar("_countOfSelector"),new objj_ivar("_objectInAtIndexSelector"),
new objj_ivar("_atIndexesSelector")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithTarget:key:"),function(b,c,a,d){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPKeyValueCodingArray").super_class},"init"))c=d.charAt(0).toUpperCase()+d.substr(1),_target=a,_countOfSelector=CPSelectorFromString("countOf"+c),_objectInAtIndexSelector=CPSelectorFromString("objectIn"+c+"AtIndex:"),objj_msgSend(_target,"respondsToSelector:",_objectInAtIndexSelector)||
(_objectInAtIndexSelector=nil),_atIndexesSelector=CPSelectorFromString(d+"AtIndexes:"),objj_msgSend(_target,"respondsToSelector:",_atIndexesSelector)||(_atIndexesSelector=nil);return b}}),new objj_method(sel_getUid("count"),function(b){with(b)return objj_msgSend(_target,_countOfSelector)}),new objj_method(sel_getUid("objectAtIndex:"),function(b,c,a){with(b){if(_objectInAtIndexSelector)return objj_msgSend(_target,_objectInAtIndexSelector,a);return objj_msgSend(_target,_atIndexesSelector,objj_msgSend(CPIndexSet,
"indexSetWithIndex:",a))[0]}}),new objj_method(sel_getUid("objectsAtIndexes:"),function(b,c,a){with(b){if(_atIndexesSelector)return objj_msgSend(_target,_atIndexesSelector,a);return objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPKeyValueCodingArray").super_class},"objectsAtIndexes:",a)}}),new objj_method(sel_getUid("classForCoder"),function(b){with(b)return objj_msgSend(CPArray,"class")}),new objj_method(sel_getUid("copy"),function(b){with(b)return objj_msgSend(CPArray,"arrayWithArray:",
b)})]);f=objj_allocateClassPair(CPSet,"_CPKeyValueCodingSet");e=f.isa;class_addIvars(f,[new objj_ivar("_target"),new objj_ivar("_countOfSelector"),new objj_ivar("_enumeratorOfSelector"),new objj_ivar("_memberOfSelector")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithObjects:count:"),function(b,c,a,d){with(b)return objj_msgSend(objj_msgSend(CPSet,"alloc"),"initWithObjects:count:",a,d)}),new objj_method(sel_getUid("initWithTarget:key:"),function(b,c,a,d){with(b){if(b=
objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPKeyValueCodingSet").super_class},"initWithObjects:count:",nil,0))c=d.charAt(0).toUpperCase()+d.substr(1),_target=a,_countOfSelector=CPSelectorFromString("countOf"+c),_enumeratorOfSelector=CPSelectorFromString("enumeratorOf"+c),_memberOfSelector=CPSelectorFromString("memberOf"+c+":");return b}}),new objj_method(sel_getUid("count"),function(b){with(b)return objj_msgSend(_target,_countOfSelector)}),new objj_method(sel_getUid("objectEnumerator"),
function(b){with(b)return objj_msgSend(_target,_enumeratorOfSelector)}),new objj_method(sel_getUid("member:"),function(b,c,a){with(b)return objj_msgSend(_target,_memberOfSelector,a)}),new objj_method(sel_getUid("classForCoder"),function(b){with(b)return objj_msgSend(CPSet,"class")}),new objj_method(sel_getUid("copy"),function(b){with(b)return objj_msgSend(CPSet,"setWithSet:",b)})]);g("CPKeyValueObserving.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPColorPicker.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);g("CPView.j",YES);var f=objj_allocateClassPair(CPObject,"CPColorPicker");class_addIvars(f,[new objj_ivar("_panel"),new objj_ivar("_mask")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithPickerMask:colorPanel:"),function(e,b,c,a){with(e)return e=objj_msgSendSuper({receiver:e,super_class:objj_getClass("CPColorPicker").super_class},
"init"),_panel=a,_mask=c,e}),new objj_method(sel_getUid("colorPanel"),function(e){with(e)return _panel}),new objj_method(sel_getUid("provideNewButtonImage"),function(e){with(e)return nil}),new objj_method(sel_getUid("setMode:"),function(e){with(e);}),new objj_method(sel_getUid("setColor:"),function(e){with(e);})]);f=objj_allocateClassPair(CPColorPicker,"CPColorWheelColorPicker");class_addIvars(f,[new objj_ivar("_pickerView"),new objj_ivar("_brightnessSlider"),new objj_ivar("_hueSaturationView"),new objj_ivar("_cachedColor")]);
objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithPickerMask:colorPanel:"),function(e,b,c,a){with(e)return objj_msgSendSuper({receiver:e,super_class:objj_getClass("CPColorWheelColorPicker").super_class},"initWithPickerMask:colorPanel:",c,a)}),new objj_method(sel_getUid("initView"),function(e){with(e)aFrame=CPRectMake(0,0,CPColorPickerViewWidth,CPColorPickerViewHeight),_pickerView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",aFrame),objj_msgSend(_pickerView,
"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),_brightnessSlider=objj_msgSend(objj_msgSend(CPSlider,"alloc"),"initWithFrame:",CGRectMake(0,aFrame.size.height-34,aFrame.size.width,15)),objj_msgSend(_brightnessSlider,"setValue:forThemeAttribute:",15,"track-width"),objj_msgSend(_brightnessSlider,"setValue:forThemeAttribute:",objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",
objj_msgSend(CPColorPicker,"class")),"pathForResource:","brightness_bar.png"))),"track-color"),objj_msgSend(_brightnessSlider,"setMinValue:",0),objj_msgSend(_brightnessSlider,"setMaxValue:",100),objj_msgSend(_brightnessSlider,"setFloatValue:",100),objj_msgSend(_brightnessSlider,"setTarget:",e),objj_msgSend(_brightnessSlider,"setAction:",sel_getUid("brightnessSliderDidChange:")),objj_msgSend(_brightnessSlider,"setAutoresizingMask:",CPViewWidthSizable|CPViewMinYMargin),_hueSaturationView=objj_msgSend(objj_msgSend(__CPColorWheel,
"alloc"),"initWithFrame:",CPRectMake(0,0,aFrame.size.width,aFrame.size.height-38)),objj_msgSend(_hueSaturationView,"setDelegate:",e),objj_msgSend(_hueSaturationView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(_pickerView,"addSubview:",_hueSaturationView),objj_msgSend(_pickerView,"addSubview:",_brightnessSlider)}),new objj_method(sel_getUid("brightnessSliderDidChange:"),function(e){with(e)objj_msgSend(e,"updateColor")}),new objj_method(sel_getUid("colorWheelDidChange:"),
function(e){with(e)objj_msgSend(e,"updateColor")}),new objj_method(sel_getUid("updateColor"),function(e){with(e){var b=objj_msgSend(_hueSaturationView,"angle"),c=objj_msgSend(_hueSaturationView,"distance"),a=objj_msgSend(_brightnessSlider,"floatValue");objj_msgSend(_hueSaturationView,"setWheelBrightness:",a/100);objj_msgSend(_brightnessSlider,"setBackgroundColor:",objj_msgSend(CPColor,"colorWithHue:saturation:brightness:",b,c,100));var d=objj_msgSend(e,"colorPanel");d=objj_msgSend(d,"opacity");_cachedColor=
objj_msgSend(CPColor,"colorWithHue:saturation:brightness:alpha:",b,c,a,d);objj_msgSend(objj_msgSend(e,"colorPanel"),"setColor:",_cachedColor)}}),new objj_method(sel_getUid("supportsMode:"),function(e,b,c){with(e)return c==CPWheelColorPickerMode?YES:NO}),new objj_method(sel_getUid("currentMode"),function(e){with(e)return CPWheelColorPickerMode}),new objj_method(sel_getUid("provideNewView:"),function(e,b,c){with(e)return c&&objj_msgSend(e,"initView"),_pickerView}),new objj_method(sel_getUid("setColor:"),
function(e,b,c){with(e){if(objj_msgSend(c,"isEqual:",_cachedColor))return;e=objj_msgSend(c,"hsbComponents");objj_msgSend(_hueSaturationView,"setPositionToColor:",c);objj_msgSend(_brightnessSlider,"setFloatValue:",e[2]);objj_msgSend(_hueSaturationView,"setWheelBrightness:",e[2]/100);objj_msgSend(_brightnessSlider,"setBackgroundColor:",objj_msgSend(CPColor,"colorWithHue:saturation:brightness:",e[0],e[1],100))}}),new objj_method(sel_getUid("provideNewButtonImage"),function(e){with(e)return objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",CPColorPicker),"pathForResource:","wheel_button.png"),CGSizeMake(32,32))}),new objj_method(sel_getUid("provideNewAlternateButtonImage"),function(e){with(e)return objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",CPColorPicker),"pathForResource:","wheel_button_h.png"),CGSizeMake(32,32))})]);f=objj_allocateClassPair(CPView,"__CPColorWheel");
class_addIvars(f,[new objj_ivar("_wheelImage"),new objj_ivar("_blackWheelImage"),new objj_ivar("_crosshair"),new objj_ivar("_delegate"),new objj_ivar("_angle"),new objj_ivar("_distance"),new objj_ivar("_radius")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:"),function(e,b,c){with(e)return e=objj_msgSendSuper({receiver:e,super_class:objj_getClass("__CPColorWheel").super_class},"initWithFrame:",c),b=objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",CPColorPicker),
"pathForResource:","wheel.png"),_wheelImage=new Image,_wheelImage.src=b,_wheelImage.style.position="absolute",b=objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",CPColorPicker),"pathForResource:","wheel_black.png"),_blackWheelImage=new Image,_blackWheelImage.src=b,_blackWheelImage.style.opacity="0",_blackWheelImage.style.filter="alpha(opacity=0)",_blackWheelImage.style.position="absolute",_DOMElement.appendChild(_wheelImage),_DOMElement.appendChild(_blackWheelImage),objj_msgSend(e,"setWheelSize:",
c.size),_crosshair=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CPRectMake(_radius-2,_radius-2,4,4)),objj_msgSend(_crosshair,"setBackgroundColor:",objj_msgSend(CPColor,"blackColor")),c=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectInset(objj_msgSend(_crosshair,"bounds"),1,1)),objj_msgSend(c,"setBackgroundColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_crosshair,"addSubview:",c),objj_msgSend(e,"addSubview:",_crosshair),e}),new objj_method(sel_getUid("setWheelBrightness:"),
function(e,b,c){with(e)_blackWheelImage.style.opacity=1-c,_blackWheelImage.style.filter="alpha(opacity="+(1-c)*100+")"}),new objj_method(sel_getUid("setFrameSize:"),function(e,b,c){with(e)objj_msgSendSuper({receiver:e,super_class:objj_getClass("__CPColorWheel").super_class},"setFrameSize:",c),objj_msgSend(e,"setWheelSize:",c)}),new objj_method(sel_getUid("setWheelSize:"),function(e,b,c){with(e)b=MIN(c.width,c.height),_blackWheelImage.style.width=b,_blackWheelImage.style.height=b,_blackWheelImage.width=
b,_blackWheelImage.height=b,_blackWheelImage.style.top=(c.height-b)/2+"px",_blackWheelImage.style.left=(c.width-b)/2+"px",_wheelImage.style.width=b,_wheelImage.style.height=b,_wheelImage.width=b,_wheelImage.height=b,_wheelImage.style.top=(c.height-b)/2+"px",_wheelImage.style.left=(c.width-b)/2+"px",_radius=b/2,objj_msgSend(e,"setAngle:distance:",objj_msgSend(e,"degreesToRadians:",_angle),_distance/100*_radius)}),new objj_method(sel_getUid("setDelegate:"),function(e,b,c){with(e)_delegate=c}),new objj_method(sel_getUid("delegate"),
function(e){with(e)return _delegate}),new objj_method(sel_getUid("angle"),function(e){with(e)return _angle}),new objj_method(sel_getUid("distance"),function(e){with(e)return _distance}),new objj_method(sel_getUid("mouseDown:"),function(e,b,c){with(e)objj_msgSend(e,"reposition:",c)}),new objj_method(sel_getUid("mouseDragged:"),function(e,b,c){with(e)objj_msgSend(e,"reposition:",c)}),new objj_method(sel_getUid("reposition:"),function(e,b,c){with(e){var a=objj_msgSend(e,"bounds");c=objj_msgSend(e,"convertPoint:fromView:",
objj_msgSend(c,"locationInWindow"),nil);b=CGRectGetMidX(a);var d=CGRectGetMidY(a);a=MIN(SQRT((c.x-b)*(c.x-b)+(c.y-d)*(c.y-d)),_radius);c=ATAN2(c.y-d,c.x-b);objj_msgSend(e,"setAngle:distance:",c,a);objj_msgSend(_delegate,"colorWheelDidChange:",e)}}),new objj_method(sel_getUid("setAngle:distance:"),function(e,b,c,a){with(e){var d=objj_msgSend(e,"bounds");b=CGRectGetMidX(d);d=CGRectGetMidY(d);_angle=objj_msgSend(e,"radiansToDegrees:",c);_distance=a/_radius*100;objj_msgSend(_crosshair,"setFrameOrigin:",
CPPointMake(COS(c)*a+b-2,SIN(c)*a+d-2))}}),new objj_method(sel_getUid("setPositionToColor:"),function(e,b,c){with(e)b=objj_msgSend(c,"hsbComponents"),objj_msgSend(e,"bounds"),c=objj_msgSend(e,"degreesToRadians:",b[0]),objj_msgSend(e,"setAngle:distance:",c,b[1]/100*_radius)}),new objj_method(sel_getUid("radiansToDegrees:"),function(e,b,c){with(e)return(-c/PI*180+360)%360}),new objj_method(sel_getUid("degreesToRadians:"),function(e,b,c){with(e)return-((c-360)/180*PI)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPBox.j",baseURL),function(h,g){g("CPView.j",YES);CPBoxPrimary=0;CPBoxSecondary=1;CPBoxSeparator=2;CPBoxOldStyle=3;CPBoxCustom=4;CPNoBorder=0;CPLineBorder=1;CPBezelBorder=2;CPGrooveBorder=3;var f=objj_allocateClassPair(CPView,"CPBox"),e=f.isa;class_addIvars(f,[new objj_ivar("_boxType"),new objj_ivar("_borderType"),new objj_ivar("_borderColor"),new objj_ivar("_fillColor"),new objj_ivar("_cornerRadius"),new objj_ivar("_borderWidth"),
new objj_ivar("_contentMargin"),new objj_ivar("_contentView")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:"),function(b,c,a){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPBox").super_class},"initWithFrame:",a))_borderType=CPBezelBorder,_fillColor=objj_msgSend(CPColor,"clearColor"),_borderColor=objj_msgSend(CPColor,"blackColor"),_borderWidth=1,_contentMargin=CGSizeMake(0,0),_contentView=objj_msgSend(objj_msgSend(CPView,"alloc"),
"initWithFrame:",objj_msgSend(b,"bounds")),objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(b,"setAutoresizesSubviews:",YES),objj_msgSend(b,"addSubview:",_contentView);return b}}),new objj_method(sel_getUid("borderRect"),function(b){with(b)return objj_msgSend(b,"bounds")}),new objj_method(sel_getUid("borderType"),function(b){with(b)return _borderType}),new objj_method(sel_getUid("setBorderType:"),function(b,c,a){with(b){if(_borderType===a)return;
_borderType=a;objj_msgSend(b,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("boxType"),function(b){with(b)return _boxType}),new objj_method(sel_getUid("setBoxType:"),function(b,c,a){with(b){if(_boxType===a)return;_boxType=a;objj_msgSend(b,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("borderColor"),function(b){with(b)return _borderColor}),new objj_method(sel_getUid("setBorderColor:"),function(b,c,a){with(b){if(objj_msgSend(a,"isEqual:",_borderColor))return;_borderColor=a;objj_msgSend(b,
"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("borderWidth"),function(b){with(b)return _borderWidth}),new objj_method(sel_getUid("setBorderWidth:"),function(b,c,a){with(b){if(a===_borderWidth)return;_borderWidth=a;objj_msgSend(b,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("cornerRadius"),function(b){with(b)return _cornerRadius}),new objj_method(sel_getUid("setCornerRadius:"),function(b,c,a){with(b){if(a===_cornerRadius)return;_cornerRadius=a;objj_msgSend(b,"setNeedsDisplay:",YES)}}),
new objj_method(sel_getUid("fillColor"),function(b){with(b)return _fillColor}),new objj_method(sel_getUid("setFillColor:"),function(b,c,a){with(b){if(objj_msgSend(a,"isEqual:",_fillColor))return;_fillColor=a;objj_msgSend(b,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("contentView"),function(b){with(b)return _contentView}),new objj_method(sel_getUid("setContentView:"),function(b,c,a){with(b){if(a===_contentView)return;objj_msgSend(a,"setFrame:",CGRectInset(objj_msgSend(b,"bounds"),_contentMargin.width+
_borderWidth,_contentMargin.height+_borderWidth));objj_msgSend(a,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);objj_msgSend(b,"replaceSubview:with:",_contentView,a);_contentView=a}}),new objj_method(sel_getUid("contentViewMargins"),function(b){with(b)return _contentMargin}),new objj_method(sel_getUid("setContentViewMargins:"),function(b,c,a){with(b)(a.width<0||a.height<0)&&objj_msgSend(CPException,"raise:reason:",CPGenericException,"Margins must be positive"),_contentMargin=CGSizeMakeCopy(a),
objj_msgSend(b,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("setFrameFromContentFrame:"),function(b,c,a){with(b)objj_msgSend(b,"setFrame:",CGRectInset(a,-(_contentMargin.width+_borderWidth),-(_contentMargin.height+_borderWidth))),objj_msgSend(b,"setNeedsDisplay:",YES)}),new objj_method(sel_getUid("sizeToFit"),function(b){with(b){var c=objj_msgSend(_contentView,"frame");objj_msgSend(b,"setFrameSize:",CGSizeMake(c.size.width+_contentMargin.width*2,c.size.height+_contentMargin.height*2));objj_msgSend(_contentView,
"setFrameOrigin:",CGPointMake(_contentMargin.width,_contentMargin.height))}}),new objj_method(sel_getUid("drawRect:"),function(b){with(b){if(_borderType===CPNoBorder)return;var c=objj_msgSend(b,"bounds");switch(_boxType){case CPBoxSeparator:if(CGRectGetWidth(c)===5)return objj_msgSend(b,"_drawVerticalSeperatorInRect:",c);else if(CGRectGetHeight(c)===5)return objj_msgSend(b,"_drawHorizontalSeperatorInRect:",c)}switch(_borderType){case CPBezelBorder:objj_msgSend(b,"_drawBezelBorderInRect:",c);break;
default:case CPLineBorder:objj_msgSend(b,"_drawLineBorderInRect:",c)}}}),new objj_method(sel_getUid("_drawHorizontalSeperatorInRect:"),function(b,c,a){with(b)c=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),CGContextSetStrokeColor(c,objj_msgSend(b,"borderColor")),CGContextSetLineWidth(c,1),CGContextMoveToPoint(c,CGRectGetMinX(a),CGRectGetMinY(a)+0.5),CGContextAddLineToPoint(c,CGRectGetWidth(a),CGRectGetMinY(a)+0.5),CGContextStrokePath(c)}),new objj_method(sel_getUid("_drawVerticalSeperatorInRect:"),
function(b,c,a){with(b)c=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),CGContextSetStrokeColor(c,objj_msgSend(b,"borderColor")),CGContextSetLineWidth(c,1),CGContextMoveToPoint(c,CGRectGetMinX(a)+0.5,CGRectGetMinY(a)),CGContextAddLineToPoint(c,CGRectGetMinX(a)+0.5,CGRectGetHeight(a)),CGContextStrokePath(c)}),new objj_method(sel_getUid("_drawBezelBorderInRect:"),function(b,c,a){with(b){c=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");var d=
[CPMinYEdge,CPMaxXEdge,CPMaxYEdge,CPMinXEdge],e=190/255;e=[142/255,e,e,e];for(var f=_borderWidth;f--;)a=CPDrawTiledRects(a,a,d,e);CGContextSetFillColor(c,objj_msgSend(b,"fillColor"));CGContextFillRect(c,a)}}),new objj_method(sel_getUid("_drawLineBorderInRect:"),function(b,c,a){with(b)c=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),a=CGRectInset(a,_borderWidth/2,_borderWidth/2),CGContextSetFillColor(c,objj_msgSend(b,"fillColor")),CGContextSetStrokeColor(c,objj_msgSend(b,
"borderColor")),CGContextSetLineWidth(c,_borderWidth),CGContextFillRoundedRectangleInRect(c,a,_cornerRadius,YES,YES,YES,YES),CGContextStrokeRoundedRectangleInRect(c,a,_cornerRadius,YES,YES,YES,YES)})]);class_addMethods(e,[new objj_method(sel_getUid("boxEnclosingView:"),function(b,c,a){with(b)return b=objj_msgSend(objj_msgSend(b,"alloc"),"initWithFrame:",CGRectMakeZero()),c=objj_msgSend(a,"superview"),objj_msgSend(b,"setFrameFromContentFrame:",objj_msgSend(a,"frame")),objj_msgSend(c,"replaceSubview:with:",
a,b),objj_msgSend(b,"setContentView:",a),b})]);f=objj_getClass("CPBox");if(!f)throw new SyntaxError('*** Could not find definition for class "CPBox"');e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(b,c,a){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPBox").super_class},"initWithCoder:",a))_boxType=objj_msgSend(a,"decodeIntForKey:","CPBoxTypeKey"),_borderType=objj_msgSend(a,"decodeIntForKey:","CPBoxBorderTypeKey"),_borderColor=objj_msgSend(a,
"decodeObjectForKey:","CPBoxBorderColorKey"),_fillColor=objj_msgSend(a,"decodeObjectForKey:","CPBoxFillColorKey"),_cornerRadius=objj_msgSend(a,"decodeFloatForKey:","CPBoxCornerRadiusKey"),_borderWidth=objj_msgSend(a,"decodeFloatForKey:","CPBoxBorderWidthKey"),_contentMargin=objj_msgSend(a,"decodeSizeForKey:","CPBoxContentMarginKey"),_contentView=objj_msgSend(b,"subviews")[0],objj_msgSend(b,"setAutoresizesSubviews:",YES),objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);
return b}}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,c,a){with(b)objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPBox").super_class},"encodeWithCoder:",a),objj_msgSend(a,"encodeInt:forKey:",_boxType,"CPBoxTypeKey"),objj_msgSend(a,"encodeInt:forKey:",_borderType,"CPBoxBorderTypeKey"),objj_msgSend(a,"encodeObject:forKey:",_borderColor,"CPBoxBorderColorKey"),objj_msgSend(a,"encodeObject:forKey:",_fillColor,"CPBoxFillColorKey"),objj_msgSend(a,"encodeFloat:forKey:",_cornerRadius,
"CPBoxCornerRadiusKey"),objj_msgSend(a,"encodeFloat:forKey:",_borderWidth,"CPBoxBorderWidthKey"),objj_msgSend(a,"encodeSize:forKey:",_contentMargin,"CPBoxContentMarginKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPDictionary.j",baseURL),function(h,g){g("CPArray.j",YES);g("CPEnumerator.j",YES);g("CPException.j",YES);g("CPNull.j",YES);g("CPObject.j",YES);var f=objj_allocateClassPair(CPEnumerator,"_CPDictionaryValueEnumerator"),e=f.isa;class_addIvars(f,[new objj_ivar("_keyEnumerator"),new objj_ivar("_dictionary")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithDictionary:"),function(b,c,a){with(b){if(b=
objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPDictionaryValueEnumerator").super_class},"init"))_keyEnumerator=objj_msgSend(a,"keyEnumerator"),_dictionary=a;return b}}),new objj_method(sel_getUid("nextObject"),function(b){with(b){b=objj_msgSend(_keyEnumerator,"nextObject");if(!b)return nil;return objj_msgSend(_dictionary,"objectForKey:",b)}})]);f=objj_allocateClassPair(CPObject,"CPDictionary");e=f.isa;objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithDictionary:"),
function(b,c,a){with(b){b="";c=objj_msgSend(objj_msgSend(CPDictionary,"alloc"),"init");for(b in a._buckets)objj_msgSend(c,"setObject:forKey:",objj_msgSend(a,"objectForKey:",b),b);return c}}),new objj_method(sel_getUid("initWithObjects:forKeys:"),function(b,c,a,d){with(b){b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPDictionary").super_class},"init");objj_msgSend(a,"count")!=objj_msgSend(d,"count")&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Counts are different.("+
objj_msgSend(a,"count")+"!="+objj_msgSend(d,"count")+")");if(b)for(c=objj_msgSend(d,"count");c--;)objj_msgSend(b,"setObject:forKey:",a[c],d[c]);return b}}),new objj_method(sel_getUid("initWithObjectsAndKeys:"),function(b){with(b){var c=arguments.length;c%2!==0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Key-value count is mismatched. ("+c+" arguments passed)");if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPDictionary").super_class},"init"))for(var a=2;a<
c;a+=2){var d=arguments[a];if(d===nil)break;objj_msgSend(b,"setObject:forKey:",d,arguments[a+1])}return b}}),new objj_method(sel_getUid("copy"),function(b){with(b)return objj_msgSend(CPDictionary,"dictionaryWithDictionary:",b)}),new objj_method(sel_getUid("count"),function(b){with(b)return _count}),new objj_method(sel_getUid("allKeys"),function(b){with(b)return objj_msgSend(_keys,"copy")}),new objj_method(sel_getUid("allValues"),function(b){with(b){for(var c=_keys.length,a=[];c--;)a.push(b.valueForKey(_keys[c]));
return a}}),new objj_method(sel_getUid("allKeysForObject:"),function(b,c,a){with(b){b=_keys.length;c=0;for(var d=[],e=nil,f=nil;c<b;++c)e=_keys[c],f=_buckets[e],f.isa&&a&&a.isa&&objj_msgSend(f,"respondsToSelector:",sel_getUid("isEqual:"))&&objj_msgSend(f,"isEqual:",a)?d.push(e):f===a&&d.push(e);return d}}),new objj_method(sel_getUid("keyEnumerator"),function(b){with(b)return objj_msgSend(_keys,"objectEnumerator")}),new objj_method(sel_getUid("objectEnumerator"),function(b){with(b)return objj_msgSend(objj_msgSend(_CPDictionaryValueEnumerator,
"alloc"),"initWithDictionary:",b)}),new objj_method(sel_getUid("isEqualToDictionary:"),function(b,c,a){with(b){if(b===a)return YES;b=objj_msgSend(b,"count");if(b!==objj_msgSend(a,"count"))return NO;for(;b--;){var d=_keys[b];c=_buckets[d];d=a._buckets[d];if(c!==d&&(!c||!c.isa||!d||!d.isa||!objj_msgSend(c,"respondsToSelector:",sel_getUid("isEqual:"))||!objj_msgSend(c,"isEqual:",d)))return NO}return YES}}),new objj_method(sel_getUid("isEqual:"),function(b,c,a){with(b){if(b===a)return YES;if(!objj_msgSend(a,
"isKindOfClass:",objj_msgSend(CPDictionary,"class")))return NO;return objj_msgSend(b,"isEqualToDictionary:",a)}}),new objj_method(sel_getUid("objectForKey:"),function(b,c,a){with(b)return b=_buckets[a],b===void 0?nil:b}),new objj_method(sel_getUid("removeAllObjects"),function(b){with(b)b.removeAllValues()}),new objj_method(sel_getUid("removeObjectForKey:"),function(b,c,a){with(b)b.removeValueForKey(a)}),new objj_method(sel_getUid("removeObjectsForKeys:"),function(b,c,a){with(b)for(c=a.length;c--;)objj_msgSend(b,
"removeObjectForKey:",a[c])}),new objj_method(sel_getUid("setObject:forKey:"),function(b,c,a,d){with(b)b.setValueForKey(d,a)}),new objj_method(sel_getUid("addEntriesFromDictionary:"),function(b,c,a){with(b){if(!a)return;c=objj_msgSend(a,"allKeys");for(var d=objj_msgSend(c,"count");d--;){var e=c[d];objj_msgSend(b,"setObject:forKey:",objj_msgSend(a,"objectForKey:",e),e)}}}),new objj_method(sel_getUid("description"),function(b){with(b)return b.toString()}),new objj_method(sel_getUid("containsKey:"),
function(b,c,a){with(b)return b=objj_msgSend(b,"objectForKey:",a),b!==nil&&b!==void 0})]);class_addMethods(e,[new objj_method(sel_getUid("alloc"),function(b){with(b){var c=new CFMutableDictionary;c.isa=objj_msgSend(b,"class");return c}}),new objj_method(sel_getUid("dictionary"),function(b){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"init")}),new objj_method(sel_getUid("dictionaryWithDictionary:"),function(b,c,a){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithDictionary:",a)}),
new objj_method(sel_getUid("dictionaryWithObject:forKey:"),function(b,c,a,d){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithObjects:forKeys:",[a],[d])}),new objj_method(sel_getUid("dictionaryWithObjects:forKeys:"),function(b,c,a,d){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithObjects:forKeys:",a,d)}),new objj_method(sel_getUid("dictionaryWithJSObject:"),function(b,c,a){with(b)return objj_msgSend(b,"dictionaryWithJSObject:recursively:",a,NO)}),new objj_method(sel_getUid("dictionaryWithJSObject:recursively:"),
function(b,c,a,d){with(b){c="";b=objj_msgSend(objj_msgSend(b,"alloc"),"init");for(c in a)if(a.hasOwnProperty(c)){var e=a[c];if(e===null)objj_msgSend(b,"setObject:forKey:",objj_msgSend(CPNull,"null"),c);else{if(d)if(e.constructor===Object)e=objj_msgSend(CPDictionary,"dictionaryWithJSObject:recursively:",e,YES);else if(objj_msgSend(e,"isKindOfClass:",CPArray)){for(var f=[],g=0,j=e.length;g<j;g++){var h=e[g];h.constructor===Object?f.push(objj_msgSend(CPDictionary,"dictionaryWithJSObject:recursively:",
h,YES)):f.push(h)}e=f}objj_msgSend(b,"setObject:forKey:",e,c)}}return b}}),new objj_method(sel_getUid("dictionaryWithObjectsAndKeys:"),function(b){with(b)return arguments[0]=objj_msgSend(b,"alloc"),arguments[1]=sel_getUid("initWithObjectsAndKeys:"),objj_msgSend.apply(this,arguments)})]);f=objj_getClass("CPDictionary");if(!f)throw new SyntaxError('*** Could not find definition for class "CPDictionary"');e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(b,c,a){with(b)return objj_msgSend(a,
"_decodeDictionaryOfObjectsForKey:","CP.objects")}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,c,a){with(b)objj_msgSend(a,"_encodeDictionaryOfObjects:forKey:",b,"CP.objects")})]);f=objj_allocateClassPair(CPDictionary,"CPMutableDictionary");e=f.isa;objj_registerClassPair(f);CFDictionary.prototype.isa=CPDictionary;CFMutableDictionary.prototype.isa=CPMutableDictionary});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPRunLoop.j",baseURL),function(h,g){g("CPArray.j",YES);g("CPDate.j",YES);g("CPObject.j",YES);g("CPString.j",YES);CPDefaultRunLoopMode="CPDefaultRunLoopMode";_CPRunLoopPerformCompare=function(a,b){return objj_msgSend(b,"order")-objj_msgSend(a,"order")};var f=[],e=objj_allocateClassPair(CPObject,"_CPRunLoopPerform"),b=e.isa;class_addIvars(e,[new objj_ivar("_target"),new objj_ivar("_selector"),new objj_ivar("_argument"),new objj_ivar("_order"),
new objj_ivar("_runLoopModes"),new objj_ivar("_isValid")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithSelector:target:argument:order:modes:"),function(a,b,c,e,f,g,h){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPRunLoopPerform").super_class},"init"))_selector=c,_target=e,_argument=f,_order=g,_runLoopModes=h,_isValid=YES;return a}}),new objj_method(sel_getUid("selector"),function(a){with(a)return _selector}),new objj_method(sel_getUid("target"),
function(a){with(a)return _target}),new objj_method(sel_getUid("argument"),function(a){with(a)return _argument}),new objj_method(sel_getUid("order"),function(a){with(a)return _order}),new objj_method(sel_getUid("fireInMode:"),function(a,b,c){with(a){if(!_isValid)return YES;if(objj_msgSend(_runLoopModes,"containsObject:",c))return objj_msgSend(_target,"performSelector:withObject:",_selector,_argument),YES;return NO}}),new objj_method(sel_getUid("invalidate"),function(a){with(a)_isValid=NO})]);class_addMethods(b,
[new objj_method(sel_getUid("_poolPerform:"),function(a,b,c){with(a){if(!c||f.length>=5)return;f.push(c)}}),new objj_method(sel_getUid("performWithSelector:target:argument:order:modes:"),function(a,b,c,e,g,j,h){with(a){if(f.length)return a=f.pop(),a._target=e,a._selector=c,a._argument=g,a._order=j,a._runLoopModes=h,a._isValid=YES,a;return objj_msgSend(objj_msgSend(a,"alloc"),"initWithSelector:target:argument:order:modes:",c,e,g,j,h)}})]);var c=0;e=objj_allocateClassPair(CPObject,"CPRunLoop");b=e.isa;
class_addIvars(e,[new objj_ivar("_runLoopLock"),new objj_ivar("_timersForModes"),new objj_ivar("_nativeTimersForModes"),new objj_ivar("_nextTimerFireDatesForModes"),new objj_ivar("_didAddTimer"),new objj_ivar("_effectiveDate"),new objj_ivar("_orderedPerforms"),new objj_ivar("_runLoopInsuranceTimer")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPRunLoop").super_class},"init"))_orderedPerforms=
[],_timersForModes={},_nativeTimersForModes={},_nextTimerFireDatesForModes={};return a}}),new objj_method(sel_getUid("performSelector:target:argument:order:modes:"),function(a,b,c,e,f,g,h){with(a){a=objj_msgSend(_CPRunLoopPerform,"performWithSelector:target:argument:order:modes:",c,e,f,g,h);for(b=_orderedPerforms.length;b--;)if(g<objj_msgSend(_orderedPerforms[b],"order"))break;_orderedPerforms.splice(b+1,0,a)}}),new objj_method(sel_getUid("cancelPerformSelector:target:argument:"),function(a,b,c,e,
f){with(a)for(a=_orderedPerforms.length;a--;)b=_orderedPerforms[a],objj_msgSend(b,"selector")===c&&objj_msgSend(b,"target")==e&&objj_msgSend(b,"argument")==f&&objj_msgSend(_orderedPerforms[a],"invalidate")}),new objj_method(sel_getUid("performSelectors"),function(a){with(a)objj_msgSend(a,"limitDateForMode:",CPDefaultRunLoopMode)}),new objj_method(sel_getUid("addTimer:forMode:"),function(a,b,e,f){with(a){_timersForModes[f]?_timersForModes[f].push(e):_timersForModes[f]=[e];_didAddTimer=YES;if(!e._lastNativeRunLoopsForModes)e._lastNativeRunLoopsForModes=
{};e._lastNativeRunLoopsForModes[f]=c;objj_msgSend(CFBundle.environments(),"indexOfObject:","Browser")!==CPNotFound&&(_runLoopInsuranceTimer||(_runLoopInsuranceTimer=window.setNativeTimeout(function(){objj_msgSend(a,"limitDateForMode:",CPDefaultRunLoopMode)},0)))}}),new objj_method(sel_getUid("limitDateForMode:"),function(a,b,e){with(a){if(_runLoopLock)return;_runLoopLock=YES;objj_msgSend(CFBundle.environments(),"indexOfObject:","Browser")!==CPNotFound&&_runLoopInsuranceTimer&&(window.clearNativeTimeout(_runLoopInsuranceTimer),
_runLoopInsuranceTimer=nil);var f=_effectiveDate?objj_msgSend(_effectiveDate,"laterDate:",objj_msgSend(CPDate,"date")):objj_msgSend(CPDate,"date"),g=nil;b=_nextTimerFireDatesForModes[e];if(_didAddTimer||b&&b<=f){_didAddTimer=NO;_nativeTimersForModes[e]!==nil&&(window.clearNativeTimeout(_nativeTimersForModes[e]),_nativeTimersForModes[e]=nil);var j=_timersForModes[e];b=j.length;for(_timersForModes[e]=nil;b--;){var h=j[b];h._lastNativeRunLoopsForModes[e]<c&&h._isValid&&h._fireDate<=f&&objj_msgSend(h,
"fire");h._isValid?g=g===nil?h._fireDate:objj_msgSend(g,"earlierDate:",h._fireDate):(h._lastNativeRunLoopsForModes[e]=0,j.splice(b,1))}if((f=_timersForModes[e])&&f.length){for(b=f.length;b--;)h=f[b],objj_msgSend(h,"isValid")?g=g===nil?h._fireDate:objj_msgSend(g,"earlierDate:",h._fireDate):f.splice(b,1);_timersForModes[e]=f.concat(j)}else _timersForModes[e]=j;_nextTimerFireDatesForModes[e]=g;_nextTimerFireDatesForModes[e]!==nil&&(_nativeTimersForModes[e]=window.setNativeTimeout(function(){_effectiveDate=
g;_nativeTimersForModes[e]=nil;++c;objj_msgSend(a,"limitDateForMode:",e);_effectiveDate=nil},MAX(0,objj_msgSend(g,"timeIntervalSinceNow")*1E3)))}f=_orderedPerforms;b=f.length;for(_orderedPerforms=[];b--;)j=f[b],objj_msgSend(j,"fireInMode:",CPDefaultRunLoopMode)&&(objj_msgSend(_CPRunLoopPerform,"_poolPerform:",j),f.splice(b,1));_orderedPerforms.length?(_orderedPerforms=_orderedPerforms.concat(f),_orderedPerforms.sort(_CPRunLoopPerformCompare)):_orderedPerforms=f;_runLoopLock=NO;return g}})]);class_addMethods(b,
[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(CPRunLoop,"class"))return;CPMainRunLoop=objj_msgSend(objj_msgSend(CPRunLoop,"alloc"),"init")}}),new objj_method(sel_getUid("currentRunLoop"),function(a){with(a)return CPMainRunLoop}),new objj_method(sel_getUid("mainRunLoop"),function(a){with(a)return CPMainRunLoop})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/_CPJavaScriptArray.j",baseURL),function(h,g){g("CPMutableArray.j",YES);var f=Array.prototype.concat,e=Array.prototype.indexOf,b=Array.prototype.join,c=Array.prototype.pop,a=Array.prototype.push,d=Array.prototype.slice,i=Array.prototype.splice,o=objj_allocateClassPair(CPMutableArray,"_CPJavaScriptArray"),n=o.isa;objj_registerClassPair(o);class_addMethods(o,[new objj_method(sel_getUid("initWithArray:"),function(a,b,c){with(a)return objj_msgSend(a,
"initWithArray:copyItems:",c,NO)}),new objj_method(sel_getUid("initWithArray:copyItems:"),function(a,b,c,e){with(a){if(!e&&objj_msgSend(c,"isKindOfClass:",_CPJavaScriptArray))return d.call(c,0);a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPJavaScriptArray").super_class},"init");b=0;if(objj_msgSend(c,"isKindOfClass:",_CPJavaScriptArray)){for(var f=c.length;b<f;++b){var g=c[b];a[b]=g&&g.isa?objj_msgSend(g,"copy"):g}return a}for(f=objj_msgSend(c,"count");b<f;++b)g=objj_msgSend(c,"objectAtIndex:",
b),a[b]=e&&g&&g.isa?objj_msgSend(g,"copy"):g;return a}}),new objj_method(sel_getUid("initWithObjects:"),function(a){with(a){for(var b=2,c=arguments.length;b<c;++b)if(arguments[b]===nil)break;return d.call(arguments,2,b)}}),new objj_method(sel_getUid("initWithObjects:count:"),function(b,c,e,f){with(b){if(objj_msgSend(e,"isKindOfClass:",_CPJavaScriptArray))return d.call(e,0);b=[];for(c=0;c<f;++c)a.call(b,objj_msgSend(e,"objectAtIndex:",c));return b}}),new objj_method(sel_getUid("initWithCapacity:"),
function(a){with(a)return a}),new objj_method(sel_getUid("count"),function(a){with(a)return a.length}),new objj_method(sel_getUid("objectAtIndex:"),function(a,b,c){with(a)return(c>=a.length||c<0)&&_CPRaiseRangeException(a,b,c,a.length),a[c]}),new objj_method(sel_getUid("indexOfObject:inRange:"),function(a,b,c,d){with(a){if(c&&c.isa){b=d?d.location:0;for(d=d?CPMaxRange(d):a.length;b<d;++b)if(objj_msgSend(a[b],"isEqual:",c))return b;return CPNotFound}return objj_msgSend(a,"indexOfObjectIdenticalTo:inRange:",
c,d)}}),new objj_method(sel_getUid("indexOfObjectIdenticalTo:inRange:"),function(a,b,c,d){with(a){if(e&&!d)return e.call(a,c);b=d?d.location:0;for(d=d?CPMaxRange(d):a.length;b<d;++b)if(a[b]===c)return b;return CPNotFound}}),new objj_method(sel_getUid("makeObjectsPerformSelector:withObjects:"),function(a,b,c,d){with(a){c||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"makeObjectsPerformSelector:withObjects: 'aSelector' can't be nil");b=0;var e=a.length;if(objj_msgSend(d,"count"))for(argumentsArray=
objj_msgSend([nil,c],"arrayByAddingObjectsFromArray:",d);b<e;++b)argumentsArray[0]=a[b],objj_msgSend.apply(this,argumentsArray);else for(;b<e;++b)objj_msgSend(a[b],c)}}),new objj_method(sel_getUid("arrayByAddingObject:"),function(a,b,c){with(a){if(c&&c.isa&&objj_msgSend(c,"isKindOfClass:",_CPJavaScriptArray))return f.call(a,[c]);return f.call(a,c)}}),new objj_method(sel_getUid("arrayByAddingObjectsFromArray:"),function(a,b,c){with(a){if(!c)return objj_msgSend(a,"copy");return f.call(a,objj_msgSend(c,
"isKindOfClass:",_CPJavaScriptArray)?c:objj_msgSend(c,"_javaScriptArrayCopy"))}}),new objj_method(sel_getUid("subarrayWithRange:"),function(a,b,c){with(a)return(c.location<0||CPMaxRange(c)>a.length)&&objj_msgSend(CPException,"raise:reason:",CPRangeException,"subarrayWithRange: aRange out of bounds"),d.call(a,c.location,CPMaxRange(c))}),new objj_method(sel_getUid("componentsJoinedByString:"),function(a,c,d){with(a)return b.call(a,d)}),new objj_method(sel_getUid("insertObject:atIndex:"),function(a,
b,c,d){with(a)i.call(a,d,0,c)}),new objj_method(sel_getUid("removeObjectAtIndex:"),function(a,b,c){with(a)i.call(a,c,1)}),new objj_method(sel_getUid("addObject:"),function(b,c,d){with(b)a.call(b,d)}),new objj_method(sel_getUid("removeAllObjects"),function(a){with(a)i.call(a,0,a.length)}),new objj_method(sel_getUid("removeLastObject"),function(a){with(a)c.call(a)}),new objj_method(sel_getUid("removeObjectsInRange:"),function(a,b,c){with(a)i.call(a,c.location,c.length)}),new objj_method(sel_getUid("replaceObjectAtIndex:withObject:"),
function(a,b,c,d){with(a)a[c]=d}),new objj_method(sel_getUid("replaceObjectsInRange:withObjectsFromArray:range:"),function(a,b,c,d,e){with(a){if(e&&(e.location!==0||e.length!==objj_msgSend(d,"count")))d=objj_msgSend(d,"subarrayWithRange:",e);d.isa!==_CPJavaScriptArray&&(d=objj_msgSend(d,"_javaScriptArrayCopy"));i.apply(a,[c.location,c.length].concat(d))}}),new objj_method(sel_getUid("setArray:"),function(a,b,c){with(a)objj_msgSend(c,"isKindOfClass:",_CPJavaScriptArray)?i.apply(a,[0,a.length].concat(c)):
objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPJavaScriptArray").super_class},"setArray:",c)}),new objj_method(sel_getUid("addObjectsFromArray:"),function(a,b,c){with(a)objj_msgSend(c,"isKindOfClass:",_CPJavaScriptArray)?i.apply(a,[a.length,0].concat(c)):objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPJavaScriptArray").super_class},"addObjectsFromArray:",c)}),new objj_method(sel_getUid("copy"),function(a){with(a)return d.call(a,0)}),new objj_method(sel_getUid("classForCoder"),
function(a){with(a)return CPArray})]);class_addMethods(n,[new objj_method(sel_getUid("alloc"),function(a){with(a)return[]}),new objj_method(sel_getUid("array"),function(a){with(a)return[]}),new objj_method(sel_getUid("arrayWithArray:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithArray:",c)}),new objj_method(sel_getUid("arrayWithObject:"),function(a,b,c){with(a)return[c]})]);Array.prototype.isa=_CPJavaScriptArray});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPNumber.j",baseURL),function(h,g){g("CPObject.j",YES);g("CPObjJRuntime.j",YES);var f=new CFMutableDictionary,e=objj_allocateClassPair(CPObject,"CPNumber"),b=e.isa;objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithBool:"),function(b,a,d){with(b)return d}),new objj_method(sel_getUid("initWithChar:"),function(b,a,d){with(b){if(d.charCodeAt)return d.charCodeAt(0);return d}}),new objj_method(sel_getUid("initWithDouble:"),
function(b,a,d){with(b)return d}),new objj_method(sel_getUid("initWithFloat:"),function(b,a,d){with(b)return d}),new objj_method(sel_getUid("initWithInt:"),function(b,a,d){with(b)return d}),new objj_method(sel_getUid("initWithLong:"),function(b,a,d){with(b)return d}),new objj_method(sel_getUid("initWithLongLong:"),function(b,a,d){with(b)return d}),new objj_method(sel_getUid("initWithShort:"),function(b,a,d){with(b)return d}),new objj_method(sel_getUid("initWithUnsignedChar:"),function(b,a,d){with(b){if(d.charCodeAt)return d.charCodeAt(0);
return d}}),new objj_method(sel_getUid("initWithUnsignedInt:"),function(b,a,d){with(b)return d}),new objj_method(sel_getUid("initWithUnsignedLong:"),function(b,a,d){with(b)return d}),new objj_method(sel_getUid("initWithUnsignedShort:"),function(b,a,d){with(b)return d}),new objj_method(sel_getUid("UID"),function(b){with(b){var a=f.valueForKey(b);a||(a=objj_generateObjectUID(),f.setValueForKey(b,a));return a+""}}),new objj_method(sel_getUid("boolValue"),function(b){with(b)return b?!0:!1}),new objj_method(sel_getUid("charValue"),
function(b){with(b)return String.fromCharCode(b)}),new objj_method(sel_getUid("decimalValue"),function(b){with(b)throw Error("decimalValue: NOT YET IMPLEMENTED");}),new objj_method(sel_getUid("descriptionWithLocale:"),function(b,a,d){with(b){if(!d)return toString();throw Error("descriptionWithLocale: NOT YET IMPLEMENTED");}}),new objj_method(sel_getUid("description"),function(b){with(b)return objj_msgSend(b,"descriptionWithLocale:",nil)}),new objj_method(sel_getUid("doubleValue"),function(b){with(b){if(typeof b==
"boolean")return b?1:0;return b}}),new objj_method(sel_getUid("floatValue"),function(b){with(b){if(typeof b=="boolean")return b?1:0;return b}}),new objj_method(sel_getUid("intValue"),function(b){with(b){if(typeof b=="boolean")return b?1:0;return b}}),new objj_method(sel_getUid("longLongValue"),function(b){with(b){if(typeof b=="boolean")return b?1:0;return b}}),new objj_method(sel_getUid("longValue"),function(b){with(b){if(typeof b=="boolean")return b?1:0;return b}}),new objj_method(sel_getUid("shortValue"),
function(b){with(b){if(typeof b=="boolean")return b?1:0;return b}}),new objj_method(sel_getUid("stringValue"),function(b){with(b)return toString()}),new objj_method(sel_getUid("unsignedCharValue"),function(b){with(b)return String.fromCharCode(b)}),new objj_method(sel_getUid("unsignedIntValue"),function(b){with(b){if(typeof b=="boolean")return b?1:0;return b}}),new objj_method(sel_getUid("unsignedLongValue"),function(b){with(b){if(typeof b=="boolean")return b?1:0;return b}}),new objj_method(sel_getUid("unsignedShortValue"),
function(b){with(b){if(typeof b=="boolean")return b?1:0;return b}}),new objj_method(sel_getUid("compare:"),function(b,a,d){with(b){if(b>d)return CPOrderedDescending;else if(b<d)return CPOrderedAscending;return CPOrderedSame}}),new objj_method(sel_getUid("isEqualToNumber:"),function(b,a,d){with(b)return b==d})]);class_addMethods(b,[new objj_method(sel_getUid("alloc"),function(b){with(b){var a=new Number;a.isa=objj_msgSend(b,"class");return a}}),new objj_method(sel_getUid("numberWithBool:"),function(b,
a,d){with(b)return d}),new objj_method(sel_getUid("numberWithChar:"),function(b,a,d){with(b){if(d.charCodeAt)return d.charCodeAt(0);return d}}),new objj_method(sel_getUid("numberWithDouble:"),function(b,a,d){with(b)return d}),new objj_method(sel_getUid("numberWithFloat:"),function(b,a,d){with(b)return d}),new objj_method(sel_getUid("numberWithInt:"),function(b,a,d){with(b)return d}),new objj_method(sel_getUid("numberWithLong:"),function(b,a,d){with(b)return d}),new objj_method(sel_getUid("numberWithLongLong:"),
function(b,a,d){with(b)return d}),new objj_method(sel_getUid("numberWithShort:"),function(b,a,d){with(b)return d}),new objj_method(sel_getUid("numberWithUnsignedChar:"),function(b,a,d){with(b){if(d.charCodeAt)return d.charCodeAt(0);return d}}),new objj_method(sel_getUid("numberWithUnsignedInt:"),function(b,a,d){with(b)return d}),new objj_method(sel_getUid("numberWithUnsignedLong:"),function(b,a,d){with(b)return d}),new objj_method(sel_getUid("numberWithUnsignedShort:"),function(b,a,d){with(b)return d})]);
e=objj_getClass("CPNumber");if(!e)throw new SyntaxError('*** Could not find definition for class "CPNumber"');b=e.isa;class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(b,a,d){with(b)return objj_msgSend(d,"decodeNumber")}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,a,d){with(b)objj_msgSend(d,"encodeNumber:forKey:",b,"self")})]);Number.prototype.isa=CPNumber;Boolean.prototype.isa=CPNumber;objj_msgSend(CPNumber,"initialize")});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/pattern_config.j",baseURL),function(){var h=objj_allocateClassPair(CPObject,"PatternConfig");class_addIvars(h,[new objj_ivar("m_number_of_points"),new objj_ivar("m_factor_larger"),new objj_ivar("m_circle"),new objj_ivar("m_show_shapes"),new objj_ivar("m_stroke_colors"),new objj_ivar("m_fill_colors"),new objj_ivar("m_recurse_depth"),new objj_ivar("m_sub_patterns")]);objj_registerClassPair(h);class_addMethods(h,[new objj_method(sel_getUid("numPoints"),
function(g){with(g)return m_number_of_points}),new objj_method(sel_getUid("setNumPoints:"),function(g,f,e){with(g)m_number_of_points=e}),new objj_method(sel_getUid("factorLarger"),function(g){with(g)return m_factor_larger}),new objj_method(sel_getUid("setFactorLarger:"),function(g,f,e){with(g)m_factor_larger=e}),new objj_method(sel_getUid("circle"),function(g){with(g)return m_circle}),new objj_method(sel_getUid("showShapes"),function(g){with(g)return m_show_shapes}),new objj_method(sel_getUid("setShowShapes:"),
function(g,f,e){with(g)m_show_shapes=e}),new objj_method(sel_getUid("strokeColors"),function(g){with(g)return m_stroke_colors}),new objj_method(sel_getUid("fillColors"),function(g){with(g)return m_fill_colors}),new objj_method(sel_getUid("recurseDepth"),function(g){with(g)return m_recurse_depth}),new objj_method(sel_getUid("setRecurseDepth:"),function(g,f,e){with(g)m_recurse_depth=e}),new objj_method(sel_getUid("initWithConfig:"),function(g,f,e){with(g){if(g=objj_msgSendSuper({receiver:g,super_class:objj_getClass("PatternConfig").super_class},
"init"))if(m_number_of_points=objj_msgSend(e,"objectForKey:","number_of_points"),m_factor_larger=objj_msgSend(e,"objectForKey:","factor_larger"),m_show_shapes=objj_msgSend(e,"objectForKey:","show_shapes"),m_stroke_colors=objj_msgSend(e,"objectForKey:","stroke_colors"),m_fill_colors=objj_msgSend(e,"objectForKey:","fill_colors"),m_recurse_depth=objj_msgSend(e,"objectForKey:","recurse_depth"),m_circle=objj_msgSend(GRLinkedCircle,"circleWithCenter:radius:",objj_msgSend(e,"objectForKey:","center_point"),
objj_msgSend(e,"objectForKey:","radius")),m_sub_patterns=[],m_recurse_depth>0){f=objj_msgSend(g,"sub_circles");for(var b=0;b<objj_msgSend(g,"numPoints");b++){var c=objj_msgSend(e,"copy");objj_msgSend(c,"setObject:forKey:",objj_msgSend(f[b],"cpt"),"center_point");objj_msgSend(c,"setObject:forKey:",m_recurse_depth-1,"recurse_depth");m_sub_patterns.push(objj_msgSend(objj_msgSend(objj_msgSend(g,"class"),"alloc"),"initWithConfig:",c))}}return g}}),new objj_method(sel_getUid("setFillColorAt:color:"),function(g,
f,e,b){with(g){m_fill_colors[e%NumberOfColors]=b;for(g=0;g<objj_msgSend(m_sub_patterns,"count");g++)objj_msgSend(m_sub_patterns[g],"setFillColorAt:color:",e,b)}}),new objj_method(sel_getUid("setStrokeColorAt:color:"),function(g,f,e,b){with(g){m_stroke_colors[e%NumberOfColors]=b;for(g=0;g<objj_msgSend(m_sub_patterns,"count");g++)objj_msgSend(m_sub_patterns[g],"setStrokeColorAt:color:",e,b)}}),new objj_method(sel_getUid("setShowShapes:"),function(g,f,e){with(g){m_show_shapes=e;for(g=0;g<objj_msgSend(m_sub_patterns,
"count");g++)objj_msgSend(m_sub_patterns[g],"setShowShapes:",e)}}),new objj_method(sel_getUid("setNumPoints:"),function(g,f,e){with(g)return objj_msgSend(g,"compareValue:forConfig:",e,"number_of_points")}),new objj_method(sel_getUid("setRadius:"),function(g,f,e){with(g)return objj_msgSend(g,"compareValue:forConfig:",e,"radius")}),new objj_method(sel_getUid("setFactorLarger:"),function(g,f,e){with(g)return objj_msgSend(g,"compareValue:forConfig:",e,"factor_larger")}),new objj_method(sel_getUid("setRecurseDepth:"),
function(g,f,e){with(g)return objj_msgSend(g,"compareValue:forConfig:",e,"recurse_depth")}),new objj_method(sel_getUid("radius"),function(g){with(g)return objj_msgSend(objj_msgSend(g,"circle"),"radius")}),new objj_method(sel_getUid("fillColorAt:"),function(g,f,e){with(g)return m_fill_colors[e%NumberOfColors]}),new objj_method(sel_getUid("strokeColorAt:"),function(g,f,e){with(g)return m_stroke_colors[e%NumberOfColors]}),new objj_method(sel_getUid("newPattern"),function(g){with(g)return"\n@implementation NewPattern : "+
objj_msgSend(g,"class")+"\n+ (CPDict) defaultConfig\n{\n return "+objj_msgSend(g,"dumpConfig")+"\n}\n@end\n"}),new objj_method(sel_getUid("dumpConfig"),function(g){with(g){for(var f=[],e=[],b=0;b<objj_msgSend(m_stroke_colors,"count");b++){var c=m_stroke_colors[b];f[b]=objj_msgSend(CPString,"stringWithFormat:","[CPColor colorWith8BitRed:%d green:%d blue:%d alpha:%f]",objj_msgSend(c,"redComponent")*255,objj_msgSend(c,"greenComponent")*255,objj_msgSend(c,"blueComponent")*255,objj_msgSend(c,"alphaComponent"))}for(b=
0;b<objj_msgSend(m_fill_colors,"count");b++)c=m_fill_colors[b],e[b]=objj_msgSend(CPString,"stringWithFormat:","[CPColor colorWith8BitRed:%d green:%d blue:%d alpha:%f]",objj_msgSend(c,"redComponent")*255,objj_msgSend(c,"greenComponent")*255,objj_msgSend(c,"blueComponent")*255,objj_msgSend(c,"alphaComponent"));return"[CPDictionary dictionaryWithObjectsAndKeys:"+objj_msgSend(g,"numPoints")+', "number_of_points", '+objj_msgSend(g,"recurseDepth")+', "recurse_depth", '+objj_msgSend(g,"factorLarger")+', "factor_larger", [GRPoint pointWithX:'+
objj_msgSend(objj_msgSend(objj_msgSend(g,"circle"),"cpt"),"x")+" Y:"+objj_msgSend(objj_msgSend(objj_msgSend(g,"circle"),"cpt"),"y")+'], "center_point", '+objj_msgSend(g,"radius")+', "radius", '+(objj_msgSend(g,"showShapes")?"YES":"NO")+', "show_shapes", ['+objj_msgSend(f,"componentsJoinedByString:",",")+'], "stroke_colors", ['+objj_msgSend(e,"componentsJoinedByString:",",")+'], "fill_colors"];'}}),new objj_method(sel_getUid("config"),function(g){with(g)return objj_eval(objj_msgSend(g,"dumpConfig"))}),
new objj_method(sel_getUid("compareValue:forConfig:"),function(g,f,e,b){with(g){f=objj_msgSend(g,"config");if(objj_msgSend(f,"objectForKey:",b)!==e)return objj_msgSend(f,"setObject:forKey:",e,b),objj_msgSend(objj_msgSend(objj_msgSend(g,"class"),"alloc"),"initWithConfig:",f);return g}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPColorWell.j",baseURL),function(h,g){g("Foundation/CPString.j",NO);g("CPView.j",YES);g("CPColor.j",YES);g("CPColorPanel.j",YES);var f=objj_allocateClassPair(CPControl,"CPColorWell");class_addIvars(f,[new objj_ivar("_active"),new objj_ivar("_bordered"),new objj_ivar("_color"),new objj_ivar("_wellView")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:"),function(e,b,c){with(e){if(e=objj_msgSendSuper({receiver:e,
super_class:objj_getClass("CPColorWell").super_class},"initWithFrame:",c))_active=NO,_bordered=YES,_color=objj_msgSend(CPColor,"whiteColor"),objj_msgSend(e,"drawBezelWithHighlight:",NO),objj_msgSend(e,"drawWellInside:",CGRectInset(objj_msgSend(e,"bounds"),3,3)),objj_msgSend(e,"_registerForNotifications");return e}}),new objj_method(sel_getUid("_registerForNotifications"),function(e){with(e){var b=objj_msgSend(CPNotificationCenter,"defaultCenter");objj_msgSend(b,"addObserver:selector:name:object:",
e,sel_getUid("colorWellDidBecomeExclusive:"),"_CPColorWellDidBecomeExclusiveNotification",nil);objj_msgSend(b,"addObserver:selector:name:object:",e,sel_getUid("colorPanelWillClose:"),CPWindowWillCloseNotification,objj_msgSend(CPColorPanel,"sharedColorPanel"))}}),new objj_method(sel_getUid("isBordered"),function(e){with(e)return _bordered}),new objj_method(sel_getUid("setBordered:"),function(e,b,c){with(e){if(_bordered==c)return;_bordered=c;objj_msgSend(e,"drawWellInside:",CGRectInset(objj_msgSend(e,
"bounds"),3,3))}}),new objj_method(sel_getUid("color"),function(e){with(e)return _color}),new objj_method(sel_getUid("setColor:"),function(e,b,c){with(e){if(_color==c)return;_color=c;objj_msgSend(e,"drawWellInside:",CGRectInset(objj_msgSend(e,"bounds"),3,3))}}),new objj_method(sel_getUid("takeColorFrom:"),function(e,b,c){with(e)objj_msgSend(e,"setColor:",objj_msgSend(c,"color"))}),new objj_method(sel_getUid("activate:"),function(e,b,c){with(e){c&&objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),
"postNotificationName:object:","_CPColorWellDidBecomeExclusiveNotification",e);if(objj_msgSend(e,"isActive"))return;_active=YES;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",e,sel_getUid("colorPanelDidChangeColor:"),CPColorPanelColorDidChangeNotification,objj_msgSend(CPColorPanel,"sharedColorPanel"))}}),new objj_method(sel_getUid("deactivate"),function(e){with(e){if(!objj_msgSend(e,"isActive"))return;_active=NO;objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"removeObserver:name:object:",e,CPColorPanelColorDidChangeNotification,objj_msgSend(CPColorPanel,"sharedColorPanel"))}}),new objj_method(sel_getUid("isActive"),function(e){with(e)return _active}),new objj_method(sel_getUid("drawBezelWithHighlight:"),function(e){with(e);}),new objj_method(sel_getUid("drawWellInside:"),function(e,b,c){with(e)_wellView?objj_msgSend(_wellView,"setFrame:",c):(_wellView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",c),objj_msgSend(_wellView,
"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(e,"addSubview:",_wellView)),objj_msgSend(_wellView,"setBackgroundColor:",_color)}),new objj_method(sel_getUid("colorPanelDidChangeColor:"),function(e,b,c){with(e)objj_msgSend(e,"takeColorFrom:",objj_msgSend(c,"object")),objj_msgSend(e,"sendAction:to:",objj_msgSend(e,"action"),objj_msgSend(e,"target"))}),new objj_method(sel_getUid("colorWellDidBecomeExclusive:"),function(e,b,c){with(e)e!=objj_msgSend(c,"object")&&objj_msgSend(e,
"deactivate")}),new objj_method(sel_getUid("colorPanelWillClose:"),function(e){with(e)objj_msgSend(e,"deactivate")}),new objj_method(sel_getUid("mouseDown:"),function(e){with(e){if(!objj_msgSend(e,"isEnabled"))return;objj_msgSend(e,"drawBezelWithHighlight:",YES)}}),new objj_method(sel_getUid("mouseDragged:"),function(e,b,c){with(e){if(!objj_msgSend(e,"isEnabled"))return;objj_msgSend(e,"drawBezelWithHighlight:",CGRectContainsPoint(objj_msgSend(e,"bounds"),objj_msgSend(e,"convertPoint:fromView:",objj_msgSend(c,
"locationInWindow"),nil)))}}),new objj_method(sel_getUid("mouseUp:"),function(e,b,c){with(e){objj_msgSend(e,"drawBezelWithHighlight:",NO);if(!CGRectContainsPoint(objj_msgSend(e,"bounds"),objj_msgSend(e,"convertPoint:fromView:",objj_msgSend(c,"locationInWindow"),nil))||!objj_msgSend(e,"isEnabled"))return;objj_msgSend(e,"activate:",YES);b=objj_msgSend(CPColorPanel,"sharedColorPanel");objj_msgSend(b,"setColor:",_color);objj_msgSend(b,"orderFront:",e)}})]);f=objj_getClass("CPColorWell");if(!f)throw new SyntaxError('*** Could not find definition for class "CPColorWell"');
class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(e,b,c){with(e){if(e=objj_msgSendSuper({receiver:e,super_class:objj_getClass("CPColorWell").super_class},"initWithCoder:",c))_active=NO,_bordered=objj_msgSend(c,"decodeBoolForKey:","CPColorWellBorderedKey"),_color=objj_msgSend(c,"decodeObjectForKey:","CPColorWellColorKey"),objj_msgSend(e,"drawBezelWithHighlight:",NO),objj_msgSend(e,"drawWellInside:",CGRectInset(objj_msgSend(e,"bounds"),3,3)),objj_msgSend(e,"_registerForNotifications");
return e}}),new objj_method(sel_getUid("encodeWithCoder:"),function(e,b,c){with(e)b=_subviews,_subviews=objj_msgSend(_subviews,"copy"),objj_msgSend(_subviews,"removeObjectIdenticalTo:",_wellView),objj_msgSendSuper({receiver:e,super_class:objj_getClass("CPColorWell").super_class},"encodeWithCoder:",c),_subviews=b,objj_msgSend(c,"encodeObject:forKey:",_color,"CPColorWellColorKey"),objj_msgSend(c,"encodeObject:forKey:",_bordered,"CPColorWellBorderedKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPTimer.j",baseURL),function(h,g){g("CPDate.j",YES);g("CPInvocation.j",YES);g("CPObject.j",YES);g("CPRunLoop.j",YES);var f=objj_allocateClassPair(CPObject,"CPTimer"),e=f.isa;class_addIvars(f,[new objj_ivar("_timeInterval"),new objj_ivar("_invocation"),new objj_ivar("_callback"),new objj_ivar("_repeats"),new objj_ivar("_isValid"),new objj_ivar("_fireDate"),new objj_ivar("_userInfo")]);objj_registerClassPair(f);class_addMethods(f,
[new objj_method(sel_getUid("initWithFireDate:interval:invocation:repeats:"),function(a,b,c,e,f,g){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTimer").super_class},"init"))_timeInterval=e,_invocation=f,_repeats=g,_isValid=YES,_fireDate=c;return a}}),new objj_method(sel_getUid("initWithFireDate:interval:target:selector:userInfo:repeats:"),function(a,b,c,e,f,g,h,l){with(a)return b=objj_msgSend(CPInvocation,"invocationWithMethodSignature:",1),objj_msgSend(b,"setTarget:",f),
objj_msgSend(b,"setSelector:",g),objj_msgSend(b,"setArgument:atIndex:",a,2),(a=objj_msgSend(a,"initWithFireDate:interval:invocation:repeats:",c,e,b,l))&&(_userInfo=h),a}),new objj_method(sel_getUid("initWithFireDate:interval:callback:repeats:"),function(a,b,c,e,f,g){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPTimer").super_class},"init"))_timeInterval=e,_callback=f,_repeats=g,_isValid=YES,_fireDate=c;return a}}),new objj_method(sel_getUid("timeInterval"),function(a){with(a)return _timeInterval}),
new objj_method(sel_getUid("fireDate"),function(a){with(a)return _fireDate}),new objj_method(sel_getUid("setFireDate:"),function(a,b,c){with(a)_fireDate=c}),new objj_method(sel_getUid("fire"),function(a){with(a){if(!_isValid)return;_callback?_callback():objj_msgSend(_invocation,"invoke");if(!_isValid)return;_repeats?_fireDate=objj_msgSend(CPDate,"dateWithTimeIntervalSinceNow:",_timeInterval):objj_msgSend(a,"invalidate")}}),new objj_method(sel_getUid("isValid"),function(a){with(a)return _isValid}),
new objj_method(sel_getUid("invalidate"),function(a){with(a)_isValid=NO,_callback=_invocation=_userInfo=nil}),new objj_method(sel_getUid("userInfo"),function(a){with(a)return _userInfo})]);class_addMethods(e,[new objj_method(sel_getUid("scheduledTimerWithTimeInterval:invocation:repeats:"),function(a,b,c,e,f){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"initWithFireDate:interval:invocation:repeats:",objj_msgSend(CPDate,"dateWithTimeIntervalSinceNow:",c),c,e,f),objj_msgSend(objj_msgSend(CPRunLoop,
"currentRunLoop"),"addTimer:forMode:",a,CPDefaultRunLoopMode),a}),new objj_method(sel_getUid("scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:"),function(a,b,c,e,f,g,h){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"initWithFireDate:interval:target:selector:userInfo:repeats:",objj_msgSend(CPDate,"dateWithTimeIntervalSinceNow:",c),c,e,f,g,h),objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"addTimer:forMode:",a,CPDefaultRunLoopMode),a}),new objj_method(sel_getUid("scheduledTimerWithTimeInterval:callback:repeats:"),
function(a,b,c,e,f){with(a)return a=objj_msgSend(objj_msgSend(a,"alloc"),"initWithFireDate:interval:callback:repeats:",objj_msgSend(CPDate,"dateWithTimeIntervalSinceNow:",c),c,e,f),objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"addTimer:forMode:",a,CPDefaultRunLoopMode),a}),new objj_method(sel_getUid("timerWithTimeInterval:invocation:repeats:"),function(a,b,c,e,f){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithFireDate:interval:invocation:repeats:",objj_msgSend(CPDate,"dateWithTimeIntervalSinceNow:",
c),c,e,f)}),new objj_method(sel_getUid("timerWithTimeInterval:target:selector:userInfo:repeats:"),function(a,b,c,e,f,g,h){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithFireDate:interval:target:selector:userInfo:repeats:",objj_msgSend(CPDate,"dateWithTimeIntervalSinceNow:",c),c,e,f,g,h)}),new objj_method(sel_getUid("timerWithTimeInterval:callback:repeats:"),function(a,b,c,e,f){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithFireDate:interval:callback:repeats:",objj_msgSend(CPDate,
"dateWithTimeIntervalSinceNow:",c),c,e,f)})]);var b=1E3,c={},a=function(a,e,f,g){var h=b++,k=nil;typeof a==="string"?k=function(){(new Function(a))();f||(c[h]=nil)}:(g||(g=[]),k=function(){a.apply(window,g);f||(c[h]=nil)});c[h]=objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:callback:repeats:",e/1E3,k,f);return h};if(typeof window!=="undefined")window.setTimeout=function(b,c){return a(b,c,NO,Array.prototype.slice.apply(arguments,[2]))},window.clearTimeout=function(a){var b=c[a];b&&objj_msgSend(b,
"invalidate");c[a]=nil},window.setInterval=function(b,c){return a(b,c,YES,Array.prototype.slice.apply(arguments,[2]))},window.clearInterval=function(a){window.clearTimeout(a)}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/seven.j",baseURL),function(){var h=objj_allocateClassPair(PatternMaker,"PatternSeven"),g=h.isa;objj_registerClassPair(h);class_addMethods(h,[new objj_method(sel_getUid("_draw:"),function(f,e,b){with(f)objj_msgSend(f,"showShapes")?(objj_msgSend(f,"draw_frame_1:",b),objj_msgSend(f,"draw_frame_2:",b),objj_msgSend(f,"draw_frame_3:",b)):(objj_msgSend(f,"draw_frame_1:",b),objj_msgSend(f,"draw_frame_2:",b))}),new objj_method(sel_getUid("draw_frame_1:"),
function(f,e,b){with(f)objj_msgSend(f,"setupColorWithIndex:context:",0,b),objj_msgSend(objj_msgSend(f,"circle"),"draw:",b),objj_msgSend(f,"fillAndStroke:",b)}),new objj_method(sel_getUid("draw_frame_2:"),function(f,e,b){with(f){e=objj_msgSend(f,"sub_circles");for(var c=objj_msgSend(e,"count");c--;)objj_msgSend(e[c],"draw:",b),objj_msgSend(f,"setupColorWithIndex:context:",c%2+1,b),objj_msgSend(f,"fillAndStroke:",b)}}),new objj_method(sel_getUid("draw_frame_3:"),function(f,e,b){with(f){e=objj_msgSend(f,
"sub_circles");for(var c=[],a=[],d=nil,g=objj_msgSend(f,"fillColorAt:",3),h=0;h<objj_msgSend(f,"numPoints");h++)d=e[h],CGContextSetFillColor(b,g),d=objj_msgSend(GRRect,"rectWithPoints:",[objj_msgSend(d,"cpt"),objj_msgSend(objj_msgSend(d,"nextCircle"),"cpt")]),objj_msgSend(d,"draw:",b),objj_msgSend(f,"fillAndStroke:",b),c.push(objj_msgSend(objj_msgSend(objj_msgSend(f,"circle"),"cpt"),"closest:",objj_msgSend(d,"points")));c.push(c[0]);for(h=0;h<c.length-1;h++)d=objj_msgSend(GRRect,"rectWithPoints:",
[c[h],c[h+1]]),CGContextSetFillColor(b,objj_msgSend(g,"addToBlue:",20)),objj_msgSend(d,"draw:",b),objj_msgSend(f,"fillAndStroke:",b),a.push(objj_msgSend(objj_msgSend(objj_msgSend(f,"circle"),"cpt"),"closest:",objj_msgSend(d,"points")));c=[];a.push(a[0]);for(h=0;h<a.length-1;h++)CGContextSetFillColor(b,objj_msgSend(g,"addToBlue:",40)),d=objj_msgSend(GRRect,"rectWithPoints:",[a[h],a[h+1]]),objj_msgSend(d,"draw:",b),objj_msgSend(f,"fillAndStroke:",b),c.push(objj_msgSend(objj_msgSend(objj_msgSend(f,"circle"),
"cpt"),"closest:",objj_msgSend(d,"points")));a=[];c.push(c[0]);for(h=0;h<c.length-1;h++)CGContextSetFillColor(b,objj_msgSend(g,"addToBlue:",60)),d=objj_msgSend(GRRect,"rectWithPoints:",[c[h],c[h+1]]),objj_msgSend(d,"draw:",b),objj_msgSend(f,"fillAndStroke:",b),a.push(objj_msgSend(objj_msgSend(objj_msgSend(f,"circle"),"cpt"),"closest:",objj_msgSend(d,"points")));c=[];a.push(a[0]);for(h=0;h<a.length-1;h++)CGContextSetFillColor(b,objj_msgSend(g,"addToBlue:",80)),d=objj_msgSend(GRRect,"rectWithPoints:",
[a[h],a[h+1]]),objj_msgSend(d,"draw:",b),objj_msgSend(f,"fillAndStroke:",b),c.push(objj_msgSend(objj_msgSend(objj_msgSend(f,"circle"),"cpt"),"closest:",objj_msgSend(d,"points")));a=[];c.push(c[0]);for(h=0;h<c.length-1;h++)CGContextSetFillColor(b,objj_msgSend(g,"addToBlue:",100)),d=objj_msgSend(GRRect,"rectWithPoints:",[c[h],c[h+1]]),objj_msgSend(d,"draw:",b),objj_msgSend(f,"fillAndStroke:",b),a.push(objj_msgSend(objj_msgSend(objj_msgSend(f,"circle"),"cpt"),"closest:",objj_msgSend(d,"points")));c=
[];a.push(a[0]);for(h=0;h<a.length-1;h++)CGContextSetFillColor(b,objj_msgSend(g,"addToBlue:",120)),d=objj_msgSend(GRRect,"rectWithPoints:",[a[h],a[h+1]]),objj_msgSend(d,"draw:",b),objj_msgSend(f,"fillAndStroke:",b),c.push(objj_msgSend(objj_msgSend(objj_msgSend(f,"circle"),"cpt"),"closest:",objj_msgSend(d,"points")));a=[];c.push(c[0]);for(h=0;h<c.length-1;h++)CGContextSetFillColor(b,objj_msgSend(g,"addToBlue:",140)),d=objj_msgSend(GRRect,"rectWithPoints:",[c[h],c[h+1]]),objj_msgSend(d,"draw:",b),objj_msgSend(f,
"fillAndStroke:",b),a.push(objj_msgSend(objj_msgSend(objj_msgSend(f,"circle"),"cpt"),"closest:",objj_msgSend(d,"points")))}})]);class_addMethods(g,[new objj_method(sel_getUid("defaultConfig"),function(f){with(f)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",12,"number_of_points",0,"recurse_depth",1.14,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",115,"radius",YES,"show_shapes",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,255,100,1),
objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.33636363636363636),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.3),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,0,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,2,10,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,23,10,1)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",51,32,255,0.5363636363636364),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",
255,255,0,0.16363636363636364),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,0,0.16363636363636364),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,96,175,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,200,10,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCib.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);g("Foundation/CPURLConnection.j",NO);g("Foundation/CPURLRequest.j",NO);g("_CPCibClassSwapper.j",YES);g("_CPCibCustomObject.j",YES);g("_CPCibCustomResource.j",YES);g("_CPCibCustomView.j",YES);g("_CPCibKeyedUnarchiver.j",YES);g("_CPCibObjectData.j",YES);g("_CPCibProxyObject.j",YES);g("_CPCibWindowTemplate.j",YES);CPCibOwner="CPCibOwner";CPCibTopLevelObjects="CPCibTopLevelObjects";
CPCibReplacementClasses="CPCibReplacementClasses";CPCibExternalObjects="CPCibExternalObjects";var f=objj_allocateClassPair(CPObject,"CPCib");class_addIvars(f,[new objj_ivar("_data"),new objj_ivar("_bundle"),new objj_ivar("_awakenCustomResources"),new objj_ivar("_loadDelegate")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithContentsOfURL:"),function(e,b,c){with(e){if(e=objj_msgSendSuper({receiver:e,super_class:objj_getClass("CPCib").super_class},"init"))_data=objj_msgSend(CPURLConnection,
"sendSynchronousRequest:returningResponse:",objj_msgSend(CPURLRequest,"requestWithURL:",c),nil),_awakenCustomResources=YES;return e}}),new objj_method(sel_getUid("initWithContentsOfURL:loadDelegate:"),function(e,b,c,a){with(e){if(e=objj_msgSendSuper({receiver:e,super_class:objj_getClass("CPCib").super_class},"init"))objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",objj_msgSend(CPURLRequest,"requestWithURL:",c),e),_awakenCustomResources=YES,_loadDelegate=a;return e}}),new objj_method(sel_getUid("initWithCibNamed:bundle:"),
function(e,b,c,a){with(e)return objj_msgSend(c,"hasSuffix:",".cib")||(c=objj_msgSend(c,"stringByAppendingString:",".cib")),(e=objj_msgSend(e,"initWithContentsOfURL:",objj_msgSend(a||objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",c)))&&(_bundle=a),e}),new objj_method(sel_getUid("initWithCibNamed:bundle:loadDelegate:"),function(e,b,c,a,d){with(e)return objj_msgSend(c,"hasSuffix:",".cib")||(c=objj_msgSend(c,"stringByAppendingString:",".cib")),(e=objj_msgSend(e,"initWithContentsOfURL:loadDelegate:",
objj_msgSend(a||objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",c),d))&&(_bundle=a),e}),new objj_method(sel_getUid("_setAwakenCustomResources:"),function(e,b,c){with(e)_awakenCustomResources=c}),new objj_method(sel_getUid("_awakenCustomResources"),function(e){with(e)return _awakenCustomResources}),new objj_method(sel_getUid("instantiateCibWithExternalNameTable:"),function(e,b,c){with(e){b=_bundle;e=objj_msgSend(c,"objectForKey:",CPCibOwner);!b&&e&&(b=objj_msgSend(CPBundle,"bundleForClass:",
objj_msgSend(e,"class")));b=objj_msgSend(objj_msgSend(_CPCibKeyedUnarchiver,"alloc"),"initForReadingWithData:bundle:awakenCustomResources:",_data,b,_awakenCustomResources);var a=objj_msgSend(c,"objectForKey:",CPCibReplacementClasses);if(a)for(var d=nil,f=objj_msgSend(a,"keyEnumerator");d=objj_msgSend(f,"nextObject");)objj_msgSend(b,"setClass:forClassName:",objj_msgSend(a,"objectForKey:",d),d);objj_msgSend(b,"setExternalObjectsForProxyIdentifiers:",objj_msgSend(c,"objectForKey:",CPCibExternalObjects));
b=objj_msgSend(b,"decodeObjectForKey:","CPCibObjectDataKey");if(!b||!objj_msgSend(b,"isKindOfClass:",objj_msgSend(_CPCibObjectData,"class")))return NO;c=objj_msgSend(c,"objectForKey:",CPCibTopLevelObjects);objj_msgSend(b,"instantiateWithOwner:topLevelObjects:",e,c);objj_msgSend(b,"establishConnectionsWithOwner:topLevelObjects:",e,c);objj_msgSend(b,"awakeWithOwner:topLevelObjects:",e,c);objj_msgSend(b,"displayVisibleWindows");return YES}}),new objj_method(sel_getUid("instantiateCibWithOwner:topLevelObjects:"),
function(e,b,c,a){with(e)return objj_msgSend(e,"instantiateCibWithExternalNameTable:",objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",c,CPCibOwner,a,CPCibTopLevelObjects))})]);f=objj_getClass("CPCib");if(!f)throw new SyntaxError('*** Could not find definition for class "CPCib"');class_addMethods(f,[new objj_method(sel_getUid("connection:didReceiveData:"),function(e,b,c,a){with(e){if(!a)return objj_msgSend(e,"connection:didFailWithError:",c,nil);_data=objj_msgSend(CPData,"dataWithRawString:",
a)}}),new objj_method(sel_getUid("connection:didFailWithError:"),function(e){with(e)objj_msgSend(_loadDelegate,"respondsToSelector:",sel_getUid("cibDidFailToLoad:"))&&objj_msgSend(_loadDelegate,"cibDidFailToLoad:",e),_loadDelegate=nil}),new objj_method(sel_getUid("connectionDidFinishLoading:"),function(e){with(e)objj_msgSend(_loadDelegate,"respondsToSelector:",sel_getUid("cibDidFinishLoading:"))&&objj_msgSend(_loadDelegate,"cibDidFinishLoading:",e),_loadDelegate=nil})])});
CFHTTPRequest._cacheRequest(new CFURL("Frameworks/Foundation/ObjJ.environment/Foundation.sj",baseURL),200,{},'@STATIC;1.0;p;12;Foundation.jt;696;@STATIC;1.0;i;9;CPArray.ji;10;CPBundle.ji;9;CPCoder.ji;8;CPData.ji;8;CPDate.ji;14;CPDictionary.ji;14;CPEnumerator.ji;13;CPException.ji;12;CPIndexSet.ji;14;CPInvocation.ji;17;CPKeyedArchiver.ji;19;CPKeyedUnarchiver.ji;18;CPKeyValueCoding.ji;21;CPKeyValueObserving.ji;16;CPMutableArray.ji;14;CPMutableSet.ji;16;CPNotification.ji;22;CPNotificationCenter.ji;8;CPNull.ji;10;CPNumber.ji;10;CPObject.ji;15;CPObjJRuntime.ji;29;CPPropertyListSerialization.ji;9;CPRange.ji;11;CPRunLoop.ji;7;CPSet.ji;18;CPSortDescriptor.ji;10;CPString.ji;9;CPTimer.ji;15;CPUndoManager.ji;7;CPURL.ji;17;CPURLConnection.ji;14;CPURLRequest.ji;15;CPURLResponse.ji;9;CPValue.ji;20;CPValueTransformer.jt;22;alert("Foundation.j");p;9;CPArray.jt;149;@STATIC;1.0;i;14;CPEnumerator.ji;13;CPException.ji;10;CPObject.ji;9;CPRange.ji;18;CPSortDescriptor.ji;20;_CPJavaScriptArray.jt;19;alert("CPArray.j");p;14;CPEnumerator.jt;56;@STATIC;1.0;i;10;CPObject.jt;24;alert("CPEnumerator.j");p;10;CPObject.jt;37;@STATIC;1.0;t;20;alert("CPObject.j");p;13;CPException.jt;83;@STATIC;1.0;i;9;CPCoder.ji;10;CPObject.ji;10;CPString.jt;23;alert("CPException.j");p;9;CPCoder.jt;69;@STATIC;1.0;i;13;CPException.ji;10;CPObject.jt;19;alert("CPCoder.j");p;10;CPString.jt;150;@STATIC;1.0;i;13;CPException.ji;10;CPObject.ji;15;CPObjJRuntime.ji;9;CPRange.ji;18;CPSortDescriptor.ji;7;CPURL.ji;9;CPValue.jt;20;alert("CPString.j");p;15;CPObjJRuntime.jt;42;@STATIC;1.0;t;25;alert("CPObjJRuntime.j");p;9;CPRange.jt;36;@STATIC;1.0;t;19;alert("CPRange.j");p;18;CPSortDescriptor.jt;95;@STATIC;1.0;i;10;CPObject.ji;15;CPObjJRuntime.ji;10;CPString.jt;28;alert("CPSortDescriptor.j");p;7;CPURL.jt;64;@STATIC;1.0;i;10;CPObject.ji;10;CPString.jt;17;alert("CPURL.j");p;9;CPValue.jt;64;@STATIC;1.0;i;9;CPCoder.ji;10;CPObject.jt;19;alert("CPValue.j");p;20;_CPJavaScriptArray.jt;68;@STATIC;1.0;i;16;CPMutableArray.jt;30;alert("_CPJavaScriptArray.j");p;16;CPMutableArray.jt;56;@STATIC;1.0;i;9;CPArray.jt;26;alert("CPMutableArray.j");p;10;CPBundle.jt;119;@STATIC;1.0;i;14;CPDictionary.ji;16;CPNotification.ji;22;CPNotificationCenter.ji;10;CPObject.jt;20;alert("CPBundle.j");p;14;CPDictionary.jt;118;@STATIC;1.0;i;9;CPArray.ji;14;CPEnumerator.ji;13;CPException.ji;8;CPNull.ji;10;CPObject.jt;24;alert("CPDictionary.j");p;8;CPNull.jt;50;@STATIC;1.0;i;10;CPObject.jt;18;alert("CPNull.j");p;16;CPNotification.jt;76;@STATIC;1.0;i;13;CPException.ji;10;CPObject.jt;26;alert("CPNotification.j");p;22;CPNotificationCenter.jt;132;@STATIC;1.0;i;9;CPArray.ji;14;CPDictionary.ji;13;CPException.ji;16;CPNotification.ji;8;CPNull.jt;32;alert("CPNotificationCenter.j");p;8;CPData.jt;65;@STATIC;1.0;i;10;CPObject.ji;10;CPString.jt;18;alert("CPData.j");p;8;CPDate.jt;83;@STATIC;1.0;i;10;CPObject.ji;10;CPString.ji;13;CPException.jt;18;alert("CPDate.j");p;12;CPIndexSet.jt;80;@STATIC;1.0;i;9;CPArray.ji;10;CPObject.ji;9;CPRange.jt;22;alert("CPIndexSet.j");p;14;CPInvocation.jt;56;@STATIC;1.0;i;10;CPObject.jt;24;alert("CPInvocation.j");p;17;CPKeyedArchiver.jt;144;@STATIC;1.0;i;9;CPArray.ji;9;CPCoder.ji;8;CPData.ji;14;CPDictionary.ji;10;CPNumber.ji;10;CPString.ji;9;CPValue.jt;27;alert("CPKeyedArchiver.j");p;10;CPNumber.jt;72;@STATIC;1.0;i;10;CPObject.ji;15;CPObjJRuntime.jt;20;alert("CPNumber.j");p;19;CPKeyedUnarchiver.jt;185;@STATIC;1.0;i;9;CPArray.ji;9;CPCoder.ji;8;CPData.ji;14;CPDictionary.ji;13;CPException.ji;17;CPKeyedArchiver.ji;8;CPNull.ji;10;CPNumber.ji;10;CPString.jt;29;alert("CPKeyedUnarchiver.j");p;18;CPKeyValueCoding.jt;176;@STATIC;1.0;i;9;CPArray.ji;14;CPDictionary.ji;13;CPException.ji;12;CPIndexSet.ji;8;CPNull.ji;10;CPObject.ji;7;CPSet.ji;21;CPKeyValueObserving.jt;28;alert("CPKeyValueCoding.j");p;7;CPSet.jt;115;@STATIC;1.0;i;9;CPArray.ji;14;CPEnumerator.ji;10;CPNumber.ji;10;CPObject.ji;14;CPMutableSet.jt;17;alert("CPSet.j");p;14;CPMutableSet.jt;80;@STATIC;1.0;i;7;CPSet.ji;23;_CPConcreteMutableSet.jt;24;alert("CPMutableSet.j");p;23;_CPConcreteMutableSet.jt;69;@STATIC;1.0;i;14;CPMutableSet.jt;33;alert("_CPConcreteMutableSet.j");p;21;CPKeyValueObserving.jt;170;@STATIC;1.0;i;9;CPArray.ji;14;CPDictionary.ji;13;CPException.ji;8;CPNull.ji;10;CPObject.ji;7;CPSet.ji;13;CPArray+KVO.ji;11;CPSet+KVO.jt;31;alert("CPKeyValueObserving.j");p;13;CPArray+KVO.jt;65;@STATIC;1.0;i;9;CPArray.ji;8;CPNull.jt;23;alert("CPArray+KVO.j");p;11;CPSet+KVO.jt;82;@STATIC;1.0;i;13;CPException.ji;10;CPObject.ji;7;CPSet.jt;21;alert("CPSet+KVO.j");p;29;CPPropertyListSerialization.jt;89;@STATIC;1.0;i;13;CPException.ji;10;CPObject.jt;39;alert("CPPropertyListSerialization.j");p;11;CPRunLoop.jt;93;@STATIC;1.0;i;9;CPArray.ji;8;CPDate.ji;10;CPObject.ji;10;CPString.jt;21;alert("CPRunLoop.j");p;9;CPTimer.jt;98;@STATIC;1.0;i;8;CPDate.ji;14;CPInvocation.ji;10;CPObject.ji;11;CPRunLoop.jt;19;alert("CPTimer.j");p;15;CPUndoManager.jt;189;@STATIC;1.0;i;9;CPArray.ji;13;CPException.ji;14;CPInvocation.ji;22;CPNotificationCenter.ji;10;CPObject.ji;9;CPProxy.ji;21;CPKeyValueObserving.ji;11;CPRunLoop.jt;25;alert("CPUndoManager.j");p;9;CPProxy.jt;103;@STATIC;1.0;i;13;CPException.ji;14;CPInvocation.ji;10;CPObject.ji;10;CPString.jt;19;alert("CPProxy.j");p;17;CPURLConnection.jt;126;@STATIC;1.0;i;8;CPData.ji;10;CPObject.ji;11;CPRunLoop.ji;14;CPURLRequest.ji;15;CPURLResponse.jt;27;alert("CPURLConnection.j");p;14;CPURLRequest.jt;101;@STATIC;1.0;i;14;CPDictionary.ji;10;CPObject.ji;10;CPString.ji;7;CPURL.jt;24;alert("CPURLRequest.j");p;15;CPURLResponse.jt;68;@STATIC;1.0;i;10;CPObject.ji;7;CPURL.jt;25;alert("CPURLResponse.j");p;20;CPValueTransformer.jt;172;@STATIC;1.0;i;8;CPData.ji;14;CPDictionary.ji;13;CPException.ji;17;CPKeyedArchiver.ji;19;CPKeyedUnarchiver.ji;10;CPNumber.ji;10;CPObject.jt;30;alert("CPValueTransformer.j");p;14;CPCountedSet.jt;67;@STATIC;1.0;i;10;CPObject.ji;7;CPSet.jt;24;alert("CPCountedSet.j");');
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPPlatform.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);var f=objj_allocateClassPair(CPObject,"CPBasePlatform"),e=f.isa;objj_registerClassPair(f);class_addMethods(e,[new objj_method(sel_getUid("bootstrap"),function(a){with(a)objj_msgSend(CPPlatformString,"bootstrap"),objj_msgSend(CPPlatformWindow,"setPrimaryPlatformWindow:",objj_msgSend(objj_msgSend(CPPlatformWindow,"alloc"),"_init"))}),new objj_method(sel_getUid("isBrowser"),
function(a){with(a)return NO}),new objj_method(sel_getUid("supportsDragAndDrop"),function(a){with(a)return NO}),new objj_method(sel_getUid("supportsNativeMainMenu"),function(a){with(a)return NO}),new objj_method(sel_getUid("terminateApplication"),function(a){with(a);}),new objj_method(sel_getUid("activateIgnoringOtherApps:"),function(a){with(a);}),new objj_method(sel_getUid("deactivate"),function(a){with(a);}),new objj_method(sel_getUid("hideOtherApplications:"),function(a){with(a);}),new objj_method(sel_getUid("hide:"),
function(a){with(a);})]);typeof window.CPPlatformEnableHTMLDragAndDrop==="undefined"&&(CPPlatformEnableHTMLDragAndDrop=NO);CPPlatformDidClearBodyElementNotification="CPPlatformDidClearBodyElementNotification";CPPlatformWillClearBodyElementNotification="CPPlatformWillClearBodyElementNotification";var b=NO,c=nil,a=RegExp("\\bcpdontremove\\b","g");f=objj_allocateClassPair(CPBasePlatform,"CPPlatform");e=f.isa;objj_registerClassPair(f);class_addMethods(e,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==
objj_msgSend(CPPlatform,"class"))return;b=objj_msgSend(CPPlatform,"isBrowser");if(document.documentElement)document.documentElement.style.overflow="hidden";if(objj_msgSend(CPPlatform,"isBrowser"))window.onunload=function(){objj_msgSend(CPApp,"terminate:",nil)}}}),new objj_method(sel_getUid("isBrowser"),function(a){with(a)return typeof window.cpIsDesktop==="undefined"}),new objj_method(sel_getUid("supportsDragAndDrop"),function(a){with(a)return CPFeatureIsCompatible(CPHTMLDragAndDropFeature)&&(CPPlatformEnableHTMLDragAndDrop||
!objj_msgSend(a,"isBrowser"))}),new objj_method(sel_getUid("supportsNativeMainMenu"),function(a){with(a)return typeof window.cpSetMainMenu==="function"}),new objj_method(sel_getUid("terminateApplication"),function(a){with(a)typeof window.cpTerminate==="function"&&window.cpTerminate()}),new objj_method(sel_getUid("activateIgnoringOtherApps:"),function(a,b,c){with(a)typeof window.cpActivateIgnoringOtherApps==="function"&&window.cpActivateIgnoringOtherApps(!!c)}),new objj_method(sel_getUid("deactivate"),
function(a){with(a)typeof window.cpDeactivate==="function"&&window.cpDeactivate()}),new objj_method(sel_getUid("hideOtherApplications:"),function(a){with(a)typeof window.cpHideOtherApplications==="function"&&window.cpHideOtherApplications()}),new objj_method(sel_getUid("hide:"),function(a){with(a)typeof window.cpHide==="function"&&window.cpHide()}),new objj_method(sel_getUid("mainBodyElement"),function(a){with(a)return c||(c=document.getElementById("cappuccino-body")||document.body),c}),new objj_method(sel_getUid("initializeScreenIfNecessary"),
function(c){with(c){if(!b)return;b=NO;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPPlatformWillClearBodyElementNotification,c);for(var e=objj_msgSend(c,"mainBodyElement"),f=e.childNodes,g=f.length;g--;){var h=f[g];(!h.className||h.className.match(a)===null)&&e.removeChild(h)}e.style.overflow="hidden";objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPPlatformDidClearBodyElementNotification,c)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/two.j",baseURL),function(){var h=objj_allocateClassPair(PatternMaker,"PatternTwo"),g=h.isa;objj_registerClassPair(h);class_addMethods(h,[new objj_method(sel_getUid("_draw:"),function(f,e,b){with(f)objj_msgSend(f,"showShapes")?(objj_msgSend(f,"draw_frame_1:",b),objj_msgSend(f,"draw_frame_2:",b),objj_msgSend(f,"draw_frame_3:",b),objj_msgSend(f,"draw_frame_4:",b)):(objj_msgSend(f,"draw_frame_1:",b),objj_msgSend(f,"draw_frame_2:",b))}),
new objj_method(sel_getUid("draw_frame_1:"),function(f,e,b){with(f)objj_msgSend(f,"setupColorWithIndex:context:",0,b),objj_msgSend(objj_msgSend(f,"circle"),"draw:",b),objj_msgSend(f,"fillAndStroke:",b)}),new objj_method(sel_getUid("draw_frame_2:"),function(f,e,b){with(f){e=objj_msgSend(f,"sub_circles");for(var c=objj_msgSend(e,"count");c--;)objj_msgSend(e[c],"draw:",b),objj_msgSend(f,"setupColorWithIndex:context:",c%2+1,b),objj_msgSend(f,"fillAndStroke:",b)}}),new objj_method(sel_getUid("draw_frame_3:"),
function(f,e,b){with(f){objj_msgSend(f,"setupColorWithIndex:context:",3,b);e=objj_msgSend(f,"sub_circles");for(var c=0;c<objj_msgSend(f,"numPoints");c++){var a=e[c],d=objj_msgSend(a,"cpt"),g=objj_msgSend(d,"closest:",objj_msgSend(objj_msgSend(objj_msgSend(a,"prevCircle"),"prevCircle"),"intersection:",objj_msgSend(a,"nextCircle"))),h=objj_msgSend(objj_msgSend(objj_msgSend(f,"circle"),"cpt"),"furthest:",objj_msgSend(objj_msgSend(a,"prevCircle"),"intersection:",objj_msgSend(a,"nextCircle")));a=objj_msgSend(h,
"closest:",objj_msgSend(objj_msgSend(objj_msgSend(a,"nextCircle"),"nextCircle"),"intersection:",objj_msgSend(a,"prevCircle")));a!=null&&g!=null&&(objj_msgSend(objj_msgSend(GRRect,"rectWithPoints:",[d,g,h,a]),"draw:",b),objj_msgSend(f,"fillAndStroke:",b))}}}),new objj_method(sel_getUid("draw_frame_4:"),function(f,e,b){with(f){objj_msgSend(f,"setupColorWithIndex:context:",4,b);e=objj_msgSend(f,"sub_circles");for(var c=0;c<objj_msgSend(f,"numPoints");c++){var a=e[c],d=objj_msgSend(objj_msgSend(a,"cpt"),
"distance:",objj_msgSend(objj_msgSend(a,"nextCircle"),"cpt")),g=objj_msgSend(GRCircle,"circleWithCenter:radius:",objj_msgSend(a,"cpt"),d);d=objj_msgSend(g,"intersection:",objj_msgSend(GRCircle,"circleWithCenter:radius:",objj_msgSend(objj_msgSend(a,"nextCircle"),"cpt"),d));objj_msgSend(f,"setupColorWithIndex:context:",1,b);objj_msgSend(g,"draw:",b);objj_msgSend(f,"fillAndStroke:",b);objj_msgSend(f,"setupColorWithIndex:context:",4,b);objj_msgSend(objj_msgSend(GRRect,"rectWithPoints:",[objj_msgSend(a,
"cpt"),d[0],objj_msgSend(objj_msgSend(a,"nextCircle"),"cpt"),d[1]]),"draw:",b);objj_msgSend(f,"fillAndStroke:",b)}}})]);class_addMethods(g,[new objj_method(sel_getUid("defaultConfig"),function(f){with(f)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",12,"number_of_points",1.06,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",100,"radius",0,"recurse_depth",YES,"show_shapes",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,255,100,1),objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",23,255,10,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,255,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",47,8,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,2,10,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,23,10,1)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",51,32,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",198,157,165,0),objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",200,23,10,0.02727272727272727),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,9,45,0.4727272727272727),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,200,10,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,1)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/one.j",baseURL),function(){var h=objj_allocateClassPair(PatternMaker,"PatternOne"),g=h.isa;objj_registerClassPair(h);class_addMethods(h,[new objj_method(sel_getUid("_draw:"),function(f,e,b){with(f)objj_msgSend(f,"draw_frame_1:",b),objj_msgSend(f,"showShapes")&&objj_msgSend(f,"draw_frame_2:",b)}),new objj_method(sel_getUid("draw_frame_1:"),function(f,e,b){with(f){objj_msgSend(f,"setupColorWithIndex:context:",0,b);objj_msgSend(objj_msgSend(f,
"circle"),"draw:",b);objj_msgSend(f,"fillAndStroke:",b);e=objj_msgSend(f,"sub_circles");for(var c=objj_msgSend(e,"count");c--;)objj_msgSend(e[c],"draw:",b),objj_msgSend(f,"setupColorWithIndex:context:",c%2+1,b),objj_msgSend(f,"fillAndStroke:",b)}}),new objj_method(sel_getUid("draw_frame_2:"),function(f,e,b){with(f){e=objj_msgSend(f,"sub_circles");for(var c=0;c<objj_msgSend(f,"numPoints");c++){var a=e[c],d=objj_msgSend(objj_msgSend(f,"circle"),"intersection:",a),g=objj_msgSend(a,"closest:",objj_msgSend(objj_msgSend(f,
"circle"),"intersection:",objj_msgSend(a,"nextCircle"))),h=objj_msgSend(objj_msgSend(f,"circle"),"closest:",objj_msgSend(a,"intersection:",objj_msgSend(a,"nextCircle"))),n=objj_msgSend(objj_msgSend(f,"circle"),"closest:",objj_msgSend(a,"intersection:",objj_msgSend(a,"prevCircle")));a=objj_msgSend(a,"closest:",objj_msgSend(objj_msgSend(f,"circle"),"intersection:",objj_msgSend(a,"prevCircle")));var j=objj_msgSend(g,"closest:",d);d=objj_msgSend(a,"closest:",d);objj_msgSend(f,"setupColorWithIndex:context:",
3,b);objj_msgSend(objj_msgSend(GRTriangle,"triangleWithPoints:",[d,a,n]),"draw:",b);objj_msgSend(f,"fillAndStroke:",b);objj_msgSend(objj_msgSend(GRTriangle,"triangleWithPoints:",[j,h,g]),"draw:",b);objj_msgSend(f,"fillAndStroke:",b);objj_msgSend(f,"setupColorWithIndex:context:",4,b);objj_msgSend(objj_msgSend(GRRect,"rectWithPoints:",[h,g,a,n]),"draw:",b);objj_msgSend(f,"fillAndStroke:",b)}}})]);class_addMethods(g,[new objj_method(sel_getUid("defaultConfig"),function(f){with(f)return objj_msgSend(CPDictionary,
"dictionaryWithObjectsAndKeys:",6,"number_of_points",0,"recurse_depth",1.54,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",151,"radius",YES,"show_shapes",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.6181818181818182),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.3),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",85,85,85,0.5909090909090909),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,255,0,0.2727272727272727),
objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",4,19,255,0.8),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,23,10,1)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",28,248,12,0.01818181818181818),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",29,44,255,0.01818181818181818),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",240,31,50,0.24545454545454545),objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",191,188,30,0.2818181818181818),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibCustomResource.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);g("Foundation/CPString.j",NO);var f=objj_allocateClassPair(CPObject,"_CPCibCustomResource"),e=f.isa;class_addIvars(f,[new objj_ivar("_className"),new objj_ivar("_resourceName"),new objj_ivar("_properties")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithClassName:resourceName:properties:"),function(b,c,a,d,e){with(b){if(b=
objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPCibCustomResource").super_class},"init"))_className=a,_resourceName=d,_properties=e;return b}}),new objj_method(sel_getUid("initWithCoder:"),function(b,c,a){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPCibCustomResource").super_class},"init"))_className=objj_msgSend(a,"decodeObjectForKey:","_CPCibCustomResourceClassNameKey"),_resourceName=objj_msgSend(a,"decodeObjectForKey:","_CPCibCustomResourceResourceNameKey"),
_properties=objj_msgSend(a,"decodeObjectForKey:","_CPCibCustomResourcePropertiesKey");return b}}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,c,a){with(b)objj_msgSend(a,"encodeObject:forKey:",_className,"_CPCibCustomResourceClassNameKey"),objj_msgSend(a,"encodeObject:forKey:",_resourceName,"_CPCibCustomResourceResourceNameKey"),objj_msgSend(a,"encodeObject:forKey:",_properties,"_CPCibCustomResourcePropertiesKey")}),new objj_method(sel_getUid("awakeAfterUsingCoder:"),function(b,c,a){with(b){if(objj_msgSend(a,
"respondsToSelector:",sel_getUid("bundle"))&&(!objj_msgSend(a,"respondsToSelector:",sel_getUid("awakenCustomResources"))||objj_msgSend(a,"awakenCustomResources"))&&_className==="CPImage")return objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(a,"bundle"),"pathForResource:",_resourceName),_properties.valueForKey("size"));return b}})]);class_addMethods(e,[new objj_method(sel_getUid("imageResourceWithName:size:"),function(b,c,a,d){with(b)return objj_msgSend(objj_msgSend(b,
"alloc"),"initWithClassName:resourceName:properties:","CPImage",a,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",d,"size"))})]);f=objj_getClass("_CPCibCustomResource");if(!f)throw new SyntaxError('*** Could not find definition for class "_CPCibCustomResource"');e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("filename"),function(b){with(b)return objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",_resourceName)}),new objj_method(sel_getUid("size"),function(b){with(b)return objj_msgSend(_properties,
"objectForKey:","size")}),new objj_method(sel_getUid("isThreePartImage"),function(b){with(b)return NO}),new objj_method(sel_getUid("isNinePartImage"),function(b){with(b)return NO}),new objj_method(sel_getUid("loadStatus"),function(b){with(b)return CPImageLoadStatusCompleted}),new objj_method(sel_getUid("delegate"),function(b){with(b)return nil})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPInvocation.j",baseURL),function(h,g){g("CPObject.j",YES);var f=objj_allocateClassPair(CPObject,"CPInvocation"),e=f.isa;class_addIvars(f,[new objj_ivar("_returnValue"),new objj_ivar("_arguments"),new objj_ivar("_methodSignature")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithMethodSignature:"),function(b,c,a){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPInvocation").super_class},
"init"))_arguments=[],_methodSignature=a;return b}}),new objj_method(sel_getUid("setSelector:"),function(b,c,a){with(b)_arguments[1]=a}),new objj_method(sel_getUid("selector"),function(b){with(b)return _arguments[1]}),new objj_method(sel_getUid("setTarget:"),function(b,c,a){with(b)_arguments[0]=a}),new objj_method(sel_getUid("target"),function(b){with(b)return _arguments[0]}),new objj_method(sel_getUid("setArgument:atIndex:"),function(b,c,a,d){with(b)_arguments[d]=a}),new objj_method(sel_getUid("argumentAtIndex:"),
function(b,c,a){with(b)return _arguments[a]}),new objj_method(sel_getUid("setReturnValue:"),function(b,c,a){with(b)_returnValue=a}),new objj_method(sel_getUid("returnValue"),function(b){with(b)return _returnValue}),new objj_method(sel_getUid("invoke"),function(b){with(b)_returnValue=objj_msgSend.apply(objj_msgSend,_arguments)}),new objj_method(sel_getUid("invokeWithTarget:"),function(b,c,a){with(b)_arguments[0]=a,_returnValue=objj_msgSend.apply(objj_msgSend,_arguments)})]);class_addMethods(e,[new objj_method(sel_getUid("invocationWithMethodSignature:"),
function(b,c,a){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithMethodSignature:",a)})]);f=objj_getClass("CPInvocation");if(!f)throw new SyntaxError('*** Could not find definition for class "CPInvocation"');e=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(b,c,a){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPInvocation").super_class},"init"))_returnValue=objj_msgSend(a,"decodeObjectForKey:","CPInvocationReturnValue"),_arguments=
objj_msgSend(a,"decodeObjectForKey:","CPInvocationArguments");return b}}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,c,a){with(b)objj_msgSend(a,"encodeObject:forKey:",_returnValue,"CPInvocationReturnValue"),objj_msgSend(a,"encodeObject:forKey:",_arguments,"CPInvocationArguments")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGColor.j",baseURL),function(h,g){g("CGColorSpace.j",YES);var f=0;CFHashCode=function(b){if(!b.hash)b.hash=++f;return b};kCGColorWhite="kCGColorWhite";kCGColorBlack="kCGColorBlack";kCGColorClear="kCGColorClear";var e={};CGColorGetConstantColor=function(){alert("FIX ME")};CGColorRetain=function(b){return b};CGColorRelease=function(){};CGColorCreate=function(b,c){if(!b||!c)return NULL;c=c.slice();CGColorSpaceStandardizeComponents(b,
c);var a=CFHashCode(b)+c.join("");if(e[a])return e[a];return e[a]={colorspace:b,pattern:NULL,components:c}};CGColorCreateCopy=function(b){return b};CGColorCreateGenericGray=function(b,c){return CGColorCreate(0,[b,c])};CGColorCreateGenericRGB=function(b,c,a,d){return CGColorCreate(0,[b,c,a,d])};CGColorCreateGenericCMYK=function(b,c,a,d,e){return CGColorCreate(0,[b,c,a,d,e])};CGColorCreateCopyWithAlpha=function(b,c){var a=b.components;if(!b||c==a[a.length-1])return b;var d=b.pattern?CGColorCreateWithPattern(b.colorspace,
b.pattern,a):CGColorCreate(b.colorspace,a);d.components[a.length-1]=c;return d};CGColorCreateWithPattern=function(b,c,a){if(!b||!c||!a)return NULL;return{colorspace:b,pattern:c,components:a.slice()}};CGColorEqualToColor=function(b,c){if(b==c)return!0;if(!b||!c)return!1;var a=b.components,d=c.components,e=a.length;if(e!=d.length)return!1;for(;e--;)if(a[e]!=d[e])return!1;if(b.pattern!=c.pattern)return!1;if(CGColorSpaceEqualToColorSpace(b.colorspace,c.colorspace))return!1;return!0};CGColorGetAlpha=function(b){b=
b.components;return b[b.length-1]};CGColorGetColorSpace=function(b){return b.colorspace};CGColorGetComponents=function(b){return b.components};CGColorGetNumberOfComponents=function(b){return b.components.length};CGColorGetPattern=function(b){return b.pattern}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/pattern_maker.j",baseURL),function(){var h=objj_allocateClassPair(PatternConfig,"PatternMaker");class_addIvars(h,[new objj_ivar("m_path")]);objj_registerClassPair(h);class_addMethods(h,[new objj_method(sel_getUid("sub_circles"),function(g){with(g){var f=objj_msgSend(objj_msgSend(g,"circle"),"points:",objj_msgSend(g,"numPoints")),e=objj_msgSend(CPArray,"array"),b=null;b=null;for(var c=0;c<objj_msgSend(f,"count");c++){var a=objj_msgSend(objj_msgSend(objj_msgSend(g,
"circle"),"cpt"),"point_on_segment:ratio:",f[c],objj_msgSend(g,"factorLarger"));e[c]=objj_msgSend(GRLinkedCircle,"circleWithCenter:radius:prevCircle:",a,objj_msgSend(objj_msgSend(g,"circle"),"radius"),b);b=e[c]}objj_msgSend(e[0],"setPrevCircle:",e[objj_msgSend(g,"numPoints")-1]);b=e[0];for(c=objj_msgSend(g,"numPoints")-1;c>-1;c--)objj_msgSend(e[c],"setNextCircle:",b),b=e[c];return e}}),new objj_method(sel_getUid("setupColorWithIndex:context:"),function(g,f,e,b){with(g)CGContextSetStrokeColor(b,m_stroke_colors[e%
NumberOfColors]),CGContextSetFillColor(b,m_fill_colors[e%NumberOfColors])}),new objj_method(sel_getUid("fillAndStroke:"),function(g,f,e){with(g)CGContextStrokePath(e),CGContextFillPath(e)}),new objj_method(sel_getUid("fill:"),function(g,f,e){with(g)CGContextFillPath(e)}),new objj_method(sel_getUid("setupPath:"),function(g,f,e){with(g)CGContextBeginPath(e),m_path=CGPathCreateMutable()}),new objj_method(sel_getUid("moveTo:"),function(g,f,e){with(g)CGPathMoveToPoint(m_path,nil,objj_msgSend(e,"x"),objj_msgSend(e,
"y"))}),new objj_method(sel_getUid("lineTo:"),function(g,f,e){with(g)CGPathAddLineToPoint(m_path,nil,objj_msgSend(e,"x"),objj_msgSend(e,"y"))}),new objj_method(sel_getUid("closePath:"),function(g,f,e){with(g)CGPathCloseSubpath(m_path),CGContextAddPath(e,m_path),CGContextClosePath(e)}),new objj_method(sel_getUid("draw:"),function(g,f,e){with(g){for(f=0;f<objj_msgSend(m_sub_patterns,"count");f++)objj_msgSend(m_sub_patterns[f],"draw:",e);objj_msgSend(g,"_draw:",e)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPBorderlessBridgeWindowView.j",baseURL),function(h,g){g("_CPWindowView.j",YES);var f=nil,e=objj_allocateClassPair(_CPWindowView,"_CPBorderlessBridgeWindowView"),b=e.isa;class_addIvars(e,[new objj_ivar("_toolbarBackgroundView")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("setShowsResizeIndicator:"),function(b){with(b);}),new objj_method(sel_getUid("tile"),function(b){with(b){objj_msgSendSuper({receiver:b,
super_class:objj_getClass("_CPBorderlessBridgeWindowView").super_class},"tile");var a=objj_msgSend(b,"window"),d=objj_msgSend(b,"bounds");objj_msgSend(objj_msgSend(a,"contentView"),"setFrame:",CGRectMake(0,objj_msgSend(b,"toolbarMaxY"),CGRectGetWidth(d),CGRectGetHeight(d)-objj_msgSend(b,"toolbarMaxY")));if(!objj_msgSend(objj_msgSend(a,"toolbar"),"isVisible")){objj_msgSend(_toolbarBackgroundView,"removeFromSuperview");_toolbarBackgroundView=nil;return}_toolbarBackgroundView||(_toolbarBackgroundView=
objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_toolbarBackgroundView,"setBackgroundColor:",objj_msgSend(objj_msgSend(b,"class"),"toolbarBackgroundColor")),objj_msgSend(_toolbarBackgroundView,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(b,"addSubview:positioned:relativeTo:",_toolbarBackgroundView,CPWindowBelow,nil));a=CGRectMakeZero();b=objj_msgSend(b,"toolbarOffset");a.origin=CGPointMake(b.width,b.height);a.size=objj_msgSend(_toolbarView,"frame").size;
objj_msgSend(_toolbarBackgroundView,"setFrame:",a)}})]);class_addMethods(b,[new objj_method(sel_getUid("toolbarBackgroundColor"),function(b){with(b)return f||(f=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_CPBorderlessBridgeWindowView,"class")),"pathForResource:","_CPToolbarView/_CPToolbarViewBackground.png"),CGSizeMake(1,59)))),f})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPCoder.j",baseURL),function(h,g){g("CPException.j",YES);g("CPObject.j",YES);var f=objj_allocateClassPair(CPObject,"CPCoder");objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("allowsKeyedCoding"),function(e){with(e)return NO}),new objj_method(sel_getUid("encodeValueOfObjCType:at:"),function(e,b){with(e)_CPRaiseInvalidAbstractInvocation(e,b)}),new objj_method(sel_getUid("encodeDataObject:"),function(e,
b){with(e)_CPRaiseInvalidAbstractInvocation(e,b)}),new objj_method(sel_getUid("encodeObject:"),function(e){with(e);}),new objj_method(sel_getUid("encodePoint:"),function(e,b,c){with(e)objj_msgSend(e,"encodeNumber:",c.x),objj_msgSend(e,"encodeNumber:",c.y)}),new objj_method(sel_getUid("encodeRect:"),function(e,b,c){with(e)objj_msgSend(e,"encodePoint:",c.origin),objj_msgSend(e,"encodeSize:",c.size)}),new objj_method(sel_getUid("encodeSize:"),function(e,b,c){with(e)objj_msgSend(e,"encodeNumber:",c.width),
objj_msgSend(e,"encodeNumber:",c.height)}),new objj_method(sel_getUid("encodePropertyList:"),function(e){with(e);}),new objj_method(sel_getUid("encodeRootObject:"),function(e,b,c){with(e)objj_msgSend(e,"encodeObject:",c)}),new objj_method(sel_getUid("encodeBycopyObject:"),function(e,b,c){with(e)objj_msgSend(e,"encodeObject:",c)}),new objj_method(sel_getUid("encodeConditionalObject:"),function(e,b,c){with(e)objj_msgSend(e,"encodeObject:",c)})]);f=objj_getClass("CPObject");if(!f)throw new SyntaxError('*** Could not find definition for class "CPObject"');
class_addMethods(f,[new objj_method(sel_getUid("awakeAfterUsingCoder:"),function(e){with(e)return e})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCookie.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);g("Foundation/CPString.j",NO);var f=objj_allocateClassPair(CPObject,"CPCookie");class_addIvars(f,[new objj_ivar("_cookieName"),new objj_ivar("_cookieValue"),new objj_ivar("_expires")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithName:"),function(e,b,c){with(e)return e=objj_msgSendSuper({receiver:e,super_class:objj_getClass("CPCookie").super_class},
"init"),_cookieName=c,_cookieValue=objj_msgSend(e,"_readCookieValue"),e}),new objj_method(sel_getUid("value"),function(e){with(e)return _cookieValue}),new objj_method(sel_getUid("name"),function(e){with(e)return _cookieName}),new objj_method(sel_getUid("expires"),function(e){with(e)return _expires}),new objj_method(sel_getUid("setValue:expires:domain:"),function(e,b,c,a,d){with(e)e=a?"; expires="+a.toGMTString():"",document.cookie=_cookieName+"="+c+e+"; path=/"+(d?"; domain="+d:"")}),new objj_method(sel_getUid("_readCookieValue"),
function(e){with(e){e=_cookieName+"=";for(var b=document.cookie.split(";"),c=0;c<b.length;c++){for(var a=b[c];a.charAt(0)==" ";)a=a.substring(1,a.length);if(a.indexOf(e)==0)return a.substring(e.length,a.length)}return""}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPDisplayServer.j",baseURL),function(h,g){g("Foundation/CPRunLoop.j",NO);var f=[],e={},b=[],c={},a=objj_msgSend(CPRunLoop,"mainRunLoop");_CPDisplayServerAddDisplayObject=function(a){var b=objj_msgSend(a,"UID");if(typeof e[b]==="undefined"){var c=f.length;e[b]=c;f[c]=a}};_CPDisplayServerAddLayoutObject=function(a){var d=objj_msgSend(a,"UID");if(typeof c[d]==="undefined"){var e=b.length;c[d]=e;b[e]=a}};var d=objj_allocateClassPair(CPObject,
"_CPDisplayServer"),i=d.isa;objj_registerClassPair(d);class_addMethods(i,[new objj_method(sel_getUid("run"),function(d){with(d){for(;b.length||f.length;){for(var g=0;g<b.length;++g){var h=b[g];delete c[objj_msgSend(h,"UID")];objj_msgSend(h,"layoutIfNeeded")}b=[];c={};for(g=0;g<f.length;++g){if(b.length)break;h=f[g];delete e[objj_msgSend(h,"UID")];objj_msgSend(h,"displayIfNeeded")}g===f.length?(f=[],e={}):f.splice(0,g)}objj_msgSend(a,"performSelector:target:argument:order:modes:",sel_getUid("run"),
d,nil,0,[CPDefaultRunLoopMode])}})]);objj_msgSend(_CPDisplayServer,"run")});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPPropertyListSerialization.j",baseURL),function(h,g){g("CPException.j",YES);g("CPObject.j",YES);CPPropertyListUnknownFormat=0;CPPropertyListOpenStepFormat=kCFPropertyListOpenStepFormat;CPPropertyListXMLFormat_v1_0=kCFPropertyListXMLFormat_v1_0;CPPropertyListBinaryFormat_v1_0=kCFPropertyListBinaryFormat_v1_0;CPPropertyList280NorthFormat_v1_0=kCFPropertyList280NorthFormat_v1_0;var f=objj_allocateClassPair(CPObject,"CPPropertyListSerialization"),
e=f.isa;objj_registerClassPair(f);class_addMethods(e,[new objj_method(sel_getUid("dataFromPropertyList:format:"),function(b,c,a,d){with(b)return CPPropertyListCreateData(a,d)}),new objj_method(sel_getUid("propertyListFromData:format:"),function(b,c,a,d){with(b)return CPPropertyListCreateFromData(a,d)})]);f=objj_getClass("CPPropertyListSerialization");if(!f)throw new SyntaxError('*** Could not find definition for class "CPPropertyListSerialization"');e=f.isa;class_addMethods(e,[new objj_method(sel_getUid("dataFromPropertyList:format:errorDescription:"),
function(b,c,a,d){with(b)return _CPReportLenientDeprecation(b,c,sel_getUid("dataFromPropertyList:format:")),objj_msgSend(b,"dataFromPropertyList:format:",a,d)}),new objj_method(sel_getUid("propertyListFromData:format:errorDescription:"),function(b,c,a,d){with(b)return _CPReportLenientDeprecation(b,c,sel_getUid("propertyListFromData:format:")),objj_msgSend(b,"propertyListFromData:format:",a,d)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/monkeypatch.j",baseURL),function(){var h=objj_getClass("CPColor");if(!h)throw new SyntaxError('*** Could not find definition for class "CPColor"');var g=h.isa;class_addMethods(h,[new objj_method(sel_getUid("addToBlue:"),function(f,e,b){with(f)return objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",objj_msgSend(f,"redComponent"),objj_msgSend(f,"greenComponent"),objj_msgSend(f,"blueComponent")+b/255,objj_msgSend(f,"alphaComponent"))})]);class_addMethods(g,
[new objj_method(sel_getUid("colorWith8BitRed:green:blue:alpha:"),function(f,e,b,c,a,d){with(f)return objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",b/255,c/255,a/255,d)}),new objj_method(sel_getUid("transparent"),function(f){with(f)return objj_msgSend(CPColor,"colorWithWhite:alpha:",0,0)})]);h=objj_getClass("CPBox");if(!h)throw new SyntaxError('*** Could not find definition for class "CPBox"');g=h.isa;class_addMethods(g,[new objj_method(sel_getUid("makeBorder:"),function(f,e,b){with(f)f=objj_msgSend(CPBox,
"boxEnclosingView:",b),objj_msgSend(f,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(f,"setBorderColor:",objj_msgSend(CPColor,"colorWithHexString:","a9aaae")),objj_msgSend(f,"setBorderType:",CPLineBorder)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/ten.j",baseURL),function(){var h=objj_allocateClassPair(PatternFive,"PatternTen"),g=h.isa;objj_registerClassPair(h);class_addMethods(g,[new objj_method(sel_getUid("defaultConfig"),function(f){with(f)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",12,"number_of_points",0,"recurse_depth",0.82,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",190,"radius",YES,"show_shapes",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",0,0,0,0.43636363636363634),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.34545454545454546),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.21818181818181817),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",17,95,17,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",14,10,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",
51,32,255,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",198,157,165,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0.02727272727272727),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,9,45,0.09545454545454546),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,200,10,0.19090909090909092),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,1)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/eight.j",baseURL),function(){var h=objj_allocateClassPair(PatternOne,"PatternEight"),g=h.isa;objj_registerClassPair(h);class_addMethods(g,[new objj_method(sel_getUid("defaultConfig"),function(f){with(f)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",6,"number_of_points",2,"recurse_depth",1.54,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",81,"radius",YES,"show_shapes",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",0,0,0,0.1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.09545454545454546),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.07727272727272727),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",4,19,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,23,10,1)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",
255,225,58,0.39090909090909093),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,198,63,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",2,8,198,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",240,31,50,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",198,195,31,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,1)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/twelve.j",baseURL),function(){var h=objj_allocateClassPair(PatternSeven,"PatternTwelve"),g=h.isa;objj_registerClassPair(h);class_addMethods(g,[new objj_method(sel_getUid("defaultConfig"),function(f){with(f)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",12,"number_of_points",0,"recurse_depth",1.14,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",120,"radius",YES,"show_shapes",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",174,174,174,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.6181818181818182),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.39090909090909093),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,0,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,2,10,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,23,10,1)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",
255,255,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,96,175,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,200,10,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPStringDrawing.j",baseURL),function(h,g){g("Foundation/CPString.j",NO);g("CPPlatformString.j",YES);var f={};CPStringSizeCachingEnabled=YES;var e=objj_getClass("CPString");if(!e)throw new SyntaxError('*** Could not find definition for class "CPString"');var b=e.isa;class_addMethods(e,[new objj_method(sel_getUid("cssString"),function(b){with(b)return b}),new objj_method(sel_getUid("sizeWithFont:"),function(b,a,d){with(b)return objj_msgSend(b,
"sizeWithFont:inWidth:",d,NULL)}),new objj_method(sel_getUid("sizeWithFont:inWidth:"),function(b,a,d,e){with(b){if(!CPStringSizeCachingEnabled)return objj_msgSend(CPPlatformString,"sizeOfString:withFont:forWidth:",b,d,e);a=b+objj_msgSend(d,"cssString")+e;var g=f[a];g===void 0&&(g=objj_msgSend(CPPlatformString,"sizeOfString:withFont:forWidth:",b,d,e),f[a]=g);return CGSizeMakeCopy(g)}})]);class_addMethods(b,[new objj_method(sel_getUid("metricsOfFont:"),function(b,a,d){with(b)return objj_msgSend(CPPlatformString,
"metricsOfFont:",d)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPURLResponse.j",baseURL),function(h,g){g("CPObject.j",YES);g("CPURL.j",YES);var f=objj_allocateClassPair(CPObject,"CPURLResponse");class_addIvars(f,[new objj_ivar("_URL")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithURL:"),function(e,b,c){with(e)return(e=objj_msgSendSuper({receiver:e,super_class:objj_getClass("CPURLResponse").super_class},"init"))&&(_URL=c),e}),new objj_method(sel_getUid("URL"),
function(e){with(e)return _URL})]);f=objj_allocateClassPair(CPURLResponse,"CPHTTPURLResponse");class_addIvars(f,[new objj_ivar("_statusCode")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("_setStatusCode:"),function(e,b,c){with(e)_statusCode=c}),new objj_method(sel_getUid("statusCode"),function(e){with(e)return _statusCode})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPNull.j",baseURL),function(h,g){g("CPObject.j",YES);var f=nil,e=objj_allocateClassPair(CPObject,"CPNull"),b=e.isa;objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("isEqual:"),function(b,a,d){with(b){if(b===d)return YES;return objj_msgSend(d,"isKindOfClass:",objj_msgSend(CPNull,"class"))}}),new objj_method(sel_getUid("initWithCoder:"),function(b){with(b)return objj_msgSend(CPNull,"null")}),new objj_method(sel_getUid("encodeWithCoder:"),
function(b){with(b);})]);class_addMethods(b,[new objj_method(sel_getUid("null"),function(b){with(b)return f||(f=objj_msgSend(objj_msgSend(CPNull,"alloc"),"init")),f})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCibOutletConnector.j",baseURL),function(h,g){g("CPCibConnector.j",YES);var f=objj_allocateClassPair(CPCibConnector,"CPCibOutletConnector");objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("establishConnection"),function(e){with(e)try{objj_msgSend(_source,"setValue:forKey:",_destination,_label)}catch(b){if(objj_msgSend(b,"name")===CPUndefinedKeyException)CPLog.warn("Could not connect the outlet "+_label+
" of target of class "+objj_msgSend(_source,"className"));else throw b;}})]);f=objj_allocateClassPair(CPCibOutletConnector,"_CPCibOutletConnector");objj_registerClassPair(f)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPScreen.j",baseURL),function(h,g){g("Foundation/CPObject.j",NO);var f=objj_allocateClassPair(CPObject,"CPScreen");objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("visibleFrame"),function(e){with(e)return{origin:{x:window.screen.availLeft,y:window.screen.availTop},size:{width:window.screen.availWidth,height:window.screen.availHeight}}})])});
CFHTTPRequest._cacheRequest(new CFURL("Frameworks/GRKit/Info.plist",baseURL),200,{},"280NPLIST;1.0;D;K;29;CPBundleInfoDictionaryVersiond;1;6K;12;CPBundleNameS;5;GRKitK;18;CPBundleIdentifierS;15;es.2monki.GRKitK;15;CPBundleVersionS;3;1.0K;19;CPBundlePackageTypeS;4;FMWKK;20;CPBundleEnvironmentsA;S;7;BrowserS;8;CommonJSE;K;18;CPBundleExecutableS;8;GRKit.sjK;36;CPBundleEnvironmentsWithImageSpritesA;E;E;\n");
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPBorderlessWindowView.j",baseURL),function(h,g){g("_CPWindowView.j",YES);var f=objj_allocateClassPair(_CPWindowView,"_CPBorderlessWindowView");objj_registerClassPair(f)});
