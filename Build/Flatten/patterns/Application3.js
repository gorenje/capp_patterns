ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPWindow.j",baseURL),function(h,f){f("Foundation/CPCountedSet.j",NO);f("Foundation/CPNotificationCenter.j",NO);f("Foundation/CPUndoManager.j",NO);f("CGGeometry.j",YES);f("CPAnimation.j",YES);f("CPPlatformWindow.j",YES);f("CPResponder.j",YES);f("CPScreen.j",YES);CPBorderlessWindowMask=0;CPTitledWindowMask=1;CPClosableWindowMask=2;CPMiniaturizableWindowMask=4;CPResizableWindowMask=8;CPTexturedBackgroundWindowMask=256;CPBorderlessBridgeWindowMask=
1048576;CPHUDBackgroundWindowMask=2097152;CPWindowNotSizable=0;CPWindowMinXMargin=1;CPWindowWidthSizable=2;CPWindowMaxXMargin=4;CPWindowMinYMargin=8;CPWindowHeightSizable=16;CPWindowMaxYMargin=32;CPBackgroundWindowLevel=-1;CPNormalWindowLevel=0;CPTornOffMenuWindowLevel=CPSubmenuWindowLevel=CPFloatingWindowLevel=3;CPMainMenuWindowLevel=24;CPStatusWindowLevel=25;CPModalPanelWindowLevel=8;CPPopUpMenuWindowLevel=101;CPDraggingWindowLevel=500;CPScreenSaverWindowLevel=1E3;CPWindowOut=0;CPWindowAbove=1;
CPWindowBelow=2;CPWindowWillCloseNotification="CPWindowWillCloseNotification";CPWindowDidBecomeMainNotification="CPWindowDidBecomeMainNotification";CPWindowDidResignMainNotification="CPWindowDidResignMainNotification";CPWindowDidBecomeKeyNotification="CPWindowDidBecomeKeyNotification";CPWindowDidResignKeyNotification="CPWindowDidResignKeyNotification";CPWindowDidResizeNotification="CPWindowDidResizeNotification";CPWindowDidMoveNotification="CPWindowDidMoveNotification";CPWindowWillBeginSheetNotification=
"CPWindowWillBeginSheetNotification";CPWindowDidEndSheetNotification="CPWindowDidEndSheetNotification";CPWindowDidMiniaturizeNotification="CPWindowDidMiniaturizeNotification";CPWindowWillMiniaturizeNotification="CPWindowWillMiniaturizeNotification";CPWindowDidDeminiaturizeNotification="CPWindowDidDeminiaturizeNotification";CPWindowShadowStyleStandard=0;CPWindowShadowStyleMenu=1;CPWindowShadowStylePanel=2;var e=nil,c=nil,b=nil,a=[CPLeftArrowFunctionKey,CPRightArrowFunctionKey,CPUpArrowFunctionKey,
CPDownArrowFunctionKey,CPPageUpFunctionKey,CPPageDownFunctionKey,CPHomeFunctionKey,CPEndFunctionKey,CPEscapeFunctionKey],d=objj_allocateClassPair(CPResponder,"CPWindow"),g=d.isa;class_addIvars(d,[new objj_ivar("_platformWindow"),new objj_ivar("_windowNumber"),new objj_ivar("_styleMask"),new objj_ivar("_frame"),new objj_ivar("_level"),new objj_ivar("_isVisible"),new objj_ivar("_isMiniaturized"),new objj_ivar("_isAnimating"),new objj_ivar("_hasShadow"),new objj_ivar("_isMovableByWindowBackground"),
new objj_ivar("_shadowStyle"),new objj_ivar("_showsResizeIndicator"),new objj_ivar("_isDocumentEdited"),new objj_ivar("_isDocumentSaving"),new objj_ivar("_shadowView"),new objj_ivar("_windowView"),new objj_ivar("_contentView"),new objj_ivar("_toolbarView"),new objj_ivar("_mouseEnteredStack"),new objj_ivar("_leftMouseDownView"),new objj_ivar("_rightMouseDownView"),new objj_ivar("_toolbar"),new objj_ivar("_firstResponder"),new objj_ivar("_initialFirstResponder"),new objj_ivar("_delegate"),new objj_ivar("_title"),
new objj_ivar("_acceptsMouseMovedEvents"),new objj_ivar("_ignoresMouseEvents"),new objj_ivar("_windowController"),new objj_ivar("_minSize"),new objj_ivar("_maxSize"),new objj_ivar("_undoManager"),new objj_ivar("_representedURL"),new objj_ivar("_registeredDraggedTypes"),new objj_ivar("_registeredDraggedTypesArray"),new objj_ivar("_inclusiveRegisteredDraggedTypes"),new objj_ivar("_defaultButton"),new objj_ivar("_defaultButtonEnabled"),new objj_ivar("_autorecalculatesKeyViewLoop"),new objj_ivar("_keyViewLoopIsDirty"),
new objj_ivar("_sharesChromeWithPlatformWindow"),new objj_ivar("_DOMElement"),new objj_ivar("_autoresizingMask"),new objj_ivar("_delegateRespondsToWindowWillReturnUndoManagerSelector"),new objj_ivar("_isFullPlatformWindow"),new objj_ivar("_fullPlatformWindowSession"),new objj_ivar("_sheetContext"),new objj_ivar("_parentView"),new objj_ivar("_isSheet"),new objj_ivar("_frameAnimation")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,
"initWithContentRect:styleMask:",{origin:{x:0,y:0},size:{width:0,height:0}},CPTitledWindowMask)}),new objj_method(sel_getUid("initWithContentRect:styleMask:"),function(a,d,b,g){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPWindow").super_class},"init")){d=objj_msgSend(objj_msgSend(a,"class"),"_windowViewClassForStyleMask:",g);_frame=objj_msgSend(d,"frameRectForContentRect:",b);objj_msgSend(a,"_setSharesChromeWithPlatformWindow:",!objj_msgSend(CPPlatform,"isBrowser"));if(objj_msgSend(CPPlatform,
"isBrowser"))objj_msgSend(a,"setPlatformWindow:",objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"));else{if(g&CPBorderlessBridgeWindowMask&&b.size.width===0&&b.size.height===0)b=objj_msgSend(objj_msgSend(objj_msgSend(CPScreen,"alloc"),"init"),"visibleFrame"),_frame.size.height=MIN(768,b.size.height),_frame.size.width=MIN(1024,b.size.width),_frame.origin.x=(b.size.width-_frame.size.width)/2,_frame.origin.y=(b.size.height-_frame.size.height)/2;objj_msgSend(a,"setPlatformWindow:",objj_msgSend(objj_msgSend(CPPlatformWindow,
"alloc"),"initWithContentRect:",_frame));objj_msgSend(a,"platformWindow")._only=a}_isFullPlatformWindow=NO;_registeredDraggedTypes=objj_msgSend(CPSet,"set");_registeredDraggedTypesArray=[];_isSheet=NO;_acceptsMouseMovedEvents=YES;_windowNumber=objj_msgSend(CPApp._windows,"count");CPApp._windows[_windowNumber]=a;_styleMask=g;objj_msgSend(a,"setLevel:",CPNormalWindowLevel);_minSize=CGSizeMake(0,0);_maxSize=CGSizeMake(1E6,1E6);_windowView=objj_msgSend(objj_msgSend(d,"alloc"),"initWithFrame:styleMask:",
CGRectMake(0,0,CGRectGetWidth(_frame),CGRectGetHeight(_frame)),g);objj_msgSend(_windowView,"_setWindow:",a);objj_msgSend(_windowView,"setNextResponder:",a);objj_msgSend(a,"setMovableByWindowBackground:",g&CPHUDBackgroundWindowMask);objj_msgSend(a,"setContentView:",objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMakeZero()));_firstResponder=a;_DOMElement=document.createElement("div");_DOMElement.style.position="absolute";_DOMElement.style.visibility="visible";_DOMElement.style.zIndex=
0;if(!objj_msgSend(a,"_sharesChromeWithPlatformWindow"))b=NULL?{x:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.a+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.c+NULL.tx,y:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.b+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.d+NULL.ty}:{x:_frame.origin.x,y:_frame.origin.y},_DOMElement.style.left=ROUND(b.x)+"px",_DOMElement.style.top=ROUND(b.y)+"px";_DOMElement.style.width=MAX(0,ROUND(1))+"px";_DOMElement.style.height=MAX(0,ROUND(1))+
"px";_DOMElement.appendChild(_windowView._DOMElement);objj_msgSend(a,"setNextResponder:",CPApp);objj_msgSend(a,"setHasShadow:",g!==CPBorderlessWindowMask);g&CPBorderlessBridgeWindowMask&&objj_msgSend(a,"setFullPlatformWindow:",YES);_keyViewLoopIsDirty=_defaultButtonEnabled=YES;objj_msgSend(a,"setShowsResizeIndicator:",_styleMask&CPResizableWindowMask)}return a}}),new objj_method(sel_getUid("platformWindow"),function(a){with(a)return _platformWindow}),new objj_method(sel_getUid("setPlatformWindow:"),
function(a,d,b){with(a)_platformWindow=b}),new objj_method(sel_getUid("awakeFromCib"),function(a){with(a)_keyViewLoopIsDirty=!objj_msgSend(a,"_hasKeyViewLoop")}),new objj_method(sel_getUid("_setWindowView:"),function(a,d,b){with(a){if(_windowView===b)return;d=_windowView;_windowView=b;d&&(objj_msgSend(d,"_setWindow:",nil),objj_msgSend(d,"noteToolbarChanged"),_DOMElement.removeChild(d._DOMElement));if(_windowView)_DOMElement.appendChild(_windowView._DOMElement),b=objj_msgSend(_contentView,"convertRect:toView:",
objj_msgSend(_contentView,"bounds"),nil),b.origin=objj_msgSend(a,"convertBaseToGlobal:",b.origin),objj_msgSend(_windowView,"_setWindow:",a),objj_msgSend(_windowView,"setNextResponder:",a),objj_msgSend(_windowView,"addSubview:",_contentView),objj_msgSend(_windowView,"setTitle:",_title),objj_msgSend(_windowView,"noteToolbarChanged"),objj_msgSend(_windowView,"setShowsResizeIndicator:",objj_msgSend(a,"showsResizeIndicator")),objj_msgSend(a,"setFrame:",objj_msgSend(a,"frameRectForContentRect:",b))}}),
new objj_method(sel_getUid("setFullPlatformWindow:"),function(a,d,b){with(a){if(!objj_msgSend(_platformWindow,"supportsFullPlatformWindows"))return;b=!!b;if(_isFullPlatformWindow===b)return;(_isFullPlatformWindow=b)?(_fullPlatformWindowSession=_CPWindowFullPlatformWindowSessionMake(_windowView,objj_msgSend(a,"contentRectForFrameRect:",objj_msgSend(a,"frame")),objj_msgSend(a,"hasShadow"),objj_msgSend(a,"level")),d=objj_msgSend(objj_msgSend(a,"class"),"_windowViewClassForFullPlatformWindowStyleMask:",
_styleMask),d=objj_msgSend(objj_msgSend(d,"alloc"),"initWithFrame:styleMask:",CGRectMakeZero(),_styleMask),objj_msgSend(a,"_setWindowView:",d),objj_msgSend(a,"setLevel:",CPBackgroundWindowLevel),objj_msgSend(a,"setHasShadow:",NO),objj_msgSend(a,"setAutoresizingMask:",CPWindowWidthSizable|CPWindowHeightSizable),objj_msgSend(a,"setFrame:",objj_msgSend(_platformWindow,"visibleFrame"))):(d=_fullPlatformWindowSession.windowView,objj_msgSend(a,"_setWindowView:",d),objj_msgSend(a,"setLevel:",_fullPlatformWindowSession.level),
objj_msgSend(a,"setHasShadow:",_fullPlatformWindowSession.hasShadow),objj_msgSend(a,"setAutoresizingMask:",CPWindowNotSizable),objj_msgSend(a,"setFrame:",objj_msgSend(d,"frameRectForContentRect:",_fullPlatformWindowSession.contentRect)))}}),new objj_method(sel_getUid("isFullPlatformWindow"),function(a){with(a)return _isFullPlatformWindow}),new objj_method(sel_getUid("styleMask"),function(a){with(a)return _styleMask}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(a,d,b){with(a)return objj_msgSend(_windowView,
"contentRectForFrameRect:",b)}),new objj_method(sel_getUid("frameRectForContentRect:"),function(a,d,b){with(a)return objj_msgSend(_windowView,"frameRectForContentRect:",b)}),new objj_method(sel_getUid("frame"),function(a){with(a)return{origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:_frame.size.width,height:_frame.size.height}}}),new objj_method(sel_getUid("_setClippedFrame:display:animate:"),function(a,d,b,g,c){with(a)b.size.width=MIN(MAX(b.size.width,_minSize.width),_maxSize.width),b.size.height=
MIN(MAX(b.size.height,_minSize.height),_maxSize.height),objj_msgSend(a,"setFrame:display:animate:",b,g,c)}),new objj_method(sel_getUid("setFrame:display:animate:"),function(a,d,b,g,c){with(a){b={origin:{x:b.origin.x,y:b.origin.y},size:{width:b.size.width,height:b.size.height}};d=b.origin.x;if(g=d-FLOOR(d))b.origin.x=d>0.879?CEIL(d):FLOOR(d);d=b.origin.y;if(g=d-FLOOR(d))b.origin.y=d>0.879?CEIL(d):FLOOR(d);d=b.size.width;if(g=d-FLOOR(d))b.size.width=d>0.15?CEIL(d):FLOOR(d);d=b.size.height;if(g=d-FLOOR(d))b.size.height=
d>0.15?CEIL(d):FLOOR(d);if(c)objj_msgSend(_frameAnimation,"stopAnimation"),_frameAnimation=objj_msgSend(objj_msgSend(_CPWindowFrameAnimation,"alloc"),"initWithWindow:targetFrame:",a,b),objj_msgSend(_frameAnimation,"startAnimation");else{c=_frame.origin;d=b.origin;if(!(c.x==d.x&&c.y==d.y)){c.x=d.x;c.y=d.y;if(!objj_msgSend(a,"_sharesChromeWithPlatformWindow"))c=NULL?{x:CGPointMake(c.x,c.y).x*NULL.a+CGPointMake(c.x,c.y).y*NULL.c+NULL.tx,y:CGPointMake(c.x,c.y).x*NULL.b+CGPointMake(c.x,c.y).y*NULL.d+NULL.ty}:
{x:c.x,y:c.y},_DOMElement.style.left=ROUND(c.x)+"px",_DOMElement.style.top=ROUND(c.y)+"px";objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidMoveNotification,a)}c=_frame.size;b=b.size;if(!(c.width==b.width&&c.height==b.height))c.width=b.width,c.height=b.height,objj_msgSend(_windowView,"setFrameSize:",c),_hasShadow&&objj_msgSend(_shadowView,"setFrameSize:",{width:20+c.width+19,height:10+c.height+10+5}),_isAnimating||objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPWindowDidResizeNotification,a);objj_msgSend(a,"_sharesChromeWithPlatformWindow")&&objj_msgSend(_platformWindow,"setContentRect:",_frame)}}}),new objj_method(sel_getUid("setFrame:display:"),function(a,d,b,g){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",b,g,NO)}),new objj_method(sel_getUid("setFrame:"),function(a,d,b){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",b,YES,NO)}),new objj_method(sel_getUid("setFrameOrigin:"),function(a,
d,b){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",{origin:{x:b.x,y:b.y},size:{width:_frame.size.width,height:_frame.size.height}},YES,NO)}),new objj_method(sel_getUid("setFrameSize:"),function(a,d,b){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",{origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:b.width,height:b.height}},YES,NO)}),new objj_method(sel_getUid("orderFront:"),function(a){with(a)objj_msgSend(_platformWindow,"orderFront:",a),objj_msgSend(_platformWindow,
"order:window:relativeTo:",CPWindowAbove,a,nil),(_firstResponder===a||!_firstResponder)&&objj_msgSend(a,"makeFirstResponder:",objj_msgSend(a,"initialFirstResponder")),CPApp._keyWindow||objj_msgSend(a,"makeKeyWindow"),CPApp._mainWindow||objj_msgSend(a,"makeMainWindow")}),new objj_method(sel_getUid("orderBack:"),function(a){with(a);}),new objj_method(sel_getUid("orderOut:"),function(a){with(a)objj_msgSend(a,"_sharesChromeWithPlatformWindow")&&objj_msgSend(_platformWindow,"orderOut:",a),objj_msgSend(_delegate,
"respondsToSelector:",sel_getUid("windowWillClose:"))&&objj_msgSend(_delegate,"windowWillClose:",a),objj_msgSend(_platformWindow,"order:window:relativeTo:",CPWindowOut,a,nil),objj_msgSend(a,"_updateMainAndKeyWindows")}),new objj_method(sel_getUid("orderWindow:relativeTo:"),function(a,d,b,g){with(a)objj_msgSend(_platformWindow,"order:window:relativeTo:",b,a,CPApp._windows[g])}),new objj_method(sel_getUid("setLevel:"),function(a,d,b){with(a){if(b===_level)return;objj_msgSend(_platformWindow,"moveWindow:fromLevel:toLevel:",
a,_level,b);_level=b;objj_msgSend(a,"_sharesChromeWithPlatformWindow")&&objj_msgSend(_platformWindow,"setLevel:",b)}}),new objj_method(sel_getUid("level"),function(a){with(a)return _level}),new objj_method(sel_getUid("isVisible"),function(a){with(a)return _isVisible}),new objj_method(sel_getUid("showsResizeIndicator"),function(a){with(a)return _showsResizeIndicator}),new objj_method(sel_getUid("setShowsResizeIndicator:"),function(a,d,b){with(a){b=!!b;if(_showsResizeIndicator===b)return;_showsResizeIndicator=
b;objj_msgSend(_windowView,"setShowsResizeIndicator:",objj_msgSend(a,"showsResizeIndicator"))}}),new objj_method(sel_getUid("resizeIndicatorOffset"),function(a){with(a)return objj_msgSend(_windowView,"resizeIndicatorOffset")}),new objj_method(sel_getUid("setResizeIndicatorOffset:"),function(a,d,b){with(a)objj_msgSend(_windowView,"setResizeIndicatorOffset:",b)}),new objj_method(sel_getUid("setContentView:"),function(a,d,b){with(a)_contentView&&objj_msgSend(_contentView,"removeFromSuperview"),d=CGRectMake(0,
0,CGRectGetWidth(_frame),CGRectGetHeight(_frame)),_contentView=b,objj_msgSend(_contentView,"setFrame:",objj_msgSend(a,"contentRectForFrameRect:",d)),objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(_windowView,"addSubview:",_contentView)}),new objj_method(sel_getUid("contentView"),function(a){with(a)return _contentView}),new objj_method(sel_getUid("setAlphaValue:"),function(a,d,b){with(a)objj_msgSend(_windowView,"setAlphaValue:",b)}),new objj_method(sel_getUid("alphaValue"),
function(a){with(a)return objj_msgSend(_windowView,"alphaValue")}),new objj_method(sel_getUid("setBackgroundColor:"),function(a,d,b){with(a)objj_msgSend(_windowView,"setBackgroundColor:",b)}),new objj_method(sel_getUid("backgroundColor"),function(a){with(a)return objj_msgSend(_windowView,"backgroundColor")}),new objj_method(sel_getUid("setMinSize:"),function(a,d,b){with(a){if(CGSizeEqualToSize(_minSize,b))return;_minSize=CGSizeCreateCopy(b);d=CGSizeMakeCopy(objj_msgSend(a,"frame").size);b=NO;if(d.width<
_minSize.width)d.width=_minSize.width,b=YES;if(d.height<_minSize.height)d.height=_minSize.height,b=YES;b&&objj_msgSend(a,"setFrameSize:",d)}}),new objj_method(sel_getUid("minSize"),function(a){with(a)return _minSize}),new objj_method(sel_getUid("setMaxSize:"),function(a,d,b){with(a){if(CGSizeEqualToSize(_maxSize,b))return;_maxSize=CGSizeCreateCopy(b);d=CGSizeMakeCopy(objj_msgSend(a,"frame").size);b=NO;if(d.width>_maxSize.width)d.width=_maxSize.width,b=YES;if(d.height>_maxSize.height)d.height=_maxSize.height,
b=YES;b&&objj_msgSend(a,"setFrameSize:",d)}}),new objj_method(sel_getUid("maxSize"),function(a){with(a)return _maxSize}),new objj_method(sel_getUid("hasShadow"),function(a){with(a)return _hasShadow}),new objj_method(sel_getUid("_updateShadow"),function(a){with(a){if(objj_msgSend(a,"_sharesChromeWithPlatformWindow")){_shadowView&&(_DOMElement.removeChild(_shadowView._DOMElement),_shadowView=nil);objj_msgSend(_platformWindow,"setHasShadow:",_hasShadow);return}_hasShadow&&!_shadowView?(a=objj_msgSend(_windowView,
"bounds"),_shadowView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(-20,-5,20+CGRectGetWidth(a)+19,10+CGRectGetHeight(a)+10)),e||(a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class")),e=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow0.png"),CGSizeMake(20,
19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow1.png"),CGSizeMake(1,19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow2.png"),CGSizeMake(19,19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow3.png"),CGSizeMake(20,1)),objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow4.png"),CGSizeMake(1,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow5.png"),CGSizeMake(19,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow6.png"),CGSizeMake(20,18)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow7.png"),CGSizeMake(1,18)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow8.png"),CGSizeMake(19,18))]))),objj_msgSend(_shadowView,"setBackgroundColor:",e),objj_msgSend(_shadowView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),_DOMElement.insertBefore(_shadowView._DOMElement,_windowView._DOMElement)):!_hasShadow&&_shadowView&&(_DOMElement.removeChild(_shadowView._DOMElement),
_shadowView=nil)}}),new objj_method(sel_getUid("setHasShadow:"),function(a,d,b){with(a){if(_hasShadow===b)return;_hasShadow=b;objj_msgSend(a,"_updateShadow")}}),new objj_method(sel_getUid("setShadowStyle:"),function(a,d,b){with(a)_shadowStyle=b,objj_msgSend(objj_msgSend(a,"platformWindow"),"setShadowStyle:",_shadowStyle)}),new objj_method(sel_getUid("setDelegate:"),function(a,d,b){with(a)d=objj_msgSend(CPNotificationCenter,"defaultCenter"),objj_msgSend(d,"removeObserver:name:object:",_delegate,CPWindowDidResignKeyNotification,
a),objj_msgSend(d,"removeObserver:name:object:",_delegate,CPWindowDidBecomeKeyNotification,a),objj_msgSend(d,"removeObserver:name:object:",_delegate,CPWindowDidBecomeMainNotification,a),objj_msgSend(d,"removeObserver:name:object:",_delegate,CPWindowDidResignMainNotification,a),objj_msgSend(d,"removeObserver:name:object:",_delegate,CPWindowDidMoveNotification,a),objj_msgSend(d,"removeObserver:name:object:",_delegate,CPWindowDidResizeNotification,a),_delegate=b,_delegateRespondsToWindowWillReturnUndoManagerSelector=
objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowWillReturnUndoManager:")),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResignKey:"))&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResignKey:"),CPWindowDidResignKeyNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidBecomeKey:"))&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidBecomeKey:"),CPWindowDidBecomeKeyNotification,
a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidBecomeMain:"))&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidBecomeMain:"),CPWindowDidBecomeMainNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResignMain:"))&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResignMain:"),CPWindowDidResignMainNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidMove:"))&&
objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidMove:"),CPWindowDidMoveNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResize:"))&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResize:"),CPWindowDidResizeNotification,a)}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("setWindowController:"),function(a,d,b){with(a)_windowController=b}),new objj_method(sel_getUid("windowController"),
function(a){with(a)return _windowController}),new objj_method(sel_getUid("doCommandBySelector:"),function(a,d,b){with(a)objj_msgSend(_delegate,"respondsToSelector:",b)?objj_msgSend(_delegate,"performSelector:",b):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPWindow").super_class},"doCommandBySelector:",b)}),new objj_method(sel_getUid("acceptsFirstResponder"),function(a){with(a)return YES}),new objj_method(sel_getUid("initialFirstResponder"),function(a){with(a)return _initialFirstResponder}),
new objj_method(sel_getUid("setInitialFirstResponder:"),function(a,d,b){with(a)_initialFirstResponder=b}),new objj_method(sel_getUid("makeFirstResponder:"),function(a,d,b){with(a){if(_firstResponder===b)return YES;if(!objj_msgSend(_firstResponder,"resignFirstResponder"))return NO;if(!b||!objj_msgSend(b,"acceptsFirstResponder")||!objj_msgSend(b,"becomeFirstResponder"))return _firstResponder=a,NO;_firstResponder=b;return YES}}),new objj_method(sel_getUid("firstResponder"),function(a){with(a)return _firstResponder}),
new objj_method(sel_getUid("acceptsMouseMovedEvents"),function(a){with(a)return _acceptsMouseMovedEvents}),new objj_method(sel_getUid("setAcceptsMouseMovedEvents:"),function(a,d,b){with(a)_acceptsMouseMovedEvents=b}),new objj_method(sel_getUid("ignoresMouseEvents"),function(a){with(a)return _ignoresMouseEvents}),new objj_method(sel_getUid("setIgnoresMouseEvents:"),function(a,d,b){with(a)_ignoresMouseEvents=b}),new objj_method(sel_getUid("title"),function(a){with(a)return _title}),new objj_method(sel_getUid("setTitle:"),
function(a,d,b){with(a)_title=b,objj_msgSend(_windowView,"setTitle:",b),objj_msgSend(a,"_synchronizeMenuBarTitleWithWindowTitle")}),new objj_method(sel_getUid("setTitleWithRepresentedFilename:"),function(a,d,b){with(a)objj_msgSend(a,"setRepresentedFilename:",b),objj_msgSend(a,"setTitle:",objj_msgSend(b,"lastPathComponent"))}),new objj_method(sel_getUid("setRepresentedFilename:"),function(a,d,b){with(a)objj_msgSend(a,"setRepresentedURL:",b)}),new objj_method(sel_getUid("representedFilename"),function(a){with(a)return _representedURL}),
new objj_method(sel_getUid("setRepresentedURL:"),function(a,d,b){with(a)_representedURL=b}),new objj_method(sel_getUid("representedURL"),function(a){with(a)return _representedURL}),new objj_method(sel_getUid("screen"),function(a){with(a)return objj_msgSend(objj_msgSend(CPScreen,"alloc"),"init")}),new objj_method(sel_getUid("setMovableByWindowBackground:"),function(a,d,b){with(a)_isMovableByWindowBackground=b}),new objj_method(sel_getUid("isMovableByWindowBackground"),function(a){with(a)return _isMovableByWindowBackground}),
new objj_method(sel_getUid("center"),function(a){with(a){if(_isFullPlatformWindow)return;var d=objj_msgSend(a,"frame").size,b=objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(_platformWindow,"contentBounds").size:objj_msgSend(objj_msgSend(a,"screen"),"visibleFrame").size;d=CGPointMake((b.width-d.width)/2,(b.height-d.height)/2);if(d.x<0)d.x=0;if(d.y<0)d.y=0;objj_msgSend(a,"setFrameOrigin:",d)}}),new objj_method(sel_getUid("sendEvent:"),function(a,d,b){with(a){var g=objj_msgSend(b,"type");d=objj_msgSend(b,
"locationInWindow");switch(g){case CPFlagsChanged:return objj_msgSend(objj_msgSend(a,"firstResponder"),"flagsChanged:",b);case CPKeyUp:return objj_msgSend(objj_msgSend(a,"firstResponder"),"keyUp:",b);case CPKeyDown:if(objj_msgSend(b,"charactersIgnoringModifiers")===CPTabCharacter){objj_msgSend(b,"modifierFlags")&CPShiftKeyMask?objj_msgSend(a,"selectPreviousKeyView:",a):objj_msgSend(a,"selectNextKeyView:",a);break}else if(objj_msgSend(b,"charactersIgnoringModifiers")===CPBackTabCharacter)return objj_msgSend(a,
"selectPreviousKeyView:",a);objj_msgSend(objj_msgSend(a,"firstResponder"),"keyDown:",b);if(!objj_msgSend(a,"disableKeyEquivalentForDefaultButton")){var c=objj_msgSend(a,"defaultButton");d=objj_msgSend(c,"keyEquivalent");c=objj_msgSend(c,"keyEquivalentModifierMask");objj_msgSend(b,"_triggersKeyEquivalent:withModifierMask:",d,c)&&objj_msgSend(objj_msgSend(a,"defaultButton"),"performClick:",a)}break;case CPScrollWheel:return objj_msgSend(objj_msgSend(_windowView,"hitTest:",d),"scrollWheel:",b);case CPLeftMouseUp:case CPRightMouseUp:a=
_leftMouseDownView;c=g==CPRightMouseUp?sel_getUid("rightMouseUp:"):sel_getUid("mouseUp:");a||(a=objj_msgSend(_windowView,"hitTest:",d));objj_msgSend(a,"performSelector:withObject:",c,b);_leftMouseDownView=nil;break;case CPLeftMouseDown:case CPRightMouseDown:_leftMouseDownView=objj_msgSend(_windowView,"hitTest:",d);_leftMouseDownView!=_firstResponder&&objj_msgSend(_leftMouseDownView,"acceptsFirstResponder")&&objj_msgSend(a,"makeFirstResponder:",_leftMouseDownView);objj_msgSend(CPApp,"activateIgnoringOtherApps:",
YES);d=objj_msgSend(b,"window");c=g==CPRightMouseDown?sel_getUid("rightMouseDown:"):sel_getUid("mouseDown:");if(objj_msgSend(d,"isKeyWindow")||objj_msgSend(d,"becomesKeyOnlyIfNeeded")&&!objj_msgSend(_leftMouseDownView,"needsPanelToBecomeKey"))return objj_msgSend(_leftMouseDownView,"performSelector:withObject:",c,b);else if(objj_msgSend(a,"makeKeyAndOrderFront:",a),objj_msgSend(_leftMouseDownView,"acceptsFirstMouse:",b))return objj_msgSend(_leftMouseDownView,"performSelector:withObject:",c,b);break;
case CPLeftMouseDragged:case CPRightMouseDragged:if(!_leftMouseDownView)return objj_msgSend(objj_msgSend(_windowView,"hitTest:",d),"mouseDragged:",b);g==CPRightMouseDragged&&(c=sel_getUid("rightMouseDragged:"),objj_msgSend(_leftMouseDownView,"respondsToSelector:",c)||(c=nil));c||(c=sel_getUid("mouseDragged:"));return objj_msgSend(_leftMouseDownView,"performSelector:withObject:",c,b);case CPMouseMoved:if(!_acceptsMouseMovedEvents)break;_mouseEnteredStack||(_mouseEnteredStack=[]);a=objj_msgSend(_windowView,
"hitTest:",d);if(objj_msgSend(_mouseEnteredStack,"count")&&objj_msgSend(_mouseEnteredStack,"lastObject")===a)return objj_msgSend(a,"mouseMoved:",b);g=a;for(c=[];g;)c.unshift(g),g=objj_msgSend(g,"superview");for(g=MIN(_mouseEnteredStack.length,c.length);g--;)if(_mouseEnteredStack[g]===c[g])break;var j=g+1,i=_mouseEnteredStack.length;if(j<i)for(var m=objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",CPMouseExited,d,objj_msgSend(b,
"modifierFlags"),objj_msgSend(b,"timestamp"),_windowNumber,nil,-1,1,0);j<i;++j)objj_msgSend(_mouseEnteredStack[j],"mouseExited:",m);j=g+1;i=c.length;if(j<i)for(m=objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",CPMouseEntered,d,objj_msgSend(b,"modifierFlags"),objj_msgSend(b,"timestamp"),_windowNumber,nil,-1,1,0);j<i;++j)objj_msgSend(c[j],"mouseEntered:",m);_mouseEnteredStack=c;objj_msgSend(a,"mouseMoved:",b)}}}),new objj_method(sel_getUid("windowNumber"),
function(a){with(a)return _windowNumber}),new objj_method(sel_getUid("becomeKeyWindow"),function(a){with(a)CPApp._keyWindow=a,_firstResponder!==a&&objj_msgSend(_firstResponder,"respondsToSelector:",sel_getUid("becomeKeyWindow"))&&objj_msgSend(_firstResponder,"becomeKeyWindow"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidBecomeKeyNotification,a)}),new objj_method(sel_getUid("canBecomeKeyWindow"),function(a){with(a)return YES}),new objj_method(sel_getUid("isKeyWindow"),
function(a){with(a)return objj_msgSend(CPApp,"keyWindow")==a}),new objj_method(sel_getUid("makeKeyAndOrderFront:"),function(a){with(a)objj_msgSend(a,"orderFront:",a),objj_msgSend(a,"makeKeyWindow"),objj_msgSend(a,"makeMainWindow")}),new objj_method(sel_getUid("makeKeyWindow"),function(a){with(a){if(objj_msgSend(CPApp,"keyWindow")===a||!objj_msgSend(a,"canBecomeKeyWindow"))return;objj_msgSend(objj_msgSend(CPApp,"keyWindow"),"resignKeyWindow");objj_msgSend(a,"becomeKeyWindow")}}),new objj_method(sel_getUid("resignKeyWindow"),
function(a){with(a){_firstResponder!==a&&objj_msgSend(_firstResponder,"respondsToSelector:",sel_getUid("resignKeyWindow"))&&objj_msgSend(_firstResponder,"resignKeyWindow");if(CPApp._keyWindow===a)CPApp._keyWindow=nil;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidResignKeyNotification,a)}}),new objj_method(sel_getUid("dragImage:at:offset:event:pasteboard:source:slideBack:"),function(a,d,b,g,c,j,i,m,e){with(a)objj_msgSend(objj_msgSend(CPDragServer,
"sharedDragServer"),"dragImage:fromWindow:at:offset:event:pasteboard:source:slideBack:",b,a,objj_msgSend(a,"convertBaseToGlobal:",g),c,j,i,m,e)}),new objj_method(sel_getUid("_noteRegisteredDraggedTypes:"),function(a,d,b){with(a){if(!b)return;_inclusiveRegisteredDraggedTypes||(_inclusiveRegisteredDraggedTypes=objj_msgSend(CPCountedSet,"set"));objj_msgSend(_inclusiveRegisteredDraggedTypes,"unionSet:",b)}}),new objj_method(sel_getUid("_noteUnregisteredDraggedTypes:"),function(a,d,b){with(a){if(!b)return;
objj_msgSend(_inclusiveRegisteredDraggedTypes,"minusSet:",b);objj_msgSend(_inclusiveRegisteredDraggedTypes,"count")===0&&(_inclusiveRegisteredDraggedTypes=nil)}}),new objj_method(sel_getUid("dragView:at:offset:event:pasteboard:source:slideBack:"),function(a,d,b,g,c,j,i,m,e){with(a)objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"dragView:fromWindow:at:offset:event:pasteboard:source:slideBack:",b,a,objj_msgSend(a,"convertBaseToGlobal:",g),c,j,i,m,e)}),new objj_method(sel_getUid("registerForDraggedTypes:"),
function(a,d,b){with(a){if(!b)return;objj_msgSend(a,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes);objj_msgSend(_registeredDraggedTypes,"addObjectsFromArray:",b);objj_msgSend(a,"_noteRegisteredDraggedTypes:",_registeredDraggedTypes);_registeredDraggedTypesArray=nil}}),new objj_method(sel_getUid("registeredDraggedTypes"),function(a){with(a)return _registeredDraggedTypesArray||(_registeredDraggedTypesArray=objj_msgSend(_registeredDraggedTypes,"allObjects")),_registeredDraggedTypesArray}),
new objj_method(sel_getUid("unregisterDraggedTypes"),function(a){with(a)objj_msgSend(a,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes),_registeredDraggedTypes=objj_msgSend(CPSet,"set"),_registeredDraggedTypesArray=[]}),new objj_method(sel_getUid("setDocumentEdited:"),function(a,d,b){with(a){if(_isDocumentEdited==b)return;_isDocumentEdited=b;objj_msgSend(CPMenu,"_setMenuBarIconImageAlphaValue:",_isDocumentEdited?0.5:1);objj_msgSend(_windowView,"setDocumentEdited:",b)}}),new objj_method(sel_getUid("isDocumentEdited"),
function(a){with(a)return _isDocumentEdited}),new objj_method(sel_getUid("setDocumentSaving:"),function(a,d,b){with(a){if(_isDocumentSaving==b)return;_isDocumentSaving=b;objj_msgSend(a,"_synchronizeSaveMenuWithDocumentSaving");objj_msgSend(_windowView,"windowDidChangeDocumentSaving")}}),new objj_method(sel_getUid("isDocumentSaving"),function(a){with(a)return _isDocumentSaving}),new objj_method(sel_getUid("_synchronizeSaveMenuWithDocumentSaving"),function(a){with(a){if(!objj_msgSend(a,"isMainWindow"))return;
a=objj_msgSend(CPApp,"mainMenu");var d=objj_msgSend(a,"indexOfItemWithTitle:",_isDocumentSaving?"Save":"Saving...");if(d==CPNotFound)return;a=objj_msgSend(a,"itemAtIndex:",d);_isDocumentSaving?(c=objj_msgSend(a,"image"),objj_msgSend(a,"setTitle:","Saving..."),objj_msgSend(a,"setImage:",b),objj_msgSend(a,"setEnabled:",NO)):(objj_msgSend(a,"setTitle:","Save"),objj_msgSend(a,"setImage:",c),objj_msgSend(a,"setEnabled:",YES))}}),new objj_method(sel_getUid("performMiniaturize:"),function(a,d,b){with(a)objj_msgSend(a,
"miniaturize:",b)}),new objj_method(sel_getUid("miniaturize:"),function(a,d,b){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowWillMiniaturizeNotification,a),objj_msgSend(objj_msgSend(a,"platformWindow"),"miniaturize:",b),objj_msgSend(a,"_updateMainAndKeyWindows"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidMiniaturizeNotification,a),_isMiniaturized=YES}),new objj_method(sel_getUid("deminiaturize:"),
function(a,d,b){with(a)objj_msgSend(objj_msgSend(a,"platformWindow"),"deminiaturize:",b),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidDeminiaturizeNotification,a),_isMiniaturized=NO}),new objj_method(sel_getUid("isMiniaturized"),function(a){with(a)return _isMiniaturized}),new objj_method(sel_getUid("performClose:"),function(a){with(a){if(!(_styleMask&CPClosableWindowMask))return;if(objj_msgSend(a,"isFullBridge")){var d=objj_msgSend(CPApp,
"currentEvent");if(objj_msgSend(d,"type")===CPKeyDown&&objj_msgSend(d,"characters")==="w"&&objj_msgSend(d,"modifierFlags")&CPPlatformActionKeyMask){objj_msgSend(objj_msgSend(a,"platformWindow"),"_propagateCurrentDOMEvent:",YES);return}}if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowShouldClose:"))){if(!objj_msgSend(_delegate,"windowShouldClose:",a))return}else if(objj_msgSend(a,"respondsToSelector:",sel_getUid("windowShouldClose:"))&&!objj_msgSend(a,"windowShouldClose:",a))return;
d=objj_msgSend(_windowController,"documents");if(objj_msgSend(d,"count")){var b=objj_msgSend(d,"indexOfObject:",objj_msgSend(_windowController,"document"));objj_msgSend(d[b],"shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:",_windowController,a,sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),{documents:objj_msgSend(d,"copy"),visited:0,index:b})}else objj_msgSend(a,"close")}}),new objj_method(sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),
function(a,d,b,g,c){with(a)if(g){d=objj_msgSend(a,"windowController");g=c.documents;var j=objj_msgSend(g,"count"),i=++c.visited,m=++c.index%j;objj_msgSend(b,"removeWindowController:",d);i<j?(objj_msgSend(d,"setDocument:",g[m]),objj_msgSend(g[m],"shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:",_windowController,a,sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),c)):objj_msgSend(a,"close")}}),new objj_method(sel_getUid("close"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPWindowWillCloseNotification,a),objj_msgSend(a,"orderOut:",nil)}),new objj_method(sel_getUid("isMainWindow"),function(a){with(a)return objj_msgSend(CPApp,"mainWindow")==a}),new objj_method(sel_getUid("canBecomeMainWindow"),function(a){with(a){if(objj_msgSend(a,"isVisible"))return YES;return NO}}),new objj_method(sel_getUid("makeMainWindow"),function(a){with(a){if(objj_msgSend(CPApp,"mainWindow")===a||!objj_msgSend(a,"canBecomeMainWindow"))return;objj_msgSend(objj_msgSend(CPApp,
"mainWindow"),"resignMainWindow");objj_msgSend(a,"becomeMainWindow")}}),new objj_method(sel_getUid("becomeMainWindow"),function(a){with(a)CPApp._mainWindow=a,objj_msgSend(a,"_synchronizeMenuBarTitleWithWindowTitle"),objj_msgSend(a,"_synchronizeSaveMenuWithDocumentSaving"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidBecomeMainNotification,a)}),new objj_method(sel_getUid("resignMainWindow"),function(a){with(a)if(objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPWindowDidResignMainNotification,a),CPApp._mainWindow===a)CPApp._mainWindow=nil}),new objj_method(sel_getUid("_updateMainAndKeyWindows"),function(a){with(a){var d=objj_msgSend(CPApp,"orderedWindows"),b=objj_msgSend(d,"count");if(objj_msgSend(a,"isKeyWindow")){var g=objj_msgSend(CPApp,"keyWindow");objj_msgSend(a,"resignKeyWindow");if(g&&g!==a&&objj_msgSend(g,"canBecomeKeyWindow"))objj_msgSend(g,"makeKeyWindow");else{objj_msgSend(CPApp,"mainMenu");g=
objj_getClass("_CPMenuBarWindow");for(var c,j=0;j<b;j++){var i=d[j];objj_msgSend(i,"isKindOfClass:",g)&&(c=i);if(!(i===a||i===c)&&objj_msgSend(i,"isVisible")&&objj_msgSend(i,"canBecomeKeyWindow")){objj_msgSend(i,"makeKeyWindow");break}}objj_msgSend(CPApp,"keyWindow")||objj_msgSend(c,"makeKeyWindow")}}if(objj_msgSend(a,"isMainWindow"))if(g=objj_msgSend(CPApp,"mainWindow"),objj_msgSend(a,"resignMainWindow"),g&&g!==a&&objj_msgSend(g,"canBecomeMainWindow"))objj_msgSend(g,"makeMainWindow");else{objj_msgSend(CPApp,
"mainMenu");g=objj_getClass("_CPMenuBarWindow");for(j=0;j<b;j++)if(i=d[j],objj_msgSend(i,"isKindOfClass:",g)&&(c=i),!(i===a||i===c)&&objj_msgSend(i,"isVisible")&&objj_msgSend(i,"canBecomeMainWindow")){objj_msgSend(i,"makeMainWindow");break}}}}),new objj_method(sel_getUid("toolbar"),function(a){with(a)return _toolbar}),new objj_method(sel_getUid("setToolbar:"),function(a,d,b){with(a){if(_toolbar===b)return;objj_msgSend(objj_msgSend(b,"_window"),"setToolbar:",nil);objj_msgSend(_toolbar,"_setWindow:",
nil);_toolbar=b;objj_msgSend(_toolbar,"_setWindow:",a);objj_msgSend(a,"_noteToolbarChanged")}}),new objj_method(sel_getUid("toggleToolbarShown:"),function(a){with(a)a=objj_msgSend(a,"toolbar"),objj_msgSend(a,"setVisible:",!objj_msgSend(a,"isVisible"))}),new objj_method(sel_getUid("_noteToolbarChanged"),function(a){with(a){var d=CGRectMakeCopy(objj_msgSend(a,"frame")),b;objj_msgSend(_windowView,"noteToolbarChanged");_isFullPlatformWindow?b=objj_msgSend(_platformWindow,"visibleFrame"):(b=CGRectMakeCopy(objj_msgSend(a,
"frame")),b.origin=d.origin);objj_msgSend(a,"setFrame:",b)}}),new objj_method(sel_getUid("_setFrame:delegate:duration:curve:"),function(a,d,b,g,c,j){with(a)objj_msgSend(_frameAnimation,"stopAnimation"),_frameAnimation=objj_msgSend(objj_msgSend(_CPWindowFrameAnimation,"alloc"),"initWithWindow:targetFrame:",a,b),objj_msgSend(_frameAnimation,"setDelegate:",g),objj_msgSend(_frameAnimation,"setAnimationCurve:",j),objj_msgSend(_frameAnimation,"setDuration:",c),objj_msgSend(_frameAnimation,"startAnimation")}),
new objj_method(sel_getUid("animationResizeTime:"),function(a){with(a)return 0.2}),new objj_method(sel_getUid("_setAttachedSheetFrameOrigin"),function(a){with(a){var d=objj_msgSend(a,"attachedSheet");a=objj_msgSend(objj_msgSend(a,"contentView"),"frame");var b=CGRectMakeCopy(objj_msgSend(d,"frame"));b.origin.y=CGRectGetMinY(_frame)+CGRectGetMinY(a);b.origin.x=CGRectGetMinX(_frame)+FLOOR((CGRectGetWidth(_frame)-CGRectGetWidth(b))/2);objj_msgSend(d,"setFrame:display:animate:",b,YES,NO)}}),new objj_method(sel_getUid("_attachSheet:modalDelegate:didEndSelector:contextInfo:"),
function(a,d,b,g,c,j){with(a)d=objj_msgSend(b,"frame"),_sheetContext={sheet:b,modalDelegate:g,endSelector:c,contextInfo:j,frame:CGRectMakeCopy(d),returnCode:-1,opened:NO},objj_msgSend(a,"_attachSheetWindow:",b)}),new objj_method(sel_getUid("_attachSheetWindow:"),function(a,d,b){with(a){d=objj_msgSend(b,"frame");var g=objj_msgSend(a,"frame"),c=objj_msgSend(b,"contentView");objj_msgSend(a,"_setUpMasksForView:",c);b._isSheet=YES;b._parentView=a;c=g.origin.x+FLOOR((g.size.width-d.size.width)/2);var j=
g.origin.y+objj_msgSend(objj_msgSend(a,"contentView"),"frame").origin.y;g=CGRectMake(c,j,d.size.width,0);d=CGRectMake(c,j,d.size.width,d.size.height);objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowWillBeginSheetNotification,a);objj_msgSend(CPApp,"runModalForWindow:",b);objj_msgSend(b,"orderFront:",a);objj_msgSend(b,"setFrame:display:animate:",g,YES,NO);_sheetContext.opened=YES;objj_msgSend(b,"_setFrame:delegate:duration:curve:",d,a,objj_msgSend(a,
"animationResizeTime:",d),CPAnimationEaseOut);objj_msgSend(b,"becomeKeyWindow")}}),new objj_method(sel_getUid("_detachSheetWindow"),function(a){with(a){var d=objj_msgSend(a,"attachedSheet"),b=objj_msgSend(d,"frame"),g=CGRectMakeCopy(b);g.size.height=0;_sheetContext.frame=b;b=objj_msgSend(d,"contentView");objj_msgSend(a,"_setUpMasksForView:",b);_sheetContext.opened=NO;objj_msgSend(d,"_setFrame:delegate:duration:curve:",g,a,objj_msgSend(a,"animationResizeTime:",g),CPAnimationEaseIn)}}),new objj_method(sel_getUid("animationDidEnd:"),
function(a,d,b){with(a){d=_sheetContext.sheet;if(b._window!=d)return;b=objj_msgSend(d,"contentView");if(_sheetContext.opened===YES){objj_msgSend(a,"_restoreMasksForView:",b);return}objj_msgSend(CPApp,"stopModal");objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidEndSheetNotification,a);objj_msgSend(d,"orderOut:",a);objj_msgSend(d,"setFrame:",_sheetContext.frame);objj_msgSend(a,"_restoreMasksForView:",b);a=_sheetContext.modalDelegate;b=_sheetContext.endSelector;
var g=_sheetContext.returnCode,c=_sheetContext.contextInfo;_sheetContext=nil;d._parentView=nil;a!=nil&&b!=nil&&objj_msgSend(a,b,d,g,c)}}),new objj_method(sel_getUid("_setUpMasksForView:"),function(a,d,b){with(a){a=objj_msgSend(b,"subviews");objj_msgSend(a,"addObject:",b);b=0;for(d=objj_msgSend(a,"count");b<d;b++){var g=objj_msgSend(a,"objectAtIndex:",b),c=objj_msgSend(g,"autoresizingMask");objj_msgSend(g,"setAutoresizingMask:",c|(c&CPViewMinYMargin?128:CPViewMinYMargin))}}}),new objj_method(sel_getUid("_restoreMasksForView:"),
function(a,d,b){with(a){a=objj_msgSend(b,"subviews");objj_msgSend(a,"addObject:",b);b=0;for(d=objj_msgSend(a,"count");b<d;b++){var g=objj_msgSend(a,"objectAtIndex:",b),c=objj_msgSend(g,"autoresizingMask");objj_msgSend(g,"setAutoresizingMask:",c&~(c&128?128:CPViewMinYMargin))}}}),new objj_method(sel_getUid("attachedSheet"),function(a){with(a){if(_sheetContext===nil)return nil;return _sheetContext.sheet}}),new objj_method(sel_getUid("isSheet"),function(a){with(a)return _isSheet}),new objj_method(sel_getUid("becomesKeyOnlyIfNeeded"),
function(a){with(a)return NO}),new objj_method(sel_getUid("worksWhenModal"),function(a){with(a)return NO}),new objj_method(sel_getUid("performKeyEquivalent:"),function(a,d,b){with(a)return objj_msgSend(objj_msgSend(a,"contentView"),"performKeyEquivalent:",b)}),new objj_method(sel_getUid("keyDown:"),function(a,d,b){with(a){if(objj_msgSend(b,"_couldBeKeyEquivalent")&&objj_msgSend(a,"performKeyEquivalent:",b))return;objj_msgSend(a,"_processKeyboardUIKey:",b)}}),new objj_method(sel_getUid("_processKeyboardUIKey:"),
function(d,b,g){with(d){b=objj_msgSend(g,"charactersIgnoringModifiers");if(!objj_msgSend(a,"containsObject:",b))return NO;g=objj_msgSend(CPKeyBinding,"selectorsForKey:modifierFlags:",b,0);if(objj_msgSend(g,"count")<=0)return NO;if(b!==CPEscapeFunctionKey)return b=objj_msgSend(g,"objectAtIndex:",0),objj_msgSend(objj_msgSend(d,"firstResponder"),"tryToPerform:with:",b,d);else objj_msgSend(objj_msgSend(d,"firstResponder"),"doCommandBySelector:",sel_getUid("complete:"))}}),new objj_method(sel_getUid("_dirtyKeyViewLoop"),
function(a){with(a)_autorecalculatesKeyViewLoop&&(_keyViewLoopIsDirty=YES)}),new objj_method(sel_getUid("_hasKeyViewLoop"),function(a){with(a){a=j(a);for(var d=objj_msgSend(a,"count");d--;)if(objj_msgSend(a[d],"nextKeyView"))return YES;return NO}}),new objj_method(sel_getUid("recalculateKeyViewLoop"),function(a){with(a){a=j(a);objj_msgSend(a,"sortUsingFunction:context:",i,nil);for(var d=0,b=objj_msgSend(a,"count");d<b;++d)objj_msgSend(a[d],"setNextKeyView:",a[(d+1)%b]);_keyViewLoopIsDirty=NO}}),new objj_method(sel_getUid("setAutorecalculatesKeyViewLoop:"),
function(a,d,b){with(a){if(_autorecalculatesKeyViewLoop===b)return;_autorecalculatesKeyViewLoop=b;_keyViewLoopIsDirty?objj_msgSend(a,"recalculateKeyViewLoop"):_autorecalculatesKeyViewLoop&&objj_msgSend(a,"_dirtyKeyViewLoop")}}),new objj_method(sel_getUid("autorecalculatesKeyViewLoop"),function(a){with(a)return _autorecalculatesKeyViewLoop}),new objj_method(sel_getUid("selectNextKeyView:"),function(a){with(a)objj_msgSend(_firstResponder,"isKindOfClass:",objj_msgSend(CPView,"class"))&&objj_msgSend(a,
"selectKeyViewFollowingView:",_firstResponder)}),new objj_method(sel_getUid("selectPreviousKeyView:"),function(a){with(a)objj_msgSend(_firstResponder,"isKindOfClass:",objj_msgSend(CPView,"class"))&&objj_msgSend(a,"selectKeyViewPrecedingView:",_firstResponder)}),new objj_method(sel_getUid("selectKeyViewFollowingView:"),function(a,d,b){with(a)_keyViewLoopIsDirty&&objj_msgSend(a,"recalculateKeyViewLoop"),objj_msgSend(a,"makeFirstResponder:",objj_msgSend(b,"nextValidKeyView"))}),new objj_method(sel_getUid("selectKeyViewPrecedingView:"),
function(a,d,b){with(a)_keyViewLoopIsDirty&&objj_msgSend(a,"recalculateKeyViewLoop"),objj_msgSend(a,"makeFirstResponder:",objj_msgSend(b,"previousValidKeyView"))}),new objj_method(sel_getUid("setDefaultButtonCell:"),function(a,d,b){with(a)objj_msgSend(a,"setDefaultButton:",b)}),new objj_method(sel_getUid("defaultButtonCell"),function(a){with(a)return objj_msgSend(a,"defaultButton")}),new objj_method(sel_getUid("setDefaultButton:"),function(a,d,b){with(a){if(_defaultButton===b)return;objj_msgSend(_defaultButton,
"keyEquivalent")===CPCarriageReturnCharacter&&objj_msgSend(_defaultButton,"setKeyEquivalent:",nil);_defaultButton=b;objj_msgSend(_defaultButton,"keyEquivalent")!==CPCarriageReturnCharacter&&objj_msgSend(_defaultButton,"setKeyEquivalent:",CPCarriageReturnCharacter)}}),new objj_method(sel_getUid("defaultButton"),function(a){with(a)return _defaultButton}),new objj_method(sel_getUid("enableKeyEquivalentForDefaultButton"),function(a){with(a)_defaultButtonEnabled=YES}),new objj_method(sel_getUid("enableKeyEquivalentForDefaultButtonCell"),
function(a){with(a)objj_msgSend(a,"enableKeyEquivalentForDefaultButton")}),new objj_method(sel_getUid("disableKeyEquivalentForDefaultButton"),function(a){with(a)_defaultButtonEnabled=NO}),new objj_method(sel_getUid("disableKeyEquivalentForDefaultButtonCell"),function(a){with(a)objj_msgSend(a,"disableKeyEquivalentForDefaultButton")})]);class_addMethods(g,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(CPWindow,"class"))return;a=objj_msgSend(CPBundle,"bundleForClass:",
objj_msgSend(CPWindow,"class"));b=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPProgressIndicator/CPProgressIndicatorSpinningStyleRegular.gif"),CGSizeMake(16,16))}}),new objj_method(sel_getUid("_windowViewClassForStyleMask:"),function(a,d,b){with(a){if(b&CPHUDBackgroundWindowMask)return _CPHUDWindowView;else if(b===CPBorderlessWindowMask)return _CPBorderlessWindowView;else if(b&CPDocModalWindowMask)return _CPDocModalWindowView;return _CPStandardWindowView}}),
new objj_method(sel_getUid("_windowViewClassForFullPlatformWindowStyleMask:"),function(a){with(a)return _CPBorderlessBridgeWindowView}),new objj_method(sel_getUid("frameRectForContentRect:styleMask:"),function(a,d,b,g){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"class"),"_windowViewClassForStyleMask:",g),"frameRectForContentRect:",b)})]);var j=function(a){a=objj_msgSend(objj_msgSend(a,"contentView"),"subviews");for(var d=0;d<a.length;++d)a=a.concat(objj_msgSend(a[d],"subviews"));return a},
i=function(a,d){var b=objj_msgSend(a,"convertRect:toView:",objj_msgSend(a,"bounds"),nil),g=objj_msgSend(d,"convertRect:toView:",objj_msgSend(d,"bounds"),nil),c=b.origin.y,j=g.origin.y,i=b.origin.x,m=g.origin.x;if(MIN(b.origin.y+b.size.height,g.origin.y+g.size.height)-MAX(c,j)>0){if(i<m)return CPOrderedAscending;if(i===m)return CPOrderedSame;return CPOrderedDescending}if(c<j)return CPOrderedAscending;if(c===j)return CPOrderedSame;return CPOrderedDescending};d=objj_getClass("CPWindow");if(!d)throw new SyntaxError('*** Could not find definition for class "CPWindow"');
g=d.isa;class_addMethods(d,[new objj_method(sel_getUid("_synchronizeMenuBarTitleWithWindowTitle"),function(a){with(a){if(!objj_msgSend(_windowController,"document")||!objj_msgSend(a,"isMainWindow"))return;objj_msgSend(CPMenu,"setMenuBarTitle:",_title)}})]);d=objj_getClass("CPWindow");if(!d)throw new SyntaxError('*** Could not find definition for class "CPWindow"');g=d.isa;class_addMethods(d,[new objj_method(sel_getUid("resizeWithOldPlatformWindowSize:"),function(a,d,b){with(a){if(objj_msgSend(a,"isFullPlatformWindow"))return objj_msgSend(a,
"setFrame:",objj_msgSend(_platformWindow,"visibleFrame"));if(_autoresizingMask==CPWindowNotSizable)return;var g=objj_msgSend(_platformWindow,"contentBounds");d=CGRectMakeCopy(_frame);var c=(CGRectGetWidth(g)-b.width)/((_autoresizingMask&CPWindowMinXMargin?1:0)+(_autoresizingMask&CPWindowWidthSizable?1:0)+(_autoresizingMask&CPWindowMaxXMargin?1:0));b=(CGRectGetHeight(g)-b.height)/((_autoresizingMask&CPWindowMinYMargin?1:0)+(_autoresizingMask&CPWindowHeightSizable?1:0)+(_autoresizingMask&CPWindowMaxYMargin?
1:0));_autoresizingMask&CPWindowMinXMargin&&(d.origin.x+=c);_autoresizingMask&CPWindowWidthSizable&&(d.size.width+=c);_autoresizingMask&CPWindowMinYMargin&&(d.origin.y+=b);_autoresizingMask&CPWindowHeightSizable&&(d.size.height+=b);objj_msgSend(a,"setFrame:",d)}}),new objj_method(sel_getUid("setAutoresizingMask:"),function(a,d,b){with(a)_autoresizingMask=b}),new objj_method(sel_getUid("autoresizingMask"),function(a){with(a)return _autoresizingMask}),new objj_method(sel_getUid("convertBaseToGlobal:"),
function(a,d,b){with(a)return objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(a,"convertBaseToPlatformWindow:",b):objj_msgSend(a,"convertBaseToScreen:",b)}),new objj_method(sel_getUid("convertGlobalToBase:"),function(a,d,b){with(a)return objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(a,"convertPlatformWindowToBase:",b):objj_msgSend(a,"convertScreenToBase:",b)}),new objj_method(sel_getUid("convertBaseToPlatformWindow:"),function(a,d,b){with(a){if(objj_msgSend(a,"_sharesChromeWithPlatformWindow"))return b;
a=objj_msgSend(a,"frame").origin;return{x:b.x+a.x,y:b.y+a.y}}}),new objj_method(sel_getUid("convertPlatformWindowToBase:"),function(a,d,b){with(a){if(objj_msgSend(a,"_sharesChromeWithPlatformWindow"))return b;a=objj_msgSend(a,"frame").origin;return{x:b.x-a.x,y:b.y-a.y}}}),new objj_method(sel_getUid("convertScreenToBase:"),function(a,d,b){with(a)return objj_msgSend(a,"convertPlatformWindowToBase:",objj_msgSend(_platformWindow,"convertScreenToBase:",b))}),new objj_method(sel_getUid("convertBaseToScreen:"),
function(a,d,b){with(a)return objj_msgSend(_platformWindow,"convertBaseToScreen:",objj_msgSend(a,"convertBaseToPlatformWindow:",b))}),new objj_method(sel_getUid("_setSharesChromeWithPlatformWindow:"),function(a,d,b){with(a){if(b&&objj_msgSend(CPPlatform,"isBrowser"))return;_sharesChromeWithPlatformWindow=b;objj_msgSend(a,"_updateShadow")}}),new objj_method(sel_getUid("_sharesChromeWithPlatformWindow"),function(a){with(a)return _sharesChromeWithPlatformWindow}),new objj_method(sel_getUid("undoManager"),
function(a){with(a){if(_undoManager)return _undoManager;var d=objj_msgSend(objj_msgSend(_windowController,"document"),"undoManager");if(d)return d;if(_delegateRespondsToWindowWillReturnUndoManagerSelector)return objj_msgSend(_delegate,"windowWillReturnUndoManager:",a);_undoManager||(_undoManager=objj_msgSend(objj_msgSend(CPUndoManager,"alloc"),"init"));return _undoManager}}),new objj_method(sel_getUid("undo:"),function(a){with(a)objj_msgSend(objj_msgSend(a,"undoManager"),"undo")}),new objj_method(sel_getUid("redo:"),
function(a){with(a)objj_msgSend(objj_msgSend(a,"undoManager"),"redo")}),new objj_method(sel_getUid("containsPoint:"),function(a,d,b){with(a)return CGRectContainsPoint(_frame,b)})]);d=objj_getClass("CPWindow");if(!d)throw new SyntaxError('*** Could not find definition for class "CPWindow"');g=d.isa;class_addMethods(d,[new objj_method(sel_getUid("setFullBridge:"),function(a,d,b){with(a)objj_msgSend(a,"setFullPlatformWindow:",b)}),new objj_method(sel_getUid("isFullBridge"),function(a){with(a)return objj_msgSend(a,
"isFullPlatformWindow")}),new objj_method(sel_getUid("convertBaseToBridge:"),function(a,d,b){with(a)return objj_msgSend(a,"convertBaseToPlatformWindow:",b)}),new objj_method(sel_getUid("convertBridgeToBase:"),function(a,d,b){with(a)return objj_msgSend(a,"convertPlatformWindowToBase:",b)})]);var m=function(a,d,b){return a+(d-a)*b};d=objj_allocateClassPair(CPAnimation,"_CPWindowFrameAnimation");g=d.isa;class_addIvars(d,[new objj_ivar("_window"),new objj_ivar("_startFrame"),new objj_ivar("_targetFrame")]);
objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithWindow:targetFrame:"),function(a,d,b,g){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPWindowFrameAnimation").super_class},"initWithDuration:animationCurve:",objj_msgSend(b,"animationResizeTime:",g),CPAnimationLinear))_window=b,_targetFrame=CGRectMakeCopy(g),_startFrame=CGRectMakeCopy(objj_msgSend(_window,"frame"));return a}}),new objj_method(sel_getUid("startAnimation"),function(a){with(a)objj_msgSendSuper({receiver:a,
super_class:objj_getClass("_CPWindowFrameAnimation").super_class},"startAnimation"),_window._isAnimating=YES}),new objj_method(sel_getUid("setCurrentProgress:"),function(a,d,b){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPWindowFrameAnimation").super_class},"setCurrentProgress:",b);a=objj_msgSend(a,"currentValue");if(a==1)_window._isAnimating=NO;a=CGRectMake(m(CGRectGetMinX(_startFrame),CGRectGetMinX(_targetFrame),a),m(CGRectGetMinY(_startFrame),CGRectGetMinY(_targetFrame),
a),m(CGRectGetWidth(_startFrame),CGRectGetWidth(_targetFrame),a),m(CGRectGetHeight(_startFrame),CGRectGetHeight(_targetFrame),a));objj_msgSend(_window,"setFrame:display:animate:",a,YES,NO)}})]);_CPWindowFullPlatformWindowSessionMake=function(a,d,b,g){return{windowView:a,contentRect:d,hasShadow:b,level:g}};CPStandardWindowShadowStyle=0;CPMenuWindowShadowStyle=1;CPPanelWindowShadowStyle=2;CPCustomWindowShadowStyle=3;f("_CPWindowView.j",YES);f("_CPStandardWindowView.j",YES);f("_CPDocModalWindowView.j",
YES);f("_CPHUDWindowView.j",YES);f("_CPBorderlessWindowView.j",YES);f("_CPBorderlessBridgeWindowView.j",YES);f("CPDragServer.j",YES);f("CPView.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPApplication.j",baseURL),function(h,f){f("Foundation/CPBundle.j",NO);f("CPCompatibility.j",YES);f("CPEvent.j",YES);f("CPMenu.j",YES);f("CPResponder.j",YES);f("CPDocumentController.j",YES);f("CPThemeBlend.j",YES);f("CPCibLoading.j",YES);f("CPPlatform.j",YES);CPApp=nil;CPApplicationWillFinishLaunchingNotification="CPApplicationWillFinishLaunchingNotification";CPApplicationDidFinishLaunchingNotification="CPApplicationDidFinishLaunchingNotification";
CPApplicationWillTerminateNotification="CPApplicationWillTerminateNotification";CPApplicationWillBecomeActiveNotification="CPApplicationWillBecomeActiveNotification";CPApplicationDidBecomeActiveNotification="CPApplicationDidBecomeActiveNotification";CPApplicationWillResignActiveNotification="CPApplicationWillResignActiveNotification";CPApplicationDidResignActiveNotification="CPApplicationDidResignActiveNotification";CPTerminateNow=YES;CPTerminateCancel=NO;CPTerminateLater=-1;CPRunStoppedResponse=
-1E3;CPRunAbortedResponse=-1001;CPRunContinuesResponse=-1002;var e=objj_allocateClassPair(CPResponder,"CPApplication"),c=e.isa;class_addIvars(e,[new objj_ivar("_eventListeners"),new objj_ivar("_currentEvent"),new objj_ivar("_windows"),new objj_ivar("_keyWindow"),new objj_ivar("_mainWindow"),new objj_ivar("_previousKeyWindow"),new objj_ivar("_previousMainWindow"),new objj_ivar("_documentController"),new objj_ivar("_currentSession"),new objj_ivar("_delegate"),new objj_ivar("_finishedLaunching"),new objj_ivar("_isActive"),
new objj_ivar("_namedArgs"),new objj_ivar("_args"),new objj_ivar("_fullArgsString"),new objj_ivar("_applicationIconImage"),new objj_ivar("_aboutPanel"),new objj_ivar("_themeBlend")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("themeBlend"),function(a){with(a)return _themeBlend}),new objj_method(sel_getUid("setThemeBlend:"),function(a,d,b){with(a)_themeBlend=b}),new objj_method(sel_getUid("init"),function(a){with(a){if(CPApp=a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},
"init"))_eventListeners=[],_windows=[],objj_msgSend(_windows,"addObject:",nil);return a}}),new objj_method(sel_getUid("setDelegate:"),function(a,d,b){with(a){if(_delegate==b)return;d=objj_msgSend(CPNotificationCenter,"defaultCenter");var c=[CPApplicationWillFinishLaunchingNotification,sel_getUid("applicationWillFinishLaunching:"),CPApplicationDidFinishLaunchingNotification,sel_getUid("applicationDidFinishLaunching:"),CPApplicationWillBecomeActiveNotification,sel_getUid("applicationWillBecomeActive:"),
CPApplicationDidBecomeActiveNotification,sel_getUid("applicationDidBecomeActive:"),CPApplicationWillResignActiveNotification,sel_getUid("applicationWillResignActive:"),CPApplicationDidResignActiveNotification,sel_getUid("applicationDidResignActive:"),CPApplicationWillTerminateNotification,sel_getUid("applicationWillTerminate:")],i=objj_msgSend(c,"count");if(_delegate)for(var m=0;m<i;m+=2){var e=c[m],f=c[m+1];objj_msgSend(_delegate,"respondsToSelector:",f)&&objj_msgSend(d,"removeObserver:name:object:",
_delegate,e,a)}_delegate=b;for(m=0;m<i;m+=2)e=c[m],f=c[m+1],objj_msgSend(_delegate,"respondsToSelector:",f)&&objj_msgSend(d,"addObserver:selector:name:object:",_delegate,f,e,a)}}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("finishLaunching"),function(a){with(a){window.status=" ";objj_msgSend(objj_msgSend(CPCursor,"arrowCursor"),"set");var d=objj_msgSend(CPBundle,"mainBundle"),b=objj_msgSend(d,"objectForInfoDictionaryKey:","CPBundleDocumentTypes");
objj_msgSend(b,"count")>0&&(_documentController=objj_msgSend(CPDocumentController,"sharedDocumentController"));if(d=objj_msgSend(d,"objectForInfoDictionaryKey:","CPApplicationDelegateClass"))(d=objj_getClass(d))&&(objj_msgSend(_documentController,"class")==d?objj_msgSend(a,"setDelegate:",_documentController):objj_msgSend(a,"setDelegate:",objj_msgSend(objj_msgSend(d,"alloc"),"init")));d=objj_msgSend(CPNotificationCenter,"defaultCenter");objj_msgSend(d,"postNotificationName:object:",CPApplicationWillFinishLaunchingNotification,
a);b=!!_documentController;for(var c=window.cpOpeningURLStrings&&window.cpOpeningURLStrings(),i=0,m=objj_msgSend(c,"count");i<m;++i)b=!objj_msgSend(a,"_openURL:",objj_msgSend(CPURL,"URLWithString:",c[i]))||b;b&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("applicationShouldOpenUntitledFile:"))&&(b=objj_msgSend(_delegate,"applicationShouldOpenUntitledFile:",a));b&&objj_msgSend(_documentController,"newDocument:",a);objj_msgSend(_documentController,"_updateRecentDocumentsMenu");objj_msgSend(d,
"postNotificationName:object:",CPApplicationDidFinishLaunchingNotification,a);objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);_finishedLaunching=YES}}),new objj_method(sel_getUid("terminate:"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPApplicationWillTerminateNotification,a),objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(objj_msgSend(objj_msgSend(a,"keyWindow"),"platformWindow"),
"_propagateCurrentDOMEvent:",YES):objj_msgSend(objj_msgSend(CPDocumentController,"sharedDocumentController"),"closeAllDocumentsWithDelegate:didCloseAllSelector:contextInfo:",a,sel_getUid("_documentController:didCloseAll:context:"),nil)}),new objj_method(sel_getUid("setApplicationIconImage:"),function(a,d,b){with(a)_applicationIconImage=b}),new objj_method(sel_getUid("applicationIconImage"),function(a){with(a){if(_applicationIconImage)return _applicationIconImage;(a=objj_msgSend(objj_msgSend(CPBundle,
"mainBundle"),"objectForInfoDictionaryKey:","CPApplicationIcon"))&&(_applicationIconImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:",a));return _applicationIconImage}}),new objj_method(sel_getUid("orderFrontStandardAboutPanel:"),function(a){with(a)objj_msgSend(a,"orderFrontStandardAboutPanelWithOptions:",nil)}),new objj_method(sel_getUid("orderFrontStandardAboutPanelWithOptions:"),function(a,d,b){with(a){if(!_aboutPanel){var c=objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),
"infoDictionary");d=objj_msgSend(b,"objectForKey:","ApplicationName")||objj_msgSend(c,"objectForKey:","CPBundleName");var i=objj_msgSend(b,"objectForKey:","ApplicationIcon")||objj_msgSend(a,"applicationIconImage"),m=objj_msgSend(b,"objectForKey:","Version")||objj_msgSend(c,"objectForKey:","CPBundleVersion"),e=objj_msgSend(b,"objectForKey:","ApplicationVersion")||objj_msgSend(c,"objectForKey:","CPBundleShortVersionString");b=objj_msgSend(b,"objectForKey:","Copyright")||objj_msgSend(c,"objectForKey:",
"CPHumanReadableCopyright");c=objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindowController,"class")),"pathForResource:","AboutPanel.cib");var f=objj_msgSend(CPWindowController,"alloc");f=objj_msgSend(f,"initWithWindowCibPath:owner:",c,f);c=objj_msgSend(f,"window");var p=objj_msgSend(c,"contentView");f=objj_msgSend(p,"viewWithTag:",1);var h=objj_msgSend(p,"viewWithTag:",2),k=objj_msgSend(p,"viewWithTag:",3);p=objj_msgSend(p,"viewWithTag:",4);var n=objj_msgSend(objj_msgSend(CPBundle,
"bundleForClass:",objj_msgSend(a,"class")),"pathForResource:","standardApplicationIcon.png");objj_msgSend(h,"setFont:",objj_msgSend(CPFont,"boldSystemFontOfSize:",14));objj_msgSend(h,"setAlignment:",CPCenterTextAlignment);objj_msgSend(k,"setAlignment:",CPCenterTextAlignment);objj_msgSend(p,"setAlignment:",CPCenterTextAlignment);objj_msgSend(f,"setImage:",i||objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",n,CGSizeMake(256,256)));objj_msgSend(h,"setStringValue:",d||"");e&&
m?objj_msgSend(k,"setStringValue:","Version "+e+" ("+m+")"):e||m?objj_msgSend(k,"setStringValue:","Version "+(e||m)):objj_msgSend(k,"setStringValue:","");objj_msgSend(p,"setStringValue:",b||"");objj_msgSend(c,"center");_aboutPanel=c}objj_msgSend(_aboutPanel,"orderFront:",a)}}),new objj_method(sel_getUid("_documentController:didCloseAll:context:"),function(a,d,b,c){with(a)c&&(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("applicationShouldTerminate:"))?objj_msgSend(a,"replyToApplicationShouldTerminate:",
objj_msgSend(_delegate,"applicationShouldTerminate:",a)):objj_msgSend(a,"replyToApplicationShouldTerminate:",YES))}),new objj_method(sel_getUid("replyToApplicationShouldTerminate:"),function(a,d,b){with(a)b==CPTerminateNow&&(objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPApplicationWillTerminateNotification,a),objj_msgSend(CPPlatform,"terminateApplication"))}),new objj_method(sel_getUid("activateIgnoringOtherApps:"),function(a,d,b){with(a)objj_msgSend(a,
"_willBecomeActive"),objj_msgSend(CPPlatform,"activateIgnoringOtherApps:",b),_isActive=YES,objj_msgSend(a,"_willResignActive")}),new objj_method(sel_getUid("deactivate"),function(a){with(a)objj_msgSend(a,"_willResignActive"),objj_msgSend(CPPlatform,"deactivate"),_isActive=NO,objj_msgSend(a,"_didResignActive")}),new objj_method(sel_getUid("isActive"),function(a){with(a)return _isActive}),new objj_method(sel_getUid("hideOtherApplications:"),function(a){with(a)objj_msgSend(CPPlatform,"hideOtherApplications:",
a)}),new objj_method(sel_getUid("run"),function(a){with(a)objj_msgSend(a,"finishLaunching")}),new objj_method(sel_getUid("runModalForWindow:"),function(a,d,b){with(a)objj_msgSend(a,"runModalSession:",objj_msgSend(a,"beginModalSessionForWindow:",b))}),new objj_method(sel_getUid("stopModalWithCode:"),function(a,d,b){with(a){if(!_currentSession)return;_currentSession._state=b;_currentSession=_currentSession._previous;objj_msgSend(a,"_removeRunModalLoop")}}),new objj_method(sel_getUid("_removeRunModalLoop"),
function(a){with(a)for(a=_eventListeners.length;a--;)if(_eventListeners[a]._callback===_CPRunModalLoop){_eventListeners.splice(a,1);break}}),new objj_method(sel_getUid("stopModal"),function(a){with(a)objj_msgSend(a,"stopModalWithCode:",CPRunStoppedResponse)}),new objj_method(sel_getUid("abortModal"),function(a){with(a)objj_msgSend(a,"stopModalWithCode:",CPRunAbortedResponse)}),new objj_method(sel_getUid("beginModalSessionForWindow:"),function(a,d,b){with(a)return{_window:b,_state:CPRunContinuesResponse,
_previous:nil}}),new objj_method(sel_getUid("runModalSession:"),function(a,d,b){with(a)b._previous=_currentSession,_currentSession=b,d=b._window,objj_msgSend(d,"center"),objj_msgSend(d,"makeKeyWindow"),objj_msgSend(d,"orderFront:",a),objj_msgSend(CPApp,"setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:",_CPRunModalLoop,CPAnyEventMask,nil,0,NO)}),new objj_method(sel_getUid("modalWindow"),function(a){with(a){if(!_currentSession)return nil;return _currentSession._window}}),new objj_method(sel_getUid("_handleKeyEquivalent:"),
function(a,d,b){with(a)return objj_msgSend(objj_msgSend(a,"keyWindow"),"performKeyEquivalent:",b)||objj_msgSend(objj_msgSend(a,"mainMenu"),"performKeyEquivalent:",b)}),new objj_method(sel_getUid("sendEvent:"),function(a,d,b){with(a){_currentEvent=b;d=objj_msgSend(objj_msgSend(objj_msgSend(b,"window"),"platformWindow"),"_willPropagateCurrentDOMEvent");objj_msgSend(objj_msgSend(objj_msgSend(b,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",NO);if(objj_msgSend(b,"_couldBeKeyEquivalent")&&objj_msgSend(a,
"_handleKeyEquivalent:",b)){a=objj_msgSend(b,"characters");d=objj_msgSend(b,"modifierFlags");(a=="c"||a=="x"||a=="v")&&d&CPPlatformActionKeyMask&&objj_msgSend(objj_msgSend(objj_msgSend(b,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);return}objj_msgSend(objj_msgSend(objj_msgSend(b,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",d);if(_eventListeners.length){_eventListeners[_eventListeners.length-1]._mask&1<<objj_msgSend(b,"type")&&_eventListeners.pop()._callback(b);return}objj_msgSend(objj_msgSend(b,
"window"),"sendEvent:",b)}}),new objj_method(sel_getUid("doCommandBySelector:"),function(a,d,b){with(a)objj_msgSend(_delegate,"respondsToSelector:",b)?objj_msgSend(_delegate,"performSelector:",b):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},"doCommandBySelector:",b)}),new objj_method(sel_getUid("keyWindow"),function(a){with(a)return _keyWindow}),new objj_method(sel_getUid("mainWindow"),function(a){with(a)return _mainWindow}),new objj_method(sel_getUid("windowWithWindowNumber:"),
function(a,d,b){with(a)return _windows[b]}),new objj_method(sel_getUid("windows"),function(a){with(a)return _windows}),new objj_method(sel_getUid("orderedWindows"),function(a){with(a)return CPWindowObjectList()}),new objj_method(sel_getUid("hide:"),function(a){with(a)objj_msgSend(CPPlatform,"hide:",a)}),new objj_method(sel_getUid("mainMenu"),function(a){with(a)return objj_msgSend(a,"menu")}),new objj_method(sel_getUid("setMainMenu:"),function(a,d,b){with(a)objj_msgSend(a,"setMenu:",b)}),new objj_method(sel_getUid("setMenu:"),
function(a,d,b){with(a)if(objj_msgSend(b,"_menuName")==="CPMainMenu"){if(objj_msgSend(a,"menu")===b)return;objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},"setMenu:",b);objj_msgSend(CPPlatform,"supportsNativeMainMenu")&&window.cpSetMainMenu(objj_msgSend(a,"menu"))}else objj_msgSend(b,"_setMenuName:","CPMainMenu")}),new objj_method(sel_getUid("orderFrontColorPanel:"),function(a){with(a)objj_msgSend(objj_msgSend(CPColorPanel,"sharedColorPanel"),"orderFront:",a)}),
new objj_method(sel_getUid("tryToPerform:with:"),function(a,b,g,c){with(a){if(!g)return NO;if(objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},"tryToPerform:with:",g,c))return YES;if(objj_msgSend(_delegate,"respondsToSelector:",g))return objj_msgSend(_delegate,"performSelector:withObject:",g,c),YES;return NO}}),new objj_method(sel_getUid("sendAction:to:from:"),function(a,b,g,c,i){with(a){a=objj_msgSend(a,"targetForAction:to:from:",g,c,i);if(!a)return NO;objj_msgSend(a,
"performSelector:withObject:",g,i);return YES}}),new objj_method(sel_getUid("targetForAction:to:from:"),function(a,b,g,c){with(a){if(!g)return nil;if(c)return c;return objj_msgSend(a,"targetForAction:",g)}}),new objj_method(sel_getUid("_targetForWindow:action:"),function(a,b,g,c){with(a){a=objj_msgSend(g,"firstResponder");for(b=YES;a;){if(objj_msgSend(a,"respondsToSelector:",c))return a;a==g&&(b=NO);a=objj_msgSend(a,"nextResponder")}if(b&&objj_msgSend(g,"respondsToSelector:",c))return g;a=objj_msgSend(g,
"delegate");if(objj_msgSend(a,"respondsToSelector:",c))return a;g=objj_msgSend(g,"windowController");if(objj_msgSend(g,"respondsToSelector:",c))return g;g=objj_msgSend(g,"document");if(g!==a&&objj_msgSend(g,"respondsToSelector:",c))return g;return nil}}),new objj_method(sel_getUid("targetForAction:"),function(a,b,g){with(a){if(!g)return nil;if(b=objj_msgSend(a,"_targetForWindow:action:",objj_msgSend(a,"keyWindow"),g))return b;if(b=objj_msgSend(a,"_targetForWindow:action:",objj_msgSend(a,"mainWindow"),
g))return b;if(objj_msgSend(a,"respondsToSelector:",g))return a;if(objj_msgSend(_delegate,"respondsToSelector:",g))return _delegate;if(objj_msgSend(_documentController,"respondsToSelector:",g))return _documentController;return nil}}),new objj_method(sel_getUid("setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:"),function(a,b,g,c){with(a)_eventListeners.push({_mask:c,_callback:g})}),new objj_method(sel_getUid("setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:"),function(a,
b,g,c,i){with(a)_eventListeners.push({_mask:i,_callback:function(a){objj_msgSend(g,c,a)}})}),new objj_method(sel_getUid("currentEvent"),function(a){with(a)return _currentEvent}),new objj_method(sel_getUid("beginSheet:modalForWindow:modalDelegate:didEndSelector:contextInfo:"),function(a,b,g,c,i,m,e){with(a){if(!(objj_msgSend(g,"styleMask")&CPDocModalWindowMask)){objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,"Currently only CPDocModalWindowMask style mask is supported for attached sheets");
return}objj_msgSend(c,"orderFront:",a);objj_msgSend(g,"setPlatformWindow:",objj_msgSend(c,"platformWindow"));objj_msgSend(c,"_attachSheet:modalDelegate:didEndSelector:contextInfo:",g,i,m,e)}}),new objj_method(sel_getUid("endSheet:returnCode:"),function(a,b,g,c){with(a)for(a=objj_msgSend(_windows,"count");--a>=0;){b=objj_msgSend(_windows,"objectAtIndex:",a);var i=b._sheetContext;if(i!=nil&&i.sheet===g){i.returnCode=c;objj_msgSend(b,"_detachSheetWindow");break}}}),new objj_method(sel_getUid("endSheet:"),
function(a,b,g){with(a)objj_msgSend(a,"endSheet:returnCode:",g,0)}),new objj_method(sel_getUid("arguments"),function(a){with(a)return _fullArgsString!==window.location.hash&&objj_msgSend(a,"_reloadArguments"),_args}),new objj_method(sel_getUid("setArguments:"),function(a,b,g){with(a){if(!g||g.length==0){_args=[];window.location.hash="#";return}objj_msgSend(g,"isKindOfClass:",CPArray)||(g=objj_msgSend(CPArray,"arrayWithObject:",g));_args=g;a=objj_msgSend(_args,"copy");b=0;for(g=a.length;b<g;b++)a[b]=
encodeURIComponent(a[b]);a=objj_msgSend(a,"componentsJoinedByString:","/");window.location.hash="#"+a}}),new objj_method(sel_getUid("_reloadArguments"),function(a){with(a)if(_fullArgsString=window.location.hash,_fullArgsString.length){a=_fullArgsString.substring(1).split("/");for(var b=0,g=a.length;b<g;b++)a[b]=decodeURIComponent(a[b]);_args=a}else _args=[]}),new objj_method(sel_getUid("namedArguments"),function(a){with(a)return _namedArgs}),new objj_method(sel_getUid("_openURL:"),function(a,b,g){with(a){if(_delegate&&
objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("application:openFile:")))return CPLog.warn("application:openFile: is deprecated, use application:openURL: instead."),objj_msgSend(_delegate,"application:openFile:",a,objj_msgSend(g,"absoluteString"));if(_delegate&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("application:openURL:")))return objj_msgSend(_delegate,"application:openURL:",a,g);return!!objj_msgSend(_documentController,"openDocumentWithContentsOfURL:display:error:",g,YES,
NULL)}}),new objj_method(sel_getUid("_willBecomeActive"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationWillBecomeActiveNotification,a,nil)}),new objj_method(sel_getUid("_didBecomeActive"),function(a){with(a)!objj_msgSend(a,"keyWindow")&&_previousKeyWindow&&objj_msgSend(objj_msgSend(a,"windows"),"indexOfObjectIdenticalTo:",_previousKeyWindow)!==CPNotFound&&objj_msgSend(_previousKeyWindow,"makeKeyWindow"),!objj_msgSend(a,
"mainWindow")&&_previousMainWindow&&objj_msgSend(objj_msgSend(a,"windows"),"indexOfObjectIdenticalTo:",_previousMainWindow)!==CPNotFound&&objj_msgSend(_previousMainWindow,"makeMainWindow"),objj_msgSend(a,"keyWindow")?objj_msgSend(objj_msgSend(a,"keyWindow"),"orderFront:",a):objj_msgSend(a,"mainWindow")?objj_msgSend(objj_msgSend(a,"mainWindow"),"makeKeyAndOrderFront:",a):objj_msgSend(objj_msgSend(a,"mainMenu")._menuWindow,"makeKeyWindow"),_previousMainWindow=_previousKeyWindow=nil,objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationDidBecomeActiveNotification,a,nil)}),new objj_method(sel_getUid("_willResignActive"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationWillResignActiveNotification,a,nil)}),new objj_method(sel_getUid("_didResignActive"),function(a){with(a)a._activeMenu&&objj_msgSend(a._activeMenu,"cancelTracking"),objj_msgSend(a,"keyWindow")&&(_previousKeyWindow=
objj_msgSend(a,"keyWindow"),objj_msgSend(_previousKeyWindow,"resignKeyWindow")),objj_msgSend(a,"mainWindow")&&(_previousMainWindow=objj_msgSend(a,"mainWindow"),objj_msgSend(_previousMainWindow,"resignMainWindow")),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationDidResignActiveNotification,a,nil)})]);class_addMethods(c,[new objj_method(sel_getUid("sharedApplication"),function(a){with(a)return CPApp||(CPApp=objj_msgSend(objj_msgSend(CPApplication,
"alloc"),"init")),CPApp}),new objj_method(sel_getUid("defaultThemeName"),function(a){with(a)return objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"objectForInfoDictionaryKey:","CPDefaultTheme")||"Aristo"})]);_CPRunModalLoop=function(a){objj_msgSend(CPApp,"setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:",_CPRunModalLoop,CPAnyEventMask,nil,0,NO);var b=objj_msgSend(a,"window");(b==CPApp._currentSession._window||objj_msgSend(b,"worksWhenModal"))&&objj_msgSend(b,"sendEvent:",a)};CPApplicationMain=
function(a,b){window.parent!==window&&typeof window.parent._childAppIsStarting==="function"&&window.parent._childAppIsStarting(window);var g=objj_msgSend(CPBundle,"mainBundle");(g=objj_msgSend(g,"principalClass"))||(g=objj_msgSend(CPApplication,"class"));objj_msgSend(g,"sharedApplication");objj_msgSend(a,"containsObject:","debug")&&CPLogRegister(CPLogPopup);CPApp._args=a;CPApp._namedArgs=b;objj_msgSend(_CPAppBootstrapper,"performActions")};var b=nil;e=objj_allocateClassPair(CPObject,"_CPAppBootstrapper");
c=e.isa;objj_registerClassPair(e);class_addMethods(c,[new objj_method(sel_getUid("actions"),function(a){with(a)return[sel_getUid("bootstrapPlatform"),sel_getUid("loadDefaultTheme"),sel_getUid("loadMainCibFile")]}),new objj_method(sel_getUid("performActions"),function(a){with(a){for(b||(b=objj_msgSend(a,"actions"));b.length;){var d=b.shift();if(objj_msgSend(a,d))return}objj_msgSend(CPApp,"run")}}),new objj_method(sel_getUid("bootstrapPlatform"),function(a){with(a)return objj_msgSend(CPPlatform,"bootstrap")}),
new objj_method(sel_getUid("loadDefaultTheme"),function(a){with(a){var b=objj_msgSend(CPApplication,"defaultThemeName"),g=nil;g=b==="Aristo"?objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPApplication,"class")),"pathForResource:",b+".blend"):objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",b+".blend");b=objj_msgSend(objj_msgSend(CPThemeBlend,"alloc"),"initWithContentsOfURL:",g);objj_msgSend(b,"loadWithDelegate:",a);return YES}}),new objj_method(sel_getUid("blendDidFinishLoading:"),
function(a,b,g){with(a)objj_msgSend(objj_msgSend(CPApplication,"sharedApplication"),"setThemeBlend:",g),objj_msgSend(CPTheme,"setDefaultTheme:",objj_msgSend(CPTheme,"themeNamed:",objj_msgSend(CPApplication,"defaultThemeName"))),objj_msgSend(a,"performActions")}),new objj_method(sel_getUid("loadMainCibFile"),function(a){with(a){var b=objj_msgSend(CPBundle,"mainBundle"),g=objj_msgSend(b,"objectForInfoDictionaryKey:","CPMainCibFile")||objj_msgSend(b,"objectForInfoDictionaryKey:","Main cib file base name");
if(g)return objj_msgSend(b,"loadCibFile:externalNameTable:loadDelegate:",g,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",CPApp,CPCibOwner),a),YES;else objj_msgSend(a,"loadCiblessBrowserMainMenu");return NO}}),new objj_method(sel_getUid("loadCiblessBrowserMainMenu"),function(a){with(a){a=objj_msgSend(objj_msgSend(CPMenu,"alloc"),"initWithTitle:","MainMenu");objj_msgSend(a,"setAutoenablesItems:",NO);var b=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPApplication,"class")),g=objj_msgSend(objj_msgSend(CPMenuItem,
"alloc"),"initWithTitle:action:keyEquivalent:","New",sel_getUid("newDocument:"),"n");objj_msgSend(g,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/New.png"),CGSizeMake(16,16)));objj_msgSend(g,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/NewHighlighted.png"),CGSizeMake(16,16)));objj_msgSend(a,"addItem:",g);g=objj_msgSend(objj_msgSend(CPMenuItem,
"alloc"),"initWithTitle:action:keyEquivalent:","Open",sel_getUid("openDocument:"),"o");objj_msgSend(g,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/Open.png"),CGSizeMake(16,16)));objj_msgSend(g,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/OpenHighlighted.png"),CGSizeMake(16,16)));objj_msgSend(a,"addItem:",g);g=objj_msgSend(objj_msgSend(CPMenu,
"alloc"),"initWithTitle:","Save");var c=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save",sel_getUid("saveDocument:"),nil);objj_msgSend(c,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/Save.png"),CGSizeMake(16,16)));objj_msgSend(c,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/SaveHighlighted.png"),
CGSizeMake(16,16)));objj_msgSend(g,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save",sel_getUid("saveDocument:"),"s"));objj_msgSend(g,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save As",sel_getUid("saveDocumentAs:"),nil));objj_msgSend(c,"setSubmenu:",g);objj_msgSend(a,"addItem:",c);b=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Edit",nil,nil);g=objj_msgSend(objj_msgSend(CPMenu,
"alloc"),"initWithTitle:","Edit");c=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Undo",sel_getUid("undo:"),CPUndoKeyEquivalent);var i=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Redo",sel_getUid("redo:"),CPRedoKeyEquivalent);objj_msgSend(c,"setKeyEquivalentModifierMask:",CPUndoKeyEquivalentModifierMask);objj_msgSend(i,"setKeyEquivalentModifierMask:",CPRedoKeyEquivalentModifierMask);objj_msgSend(g,"addItem:",c);objj_msgSend(g,
"addItem:",i);objj_msgSend(g,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Cut",sel_getUid("cut:"),"x"));objj_msgSend(g,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Copy",sel_getUid("copy:"),"c"));objj_msgSend(g,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Paste",sel_getUid("paste:"),"v"));objj_msgSend(b,"setSubmenu:",g);objj_msgSend(b,"setHidden:",
YES);objj_msgSend(a,"addItem:",b);objj_msgSend(a,"addItem:",objj_msgSend(CPMenuItem,"separatorItem"));objj_msgSend(CPApp,"setMainMenu:",a)}}),new objj_method(sel_getUid("cibDidFinishLoading:"),function(a){with(a)objj_msgSend(a,"performActions")}),new objj_method(sel_getUid("cibDidFailToLoad:"),function(a){with(a)throw Error("Could not load main cib file (Did you forget to nib2cib it?).");}),new objj_method(sel_getUid("reset"),function(a){with(a)b=nil})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPToolbar.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("CPPopUpButton.j",YES);f("CPToolbarItem.j",YES);CPToolbarDisplayModeDefault=0;CPToolbarDisplayModeIconAndLabel=1;CPToolbarDisplayModeIconOnly=2;CPToolbarDisplayModeLabelOnly=3;var e=nil,c=objj_allocateClassPair(CPObject,"CPToolbar"),b=c.isa;class_addIvars(c,[new objj_ivar("_identifier"),new objj_ivar("_displayMode"),new objj_ivar("_showsBaselineSeparator"),new objj_ivar("_allowsUserCustomization"),
new objj_ivar("_isVisible"),new objj_ivar("_delegate"),new objj_ivar("_itemIdentifiers"),new objj_ivar("_identifiedItems"),new objj_ivar("_defaultItems"),new objj_ivar("_allowedItems"),new objj_ivar("_selectableItems"),new objj_ivar("_items"),new objj_ivar("_itemsSortedByVisibilityPriority"),new objj_ivar("_toolbarView"),new objj_ivar("_window")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithIdentifier:","")}),new objj_method(sel_getUid("initWithIdentifier:"),
function(a,b,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPToolbar").super_class},"init"))_items=[],_identifier=d,_isVisible=YES,objj_msgSend(CPToolbar,"_addToolbar:forIdentifier:",a,_identifier);return a}}),new objj_method(sel_getUid("setDisplayMode:"),function(a){with(a);}),new objj_method(sel_getUid("identifier"),function(a){with(a)return _identifier}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("isVisible"),
function(a){with(a)return _isVisible}),new objj_method(sel_getUid("setVisible:"),function(a,b,d){with(a){if(_isVisible===d)return;_isVisible=d;objj_msgSend(_window,"_noteToolbarChanged")}}),new objj_method(sel_getUid("_window"),function(a){with(a)return _window}),new objj_method(sel_getUid("_setWindow:"),function(a,b,d){with(a)_window=d}),new objj_method(sel_getUid("setDelegate:"),function(a,b,d){with(a){if(_delegate===d)return;_delegate=d;objj_msgSend(a,"_reloadToolbarItems")}}),new objj_method(sel_getUid("_loadConfiguration"),
function(a){with(a);}),new objj_method(sel_getUid("_toolbarView"),function(a){with(a)return _toolbarView||(_toolbarView=objj_msgSend(objj_msgSend(_CPToolbarView,"alloc"),"initWithFrame:",CPRectMake(0,0,1200,59)),objj_msgSend(_toolbarView,"setToolbar:",a),objj_msgSend(_toolbarView,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_toolbarView,"reloadToolbarItems")),_toolbarView}),new objj_method(sel_getUid("_reloadToolbarItems"),function(a){with(a){_itemIdentifiers=objj_msgSend(_defaultItems,
"valueForKey:","itemIdentifier")||[];if(_delegate){var b=objj_msgSend(objj_msgSend(_delegate,"toolbarDefaultItemIdentifiers:",a),"mutableCopy");b&&(_itemIdentifiers=objj_msgSend(_itemIdentifiers,"arrayByAddingObjectsFromArray:",b))}b=0;var d=objj_msgSend(_itemIdentifiers,"count");for(_items=[];b<d;++b){var c=_itemIdentifiers[b],e=objj_msgSend(CPToolbarItem,"_standardItemWithItemIdentifier:",c);e||(e=objj_msgSend(_identifiedItems,"objectForKey:",c));!e&&_delegate&&(e=objj_msgSend(_delegate,"toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:",
a,c,YES));e=objj_msgSend(e,"copy");e===nil&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Toolbar delegate "+_delegate+' returned nil toolbar item for identifier "'+c+'"');e._toolbar=a;objj_msgSend(_items,"addObject:",e)}_itemsSortedByVisibilityPriority=objj_msgSend(_items,"sortedArrayUsingFunction:context:",g,NULL);objj_msgSend(_toolbarView,"reloadToolbarItems")}}),new objj_method(sel_getUid("items"),function(a){with(a)return _items}),new objj_method(sel_getUid("visibleItems"),
function(a){with(a)return objj_msgSend(_toolbarView,"visibleItems")}),new objj_method(sel_getUid("itemsSortedByVisibilityPriority"),function(a){with(a)return _itemsSortedByVisibilityPriority}),new objj_method(sel_getUid("validateVisibleItems"),function(a){with(a){a=objj_msgSend(a,"visibleItems");for(var b=objj_msgSend(a,"count");b--;)objj_msgSend(a[b],"validate")}}),new objj_method(sel_getUid("_itemForItemIdentifier:willBeInsertedIntoToolbar:"),function(a,b,d,g){with(a)return b=objj_msgSend(_identifiedItems,
"objectForKey:",d),b||(b=objj_msgSend(CPToolbarItem,"_standardItemWithItemIdentifier:",d),_delegate&&!b&&((b=objj_msgSend(objj_msgSend(_delegate,"toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:",a,d,g),"copy"))||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Toolbar delegate "+_delegate+" returned nil toolbar item for identifier "+d)),objj_msgSend(_identifiedItems,"setObject:forKey:",b,d)),b}),new objj_method(sel_getUid("_itemsWithIdentifiers:"),function(a,b,d){with(a){b=
[];for(var g=0;g<d.length;g++)objj_msgSend(b,"addObject:",objj_msgSend(a,"_itemForItemIdentifier:willBeInsertedIntoToolbar:",d[g],NO));return b}}),new objj_method(sel_getUid("_defaultToolbarItems"),function(a){with(a){if(!_defaultItems&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("toolbarDefaultItemIdentifiers:"))){_defaultItems=[];for(var b=objj_msgSend(_delegate,"toolbarDefaultItemIdentifiers:",a),d=0,g=objj_msgSend(b,"count");d<g;++d)objj_msgSend(_defaultItems,"addObject:",objj_msgSend(a,
"_itemForItemIdentifier:willBeInsertedIntoToolbar:",b[d],NO))}return _defaultItems}}),new objj_method(sel_getUid("toolbarItemDidChange:"),function(a,b,d){with(a){objj_msgSend(_identifiedItems,"objectForKey:",objj_msgSend(d,"itemIdentifier"))&&objj_msgSend(_identifiedItems,"setObject:forKey:",d,objj_msgSend(d,"itemIdentifier"));a=0;for(b=objj_msgSend(_items,"count");a<=b;++a)objj_msgSend(_items[a],"itemIdentifier")===objj_msgSend(d,"itemIdentifier")&&(_items[a]=d,_itemsSortedByVisibilityPriority=objj_msgSend(_items,
"sortedArrayUsingFunction:context:",g,NULL),objj_msgSend(_toolbarView,"reloadToolbarItems"))}})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(CPToolbar,"class"))return;e=objj_msgSend(CPDictionary,"dictionary");objj_msgSend(CPDictionary,"dictionary")}}),new objj_method(sel_getUid("_addToolbar:forIdentifier:"),function(a,b,d,g){with(a)a=objj_msgSend(e,"objectForKey:",g),a||(a=[],objj_msgSend(e,"setObject:forKey:",a,g)),objj_msgSend(a,"addObject:",
d)})]);c=objj_getClass("CPToolbar");if(!c)throw new SyntaxError('*** Could not find definition for class "CPToolbar"');b=c.isa;class_addMethods(c,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPToolbar").super_class},"init"))_identifier=objj_msgSend(d,"decodeObjectForKey:","CPToolbarIdentifierKey"),_displayMode=objj_msgSend(d,"decodeIntForKey:","CPToolbarDisplayModeKey"),_showsBaselineSeparator=objj_msgSend(d,"decodeBoolForKey:",
"CPToolbarShowsBaselineSeparatorKey"),_allowsUserCustomization=objj_msgSend(d,"decodeBoolForKey:","CPToolbarAllowsUserCustomizationKey"),_isVisible=objj_msgSend(d,"decodeBoolForKey:","CPToolbarIsVisibleKey"),_identifiedItems=objj_msgSend(d,"decodeObjectForKey:","CPToolbarIdentifiedItemsKey"),_defaultItems=objj_msgSend(d,"decodeObjectForKey:","CPToolbarDefaultItemsKey"),_allowedItems=objj_msgSend(d,"decodeObjectForKey:","CPToolbarAllowedItemsKey"),_selectableItems=objj_msgSend(d,"decodeObjectForKey:",
"CPToolbarSelectableItemsKey"),objj_msgSend(objj_msgSend(_identifiedItems,"allValues"),"makeObjectsPerformSelector:withObject:",sel_getUid("_setToolbar:"),a),_items=[],objj_msgSend(CPToolbar,"_addToolbar:forIdentifier:",a,_identifier),objj_msgSend(a,"setDelegate:",objj_msgSend(d,"decodeObjectForKey:","CPToolbarDelegateKey")),objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"performSelector:target:argument:order:modes:",sel_getUid("_reloadToolbarItems"),a,nil,0,[CPDefaultRunLoopMode]);return a}}),
new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,d){with(a)objj_msgSend(d,"encodeObject:forKey:",_identifier,"CPToolbarIdentifierKey"),objj_msgSend(d,"encodeInt:forKey:",_displayMode,"CPToolbarDisplayModeKey"),objj_msgSend(d,"encodeBool:forKey:",_showsBaselineSeparator,"CPToolbarShowsBaselineSeparatorKey"),objj_msgSend(d,"encodeBool:forKey:",_allowsUserCustomization,"CPToolbarAllowsUserCustomizationKey"),objj_msgSend(d,"encodeBool:forKey:",_isVisible,"CPToolbarIsVisibleKey"),objj_msgSend(d,
"encodeObject:forKey:",_identifiedItems,"CPToolbarIdentifiedItemsKey"),objj_msgSend(d,"encodeObject:forKey:",_defaultItems,"CPToolbarDefaultItemsKey"),objj_msgSend(d,"encodeObject:forKey:",_allowedItems,"CPToolbarAllowedItemsKey"),objj_msgSend(d,"encodeObject:forKey:",_selectableItems,"CPToolbarSelectableItemsKey"),objj_msgSend(d,"encodeConditionalObject:forKey:",_delegate,"CPToolbarDelegateKey")})]);var a=nil,d=nil;c=objj_allocateClassPair(CPView,"_CPToolbarView");b=c.isa;class_addIvars(c,[new objj_ivar("_toolbar"),
new objj_ivar("_flexibleWidthIndexes"),new objj_ivar("_visibleFlexibleWidthIndexes"),new objj_ivar("_itemInfos"),new objj_ivar("_viewsForToolbarItems"),new objj_ivar("_visibleItems"),new objj_ivar("_invisibleItems"),new objj_ivar("_additionalItemsButton"),new objj_ivar("_labelColor"),new objj_ivar("_labelShadowColor"),new objj_ivar("_minWidth"),new objj_ivar("_FIXME_isHUD")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("visibleItems"),function(a){with(a)return _visibleItems}),
new objj_method(sel_getUid("initWithFrame:"),function(a,b,g){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPToolbarView").super_class},"initWithFrame:",g))_minWidth=0,_labelColor=objj_msgSend(CPColor,"blackColor"),_labelShadowColor=objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.75),_additionalItemsButton=objj_msgSend(objj_msgSend(CPPopUpButton,"alloc"),"initWithFrame:pullsDown:",CGRectMake(0,0,10,15),YES),objj_msgSend(_additionalItemsButton,"setBordered:",NO),objj_msgSend(_additionalItemsButton,
"setImagePosition:",CPImageOnly),objj_msgSend(objj_msgSend(_additionalItemsButton,"menu"),"setShowsStateColumn:",NO),objj_msgSend(objj_msgSend(_additionalItemsButton,"menu"),"setAutoenablesItems:",NO),objj_msgSend(_additionalItemsButton,"setAlternateImage:",d);return a}}),new objj_method(sel_getUid("setToolbar:"),function(a,b,d){with(a)_toolbar=d}),new objj_method(sel_getUid("toolbar"),function(a){with(a)return _toolbar}),new objj_method(sel_getUid("FIXME_setIsHUD:"),function(a,b,d){with(a){if(_FIXME_isHUD===
d)return;_FIXME_isHUD=d;b=objj_msgSend(_toolbar,"items");for(var g=objj_msgSend(b,"count");g--;)objj_msgSend(objj_msgSend(a,"viewForItem:",b[g]),"FIXME_setIsHUD:",d)}}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(a){with(a)objj_msgSend(a,"tile")}),new objj_method(sel_getUid("viewForItem:"),function(a,b,d){with(a)return _viewsForToolbarItems[objj_msgSend(d,"UID")]||nil}),new objj_method(sel_getUid("tile"),function(b){with(b){var d=objj_msgSend(_toolbar,"items"),g=CGRectGetWidth(objj_msgSend(b,
"bounds")),c=_minWidth,e=[];_visibleItems=d;if(g<c){g-=20;_visibleItems=objj_msgSend(_visibleItems,"copy");for(var f=objj_msgSend(_toolbar,"itemsSortedByVisibilityPriority"),h=f.length;c>g&&h;){var k=f[--h],n=objj_msgSend(b,"viewForItem:",k);c-=objj_msgSend(n,"minSize").width+10;objj_msgSend(_visibleItems,"removeObjectIdenticalTo:",k);objj_msgSend(e,"addObject:",k);objj_msgSend(n,"setHidden:",YES);objj_msgSend(n,"FIXME_setIsHUD:",_FIXME_isHUD)}}h=objj_msgSend(d,"count");for(f=0;h--;)if(n=objj_msgSend(b,
"viewForItem:",d[h]),k=objj_msgSend(n,"minSize"),f<k.height)f=k.height;h=_visibleItems.length;for(var q=objj_msgSend(CPIndexSet,"indexSet");h--;)k=_visibleItems[h],n=objj_msgSend(b,"viewForItem:",k),k=objj_msgSend(n,"minSize"),k.width!==objj_msgSend(n,"maxSize").width?objj_msgSend(q,"addIndex:",h):objj_msgSend(n,"setFrameSize:",CGSizeMake(k.width,f)),objj_msgSend(n,"setHidden:",NO);h=g-c;for(var s=0;h&&objj_msgSend(q,"count");){s+=h/objj_msgSend(q,"count");h=0;for(c=CPNotFound;(c=objj_msgSend(q,"indexGreaterThanIndex:",
c))!==CPNotFound;){k=_visibleItems[c];n=objj_msgSend(b,"viewForItem:",k);k=objj_msgSend(n,"minSize").width+s;var t=MIN(k,objj_msgSend(n,"maxSize").width);t<k&&(objj_msgSend(q,"removeIndex:",c),h+=k-t);objj_msgSend(n,"setFrameSize:",CGSizeMake(t,f))}}c=0;h=_visibleItems.length;for(k=10;c<h;++c)n=objj_msgSend(b,"viewForItem:",_visibleItems[c]),q=CGRectGetWidth(objj_msgSend(n,"frame")),objj_msgSend(n,"setFrame:",CGRectMake(k,0,q,f)),k+=q+10;f=NO;if(objj_msgSend(e,"count")){c=0;h=objj_msgSend(d,"count");
for(_invisibleItems=[];c<h;++c)k=d[c],objj_msgSend(e,"indexOfObjectIdenticalTo:",k)!==CPNotFound&&(objj_msgSend(_invisibleItems,"addObject:",k),n=objj_msgSend(k,"itemIdentifier"),n!==CPToolbarSpaceItemIdentifier&&n!==CPToolbarFlexibleSpaceItemIdentifier&&n!==CPToolbarSeparatorItemIdentifier&&(f=YES))}if(f){objj_msgSend(_additionalItemsButton,"setFrameOrigin:",CGPointMake(g+5,(CGRectGetHeight(objj_msgSend(b,"bounds"))-CGRectGetHeight(objj_msgSend(_additionalItemsButton,"frame")))/2));objj_msgSend(b,
"addSubview:",_additionalItemsButton);objj_msgSend(_additionalItemsButton,"removeAllItems");objj_msgSend(_additionalItemsButton,"addItemWithTitle:","Additional Items");objj_msgSend(objj_msgSend(_additionalItemsButton,"itemArray")[0],"setImage:",a);c=0;h=objj_msgSend(_invisibleItems,"count");for(d=NO;c<h;++c)k=_invisibleItems[c],n=objj_msgSend(k,"itemIdentifier"),n===CPToolbarSpaceItemIdentifier||n===CPToolbarFlexibleSpaceItemIdentifier||(n===CPToolbarSeparatorItemIdentifier?d&&objj_msgSend(_additionalItemsButton,
"addItem:",objj_msgSend(CPMenuItem,"separatorItem")):(d=YES,g=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:",objj_msgSend(k,"label"),sel_getUid("didSelectMenuItem:"),nil),objj_msgSend(g,"setRepresentedObject:",k),objj_msgSend(g,"setImage:",objj_msgSend(k,"image")),objj_msgSend(g,"setTarget:",b),objj_msgSend(g,"setEnabled:",objj_msgSend(k,"isEnabled")),objj_msgSend(_additionalItemsButton,"addItem:",g)))}else objj_msgSend(_additionalItemsButton,"removeFromSuperview")}}),
new objj_method(sel_getUid("didSelectMenuItem:"),function(a,b,d){with(a)a=objj_msgSend(d,"representedObject"),objj_msgSend(CPApp,"sendAction:to:from:",objj_msgSend(a,"action"),objj_msgSend(a,"target"),a)}),new objj_method(sel_getUid("reloadToolbarItems"),function(a){with(a){for(var b=objj_msgSend(a,"subviews"),d=b.length;d--;)objj_msgSend(b[d],"removeFromSuperview");b=objj_msgSend(_toolbar,"items");var g=0;d=b.length;_minWidth=10;for(_viewsForToolbarItems={};g<d;++g){var c=b[g],e=objj_msgSend(objj_msgSend(_CPToolbarItemView,
"alloc"),"initWithToolbarItem:toolbar:",c,a);_viewsForToolbarItems[objj_msgSend(c,"UID")]=e;objj_msgSend(a,"addSubview:",e);_minWidth+=objj_msgSend(e,"minSize").width+10}objj_msgSend(a,"tile")}})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(b){with(b){if(b!==objj_msgSend(_CPToolbarView,"class"))return;b=objj_msgSend(CPBundle,"bundleForClass:",b);a=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","_CPToolbarView/_CPToolbarViewExtraItemsImage.png"),
CPSizeMake(10,15));d=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","_CPToolbarView/_CPToolbarViewExtraItemsAlternateImage.png"),CGSizeMake(10,15))}})]);var g=function(a,b){var d=objj_msgSend(a,"visibilityPriority"),g=objj_msgSend(b,"visibilityPriority");if(d==g)return CPOrderedSame;if(d>g)return CPOrderedAscending;return CPOrderedDescending};c=objj_allocateClassPair(CPControl,"_CPToolbarItemView");b=c.isa;class_addIvars(c,[new objj_ivar("_minSize"),
new objj_ivar("_maxSize"),new objj_ivar("_labelSize"),new objj_ivar("_toolbarItem"),new objj_ivar("_toolbar"),new objj_ivar("_imageView"),new objj_ivar("_view"),new objj_ivar("_labelField"),new objj_ivar("_FIXME_isHUD")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("minSize"),function(a){with(a)return _minSize}),new objj_method(sel_getUid("maxSize"),function(a){with(a)return _maxSize}),new objj_method(sel_getUid("initWithToolbarItem:toolbar:"),function(a,b,d,g){with(a){if(a=
objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPToolbarItemView").super_class},"init")){_toolbarItem=d;_labelField=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero());objj_msgSend(_labelField,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",11));objj_msgSend(_labelField,"setTextColor:",objj_msgSend(a,"FIXME_labelColor"));objj_msgSend(_labelField,"setTextShadowColor:",objj_msgSend(a,"FIXME_labelShadowColor"));objj_msgSend(_labelField,"setTextShadowOffset:",
CGSizeMake(0,1));objj_msgSend(_labelField,"setAutoresizingMask:",CPViewWidthSizable|CPViewMinXMargin);objj_msgSend(a,"addSubview:",_labelField);objj_msgSend(a,"updateFromItem");_toolbar=g;b=["label","image","alternateImage","minSize","maxSize","target","action","enabled"];d=0;for(g=objj_msgSend(b,"count");d<g;++d)objj_msgSend(_toolbarItem,"addObserver:forKeyPath:options:context:",a,b[d],0,NULL)}return a}}),new objj_method(sel_getUid("FIXME_setIsHUD:"),function(a,b,d){with(a)_FIXME_isHUD=d,objj_msgSend(_labelField,
"setTextColor:",objj_msgSend(a,"FIXME_labelColor")),objj_msgSend(_labelField,"setTextShadowColor:",objj_msgSend(a,"FIXME_labelShadowColor"))}),new objj_method(sel_getUid("updateFromItem"),function(a){with(a){var b=objj_msgSend(_toolbarItem,"itemIdentifier");if(b===CPToolbarSpaceItemIdentifier||b===CPToolbarFlexibleSpaceItemIdentifier||b===CPToolbarSeparatorItemIdentifier){objj_msgSend(_view,"removeFromSuperview");objj_msgSend(_imageView,"removeFromSuperview");_minSize=objj_msgSend(_toolbarItem,"minSize");
_maxSize=objj_msgSend(_toolbarItem,"maxSize");if(b===CPToolbarSeparatorItemIdentifier)_view=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,2,32)),sizes={},sizes.CPToolbarItemSeparator=[CGSizeMake(2,26),CGSizeMake(2,1),CGSizeMake(2,26)],objj_msgSend(_view,"setBackgroundColor:",_CPControlThreePartImagePattern(YES,sizes,"CPToolbarItem","Separator")),objj_msgSend(a,"addSubview:",_view);return}objj_msgSend(a,"setTarget:",objj_msgSend(_toolbarItem,"target"));objj_msgSend(a,"setAction:",
objj_msgSend(_toolbarItem,"action"));b=objj_msgSend(_toolbarItem,"view")||nil;b!==_view&&(b?(objj_msgSend(a,"addSubview:",b),objj_msgSend(_imageView,"removeFromSuperview")):objj_msgSend(_view,"removeFromSuperview"),_view=b);_view||(_imageView||(_imageView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",objj_msgSend(a,"bounds")),objj_msgSend(_imageView,"setImageScaling:",CPScaleProportionally),objj_msgSend(a,"addSubview:",_imageView)),objj_msgSend(_imageView,"setImage:",objj_msgSend(_toolbarItem,
"image")));b=objj_msgSend(_toolbarItem,"minSize");objj_msgSend(_toolbarItem,"maxSize");objj_msgSend(_labelField,"setStringValue:",objj_msgSend(_toolbarItem,"label"));objj_msgSend(_labelField,"sizeToFit");objj_msgSend(a,"setEnabled:",objj_msgSend(_toolbarItem,"isEnabled"));_labelSize=objj_msgSend(_labelField,"frame").size;_minSize=CGSizeMake(MAX(_labelSize.width,b.width),_labelSize.height+b.height+2+5);_maxSize=CGSizeMake(MAX(_labelSize.width,b.width),1E8);objj_msgSend(_toolbar,"tile")}}),new objj_method(sel_getUid("layoutSubviews"),
function(a){with(a){var b=objj_msgSend(_toolbarItem,"itemIdentifier");if(b===CPToolbarSpaceItemIdentifier||b===CPToolbarFlexibleSpaceItemIdentifier)return;var d=objj_msgSend(a,"bounds");a=d.size.width;if(b===CPToolbarSeparatorItemIdentifier)return objj_msgSend(_view,"setFrame:",CGRectMake(ROUND((a-2)/2),0,2,d.size.height));b=_view||_imageView;var g=objj_msgSend(_toolbarItem,"maxSize");d=d.size.height-_labelSize.height-2-5;var c=MIN(g.width,a);g=MIN(g.height,d);objj_msgSend(b,"setFrame:",CGRectMake(ROUND((a-
c)/2),5+ROUND((d-g)/2),c,g));objj_msgSend(_labelField,"setFrameOrigin:",CGPointMake(ROUND((a-_labelSize.width)/2),5+d+2))}}),new objj_method(sel_getUid("mouseDown:"),function(a,b,d){with(a){if(objj_msgSend(_toolbarItem,"view"))return objj_msgSend(objj_msgSend(a,"nextResponder"),"mouseDown:",d);b=objj_msgSend(_toolbarItem,"itemIdentifier");if(b===CPToolbarSpaceItemIdentifier||b===CPToolbarFlexibleSpaceItemIdentifier||b===CPToolbarSeparatorItemIdentifier)return objj_msgSend(objj_msgSend(a,"nextResponder"),
"mouseDown:",d);objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPToolbarItemView").super_class},"mouseDown:",d)}}),new objj_method(sel_getUid("setEnabled:"),function(a,b,d){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPToolbarItemView").super_class},"setEnabled:",d),d?(objj_msgSend(_imageView,"setAlphaValue:",1),objj_msgSend(_labelField,"setAlphaValue:",1)):(objj_msgSend(_imageView,"setAlphaValue:",0.5),objj_msgSend(_labelField,"setAlphaValue:",0.5)),objj_msgSend(_toolbar,
"tile")}),new objj_method(sel_getUid("FIXME_labelColor"),function(a){with(a){if(_FIXME_isHUD)return objj_msgSend(CPColor,"whiteColor");return objj_msgSend(CPColor,"blackColor")}}),new objj_method(sel_getUid("FIXME_labelShadowColor"),function(a){with(a){if(_FIXME_isHUD)return objj_msgSend(a,"isHighlighted")?objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.5):objj_msgSend(CPColor,"clearColor");return objj_msgSend(a,"isHighlighted")?objj_msgSend(CPColor,"colorWithWhite:alpha:",0,0.3):objj_msgSend(CPColor,
"colorWithWhite:alpha:",1,0.75)}}),new objj_method(sel_getUid("setHighlighted:"),function(a,b,d){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPToolbarItemView").super_class},"setHighlighted:",d),d?((b=objj_msgSend(_toolbarItem,"alternateImage"))&&objj_msgSend(_imageView,"setImage:",b),objj_msgSend(_labelField,"setTextShadowOffset:",CGSizeMakeZero())):((b=objj_msgSend(_toolbarItem,"image"))&&objj_msgSend(_imageView,"setImage:",b),objj_msgSend(_labelField,"setTextShadowOffset:",
CGSizeMake(0,1))),objj_msgSend(_labelField,"setTextShadowColor:",objj_msgSend(a,"FIXME_labelShadowColor"))}),new objj_method(sel_getUid("sendAction:to:"),function(a,b,d,g){with(a)objj_msgSend(CPApp,"sendAction:to:from:",d,g,_toolbarItem)}),new objj_method(sel_getUid("observeValueForKeyPath:ofObject:change:context:"),function(a,b,d,g){with(a)d==="enabled"?objj_msgSend(a,"setEnabled:",objj_msgSend(g,"isEnabled")):d==="target"?objj_msgSend(a,"setTarget:",objj_msgSend(g,"target")):d==="action"?objj_msgSend(a,
"setAction:",objj_msgSend(g,"action")):objj_msgSend(a,"updateFromItem")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCollectionView.j",baseURL),function(h,f){f("Foundation/CPArray.j",NO);f("Foundation/CPData.j",NO);f("Foundation/CPIndexSet.j",NO);f("Foundation/CPKeyedArchiver.j",NO);f("Foundation/CPKeyedUnarchiver.j",NO);f("CPView.j",YES);f("CPCollectionViewItem.j",YES);var e=objj_allocateClassPair(CPView,"CPCollectionView");class_addIvars(e,[new objj_ivar("_content"),new objj_ivar("_items"),new objj_ivar("_itemData"),new objj_ivar("_itemPrototype"),
new objj_ivar("_itemForDragging"),new objj_ivar("_cachedItems"),new objj_ivar("_maxNumberOfRows"),new objj_ivar("_maxNumberOfColumns"),new objj_ivar("_minItemSize"),new objj_ivar("_maxItemSize"),new objj_ivar("_backgroundColors"),new objj_ivar("_tileWidth"),new objj_ivar("_isSelectable"),new objj_ivar("_allowsMultipleSelection"),new objj_ivar("_allowsEmptySelection"),new objj_ivar("_selectionIndexes"),new objj_ivar("_itemSize"),new objj_ivar("_horizontalMargin"),new objj_ivar("_verticalMargin"),new objj_ivar("_numberOfRows"),
new objj_ivar("_numberOfColumns"),new objj_ivar("_delegate"),new objj_ivar("_mouseDownEvent")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithFrame:"),function(c,b,a){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPCollectionView").super_class},"initWithFrame:",a))_items=[],_content=[],_cachedItems=[],_itemSize=CGSizeMakeZero(),_minItemSize=CGSizeMakeZero(),_maxItemSize=CGSizeMakeZero(),objj_msgSend(c,"setBackgroundColors:",nil),_verticalMargin=
5,_tileWidth=-1,_selectionIndexes=objj_msgSend(CPIndexSet,"indexSet"),_isSelectable=_allowsEmptySelection=YES;return c}}),new objj_method(sel_getUid("setItemPrototype:"),function(c,b,a){with(c)_cachedItems=[],_itemForDragging=_itemData=nil,_itemPrototype=a,objj_msgSend(c,"reloadContent")}),new objj_method(sel_getUid("itemPrototype"),function(c){with(c)return _itemPrototype}),new objj_method(sel_getUid("newItemForRepresentedObject:"),function(c,b,a){with(c)return c=nil,_cachedItems.length?c=_cachedItems.pop():
(_itemData||_itemPrototype&&(_itemData=objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",_itemPrototype)),c=objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",_itemData)),objj_msgSend(c,"setRepresentedObject:",a),objj_msgSend(objj_msgSend(c,"view"),"setFrameSize:",_itemSize),c}),new objj_method(sel_getUid("acceptsFirstResponder"),function(c){with(c)return YES}),new objj_method(sel_getUid("isFirstResponder"),function(c){with(c)return objj_msgSend(objj_msgSend(c,"window"),"firstResponder")===
c}),new objj_method(sel_getUid("setContent:"),function(c,b,a){with(c)objj_msgSend(c,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSet")),_content=a,objj_msgSend(c,"reloadContent")}),new objj_method(sel_getUid("content"),function(c){with(c)return _content}),new objj_method(sel_getUid("items"),function(c){with(c)return _items}),new objj_method(sel_getUid("setSelectable:"),function(c,b,a){with(c){if(_isSelectable==a)return;_isSelectable=a;if(!_isSelectable)for(c=CPNotFound;(c=objj_msgSend(_selectionIndexes,
"indexGreaterThanIndex:",c))!=CPNotFound;)objj_msgSend(_items[c],"setSelected:",NO)}}),new objj_method(sel_getUid("isSelectable"),function(c){with(c)return _isSelectable}),new objj_method(sel_getUid("setAllowsEmptySelection:"),function(c,b,a){with(c)_allowsEmptySelection=a}),new objj_method(sel_getUid("allowsEmptySelection"),function(c){with(c)return _allowsEmptySelection}),new objj_method(sel_getUid("setAllowsMultipleSelection:"),function(c,b,a){with(c)_allowsMultipleSelection=a}),new objj_method(sel_getUid("allowsMultipleSelection"),
function(c){with(c)return _allowsMultipleSelection}),new objj_method(sel_getUid("setSelectionIndexes:"),function(c,b,a){with(c){if(objj_msgSend(_selectionIndexes,"isEqual:",a)||!_isSelectable)return;for(b=CPNotFound;(b=objj_msgSend(_selectionIndexes,"indexGreaterThanIndex:",b))!=CPNotFound;)objj_msgSend(_items[b],"setSelected:",NO);_selectionIndexes=a;for(b=CPNotFound;(b=objj_msgSend(_selectionIndexes,"indexGreaterThanIndex:",b))!=CPNotFound;)objj_msgSend(_items[b],"setSelected:",YES);a=objj_msgSend(objj_msgSend(c,
"class"),"_binderClassForBinding:","selectionIndexes");objj_msgSend(objj_msgSend(a,"getBinding:forObject:","selectionIndexes",c),"reverseSetValueFor:","selectionIndexes");objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionViewDidChangeSelection:"))&&objj_msgSend(_delegate,"collectionViewDidChangeSelection:",c)}}),new objj_method(sel_getUid("selectionIndexes"),function(c){with(c)return objj_msgSend(_selectionIndexes,"copy")}),new objj_method(sel_getUid("reloadContent"),function(c){with(c){for(var b=
_items.length;b--;)objj_msgSend(objj_msgSend(_items[b],"view"),"removeFromSuperview"),objj_msgSend(_items[b],"setSelected:",NO),_cachedItems.push(_items[b]);_items=[];if(!_itemPrototype||!_content)return;var a=0;for(b=_content.length;a<b;++a)_items.push(objj_msgSend(c,"newItemForRepresentedObject:",_content[a])),objj_msgSend(c,"addSubview:",objj_msgSend(_items[a],"view"));for(a=CPNotFound;(a=objj_msgSend(_selectionIndexes,"indexGreaterThanIndex:",a))!=CPNotFound;)objj_msgSend(_items[a],"setSelected:",
YES);objj_msgSend(c,"tile")}}),new objj_method(sel_getUid("tile"),function(c){with(c){var b=CGRectGetWidth(objj_msgSend(c,"bounds"));if(!objj_msgSend(_content,"count")||b==_tileWidth)return;var a=CGSizeMakeCopy(_minItemSize);_numberOfColumns=MAX(1,FLOOR(b/a.width));_maxNumberOfColumns>0&&(_numberOfColumns=MIN(_maxNumberOfColumns,_numberOfColumns));var d=b-_numberOfColumns*a.width,g=NO;if(d>0&&a.width<_maxItemSize.width)a.width=MIN(_maxItemSize.width,a.width+FLOOR(d/_numberOfColumns));if(_maxNumberOfColumns==
1&&a.width<_maxItemSize.width&&a.width<b)a.width=MIN(_maxItemSize.width,b);CGSizeEqualToSize(_itemSize,a)||(_itemSize=a,g=YES);var j=0,i=_items.length;_maxNumberOfColumns>0&&_maxNumberOfRows>0&&(i=MIN(i,_maxNumberOfColumns*_maxNumberOfRows));_numberOfRows=CEIL(i/_numberOfColumns);var e=_horizontalMargin=FLOOR((b-_numberOfColumns*a.width)/(_numberOfColumns+1));for(d=-a.height;j<i;++j){j%_numberOfColumns==0&&(e=_horizontalMargin,d+=_verticalMargin+a.height);var f=objj_msgSend(_items[j],"view");objj_msgSend(f,
"setFrameOrigin:",CGPointMake(e,d));g&&objj_msgSend(f,"setFrameSize:",_itemSize);e+=a.width+_horizontalMargin}g=objj_msgSend(c,"superview");a=d+a.height+_verticalMargin;if(objj_msgSend(g,"isKindOfClass:",objj_msgSend(CPClipView,"class")))g=objj_msgSend(g,"bounds").size,a=MAX(g.height,a);_tileWidth=b;objj_msgSend(c,"setFrameSize:",CGSizeMake(b,a));_tileWidth=-1}}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(c){with(c)objj_msgSend(c,"tile")}),new objj_method(sel_getUid("setMaxNumberOfRows:"),
function(c,b,a){with(c){if(_maxNumberOfRows==a)return;_maxNumberOfRows=a;objj_msgSend(c,"tile")}}),new objj_method(sel_getUid("maxNumberOfRows"),function(c){with(c)return _maxNumberOfRows}),new objj_method(sel_getUid("setMaxNumberOfColumns:"),function(c,b,a){with(c){if(_maxNumberOfColumns==a)return;_maxNumberOfColumns=a;objj_msgSend(c,"tile")}}),new objj_method(sel_getUid("maxNumberOfColumns"),function(c){with(c)return _maxNumberOfColumns}),new objj_method(sel_getUid("numberOfRows"),function(c){with(c)return _numberOfRows}),
new objj_method(sel_getUid("numberOfColumns"),function(c){with(c)return _numberOfColumns}),new objj_method(sel_getUid("setMinItemSize:"),function(c,b,a){with(c){if(CGSizeEqualToSize(_minItemSize,a))return;_minItemSize=CGSizeMakeCopy(a);objj_msgSend(c,"tile")}}),new objj_method(sel_getUid("minItemSize"),function(c){with(c)return _minItemSize}),new objj_method(sel_getUid("setMaxItemSize:"),function(c,b,a){with(c){if(CGSizeEqualToSize(_maxItemSize,a))return;_maxItemSize=CGSizeMakeCopy(a);objj_msgSend(c,
"tile")}}),new objj_method(sel_getUid("maxItemSize"),function(c){with(c)return _maxItemSize}),new objj_method(sel_getUid("setBackgroundColors:"),function(c,b,a){with(c){if(_backgroundColors===a)return;(_backgroundColors=a)||(_backgroundColors=objj_msgSend(CPColor,"whiteColor"));objj_msgSend(_backgroundColors,"count")===1?objj_msgSend(c,"setBackgroundColor:",_backgroundColors[0]):objj_msgSend(c,"setBackgroundColor:",nil);objj_msgSend(c,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("backgroundColors"),
function(c){with(c)return _backgroundColors}),new objj_method(sel_getUid("mouseUp:"),function(c,b,a){with(c)objj_msgSend(_selectionIndexes,"count")&&objj_msgSend(a,"clickCount")==2&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionView:didDoubleClickOnItemAtIndex:"))&&objj_msgSend(_delegate,"collectionView:didDoubleClickOnItemAtIndex:",c,objj_msgSend(_selectionIndexes,"firstIndex"))}),new objj_method(sel_getUid("mouseDown:"),function(c,b,a){with(c){_mouseDownEvent=a;var d=objj_msgSend(c,
"convertPoint:fromView:",objj_msgSend(a,"locationInWindow"),nil);b=FLOOR(d.y/(_itemSize.height+_verticalMargin));d=FLOOR(d.x/(_itemSize.width+_horizontalMargin));b=b*_numberOfColumns+d;if(b>=0&&b<_items.length){if(_allowsMultipleSelection&&(objj_msgSend(a,"modifierFlags")&CPCommandKeyMask||objj_msgSend(a,"modifierFlags")&CPShiftKeyMask))if(objj_msgSend(a,"modifierFlags")&CPCommandKeyMask){var g=objj_msgSend(_selectionIndexes,"copy");objj_msgSend(g,"containsIndex:",b)?objj_msgSend(g,"removeIndex:",
b):objj_msgSend(g,"addIndex:",b)}else objj_msgSend(a,"modifierFlags")&CPShiftKeyMask&&(g=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex"),a=nil,a=b<g?CPMakeRange(b,g-b+1):CPMakeRange(g,b-g+1),g=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"copy"),objj_msgSend(g,"addIndexesInRange:",a));else g=objj_msgSend(CPIndexSet,"indexSetWithIndex:",b);objj_msgSend(c,"setSelectionIndexes:",g)}else _allowsEmptySelection&&objj_msgSend(c,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSet"))}}),
new objj_method(sel_getUid("mouseDragged:"),function(c,b,a){with(c){b=objj_msgSend(a,"locationInWindow");a=objj_msgSend(_mouseDownEvent,"locationInWindow");if(ABS(b.x-a.x)<3&&ABS(b.y-a.y)<3)return;if(!objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionView:dragTypesForItemsAtIndexes:")))return;if(!objj_msgSend(_selectionIndexes,"count"))return;if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionView:canDragItemsAtIndexes:withEvent:"))&&!objj_msgSend(_delegate,"collectionView:canDragItemsAtIndexes:withEvent:",
c,_selectionIndexes,_mouseDownEvent))return;b=objj_msgSend(_delegate,"collectionView:dragTypesForItemsAtIndexes:",c,_selectionIndexes);objj_msgSend(objj_msgSend(CPPasteboard,"pasteboardWithName:",CPDragPboard),"declareTypes:owner:",b,c);_itemForDragging?objj_msgSend(_itemForDragging,"setRepresentedObject:",_content[objj_msgSend(_selectionIndexes,"firstIndex")]):_itemForDragging=objj_msgSend(c,"newItemForRepresentedObject:",_content[objj_msgSend(_selectionIndexes,"firstIndex")]);b=objj_msgSend(_itemForDragging,
"view");objj_msgSend(b,"setFrameSize:",_itemSize);objj_msgSend(b,"setAlphaValue:",0.7);objj_msgSend(c,"dragView:at:offset:event:pasteboard:source:slideBack:",b,objj_msgSend(objj_msgSend(_items[objj_msgSend(_selectionIndexes,"firstIndex")],"view"),"frame").origin,CGSizeMakeZero(),_mouseDownEvent,nil,c,YES)}}),new objj_method(sel_getUid("pasteboard:provideDataForType:"),function(c,b,a,d){with(c)objj_msgSend(a,"setData:forType:",objj_msgSend(_delegate,"collectionView:dataForItemsAtIndexes:forType:",
c,_selectionIndexes,d),d)}),new objj_method(sel_getUid("setVerticalMargin:"),function(c,b,a){with(c){if(_verticalMargin==a)return;_verticalMargin=a;objj_msgSend(c,"tile")}}),new objj_method(sel_getUid("verticalMargin"),function(c){with(c)return _verticalMargin}),new objj_method(sel_getUid("setDelegate:"),function(c,b,a){with(c)_delegate=a}),new objj_method(sel_getUid("delegate"),function(c){with(c)return _delegate}),new objj_method(sel_getUid("itemAtIndex:"),function(c,b,a){with(c)return objj_msgSend(_items,
"objectAtIndex:",a)}),new objj_method(sel_getUid("frameForItemAtIndex:"),function(c,b,a){with(c)return objj_msgSend(objj_msgSend(objj_msgSend(c,"itemAtIndex:",a),"view"),"frame")}),new objj_method(sel_getUid("frameForItemsAtIndexes:"),function(c,b,a){with(c){b=[];var d=CGRectNull;objj_msgSend(a,"getIndexes:maxCount:inIndexRange:",b,-1,nil);a=0;for(var g=objj_msgSend(b,"count");a<g;++a)d=CGRectUnion(d,objj_msgSend(c,"frameForItemAtIndex:",b[a]));return d}})]);e=objj_getClass("CPCollectionView");if(!e)throw new SyntaxError('*** Could not find definition for class "CPCollectionView"');
class_addMethods(e,[new objj_method(sel_getUid("_modifySelectionWithNewIndex:direction:expand:"),function(c,b,a,d,g){with(c){a=MIN(MAX(a,0),objj_msgSend(objj_msgSend(c,"items"),"count")-1);if(_allowsMultipleSelection&&g){b=objj_msgSend(_selectionIndexes,"copy");g=objj_msgSend(b,"firstIndex");var j=objj_msgSend(b,"lastIndex");d===-1?objj_msgSend(b,"addIndexesInRange:",CPMakeRange(a,g-a+1)):objj_msgSend(b,"addIndexesInRange:",CPMakeRange(j,a-j+1))}else b=objj_msgSend(CPIndexSet,"indexSetWithIndex:",
a);objj_msgSend(c,"setSelectionIndexes:",b);objj_msgSend(c,"_scrollToSelection")}}),new objj_method(sel_getUid("_scrollToSelection"),function(c){with(c){var b=objj_msgSend(c,"frameForItemsAtIndexes:",objj_msgSend(c,"selectionIndexes"));CGRectIsNull(b)||objj_msgSend(c,"scrollRectToVisible:",b)}}),new objj_method(sel_getUid("moveLeft:"),function(c){with(c){var b=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex");b===CPNotFound&&(b=objj_msgSend(objj_msgSend(c,"items"),"count"));objj_msgSend(c,
"_modifySelectionWithNewIndex:direction:expand:",b-1,-1,NO)}}),new objj_method(sel_getUid("moveLeftAndModifySelection:"),function(c){with(c){var b=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex");b===CPNotFound&&(b=objj_msgSend(objj_msgSend(c,"items"),"count"));objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",b-1,-1,YES)}}),new objj_method(sel_getUid("moveRight:"),function(c){with(c)objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",objj_msgSend(objj_msgSend(c,
"selectionIndexes"),"lastIndex")+1,1,NO)}),new objj_method(sel_getUid("moveRightAndModifySelection:"),function(c){with(c)objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",objj_msgSend(objj_msgSend(c,"selectionIndexes"),"lastIndex")+1,1,YES)}),new objj_method(sel_getUid("moveDown:"),function(c){with(c)objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",objj_msgSend(objj_msgSend(c,"selectionIndexes"),"lastIndex")+objj_msgSend(c,"numberOfColumns"),1,NO)}),new objj_method(sel_getUid("moveDownAndModifySelection:"),
function(c){with(c)objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",objj_msgSend(objj_msgSend(c,"selectionIndexes"),"lastIndex")+objj_msgSend(c,"numberOfColumns"),1,YES)}),new objj_method(sel_getUid("moveUp:"),function(c){with(c){var b=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex");b==CPNotFound&&(b=objj_msgSend(objj_msgSend(c,"items"),"count"));objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",b-objj_msgSend(c,"numberOfColumns"),-1,NO)}}),new objj_method(sel_getUid("moveUpAndModifySelection:"),
function(c){with(c){var b=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex");b==CPNotFound&&(b=objj_msgSend(objj_msgSend(c,"items"),"count"));objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",b-objj_msgSend(c,"numberOfColumns"),-1,YES)}}),new objj_method(sel_getUid("deleteBackward:"),function(c){with(c)objj_msgSend(objj_msgSend(c,"delegate"),"respondsToSelector:",sel_getUid("collectionView:shouldDeleteItemsAtIndexes:"))&&(objj_msgSend(objj_msgSend(c,"delegate"),"collectionView:shouldDeleteItemsAtIndexes:",
c,objj_msgSend(c,"selectionIndexes")),objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex")>objj_msgSend(objj_msgSend(c,"content"),"count")-1&&objj_msgSend(c,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",objj_msgSend(objj_msgSend(c,"content"),"count")-1)),objj_msgSend(c,"_scrollToSelection"),objj_msgSend(c,"setNeedsDisplay:",YES))}),new objj_method(sel_getUid("keyDown:"),function(c,b,a){with(c)objj_msgSend(c,"interpretKeyEvents:",[a])})]);e=objj_getClass("CPCollectionView");
if(!e)throw new SyntaxError('*** Could not find definition for class "CPCollectionView"');class_addMethods(e,[new objj_method(sel_getUid("rectForItemAtIndex:"),function(c,b,a){with(c)return _CPReportLenientDeprecation(objj_msgSend(c,"class"),b,sel_getUid("frameForItemAtIndex:")),objj_msgSend(c,"frameForItemAtIndex:",a)}),new objj_method(sel_getUid("rectForItemsAtIndexes:"),function(c,b,a){with(c)return _CPReportLenientDeprecation(objj_msgSend(c,"class"),b,sel_getUid("frameForItemsAtIndexes:")),objj_msgSend(c,
"frameForItemsAtIndexes:",a)})]);e=objj_getClass("CPCollectionView");if(!e)throw new SyntaxError('*** Could not find definition for class "CPCollectionView"');class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(c,b,a){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPCollectionView").super_class},"initWithCoder:",a))_items=[],_content=[],_cachedItems=[],_itemSize=CGSizeMakeZero(),_minItemSize=objj_msgSend(a,"decodeSizeForKey:","CPCollectionViewMinItemSizeKey")||
CGSizeMakeZero(),_maxItemSize=objj_msgSend(a,"decodeSizeForKey:","CPCollectionViewMaxItemSizeKey")||CGSizeMakeZero(),_maxNumberOfRows=objj_msgSend(a,"decodeIntForKey:","CPCollectionViewMaxNumberOfRowsKey")||0,_maxNumberOfColumns=objj_msgSend(a,"decodeIntForKey:","CPCollectionViewMaxNumberOfColumnsKey")||0,_verticalMargin=objj_msgSend(a,"decodeFloatForKey:","CPCollectionViewVerticalMarginKey"),_isSelectable=objj_msgSend(a,"decodeBoolForKey:","CPCollectionViewSelectableKey"),_allowsMultipleSelection=
objj_msgSend(a,"decodeBoolForKey:","CPCollectionViewAllowsMultipleSelectionKey"),objj_msgSend(c,"setBackgroundColors:",objj_msgSend(a,"decodeObjectForKey:","CPCollectionViewBackgroundColorsKey")),_tileWidth=-1,_selectionIndexes=objj_msgSend(CPIndexSet,"indexSet"),_allowsEmptySelection=YES;return c}}),new objj_method(sel_getUid("encodeWithCoder:"),function(c,b,a){with(c)objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPCollectionView").super_class},"encodeWithCoder:",a),CGSizeEqualToSize(_minItemSize,
CGSizeMakeZero())||objj_msgSend(a,"encodeSize:forKey:",_minItemSize,"CPCollectionViewMinItemSizeKey"),CGSizeEqualToSize(_maxItemSize,CGSizeMakeZero())||objj_msgSend(a,"encodeSize:forKey:",_maxItemSize,"CPCollectionViewMaxItemSizeKey"),objj_msgSend(a,"encodeInt:forKey:",_maxNumberOfRows,"CPCollectionViewMaxNumberOfRowsKey"),objj_msgSend(a,"encodeInt:forKey:",_maxNumberOfColumns,"CPCollectionViewMaxNumberOfColumnsKey"),objj_msgSend(a,"encodeBool:forKey:",_isSelectable,"CPCollectionViewSelectableKey"),
objj_msgSend(a,"encodeBool:forKey:",_allowsMultipleSelection,"CPCollectionViewAllowsMultipleSelectionKey"),objj_msgSend(a,"encodeFloat:forKey:",_verticalMargin,"CPCollectionViewVerticalMarginKey"),objj_msgSend(a,"encodeObject:forKey:",_backgroundColors,"CPCollectionViewBackgroundColorsKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPDocument.j",baseURL),function(h,f){f("Foundation/CPString.j",NO);f("Foundation/CPArray.j",NO);f("CPApplication.j",YES);f("CPResponder.j",YES);f("CPSavePanel.j",YES);f("CPViewController.j",YES);f("CPWindowController.j",YES);CPSaveOperation=0;CPSaveAsOperation=1;CPSaveToOperation=2;CPAutosaveOperation=3;CPChangeDone=0;CPChangeUndone=1;CPChangeCleared=2;CPChangeReadOtherContents=3;CPChangeAutosaved=4;CPDocumentWillSaveNotification=
"CPDocumentWillSaveNotification";CPDocumentDidSaveNotification="CPDocumentDidSaveNotification";CPDocumentDidFailToSaveNotification="CPDocumentDidFailToSaveNotification";var e=0,c=objj_allocateClassPair(CPResponder,"CPDocument");class_addIvars(c,[new objj_ivar("_window"),new objj_ivar("_view"),new objj_ivar("_viewControllersForWindowControllers"),new objj_ivar("_fileURL"),new objj_ivar("_fileType"),new objj_ivar("_windowControllers"),new objj_ivar("_untitledDocumentIndex"),new objj_ivar("_hasUndoManager"),
new objj_ivar("_undoManager"),new objj_ivar("_changeCount"),new objj_ivar("_readConnection"),new objj_ivar("_writeRequest"),new objj_ivar("_canCloseAlert")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("init"),function(b){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPDocument").super_class},"init"))_windowControllers=[],_viewControllersForWindowControllers=objj_msgSend(CPDictionary,"dictionary"),_hasUndoManager=YES,_changeCount=0,objj_msgSend(b,
"setNextResponder:",CPApp);return b}}),new objj_method(sel_getUid("initWithType:error:"),function(b,a,d){with(b)return(b=objj_msgSend(b,"init"))&&objj_msgSend(b,"setFileType:",d),b}),new objj_method(sel_getUid("initWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(b,a,d,g,c,i,e){with(b){if(b=objj_msgSend(b,"init"))objj_msgSend(b,"setFileURL:",d),objj_msgSend(b,"setFileType:",g),objj_msgSend(b,"readFromURL:ofType:delegate:didReadSelector:contextInfo:",d,g,c,i,e);return b}}),
new objj_method(sel_getUid("initForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(b,a,d,g,c,i,e,f){with(b){if(b=objj_msgSend(b,"init"))objj_msgSend(b,"setFileURL:",d),objj_msgSend(b,"setFileType:",c),objj_msgSend(b,"readFromURL:ofType:delegate:didReadSelector:contextInfo:",g,c,i,e,f);return b}}),new objj_method(sel_getUid("dataOfType:error:"),function(b){with(b)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"dataOfType:error: must be overridden by the document subclass.")}),
new objj_method(sel_getUid("readFromData:ofType:error:"),function(b){with(b)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"readFromData:ofType: must be overridden by the document subclass.")}),new objj_method(sel_getUid("viewControllerWillLoadCib:"),function(b){with(b);}),new objj_method(sel_getUid("viewControllerDidLoadCib:"),function(b){with(b);}),new objj_method(sel_getUid("firstEligibleExistingWindowController"),function(b){with(b)return nil}),new objj_method(sel_getUid("makeWindowControllers"),
function(b){with(b)objj_msgSend(b,"makeViewAndWindowControllers")}),new objj_method(sel_getUid("makeViewAndWindowControllers"),function(b){with(b){var a=objj_msgSend(b,"viewCibName"),d=nil,g=nil;objj_msgSend(a,"length")&&(d=objj_msgSend(objj_msgSend(CPViewController,"alloc"),"initWithCibName:bundle:owner:",a,nil,b));d&&(g=objj_msgSend(b,"firstEligibleExistingWindowController"));if(!g)if(a=objj_msgSend(b,"windowCibName"),objj_msgSend(a,"length"))g=objj_msgSend(objj_msgSend(CPWindowController,"alloc"),
"initWithWindowCibName:owner:",a,b);else if(d)g=objj_msgSend(d,"view"),g=objj_msgSend(g,"frame"),g.origin=CGPointMake(50,50),g=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",g,CPTitledWindowMask|CPClosableWindowMask|CPMiniaturizableWindowMask|CPResizableWindowMask),g=objj_msgSend(objj_msgSend(CPWindowController,"alloc"),"initWithWindow:",g);g&&d&&objj_msgSend(g,"setSupportsMultipleDocuments:",YES);g&&objj_msgSend(b,"addWindowController:",g);d&&objj_msgSend(b,"addViewController:forWindowController:",
d,g)}}),new objj_method(sel_getUid("windowControllers"),function(b){with(b)return _windowControllers}),new objj_method(sel_getUid("addWindowController:"),function(b,a,d){with(b)objj_msgSend(_windowControllers,"addObject:",d),objj_msgSend(d,"document")!==b&&objj_msgSend(d,"setDocument:",b)}),new objj_method(sel_getUid("removeWindowController:"),function(b,a,d){with(b)d&&objj_msgSend(_windowControllers,"removeObject:",d),objj_msgSend(d,"document")===b&&objj_msgSend(d,"setDocument:",nil)}),new objj_method(sel_getUid("view"),
function(b){with(b)return _view}),new objj_method(sel_getUid("viewControllers"),function(b){with(b)return objj_msgSend(_viewControllersForWindowControllers,"allValues")}),new objj_method(sel_getUid("addViewController:forWindowController:"),function(b,a,d,g){with(b)objj_msgSend(_viewControllersForWindowControllers,"setObject:forKey:",d,objj_msgSend(g,"UID")),objj_msgSend(g,"document")===b&&objj_msgSend(g,"setViewController:",d)}),new objj_method(sel_getUid("removeViewController:"),function(b,a,d){with(b)objj_msgSend(_viewControllersForWindowControllers,
"removeObject:",d)}),new objj_method(sel_getUid("viewControllerForWindowController:"),function(b,a,d){with(b)return objj_msgSend(_viewControllersForWindowControllers,"objectForKey:",objj_msgSend(d,"UID"))}),new objj_method(sel_getUid("showWindows"),function(b){with(b)objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocument:"),b),objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("showWindow:"),b)}),new objj_method(sel_getUid("displayName"),
function(b){with(b){if(_fileURL)return objj_msgSend(_fileURL,"lastPathComponent");_untitledDocumentIndex||(_untitledDocumentIndex=++e);if(_untitledDocumentIndex==1)return"Untitled";return"Untitled "+_untitledDocumentIndex}}),new objj_method(sel_getUid("viewCibName"),function(b){with(b)return nil}),new objj_method(sel_getUid("windowCibName"),function(b){with(b)return nil}),new objj_method(sel_getUid("windowControllerDidLoadCib:"),function(b){with(b);}),new objj_method(sel_getUid("windowControllerWillLoadCib:"),
function(b){with(b);}),new objj_method(sel_getUid("readFromURL:ofType:delegate:didReadSelector:contextInfo:"),function(b,a,d,g,c,i,e){with(b)objj_msgSend(_readConnection,"cancel"),_readConnection=objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",objj_msgSend(CPURLRequest,"requestWithURL:",d),b),_readConnection.session={fileType:g,delegate:c,didReadSelector:i,contextInfo:e}}),new objj_method(sel_getUid("fileURL"),function(b){with(b)return _fileURL}),new objj_method(sel_getUid("setFileURL:"),
function(b,a,d){with(b){if(_fileURL===d)return;_fileURL=d;objj_msgSend(_windowControllers,"makeObjectsPerformSelector:",sel_getUid("synchronizeWindowTitleWithDocumentName"))}}),new objj_method(sel_getUid("saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:"),function(b,a,d,g,c,i,e,f){with(b)g=objj_msgSend(b,"dataOfType:error:",objj_msgSend(b,"fileType"),nil),a=_changeCount,_writeRequest=objj_msgSend(CPURLRequest,"requestWithURL:",d),objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(_writeRequest,
"setHTTPMethod:","POST"):objj_msgSend(_writeRequest,"setHTTPMethod:","PUT"),objj_msgSend(_writeRequest,"setHTTPBody:",objj_msgSend(g,"rawString")),objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","close","Connection"),c===CPSaveOperation&&objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","true","x-cappuccino-overwrite"),c!==CPSaveToOperation&&objj_msgSend(b,"updateChangeCount:",CPChangeCleared),b=objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",_writeRequest,b),b.session=
{absoluteURL:d,saveOperation:c,changeCount:a,delegate:i,didSaveSelector:e,contextInfo:f,connection:b}}),new objj_method(sel_getUid("connection:didReceiveResponse:"),function(b,a,d,g){with(b){if(!objj_msgSend(g,"isKindOfClass:",objj_msgSend(CPHTTPURLResponse,"class")))return;a=objj_msgSend(g,"statusCode");if(a===200)return;g=d.session;d==_readConnection?(objj_msgSend(d,"cancel"),alert("There was an error retrieving the document."),objj_msgSend(g.delegate,g.didReadSelector,b,NO,g.contextInfo)):a==409&&
(objj_msgSend(d,"cancel"),confirm("There already exists a file with that name, would you like to overwrite it?")?(objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","true","x-cappuccino-overwrite"),objj_msgSend(d,"start")):(g.saveOperation!=CPSaveToOperation&&(_changeCount+=g.changeCount,objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(b,"isDocumentEdited"))),_writeRequest=nil,objj_msgSend(g.delegate,g.didSaveSelector,b,
NO,g.contextInfo),objj_msgSend(b,"_sendDocumentSavedNotification:",NO)))}}),new objj_method(sel_getUid("connection:didReceiveData:"),function(b,a,d,g){with(b)a=d.session,d==_readConnection?(objj_msgSend(b,"readFromData:ofType:error:",objj_msgSend(CPData,"dataWithRawString:",g),a.fileType,nil),objj_msgSend(a.delegate,a.didReadSelector,b,YES,a.contextInfo)):(a.saveOperation!=CPSaveToOperation&&objj_msgSend(b,"setFileURL:",a.absoluteURL),_writeRequest=nil,objj_msgSend(a.delegate,a.didSaveSelector,b,
YES,a.contextInfo),objj_msgSend(b,"_sendDocumentSavedNotification:",YES))}),new objj_method(sel_getUid("connection:didFailWithError:"),function(b,a,d){with(b)a=d.session,_readConnection==d?objj_msgSend(a.delegate,a.didReadSelector,b,NO,a.contextInfo):(a.saveOperation!=CPSaveToOperation&&(_changeCount+=a.changeCount,objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(b,"isDocumentEdited"))),_writeRequest=nil,alert("There was an error saving the document."),
objj_msgSend(a.delegate,a.didSaveSelector,b,NO,a.contextInfo),objj_msgSend(b,"_sendDocumentSavedNotification:",NO))}),new objj_method(sel_getUid("connectionDidFinishLoading:"),function(b,a,d){with(b)_readConnection==d&&(_readConnection=nil)}),new objj_method(sel_getUid("isDocumentEdited"),function(b){with(b)return _changeCount!=0}),new objj_method(sel_getUid("updateChangeCount:"),function(b,a,d){with(b)d==CPChangeDone?++_changeCount:d==CPChangeUndone?--_changeCount:d==CPChangeCleared&&(_changeCount=
0),objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(b,"isDocumentEdited"))}),new objj_method(sel_getUid("setFileType:"),function(b,a,d){with(b)_fileType=d}),new objj_method(sel_getUid("fileType"),function(b){with(b)return _fileType}),new objj_method(sel_getUid("hasUndoManager"),function(b){with(b)return _hasUndoManager}),new objj_method(sel_getUid("setHasUndoManager:"),function(b,a,d){with(b){if(_hasUndoManager==d)return;(_hasUndoManager=
d)||objj_msgSend(b,"setUndoManager:",nil)}}),new objj_method(sel_getUid("_undoManagerWillCloseGroup:"),function(b,a,d){with(b){a=objj_msgSend(d,"object");if(objj_msgSend(a,"isUndoing")||objj_msgSend(a,"isRedoing"))return;objj_msgSend(b,"updateChangeCount:",CPChangeDone)}}),new objj_method(sel_getUid("_undoManagerDidUndoChange:"),function(b){with(b)objj_msgSend(b,"updateChangeCount:",CPChangeUndone)}),new objj_method(sel_getUid("_undoManagerDidRedoChange:"),function(b){with(b)objj_msgSend(b,"updateChangeCount:",
CPChangeDone)}),new objj_method(sel_getUid("setUndoManager:"),function(b,a,d){with(b)if(a=objj_msgSend(CPNotificationCenter,"defaultCenter"),_undoManager&&(objj_msgSend(a,"removeObserver:name:object:",b,CPUndoManagerDidUndoChangeNotification,_undoManager),objj_msgSend(a,"removeObserver:name:object:",b,CPUndoManagerDidRedoChangeNotification,_undoManager),objj_msgSend(a,"removeObserver:name:object:",b,CPUndoManagerWillCloseUndoGroupNotification,_undoManager)),_undoManager=d)objj_msgSend(a,"addObserver:selector:name:object:",
b,sel_getUid("_undoManagerDidUndoChange:"),CPUndoManagerDidUndoChangeNotification,_undoManager),objj_msgSend(a,"addObserver:selector:name:object:",b,sel_getUid("_undoManagerDidRedoChange:"),CPUndoManagerDidRedoChangeNotification,_undoManager),objj_msgSend(a,"addObserver:selector:name:object:",b,sel_getUid("_undoManagerWillCloseGroup:"),CPUndoManagerWillCloseUndoGroupNotification,_undoManager)}),new objj_method(sel_getUid("undoManager"),function(b){with(b)return _hasUndoManager&&!_undoManager&&objj_msgSend(b,
"setUndoManager:",objj_msgSend(objj_msgSend(CPUndoManager,"alloc"),"init")),_undoManager}),new objj_method(sel_getUid("windowWillReturnUndoManager:"),function(b){with(b)return objj_msgSend(b,"undoManager")}),new objj_method(sel_getUid("saveDocument:"),function(b){with(b)objj_msgSend(b,"saveDocumentWithDelegate:didSaveSelector:contextInfo:",nil,nil,nil)}),new objj_method(sel_getUid("saveDocumentWithDelegate:didSaveSelector:contextInfo:"),function(b,a,d,g,c){with(b)_fileURL?(objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPDocumentWillSaveNotification,b),objj_msgSend(b,"saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:",_fileURL,objj_msgSend(b,"fileType"),CPSaveOperation,d,g,c)):objj_msgSend(b,"_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:",d,g,c)}),new objj_method(sel_getUid("saveDocumentAs:"),function(b){with(b)objj_msgSend(b,"_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:",nil,nil,nil)}),new objj_method(sel_getUid("_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:"),
function(b,a,d,g,c){with(b){a=objj_msgSend(CPSavePanel,"savePanel");if(!objj_msgSend(a,"runModal"))return;a=objj_msgSend(a,"URL");objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPDocumentWillSaveNotification,b);objj_msgSend(b,"saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:",a,objj_msgSend(b,"fileType"),CPSaveAsOperation,d,g,c)}}),new objj_method(sel_getUid("_sendDocumentSavedNotification:"),function(b,a,d){with(b)d?objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPDocumentDidSaveNotification,b):objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPDocumentDidFailToSaveNotification,b)})]);c=objj_getClass("CPDocument");if(!c)throw new SyntaxError('*** Could not find definition for class "CPDocument"');class_addMethods(c,[new objj_method(sel_getUid("close"),function(b){with(b)objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("removeDocumentAndCloseIfNecessary:"),
b),objj_msgSend(objj_msgSend(CPDocumentController,"sharedDocumentController"),"removeDocument:",b)}),new objj_method(sel_getUid("shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:"),function(b,a,d,g,c,i){with(b)objj_msgSend(d,"shouldCloseDocument")||objj_msgSend(_windowControllers,"count")<2&&objj_msgSend(_windowControllers,"indexOfObject:",d)!==CPNotFound?objj_msgSend(b,"canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:",b,sel_getUid("_document:shouldClose:context:"),
{delegate:g,selector:c,context:i}):objj_msgSend(g,"respondsToSelector:",c)&&objj_msgSend(g,c,b,YES,i)}),new objj_method(sel_getUid("_document:shouldClose:context:"),function(b,a,d,g,c){with(b)d===b&&g&&objj_msgSend(b,"close"),objj_msgSend(c.delegate,c.selector,d,g,c.context)}),new objj_method(sel_getUid("canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:"),function(b,a,d,g,c){with(b){if(!objj_msgSend(b,"isDocumentEdited"))return objj_msgSend(d,"respondsToSelector:",g)&&objj_msgSend(d,g,
b,YES,c);_canCloseAlert=objj_msgSend(objj_msgSend(CPAlert,"alloc"),"init");objj_msgSend(_canCloseAlert,"setDelegate:",b);objj_msgSend(_canCloseAlert,"setAlertStyle:",CPWarningAlertStyle);objj_msgSend(_canCloseAlert,"setTitle:","Unsaved Document");objj_msgSend(_canCloseAlert,"setMessageText:","Do you want to save the changes you've made to the document \""+(objj_msgSend(b,"displayName")||objj_msgSend(b,"fileName"))+'"?');objj_msgSend(_canCloseAlert,"addButtonWithTitle:","Save");objj_msgSend(_canCloseAlert,
"addButtonWithTitle:","Cancel");objj_msgSend(_canCloseAlert,"addButtonWithTitle:","Don't Save");_canCloseAlert._context={delegate:d,selector:g,context:c};objj_msgSend(_canCloseAlert,"runModal")}}),new objj_method(sel_getUid("alertDidEnd:returnCode:"),function(b,a,d,g){with(b){if(d!==_canCloseAlert)return;a=d._context.delegate;var c=d._context.selector;d=d._context.context;g===0?objj_msgSend(b,"saveDocumentWithDelegate:didSaveSelector:contextInfo:",a,c,d):objj_msgSend(a,c,b,g===2,d);_canCloseAlert=
nil}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPMenuItem.j",baseURL),function(h,f){f("Foundation/CPCoder.j",NO);f("Foundation/CPObject.j",NO);f("Foundation/CPString.j",NO);f("CPImage.j",YES);f("CPMenu.j",YES);f("CPView.j",YES);f("_CPMenuItemView.j",YES);var e=objj_allocateClassPair(CPObject,"CPMenuItem"),c=e.isa;class_addIvars(e,[new objj_ivar("_isSeparator"),new objj_ivar("_title"),new objj_ivar("_font"),new objj_ivar("_target"),new objj_ivar("_action"),new objj_ivar("_isEnabled"),new objj_ivar("_isHidden"),
new objj_ivar("_tag"),new objj_ivar("_state"),new objj_ivar("_image"),new objj_ivar("_alternateImage"),new objj_ivar("_onStateImage"),new objj_ivar("_offStateImage"),new objj_ivar("_mixedStateImage"),new objj_ivar("_submenu"),new objj_ivar("_menu"),new objj_ivar("_keyEquivalent"),new objj_ivar("_keyEquivalentModifierMask"),new objj_ivar("_mnemonicLocation"),new objj_ivar("_isAlternate"),new objj_ivar("_indentationLevel"),new objj_ivar("_toolTip"),new objj_ivar("_representedObject"),new objj_ivar("_view"),
new objj_ivar("_changeCount"),new objj_ivar("_menuItemView")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(b){with(b)return objj_msgSend(b,"initWithTitle:action:keyEquivalent:","",nil,nil)}),new objj_method(sel_getUid("initWithTitle:action:keyEquivalent:"),function(b,a,d,g,c){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPMenuItem").super_class},"init"))_changeCount=0,_isSeparator=NO,_title=d,_action=g,_isEnabled=YES,_isHidden=
NO,_tag=0,_state=CPOffState,_keyEquivalent=c||"",_keyEquivalentModifierMask=CPPlatformActionKeyMask,_indentationLevel=0,_mnemonicLocation=CPNotFound;return b}}),new objj_method(sel_getUid("setEnabled:"),function(b,a,d){with(b){if(objj_msgSend(_menu,"autoenablesItems"))return;_isEnabled=d;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("isEnabled"),function(b){with(b)return _isEnabled}),new objj_method(sel_getUid("setHidden:"),function(b,a,
d){with(b){if(_isHidden==d)return;_isHidden=d;objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("isHidden"),function(b){with(b)return _isHidden}),new objj_method(sel_getUid("isHiddenOrHasHiddenAncestor"),function(b){with(b){if(_isHidden)return YES;b=objj_msgSend(_menu,"supermenu");if(objj_msgSend(objj_msgSend(b,"itemAtIndex:",objj_msgSend(b,"indexOfItemWithSubmenu:",_menu)),"isHiddenOrHasHiddenAncestor"))return YES;return NO}}),new objj_method(sel_getUid("setTarget:"),function(b,
a,d){with(b)_target=d}),new objj_method(sel_getUid("target"),function(b){with(b)return _target}),new objj_method(sel_getUid("setAction:"),function(b,a,d){with(b)_action=d}),new objj_method(sel_getUid("action"),function(b){with(b)return _action}),new objj_method(sel_getUid("setTitle:"),function(b,a,d){with(b){_mnemonicLocation=CPNotFound;if(_title==d)return;_title=d;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("title"),function(b){with(b)return _title}),
new objj_method(sel_getUid("setTextColor:"),function(b){with(b);}),new objj_method(sel_getUid("setFont:"),function(b,a,d){with(b){if(_font==d)return;_font=d;objj_msgSend(_menu,"itemChanged:",b);objj_msgSend(_menuItemView,"setDirty")}}),new objj_method(sel_getUid("font"),function(b){with(b)return _font}),new objj_method(sel_getUid("setTag:"),function(b,a,d){with(b)_tag=d}),new objj_method(sel_getUid("tag"),function(b){with(b)return _tag}),new objj_method(sel_getUid("setState:"),function(b,a,d){with(b){if(_state==
d)return;_state=d;objj_msgSend(_menu,"itemChanged:",b);objj_msgSend(_menuItemView,"setDirty")}}),new objj_method(sel_getUid("state"),function(b){with(b)return _state}),new objj_method(sel_getUid("setImage:"),function(b,a,d){with(b){if(_image==d)return;_image=d;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("image"),function(b){with(b)return _image}),new objj_method(sel_getUid("setAlternateImage:"),function(b,a,d){with(b)_alternateImage=d}),
new objj_method(sel_getUid("alternateImage"),function(b){with(b)return _alternateImage}),new objj_method(sel_getUid("setOnStateImage:"),function(b,a,d){with(b){if(_onStateImage==d)return;_onStateImage=d;objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("onStateImage"),function(b){with(b)return _onStateImage}),new objj_method(sel_getUid("setOffStateImage:"),function(b,a,d){with(b){if(_offStateImage==d)return;_offStateImage=d;objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("offStateImage"),
function(b){with(b)return _offStateImage}),new objj_method(sel_getUid("setMixedStateImage:"),function(b,a,d){with(b){if(_mixedStateImage==d)return;_mixedStateImage=d;objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("mixedStateImage"),function(b){with(b)return _mixedStateImage}),new objj_method(sel_getUid("setSubmenu:"),function(b,a,d){with(b){if(_submenu===d)return;objj_msgSend(_submenu,"supermenu")&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Can't add submenu \""+
objj_msgSend(d,"title")+'" to item "'+objj_msgSend(b,"title")+'", because it is already submenu of "'+objj_msgSend(objj_msgSend(d,"supermenu"),"title")+'"');(_submenu=d)?(objj_msgSend(_submenu,"setSupermenu:",_menu),objj_msgSend(b,"setTarget:",_menu),objj_msgSend(b,"setAction:",sel_getUid("submenuAction:"))):(objj_msgSend(b,"setTarget:",nil),objj_msgSend(b,"setAction:",NULL));objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("submenu"),function(b){with(b)return _submenu}),
new objj_method(sel_getUid("hasSubmenu"),function(b){with(b)return _submenu?YES:NO}),new objj_method(sel_getUid("isSeparatorItem"),function(b){with(b)return _isSeparator}),new objj_method(sel_getUid("setMenu:"),function(b,a,d){with(b)_menu=d}),new objj_method(sel_getUid("menu"),function(b){with(b)return _menu}),new objj_method(sel_getUid("setKeyEquivalent:"),function(b,a,d){with(b)_keyEquivalent=d||""}),new objj_method(sel_getUid("keyEquivalent"),function(b){with(b)return _keyEquivalent}),new objj_method(sel_getUid("setKeyEquivalentModifierMask:"),
function(b,a,d){with(b)_keyEquivalentModifierMask=d}),new objj_method(sel_getUid("keyEquivalentModifierMask"),function(b){with(b)return _keyEquivalentModifierMask}),new objj_method(sel_getUid("keyEquivalentStringRepresentation"),function(b){with(b){if(!objj_msgSend(_keyEquivalent,"length"))return"";b=_keyEquivalent.toUpperCase();var a=_keyEquivalentModifierMask&CPShiftKeyMask||b===_keyEquivalent&&_keyEquivalent.toLowerCase()!==_keyEquivalent.toUpperCase();if(CPBrowserIsOperatingSystem(CPMacOperatingSystem))_keyEquivalentModifierMask&
CPCommandKeyMask&&(b="⌘"+b),a&&(b="⇧"+b),_keyEquivalentModifierMask&CPAlternateKeyMask&&(b="⌥"+b),_keyEquivalentModifierMask&CPControlKeyMask&&(b="^"+b);else if(a&&(b="Shift-"+b),_keyEquivalentModifierMask&CPAlternateKeyMask&&(b="Alt-"+b),_keyEquivalentModifierMask&CPControlKeyMask||_keyEquivalentModifierMask&CPCommandKeyMask)b="Ctrl-"+b;return b}}),new objj_method(sel_getUid("setMnemonicLocation:"),function(b,a,d){with(b)_mnemonicLocation=d}),new objj_method(sel_getUid("mnemonicLocation"),function(b){with(b)return _mnemonicLocation}),
new objj_method(sel_getUid("setTitleWithMnemonicLocation:"),function(b,a,d){with(b)a=objj_msgSend(d,"rangeOfString:","&").location,a==CPNotFound?objj_msgSend(b,"setTitle:",d):(objj_msgSend(b,"setTitle:",objj_msgSend(d,"substringToIndex:",a)+objj_msgSend(d,"substringFromIndex:",a+1)),objj_msgSend(b,"setMnemonicLocation:",a))}),new objj_method(sel_getUid("mnemonic"),function(b){with(b)return _mnemonicLocation==CPNotFound?"":objj_msgSend(_title,"characterAtIndex:",_mnemonicLocation)}),new objj_method(sel_getUid("setAlternate:"),
function(b,a,d){with(b)_isAlternate=d}),new objj_method(sel_getUid("isAlternate"),function(b){with(b)return _isAlternate}),new objj_method(sel_getUid("setIndentationLevel:"),function(b,a,d){with(b)d<0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"setIndentationLevel: argument must be greater than or equal to 0."),_indentationLevel=MIN(15,d)}),new objj_method(sel_getUid("indentationLevel"),function(b){with(b)return _indentationLevel}),new objj_method(sel_getUid("setToolTip:"),
function(b,a,d){with(b)_toolTip=d}),new objj_method(sel_getUid("toolTip"),function(b){with(b)return _toolTip}),new objj_method(sel_getUid("setRepresentedObject:"),function(b,a,d){with(b)_representedObject=d}),new objj_method(sel_getUid("representedObject"),function(b){with(b)return _representedObject}),new objj_method(sel_getUid("setView:"),function(b,a,d){with(b){if(_view===d)return;_view=d;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("view"),
function(b){with(b)return _view}),new objj_method(sel_getUid("isHighlighted"),function(b){with(b)return objj_msgSend(objj_msgSend(b,"menu"),"highlightedItem")==b}),new objj_method(sel_getUid("copy"),function(b){with(b)return b=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"init"),b._isSeparator=_isSeparator,objj_msgSend(b,"setTitle:",_title),objj_msgSend(b,"setFont:",_font),objj_msgSend(b,"setTarget:",_target),objj_msgSend(b,"setAction:",_action),objj_msgSend(b,"setEnabled:",_isEnabled),objj_msgSend(b,
"setHidden:",_isHidden),objj_msgSend(b,"setTag:",_tag),objj_msgSend(b,"setState:",_state),objj_msgSend(b,"setImage:",_image),objj_msgSend(b,"setAlternateImage:",_alternateImage),objj_msgSend(b,"setOnStateImage:",_onStateImage),objj_msgSend(b,"setOffStateImage:",_offStateImage),objj_msgSend(b,"setMixedStateImage:",_mixedStateImage),objj_msgSend(b,"setKeyEquivalent:",_keyEquivalent),objj_msgSend(b,"setKeyEquivalentModifierMask:",_keyEquivalentModifierMask),objj_msgSend(b,"setMnemonicLocation:",_mnemonicLocation),
objj_msgSend(b,"setAlternate:",_isAlternate),objj_msgSend(b,"setIndentationLevel:",_indentationLevel),objj_msgSend(b,"setToolTip:",_toolTip),objj_msgSend(b,"setRepresentedObject:",_representedObject),b}),new objj_method(sel_getUid("mutableCopy"),function(b){with(b)return objj_msgSend(b,"copy")}),new objj_method(sel_getUid("_menuItemView"),function(b){with(b)return _menuItemView||(_menuItemView=objj_msgSend(objj_msgSend(_CPMenuItemView,"alloc"),"initWithFrame:forMenuItem:",CGRectMakeZero(),b)),_menuItemView}),
new objj_method(sel_getUid("_isSelectable"),function(b){with(b)return!objj_msgSend(b,"submenu")||objj_msgSend(b,"action")!==sel_getUid("submenuAction:")||objj_msgSend(b,"target")!==objj_msgSend(b,"menu")}),new objj_method(sel_getUid("_isMenuBarButton"),function(b){with(b)return!objj_msgSend(b,"submenu")&&objj_msgSend(b,"menu")===objj_msgSend(CPApp,"mainMenu")})]);class_addMethods(c,[new objj_method(sel_getUid("separatorItem"),function(b){with(b)return b=objj_msgSend(objj_msgSend(b,"alloc"),"initWithTitle:action:keyEquivalent:",
"",nil,nil),b._isSeparator=YES,b})]);e=objj_getClass("CPMenuItem");if(!e)throw new SyntaxError('*** Could not find definition for class "CPMenuItem"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(b,a,d){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPMenuItem").super_class},"init"))_changeCount=0,_isSeparator=objj_msgSend(d,"containsValueForKey:","CPMenuItemIsSeparatorKey")&&objj_msgSend(d,"decodeBoolForKey:","CPMenuItemIsSeparatorKey"),
_title=objj_msgSend(d,"decodeObjectForKey:","CPMenuItemTitleKey"),_target=objj_msgSend(d,"decodeObjectForKey:","CPMenuItemTargetKey"),_action=objj_msgSend(d,"decodeObjectForKey:","CPMenuItemActionKey"),_isEnabled=objj_msgSend(d,"containsValueForKey:","CPMenuItemIsEnabledKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemIsEnabledKey"):YES,_isHidden=objj_msgSend(d,"containsValueForKey:","CPMenuItemIsHiddenKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemIsHiddenKey"):NO,_tag=objj_msgSend(d,
"containsValueForKey:","CPMenuItemTagKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemTagKey"):0,_state=objj_msgSend(d,"containsValueForKey:","CPMenuItemStateKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemStateKey"):CPOffState,_image=objj_msgSend(d,"containsValueForKey:","CPMenuItemImageKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemImageKey"):nil,_alternateImage=objj_msgSend(d,"containsValueForKey:","CPMenuItemAlternateImageKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemAlternateImageKey"):
nil,_menu=objj_msgSend(d,"containsValueForKey:","CPMenuItemMenuKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemMenuKey"):nil,objj_msgSend(b,"setSubmenu:",objj_msgSend(d,"containsValueForKey:","CPMenuItemSubmenuKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemSubmenuKey"):nil),_keyEquivalent=objj_msgSend(d,"decodeObjectForKey:","CPMenuItemKeyEquivalentKey")||"",_keyEquivalentModifierMask=objj_msgSend(d,"decodeObjectForKey:","CPMenuItemKeyEquivalentModifierMaskKey")||0,objj_msgSend(b,"setIndentationLevel:",
objj_msgSend(d,"decodeIntForKey:","CPMenuItemIndentationLevelKey")||0),_representedObject=objj_msgSend(d,"containsValueForKey:","CPMenuItemRepresentedObjectKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemRepresentedObjectKey"):nil,_view=objj_msgSend(d,"containsValueForKey:","CPMenuItemViewKey")?objj_msgSend(d,"decodeObjectForKey:","CPMenuItemViewKey"):nil;return b}}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,a,d){with(b)_isSeparator&&objj_msgSend(d,"encodeBool:forKey:",_isSeparator,
"CPMenuItemIsSeparatorKey"),objj_msgSend(d,"encodeObject:forKey:",_title,"CPMenuItemTitleKey"),objj_msgSend(d,"encodeObject:forKey:",_target,"CPMenuItemTargetKey"),objj_msgSend(d,"encodeObject:forKey:",_action,"CPMenuItemActionKey"),_isEnabled!==YES&&objj_msgSend(d,"encodeObject:forKey:",_isEnabled,"CPMenuItemIsEnabledKey"),_isHidden!==NO&&objj_msgSend(d,"encodeObject:forKey:",_isHidden,"CPMenuItemIsHiddenKey"),_tag!==0&&objj_msgSend(d,"encodeObject:forKey:",_tag,"CPMenuItemTagKey"),_state!==CPOffState&&
objj_msgSend(d,"encodeObject:forKey:",_state,"CPMenuItemStateKey"),_image!==nil&&objj_msgSend(d,"encodeObject:forKey:",_image,"CPMenuItemImageKey"),_alternateImage!==nil&&objj_msgSend(d,"encodeObject:forKey:",_alternateImage,"CPMenuItemAlternateImageKey"),_submenu!==nil&&objj_msgSend(d,"encodeObject:forKey:",_submenu,"CPMenuItemSubmenuKey"),_menu!==nil&&objj_msgSend(d,"encodeObject:forKey:",_menu,"CPMenuItemMenuKey"),_keyEquivalent&&_keyEquivalent.length&&objj_msgSend(d,"encodeObject:forKey:",_keyEquivalent,
"CPMenuItemKeyEquivalentKey"),_keyEquivalentModifierMask&&objj_msgSend(d,"encodeObject:forKey:",_keyEquivalentModifierMask,"CPMenuItemKeyEquivalentModifierMaskKey"),_indentationLevel>0&&objj_msgSend(d,"encodeInt:forKey:",_indentationLevel,"CPMenuItemIndentationLevelKey"),_representedObject!==nil&&objj_msgSend(d,"encodeObject:forKey:",_representedObject,"CPMenuItemRepresentedObjectKey"),_view!==nil&&objj_msgSend(d,"encodeObject:forKey:",_view,"CPMenuItemViewKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuWindow.j",baseURL),function(h,f){f("CPWindow.j",YES);var e=[],c=[];_CPMenuWindowMenuBarBackgroundStyle=0;_CPMenuWindowPopUpBackgroundStyle=1;_CPMenuWindowAttachedMenuBackgroundStyle=2;var b=objj_allocateClassPair(CPWindow,"_CPMenuWindow"),a=b.isa;class_addIvars(b,[new objj_ivar("_menuView"),new objj_ivar("_menuClipView"),new objj_ivar("_moreAboveView"),new objj_ivar("_moreBelowView"),new objj_ivar("_unconstrainedFrame"),
new objj_ivar("_constraintRect")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("initWithContentRect:styleMask:"),function(a,b,c){with(a){_constraintRect={origin:{x:0,y:0},size:{width:0,height:0}};_unconstrainedFrame={origin:{x:0,y:0},size:{width:0,height:0}};if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"initWithContentRect:styleMask:",c,CPBorderlessWindowMask))objj_msgSend(a,"setLevel:",CPPopUpMenuWindowLevel),objj_msgSend(a,
"setHasShadow:",YES),objj_msgSend(a,"setShadowStyle:",CPMenuWindowShadowStyle),objj_msgSend(a,"setAcceptsMouseMovedEvents:",YES),b=objj_msgSend(a,"contentView"),_menuView=objj_msgSend(objj_msgSend(_CPMenuView,"alloc"),"initWithFrame:",CGRectMakeZero()),_menuClipView=objj_msgSend(objj_msgSend(CPClipView,"alloc"),"initWithFrame:",CGRectMake(1,5,0,0)),objj_msgSend(_menuClipView,"setDocumentView:",_menuView),objj_msgSend(b,"addSubview:",_menuClipView),_moreAboveView=objj_msgSend(objj_msgSend(CPImageView,
"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_moreAboveView,"setImage:",_CPMenuWindowMoreAboveImage),objj_msgSend(_moreAboveView,"setFrameSize:",objj_msgSend(_CPMenuWindowMoreAboveImage,"size")),objj_msgSend(b,"addSubview:",_moreAboveView),_moreBelowView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_moreBelowView,"setImage:",_CPMenuWindowMoreBelowImage),objj_msgSend(_moreBelowView,"setFrameSize:",objj_msgSend(_CPMenuWindowMoreBelowImage,
"size")),objj_msgSend(b,"addSubview:",_moreBelowView),objj_msgSend(a,"setShadowStyle:",CPWindowShadowStyleMenu);return a}}),new objj_method(sel_getUid("setFont:"),function(a,b,c){with(a)objj_msgSend(_menuView,"setFont:",c)}),new objj_method(sel_getUid("font"),function(a){with(a)return objj_msgSend(_menuView,"font")}),new objj_method(sel_getUid("setBackgroundStyle:"),function(a,b,c){with(a)objj_msgSend(a,"setBackgroundColor:",objj_msgSend(objj_msgSend(a,"class"),"backgroundColorForBackgroundStyle:",
c))}),new objj_method(sel_getUid("setMenu:"),function(a,b,c){with(a)objj_msgSend(c,"_setMenuWindow:",a),objj_msgSend(_menuView,"setMenu:",c),b=objj_msgSend(_menuView,"frame").size,objj_msgSend(a,"setFrameSize:",CGSizeMake(1+b.width+1,5+b.height+5)),objj_msgSend(_menuView,"scrollPoint:",CGPointMake(0,0)),objj_msgSend(_menuClipView,"setFrame:",CGRectMake(1,5,b.width,b.height))}),new objj_method(sel_getUid("setMinWidth:"),function(a,b,c){with(a)b=objj_msgSend(a,"unconstrainedFrame").size,objj_msgSend(a,
"setFrameSize:",CGSizeMake(MAX(b.width,c),b.height))}),new objj_method(sel_getUid("menu"),function(a){with(a)return objj_msgSend(_menuView,"menu")}),new objj_method(sel_getUid("orderFront:"),function(a,b,c){with(a)objj_msgSend(a,"setFrame:",_unconstrainedFrame),objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"orderFront:",c)}),new objj_method(sel_getUid("setConstraintRect:"),function(a,b,c){with(a)_constraintRect=c,objj_msgSend(a,"setFrame:",_unconstrainedFrame)}),
new objj_method(sel_getUid("unconstrainedFrame"),function(a){with(a)return{origin:{x:_unconstrainedFrame.origin.x,y:_unconstrainedFrame.origin.y},size:{width:_unconstrainedFrame.size.width,height:_unconstrainedFrame.size.height}}}),new objj_method(sel_getUid("setFrameOrigin:"),function(a,b,c){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"setFrame:",{origin:{x:c.x,y:c.y},size:{width:_unconstrainedFrame.size.width,height:_unconstrainedFrame.size.height}})}),
new objj_method(sel_getUid("setFrameSize:"),function(a,b,c){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"setFrame:",{origin:{x:_unconstrainedFrame.origin.x,y:_unconstrainedFrame.origin.y},size:{width:c.width,height:c.height}})}),new objj_method(sel_getUid("setFrame:display:animate:"),function(a,b,c,i,e){with(a){_unconstrainedFrame={origin:{x:c.origin.x,y:c.origin.y},size:{width:c.size.width,height:c.size.height}};b=CGRectIntersection(_unconstrainedFrame,
_constraintRect);b.origin.x=CGRectGetMinX(_unconstrainedFrame);b.size.width=CGRectGetWidth(_unconstrainedFrame);if(CGRectGetWidth(b)>CGRectGetWidth(_constraintRect))b.size.width=CGRectGetWidth(_constraintRect);CGRectGetMaxX(b)>CGRectGetMaxX(_constraintRect)&&(b.origin.x-=CGRectGetMaxX(b)-CGRectGetMaxX(_constraintRect));if(CGRectGetMinX(b)<CGRectGetMinX(_constraintRect))b.origin.x=CGRectGetMinX(_constraintRect);objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"setFrame:display:animate:",
b,i,e);c=CGPointMake(CGRectGetMinX(c)+1,CGRectGetMinY(c)+5);var f=c.y<CGRectGetMinY(b)+5,h=c.y+CGRectGetHeight(objj_msgSend(_menuView,"frame"))>CGRectGetMaxY(b)-5;e=i=5;var p=objj_msgSend(a,"contentView");p=objj_msgSend(p,"bounds");if(f){i+=16;var o=objj_msgSend(_moreAboveView,"frame");objj_msgSend(_moreAboveView,"setFrameOrigin:",CGPointMake((CGRectGetWidth(p)-CGRectGetWidth(o))/2,(21-CGRectGetHeight(o))/2))}objj_msgSend(_moreAboveView,"setHidden:",!f);h&&(e+=16,objj_msgSend(_moreBelowView,"setFrameOrigin:",
CGPointMake((CGRectGetWidth(p)-CGRectGetWidth(objj_msgSend(_moreBelowView,"frame")))/2,CGRectGetHeight(p)-16-5)));objj_msgSend(_moreBelowView,"setHidden:",!h);f=CGRectMakeZero();f.origin.x=1;f.origin.y=i;f.size.width=CGRectGetWidth(b)-1-1;f.size.height=CGRectGetHeight(b)-i-e;objj_msgSend(_menuClipView,"setFrame:",f);objj_msgSend(_menuView,"setFrameSize:",CGSizeMake(CGRectGetWidth(f),CGRectGetHeight(objj_msgSend(_menuView,"frame"))));objj_msgSend(_menuView,"scrollPoint:",CGPointMake(0,objj_msgSend(a,
"convertBaseToGlobal:",f.origin).y-c.y))}}),new objj_method(sel_getUid("hasMinimumNumberOfVisibleItems"),function(a){with(a){a=objj_msgSend(_menuView,"visibleRect");if(CGRectIsEmpty(a))return NO;for(var b=objj_msgSend(_menuView,"numberOfUnhiddenItems"),c=MIN(b,3),i=0,e=objj_msgSend(_menuView,"itemIndexAtPoint:",objj_msgSend(_menuView,"convertPoint:fromView:",objj_msgSend(_menuClipView,"frame").origin,nil));e<b&&i<c;++e){var f=objj_msgSend(_menuView,"rectForUnhiddenItemAtIndex:",e),h=CGRectIntersection(a,
f);if(CGRectIsEmpty(h))break;CGRectEqualToRect(h,f)&&++i}return i>=c}}),new objj_method(sel_getUid("canScrollUp"),function(a){with(a)return!objj_msgSend(_moreAboveView,"isHidden")}),new objj_method(sel_getUid("canScrollDown"),function(a){with(a)return!objj_msgSend(_moreBelowView,"isHidden")}),new objj_method(sel_getUid("canScroll"),function(a){with(a)return objj_msgSend(a,"canScrollUp")||objj_msgSend(a,"canScrollDown")}),new objj_method(sel_getUid("scrollByDelta:"),function(a,b,c){with(a){if(c===
0)return;if(c>0&&!objj_msgSend(a,"canScrollDown"))return;if(c<0&&!objj_msgSend(a,"canScrollUp"))return;_unconstrainedFrame.origin.y-=c;objj_msgSend(a,"setFrame:",_unconstrainedFrame)}}),new objj_method(sel_getUid("scrollUp"),function(a){with(a)objj_msgSend(a,"scrollByDelta:",-10)}),new objj_method(sel_getUid("scrollDown"),function(a){with(a)objj_msgSend(a,"scrollByDelta:",10)})]);class_addMethods(a,[new objj_method(sel_getUid("menuWindowWithMenu:font:"),function(a,b,c,i){with(a)return a=nil,e.length?
(a=e.pop(),objj_msgSend(a,"setFrameOrigin:",CGPointMakeZero())):a=objj_msgSend(objj_msgSend(_CPMenuWindow,"alloc"),"init"),objj_msgSend(a,"setFont:",i),objj_msgSend(a,"setMenu:",c),objj_msgSend(a,"setMinWidth:",objj_msgSend(c,"minimumWidth")),a}),new objj_method(sel_getUid("poolMenuWindow:"),function(a,b,c){with(a){if(!c||e.length>=5)return;e.push(c)}}),new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(_CPMenuWindow,"class"))return;a=objj_msgSend(CPBundle,"bundleForClass:",
a);_CPMenuWindowMoreAboveImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowMoreAbove.png"),CGSizeMake(38,18));_CPMenuWindowMoreBelowImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowMoreBelow.png"),CGSizeMake(38,18))}}),new objj_method(sel_getUid("_standardLeftMargin"),function(a){with(a)return 1}),new objj_method(sel_getUid("backgroundColorForBackgroundStyle:"),
function(a,b,e){with(a)return b=c[e],b||(a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(a,"class")),e==_CPMenuWindowPopUpBackgroundStyle?b=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded0.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow1.png"),CGSizeMake(1,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded2.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow3.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,
"pathForResource:","_CPMenuWindow/_CPMenuWindow4.png"),CGSizeMake(1,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow5.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded6.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:",
"_CPMenuWindow/_CPMenuWindow7.png"),CGSizeMake(1,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded8.png"),CGSizeMake(4,4))])):e==_CPMenuWindowMenuBarBackgroundStyle&&(b=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow3.png"),
CGSizeMake(4,0)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow4.png"),CGSizeMake(1,0)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow5.png"),CGSizeMake(4,0)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow3.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow4.png"),CGSizeMake(1,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow5.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded6.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow7.png"),CGSizeMake(1,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded8.png"),CGSizeMake(4,4))]))),c[e]=b),b})]);b=objj_getClass("_CPMenuWindow");if(!b)throw new SyntaxError('*** Could not find definition for class "_CPMenuWindow"');a=b.isa;class_addMethods(b,[new objj_method(sel_getUid("globalFrame"),function(a){with(a)return objj_msgSend(a,
"frame")}),new objj_method(sel_getUid("isMenuBar"),function(a){with(a)return NO}),new objj_method(sel_getUid("scrollingStateForPoint:"),function(a,b,c){with(a){b=objj_msgSend(a,"frame");if(!CPRectContainsPoint(b,c)||!objj_msgSend(a,"canScroll"))return _CPMenuManagerScrollingStateNone;if(c.y<CGRectGetMinY(b)+5+16&&!objj_msgSend(_moreAboveView,"isHidden"))return _CPMenuManagerScrollingStateUp;if(c.y>CGRectGetMaxY(b)-5-16&&!objj_msgSend(_moreBelowView,"isHidden"))return _CPMenuManagerScrollingStateDown;
return _CPMenuManagerScrollingStateNone}}),new objj_method(sel_getUid("deltaYForItemAtIndex:"),function(a,b,c){with(a)return 5+CGRectGetMinY(objj_msgSend(_menuView,"rectForItemAtIndex:",c))}),new objj_method(sel_getUid("rectForItemAtIndex:"),function(a,b,c){with(a)return objj_msgSend(_menuView,"convertRect:toView:",objj_msgSend(_menuView,"rectForItemAtIndex:",c),nil)}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(a,b,c){with(a){if(!CGRectContainsPoint(objj_msgSend(_menuClipView,"bounds"),
objj_msgSend(_menuClipView,"convertPoint:fromView:",c,nil)))return NO;return objj_msgSend(_menuView,"itemIndexAtPoint:",objj_msgSend(_menuView,"convertPoint:fromView:",c,nil))}})]);b=objj_allocateClassPair(CPView,"_CPMenuView");a=b.isa;class_addIvars(b,[new objj_ivar("_menuItemViews"),new objj_ivar("_visibleMenuItemInfos"),new objj_ivar("_font")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("font"),function(a){with(a)return _font}),new objj_method(sel_getUid("setFont:"),
function(a,b,c){with(a)_font=c}),new objj_method(sel_getUid("numberOfUnhiddenItems"),function(a){with(a)return _visibleMenuItemInfos.length}),new objj_method(sel_getUid("rectForUnhiddenItemAtIndex:"),function(a,b,c){with(a)return objj_msgSend(a,"rectForItemAtIndex:",_visibleMenuItemInfos[c].index)}),new objj_method(sel_getUid("rectForItemAtIndex:"),function(a,b,c){with(a)return objj_msgSend(_menuItemViews[c===CPNotFound?0:c],"frame")}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(a,b,
c){with(a){b=c.x;a=objj_msgSend(a,"bounds");if(b<CGRectGetMinX(a)||b>CGRectGetMaxX(a))return CPNotFound;c=c.y;a=0;for(b=_visibleMenuItemInfos.length-1;a<=b;){var i=FLOOR(a+(b-a)/2),e=_visibleMenuItemInfos[i],f=objj_msgSend(e.view,"frame");if(c<CGRectGetMinY(f))b=i-1;else if(c>CGRectGetMaxY(f))a=i+1;else return e.index}return CPNotFound}}),new objj_method(sel_getUid("tile"),function(a){with(a){objj_msgSend(_menuItemViews,"makeObjectsPerformSelector:",sel_getUid("removeFromSuperview"));_menuItemViews=
[];_visibleMenuItemInfos=[];var b=objj_msgSend(a,"menu");if(!b)return;var c=objj_msgSend(b,"itemArray"),i=0,e=objj_msgSend(c,"count"),f=0,h=0;for(b=objj_msgSend(b,"showsStateColumn");i<e;++i){var p=c[i],o=objj_msgSend(p,"_menuItemView");_menuItemViews.push(o);if(!objj_msgSend(p,"isHidden"))_visibleMenuItemInfos.push({view:o,index:i}),objj_msgSend(o,"setFont:",_font),objj_msgSend(o,"setShowsStateColumn:",b),objj_msgSend(o,"synchronizeWithMenuItem"),objj_msgSend(o,"setFrameOrigin:",CGPointMake(0,h)),
objj_msgSend(a,"addSubview:",o),p=objj_msgSend(o,"minSize"),o=p.width,f<o&&(f=o),h+=p.height}for(i=0;i<e;++i)o=_menuItemViews[i],objj_msgSend(o,"setFrameSize:",CGSizeMake(f,CGRectGetHeight(objj_msgSend(o,"frame"))));objj_msgSend(a,"setAutoresizesSubviews:",NO);objj_msgSend(a,"setFrameSize:",CGSizeMake(f,h));objj_msgSend(a,"setAutoresizesSubviews:",YES)}}),new objj_method(sel_getUid("setMenu:"),function(a,b,c){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuView").super_class},
"setMenu:",c),objj_msgSend(a,"tile")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPIndexSet.j",baseURL),function(h,f){f("CPArray.j",YES);f("CPObject.j",YES);f("CPRange.j",YES);var e=objj_allocateClassPair(CPObject,"CPIndexSet"),c=e.isa;class_addIvars(e,[new objj_ivar("_count"),new objj_ivar("_ranges")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithIndexesInRange:",{location:0,length:0})}),new objj_method(sel_getUid("initWithIndex:"),
function(a,b,c){with(a)return objj_msgSend(a,"initWithIndexesInRange:",{location:c,length:1})}),new objj_method(sel_getUid("initWithIndexesInRange:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init"))_count=MAX(0,c.length),_ranges=_count>0?[c]:[];return a}}),new objj_method(sel_getUid("initWithIndexSet:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init")){_count=
objj_msgSend(c,"count");_ranges=[];b=c._ranges;for(c=b.length;c--;)_ranges[c]={location:b[c].location,length:b[c].length}}return a}}),new objj_method(sel_getUid("isEqual:"),function(a,b,c){with(a){if(a===c)return YES;if(!c||!objj_msgSend(c,"isKindOfClass:",objj_msgSend(CPIndexSet,"class")))return NO;return objj_msgSend(a,"isEqualToIndexSet:",c)}}),new objj_method(sel_getUid("isEqualToIndexSet:"),function(a,b,c){with(a){if(!c)return NO;if(a===c)return YES;a=_ranges.length;b=c._ranges;if(a!==b.length||
_count!==c._count)return NO;for(;a--;)if(!CPEqualRanges(_ranges[a],b[a]))return NO;return YES}}),new objj_method(sel_getUid("isEqual:"),function(a,b,c){with(a)return a===c||objj_msgSend(c,"isKindOfClass:",objj_msgSend(a,"class"))&&objj_msgSend(a,"isEqualToIndexSet:",c)}),new objj_method(sel_getUid("containsIndex:"),function(a,c,e){with(a)return b(_ranges,e)!==CPNotFound}),new objj_method(sel_getUid("containsIndexesInRange:"),function(a,c,e){with(a){if(e.length<=0)return NO;if(_count<e.length)return NO;
a=b(_ranges,e.location);if(a===CPNotFound)return NO;return CPIntersectionRange(_ranges[a],e).length===e.length}}),new objj_method(sel_getUid("containsIndexes:"),function(a,b,c){with(a){b=c._count;if(b<=0)return YES;if(_count<b)return NO;c=c._ranges;for(b=c.length;b--;)if(!objj_msgSend(a,"containsIndexesInRange:",c[b]))return NO;return YES}}),new objj_method(sel_getUid("intersectsIndexesInRange:"),function(b,c,e){with(b){if(_count<=0)return NO;b=a(_ranges,e.location);if(FLOOR(b)===b)return YES;e=a(_ranges,
e.location+e.length-1);if(FLOOR(e)===e)return YES;return b!==e}}),new objj_method(sel_getUid("count"),function(a){with(a)return _count}),new objj_method(sel_getUid("firstIndex"),function(a){with(a){if(_count>0)return _ranges[0].location;return CPNotFound}}),new objj_method(sel_getUid("lastIndex"),function(a){with(a){if(_count>0)return _ranges[_ranges.length-1].location+_ranges[_ranges.length-1].length-1;return CPNotFound}}),new objj_method(sel_getUid("indexGreaterThanIndex:"),function(b,c,e){with(b){++e;
b=a(_ranges,e);if(b===CPNotFound)return CPNotFound;b=CEIL(b);if(b>=_ranges.length)return CPNotFound;b=_ranges[b];if(CPLocationInRange(e,b))return e;return b.location}}),new objj_method(sel_getUid("indexLessThanIndex:"),function(b,c,e){with(b){--e;b=a(_ranges,e);if(b===CPNotFound)return CPNotFound;b=FLOOR(b);if(b<0)return CPNotFound;b=_ranges[b];if(CPLocationInRange(e,b))return e;return b.location+b.length-1}}),new objj_method(sel_getUid("indexGreaterThanOrEqualToIndex:"),function(a,b,c){with(a)return objj_msgSend(a,
"indexGreaterThanIndex:",c-1)}),new objj_method(sel_getUid("indexLessThanOrEqualToIndex:"),function(a,b,c){with(a)return objj_msgSend(a,"indexLessThanIndex:",c+1)}),new objj_method(sel_getUid("getIndexes:maxCount:inIndexRange:"),function(b,c,e,i,f){with(b){if(!_count||i===0||f&&!f.length){if(f)f.length=0;return 0}c=0;if(f){var l=f.location;b=f.location+f.length-1;var h=CEIL(a(_ranges,l)),p=FLOOR(a(_ranges,b))}else l=objj_msgSend(b,"firstIndex"),b=objj_msgSend(b,"lastIndex"),h=0,p=_ranges.length-1;
for(;h<=p;){var o=_ranges[h],k=MAX(l,o.location);for(o=MIN(b+1,o.location+o.length);k<o;++k)if(e[c++]=k,c===i){if(f)f.location=k+1,f.length=b+1-k-1;return i}++h}if(f)f.location=CPNotFound,f.length=0;return c}}),new objj_method(sel_getUid("description"),function(a){with(a){a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"description");if(_count){var b=0,c=_ranges.length;a+="[number of indexes: "+_count+" (in "+c;for(a+=c===1?" range), indexes: (":" ranges), indexes: (";b<
c;++b){var i=_ranges[b];a+=i.location;i.length>1&&(a+="-"+(CPMaxRange(i)-1));b+1<c&&(a+=" ")}a+=")]"}else a+="(no indexes)";return a}})]);class_addMethods(c,[new objj_method(sel_getUid("indexSet"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")}),new objj_method(sel_getUid("indexSetWithIndex:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithIndex:",c)}),new objj_method(sel_getUid("indexSetWithIndexesInRange:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,
"alloc"),"initWithIndexesInRange:",c)})]);e=objj_getClass("CPIndexSet");if(!e)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("addIndex:"),function(a,b,c){with(a)objj_msgSend(a,"addIndexesInRange:",{location:c,length:1})}),new objj_method(sel_getUid("addIndexes:"),function(a,b,c){with(a){b=c._ranges;for(c=b.length;c--;)objj_msgSend(a,"addIndexesInRange:",b[c])}}),new objj_method(sel_getUid("addIndexesInRange:"),function(b,
c,e){with(b){if(e.length<=0)return;if(_count<=0){_count=e.length;_ranges=[e];return}c=_ranges.length;var i=a(_ranges,e.location-1);b=CEIL(i);b===i&&b<c&&(e=CPUnionRange(e,_ranges[b]));c=a(_ranges,CPMaxRange(e));i=FLOOR(c);i===c&&i>=0&&(e=CPUnionRange(e,_ranges[i]));c=i-b+1;if(c===_ranges.length)_ranges=[e],_count=e.length;else if(c===1)b<_ranges.length&&(_count-=_ranges[b].length),_count+=e.length,_ranges[b]=e;else{if(c>0){i=b;for(var f=b+c-1;i<=f;++i)_count-=_ranges[i].length;objj_msgSend(_ranges,
"removeObjectsInRange:",{location:b,length:c})}objj_msgSend(_ranges,"insertObject:atIndex:",e,b);_count+=e.length}}}),new objj_method(sel_getUid("removeIndex:"),function(a,b,c){with(a)objj_msgSend(a,"removeIndexesInRange:",{location:c,length:1})}),new objj_method(sel_getUid("removeIndexes:"),function(a,b,c){with(a){b=c._ranges;for(c=b.length;c--;)objj_msgSend(a,"removeIndexesInRange:",b[c])}}),new objj_method(sel_getUid("removeAllIndexes"),function(a){with(a)_ranges=[],_count=0}),new objj_method(sel_getUid("removeIndexesInRange:"),
function(b,c,e){with(b){if(e.length<=0)return;if(_count<=0)return;c=_ranges.length;var i=a(_ranges,e.location);b=CEIL(i);if(i===b&&b<c&&(i=_ranges[b],e.location!==i.location)){var f=CPMaxRange(e),l=CPMaxRange(i);i.length=e.location-i.location;if(f<l){_count-=e.length;objj_msgSend(_ranges,"insertObject:atIndex:",{location:f,length:l-f},b+1);return}else _count-=l-e.location,b+=1}i=a(_ranges,CPMaxRange(e)-1);c=FLOOR(i);if(i===c&&c>=0&&(f=CPMaxRange(e),i=_ranges[c],l=CPMaxRange(i),f!==l))_count-=f-i.location,
c-=1,i.location=f,i.length=l-f;e=c-b+1;if(e>0){c=b;for(i=b+e-1;c<=i;++c)_count-=_ranges[c].length;objj_msgSend(_ranges,"removeObjectsInRange:",{location:b,length:e})}}}),new objj_method(sel_getUid("shiftIndexesStartingAtIndex:by:"),function(a,b,c,e){with(a){if(!_count||e==0)return;b=_ranges.length-1;for(var f=CPMakeRange(CPNotFound,0);b>=0;--b){var l=_ranges[b],h=CPMaxRange(l);if(c>=h)break;if(c>l.location){f=CPMakeRange(c+e,h-c);l.length=c-l.location;if(e>0)objj_msgSend(_ranges,"insertObject:atIndex:",
f,b+1);else if(f.location<0)f.length=CPMaxRange(f),f.location=0;break}if((l.location+=e)<0)_count-=l.length-CPMaxRange(l),l.length=CPMaxRange(l),l.location=0}if(e<0){c=b+1;e=_ranges.length;for(l=[];c<e;++c)objj_msgSend(l,"addObject:",_ranges[c]),_count-=_ranges[c].length;if((c=b+1)<e){objj_msgSend(_ranges,"removeObjectsInRange:",CPMakeRange(c,e-c));c=0;for(e=l.length;c<e;++c)objj_msgSend(a,"addIndexesInRange:",l[c])}f.location!=CPNotFound&&objj_msgSend(a,"addIndexesInRange:",f)}}})]);e=objj_getClass("CPIndexSet");
if(!e)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init")){_count=objj_msgSend(c,"decodeIntForKey:","CPIndexSetCountKey");_ranges=[];b=objj_msgSend(c,"decodeObjectForKey:","CPIndexSetRangeStringsKey");c=0;for(var e=b.length;c<e;++c)_ranges.push(CPRangeFromString(b[c]))}return a}}),
new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a){objj_msgSend(c,"encodeInt:forKey:",_count,"CPIndexSetCountKey");a=0;b=_ranges.length;for(var e=[];a<b;++a)e[a]=CPStringFromRange(_ranges[a]);objj_msgSend(c,"encodeObject:forKey:",e,"CPIndexSetRangeStringsKey")}})]);e=objj_getClass("CPIndexSet");if(!e)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("copy"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,
"class"),"alloc"),"initWithIndexSet:",a)}),new objj_method(sel_getUid("mutableCopy"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"class"),"alloc"),"initWithIndexSet:",a)})]);e=objj_allocateClassPair(CPIndexSet,"CPMutableIndexSet");c=e.isa;objj_registerClassPair(e);var b=function(a,b){for(var c=0,e=a.length-1;c<=e;){var f=FLOOR(c+(e-c)/2),l=a[f];if(b<l.location)e=f-1;else if(b>=CPMaxRange(l))c=f+1;else return f}return CPNotFound},a=function(a,b){var c=a.length;if(c<=0)return CPNotFound;
for(var e=0,f=c*2;e<=f;){var l=FLOOR(e+(f-e)/2),h=l/2,p=FLOOR(h);if(h===p)if(p-1>=0&&b<CPMaxRange(a[p-1]))f=l-1;else if(p<c&&b>=a[p].location)e=l+1;else return p-0.5;else if(h=a[p],b<h.location)f=l-1;else if(b>=CPMaxRange(h))e=l+1;else return p}return CPNotFound}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPSet+KVO.j",baseURL),function(h,f){f("CPException.j",YES);f("CPObject.j",YES);f("CPSet.j",YES);var e=objj_getClass("CPObject");if(!e)throw new SyntaxError('*** Could not find definition for class "CPObject"');var c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("mutableSetValueForKey:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(_CPKVCSet,"alloc"),"initWithKey:forProxyObject:",c,a)}),new objj_method(sel_getUid("mutableSetValueForKeyPath:"),
function(a,b,c){with(a){var e=c.indexOf(".");if(e<0)return objj_msgSend(a,"mutableSetValueForKey:",c);b=c.substring(0,e);c=c.substring(e+1);return objj_msgSend(objj_msgSend(a,"valueForKeyPath:",b),"mutableSetValueForKeyPath:",c)}})]);e=objj_allocateClassPair(CPMutableSet,"_CPKVCSet");c=e.isa;class_addIvars(e,[new objj_ivar("_proxyObject"),new objj_ivar("_key"),new objj_ivar("_accessSEL"),new objj_ivar("_access"),new objj_ivar("_setSEL"),new objj_ivar("_set"),new objj_ivar("_countSEL"),new objj_ivar("_count"),
new objj_ivar("_enumeratorSEL"),new objj_ivar("_enumerator"),new objj_ivar("_memberSEL"),new objj_ivar("_member"),new objj_ivar("_addSEL"),new objj_ivar("_add"),new objj_ivar("_addManySEL"),new objj_ivar("_addMany"),new objj_ivar("_removeSEL"),new objj_ivar("_remove"),new objj_ivar("_removeManySEL"),new objj_ivar("_removeMany"),new objj_ivar("_intersectSEL"),new objj_ivar("_intersect")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithKey:forProxyObject:"),function(a,
b,c,e){with(a)return a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPKVCSet").super_class},"init"),_key=c,_proxyObject=e,b=_key.charAt(0).toUpperCase()+_key.substring(1),_accessSEL=sel_getName(_key),objj_msgSend(_proxyObject,"respondsToSelector:",_accessSEL)&&(_access=objj_msgSend(_proxyObject,"methodForSelector:",_accessSEL)),_setSEL=sel_getName("set"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_setSEL)&&(_set=objj_msgSend(_proxyObject,"methodForSelector:",_setSEL)),_countSEL=
sel_getName("countOf"+b),objj_msgSend(_proxyObject,"respondsToSelector:",_countSEL)&&(_count=objj_msgSend(_proxyObject,"methodForSelector:",_countSEL)),_enumeratorSEL=sel_getName("enumeratorOf"+b),objj_msgSend(_proxyObject,"respondsToSelector:",_enumeratorSEL)&&(_enumerator=objj_msgSend(_proxyObject,"methodForSelector:",_enumeratorSEL)),_memberSEL=sel_getName("memberOf"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_memberSEL)&&(_member=objj_msgSend(_proxyObject,"methodForSelector:",_memberSEL)),
_addSEL=sel_getName("add"+b+"Object:"),objj_msgSend(_proxyObject,"respondsToSelector:",_addSEL)&&(_add=objj_msgSend(_proxyObject,"methodForSelector:",_addSEL)),_addManySEL=sel_getName("add"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_addManySEL)&&(_addMany=objj_msgSend(_proxyObject,"methodForSelector:",_addManySEL)),_removeSEL=sel_getName("remove"+b+"Object:"),objj_msgSend(_proxyObject,"respondsToSelector:",_removeSEL)&&(_remove=objj_msgSend(_proxyObject,"methodForSelector:",_removeSEL)),
_removeManySEL=sel_getName("remove"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_removeManySEL)&&(_removeMany=objj_msgSend(_proxyObject,"methodForSelector:",_removeManySEL)),_intersectSEL=sel_getName("intersect"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_intersectSEL)&&(_intersect=objj_msgSend(_proxyObject,"methodForSelector:",_intersectSEL)),a}),new objj_method(sel_getUid("_representedObject"),function(a){with(a){if(_access)return _access(_proxyObject,_accessSEL);return objj_msgSend(_proxyObject,
"valueForKey:",_key)}}),new objj_method(sel_getUid("_setRepresentedObject:"),function(a,b,c){with(a){if(_set)return _set(_proxyObject,_setSEL,c);objj_msgSend(_proxyObject,"setValue:forKey:",c,_key)}}),new objj_method(sel_getUid("count"),function(a){with(a){if(_count)return _count(_proxyObject,_countSEL);return objj_msgSend(objj_msgSend(a,"_representedObject"),"count")}}),new objj_method(sel_getUid("objectEnumerator"),function(a){with(a){if(_enumerator)return _enumerator(_proxyObject,_enumeratorSEL);
return objj_msgSend(objj_msgSend(a,"_representedObject"),"objectEnumerator")}}),new objj_method(sel_getUid("member:"),function(a,b,c){with(a){if(_member)return _member(_proxyObject,_memberSEL,c);return objj_msgSend(objj_msgSend(a,"_representedObject"),"member:",c)}}),new objj_method(sel_getUid("addObject:"),function(a,b,c){with(a)_add?_add(_proxyObject,_addSEL,c):_addMany?(a=objj_msgSend(CPSet,"setWithObject:",c),_addMany(_proxyObject,_addManySEL,a)):(b=objj_msgSend(objj_msgSend(a,"_representedObject"),
"copy"),objj_msgSend(b,"addObject:",c),objj_msgSend(a,"_setRepresentedObject:",b))}),new objj_method(sel_getUid("addObjectsFromArray:"),function(a,b,c){with(a)if(_addMany)a=objj_msgSend(CPSet,"setWithArray:",c),_addMany(_proxyObject,_addManySEL,a);else if(_add)for(c=objj_msgSend(c,"objectEnumerator");a=objj_msgSend(c,"nextObject");)_add(_proxyObject,_addSEL,a);else b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"addObjectsFromArray:",c),objj_msgSend(a,"_setRepresentedObject:",
b)}),new objj_method(sel_getUid("unionSet:"),function(a,b,c){with(a)if(_addMany)_addMany(_proxyObject,_addManySEL,c);else if(_add)for(c=objj_msgSend(c,"objectEnumerator");a=objj_msgSend(c,"nextObject");)_add(_proxyObject,_addSEL,a);else b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"unionSet:",c),objj_msgSend(a,"_setRepresentedObject:",b)}),new objj_method(sel_getUid("removeObject:"),function(a,b,c){with(a)_remove?_remove(_proxyObject,_removeSEL,c):_removeMany?(a=objj_msgSend(CPSet,
"setWithObject:",c),_removeMany(_proxyObject,_removeManySEL,a)):(b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"removeObject:",c),objj_msgSend(a,"_setRepresentedObject:",b))}),new objj_method(sel_getUid("minusSet:"),function(a,b,c){with(a)if(_removeMany)_removeMany(_proxyObject,_removeManySEL,c);else if(_remove)for(c=objj_msgSend(c,"objectEnumerator");a=objj_msgSend(c,"nextObject");)_remove(_proxyObject,_removeSEL,a);else b=objj_msgSend(objj_msgSend(a,"_representedObject"),
"copy"),objj_msgSend(b,"minusSet:",c),objj_msgSend(a,"_setRepresentedObject:",b)}),new objj_method(sel_getUid("removeObjectsInArray:"),function(a,b,c){with(a)if(_removeMany)a=objj_msgSend(CPSet,"setWithArray:",c),_removeMany(_proxyObject,_removeManySEL,a);else if(_remove)for(c=objj_msgSend(c,"objectEnumerator");a=objj_msgSend(c,"nextObject");)_remove(_proxyObject,_removeSEL,a);else b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"removeObjectsInArray:",c),objj_msgSend(a,
"_setRepresentedObject:",b)}),new objj_method(sel_getUid("removeAllObjects"),function(a){with(a)if(_removeMany)a=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),_removeMany(_proxyObject,_removeManySEL,a);else if(_remove)for(var b=objj_msgSend(objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),"objectEnumerator");a=objj_msgSend(b,"nextObject");)_remove(_proxyObject,_removeSEL,a);else b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"removeAllObjects"),objj_msgSend(a,
"_setRepresentedObject:",b)}),new objj_method(sel_getUid("intersectSet:"),function(a,b,c){with(a)_intersect?_intersect(_proxyObject,_intersectSEL,c):(b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"intersectSet:",c),objj_msgSend(a,"_setRepresentedObject:",b))}),new objj_method(sel_getUid("setSet:"),function(a,b,c){with(a)objj_msgSend(a,"_setRepresentedObject:",c)}),new objj_method(sel_getUid("allObjects"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),
"allObjects")}),new objj_method(sel_getUid("anyObject"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),"anyObject")}),new objj_method(sel_getUid("containsObject:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),"containsObject:",c)}),new objj_method(sel_getUid("intersectsSet:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),"intersectsSet:",c)}),new objj_method(sel_getUid("isEqualToSet:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,
"_representedObject"),"isEqualToSet:",c)}),new objj_method(sel_getUid("copy"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),"copy")})]);class_addMethods(c,[new objj_method(sel_getUid("alloc"),function(a){with(a){var b=objj_msgSend(CPMutableSet,"set");b.isa=a;a=class_copyIvarList(a);for(var c=a.length;c--;)b[ivar_getName(a[c])]=nil;return b}})]);e=objj_getClass("CPSet");if(!e)throw new SyntaxError('*** Could not find definition for class "CPSet"');c=e.isa;class_addMethods(e,
[new objj_method(sel_getUid("valueForKeyPath:"),function(a,c,g){with(a)if(g.indexOf("@")===0){var e=g.indexOf("."),i,f;e!==-1?(i=g.substring(1,e),f=g.substring(e+1)):i=g.substring(1);if(b[i])return b[i](a,c,f);return nil}else{c=objj_msgSend(CPSet,"set");for(a=objj_msgSend(a,"objectEnumerator");e=objj_msgSend(a,"nextObject");)(e=objj_msgSend(e,"valueForKeyPath:",g))&&objj_msgSend(c,"addObject:",e);return c}}),new objj_method(sel_getUid("setValue:forKey:"),function(a,b,c,e){with(a)for(b=objj_msgSend(a,
"objectEnumerator");a=objj_msgSend(b,"nextObject");)objj_msgSend(a,"setValue:forKey:",c,e)})]);var b=[];b.avg=function(a,b,c){a=objj_msgSend(objj_msgSend(a,"valueForKeyPath:",c),"allObjects");c=b=objj_msgSend(a,"count");var e=0;if(!b)return 0;for(;c--;)e+=objj_msgSend(a[c],"doubleValue");return e/b};b.max=function(a,b,c){a=objj_msgSend(objj_msgSend(a,"valueForKeyPath:",c),"allObjects");b=objj_msgSend(a,"count")-1;for(c=objj_msgSend(a,"lastObject");b--;){var e=a[b];objj_msgSend(c,"compare:",e)<0&&
(c=e)}return c};b.min=function(a,b,c){a=objj_msgSend(objj_msgSend(a,"valueForKeyPath:",c),"allObjects");b=objj_msgSend(a,"count")-1;for(c=objj_msgSend(a,"lastObject");b--;){var e=a[b];objj_msgSend(c,"compare:",e)>0&&(c=e)}return c};b.count=function(a){return objj_msgSend(a,"count")};b.sum=function(a,b,c){a=objj_msgSend(objj_msgSend(a,"valueForKeyPath:",c),"allObjects");b=objj_msgSend(a,"count");for(c=0;b--;)c+=objj_msgSend(a[b],"doubleValue");return c};e=objj_getClass("CPSet");if(!e)throw new SyntaxError('*** Could not find definition for class "CPSet"');
c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("addObserver:forKeyPath:options:context:"),function(a,b,c,e,i,f){with(a)objj_msgSend(isa,"instanceMethodForSelector:",b)===objj_msgSend(CPSet,"instanceMethodForSelector:",b)?objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unsupported method on CPSet"):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPSet").super_class},"addObserver:forKeyPath:options:context:",c,e,i,f)}),new objj_method(sel_getUid("removeObserver:forKeyPath:"),
function(a,b,c,e){with(a)objj_msgSend(isa,"instanceMethodForSelector:",b)===objj_msgSend(CPSet,"instanceMethodForSelector:",b)?objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unsupported method on CPSet"):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPSet").super_class},"removeObserver:forKeyPath:",c,e)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPEvent.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("CPText.j",YES);CPLeftMouseDown=1;CPLeftMouseUp=2;CPRightMouseDown=3;CPRightMouseUp=4;CPMouseMoved=5;CPLeftMouseDragged=6;CPRightMouseDragged=7;CPMouseEntered=8;CPMouseExited=9;CPKeyDown=10;CPKeyUp=11;CPFlagsChanged=12;CPAppKitDefined=13;CPSystemDefined=14;CPApplicationDefined=15;CPPeriodic=16;CPCursorUpdate=17;CPScrollWheel=22;CPOtherMouseDown=25;CPOtherMouseUp=
26;CPOtherMouseDragged=27;CPTouchStart=28;CPTouchMove=29;CPTouchEnd=30;CPTouchCancel=31;CPAlphaShiftKeyMask=65536;CPShiftKeyMask=131072;CPControlKeyMask=262144;CPAlternateKeyMask=524288;CPCommandKeyMask=1048576;CPNumericPadKeyMask=2097152;CPHelpKeyMask=4194304;CPFunctionKeyMask=8388608;CPDeviceIndependentModifierFlagsMask=4294901760;CPLeftMouseDownMask=1<<CPLeftMouseDown;CPLeftMouseUpMask=1<<CPLeftMouseUp;CPRightMouseDownMask=1<<CPRightMouseDown;CPRightMouseUpMask=1<<CPRightMouseUp;CPOtherMouseDownMask=
1<<CPOtherMouseDown;CPOtherMouseUpMask=1<<CPOtherMouseUp;CPMouseMovedMask=1<<CPMouseMoved;CPLeftMouseDraggedMask=1<<CPLeftMouseDragged;CPRightMouseDraggedMask=1<<CPRightMouseDragged;CPOtherMouseDragged=1<<CPOtherMouseDragged;CPMouseEnteredMask=1<<CPMouseEntered;CPMouseExitedMask=1<<CPMouseExited;CPCursorUpdateMask=1<<CPCursorUpdate;CPKeyDownMask=1<<CPKeyDown;CPKeyUpMask=1<<CPKeyUp;CPFlagsChangedMask=1<<CPFlagsChanged;CPAppKitDefinedMask=1<<CPAppKitDefined;CPSystemDefinedMask=1<<CPSystemDefined;CPApplicationDefinedMask=
1<<CPApplicationDefined;CPPeriodicMask=1<<CPPeriodic;CPScrollWheelMask=1<<CPScrollWheel;CPAnyEventMask=4294967295;CPUpArrowFunctionKey="";CPDownArrowFunctionKey="";CPLeftArrowFunctionKey="";CPRightArrowFunctionKey="";CPF1FunctionKey="";CPF2FunctionKey="";CPF3FunctionKey="";CPF4FunctionKey="";CPF5FunctionKey="";CPF6FunctionKey="";CPF7FunctionKey="";CPF8FunctionKey="";CPF9FunctionKey="";CPF10FunctionKey="";CPF11FunctionKey="";CPF12FunctionKey="";CPF13FunctionKey="";CPF14FunctionKey=
"";CPF15FunctionKey="";CPF16FunctionKey="";CPF17FunctionKey="";CPF18FunctionKey="";CPF19FunctionKey="";CPF20FunctionKey="";CPF21FunctionKey="";CPF22FunctionKey="";CPF23FunctionKey="";CPF24FunctionKey="";CPF25FunctionKey="";CPF26FunctionKey="";CPF27FunctionKey="";CPF28FunctionKey="";CPF29FunctionKey="";CPF30FunctionKey="";CPF31FunctionKey="";CPF32FunctionKey="";CPF33FunctionKey="";CPF34FunctionKey="";CPF35FunctionKey="";CPInsertFunctionKey="";CPDeleteFunctionKey="";CPHomeFunctionKey=
"";CPBeginFunctionKey="";CPEndFunctionKey="";CPPageUpFunctionKey="";CPPageDownFunctionKey="";CPPrintScreenFunctionKey="";CPScrollLockFunctionKey="";CPPauseFunctionKey="";CPSysReqFunctionKey="";CPBreakFunctionKey="";CPResetFunctionKey="";CPStopFunctionKey="";CPMenuFunctionKey="";CPUserFunctionKey="";CPSystemFunctionKey="";CPPrintFunctionKey="";CPClearLineFunctionKey="";CPClearDisplayFunctionKey="";CPInsertLineFunctionKey="";CPDeleteLineFunctionKey="";CPInsertCharFunctionKey="";
CPDeleteCharFunctionKey="";CPPrevFunctionKey="";CPNextFunctionKey="";CPSelectFunctionKey="";CPExecuteFunctionKey="";CPUndoFunctionKey="";CPRedoFunctionKey="";CPFindFunctionKey="";CPHelpFunctionKey="";CPModeSwitchFunctionKey="";CPEscapeFunctionKey="";CPSpaceFunctionKey=" ";CPDOMEventDoubleClick="dblclick";CPDOMEventMouseDown="mousedown";CPDOMEventMouseUp="mouseup";CPDOMEventMouseMoved="mousemove";CPDOMEventMouseDragged="mousedrag";CPDOMEventKeyUp="keyup";CPDOMEventKeyDown="keydown";CPDOMEventKeyPress=
"keypress";CPDOMEventCopy="copy";CPDOMEventPaste="paste";CPDOMEventScrollWheel="mousewheel";CPDOMEventTouchStart="touchstart";CPDOMEventTouchMove="touchmove";CPDOMEventTouchEnd="touchend";CPDOMEventTouchCancel="touchcancel";var e=nil,c=/[A-Z]/,b=objj_allocateClassPair(CPObject,"CPEvent"),a=b.isa;class_addIvars(b,[new objj_ivar("_type"),new objj_ivar("_location"),new objj_ivar("_modifierFlags"),new objj_ivar("_timestamp"),new objj_ivar("_context"),new objj_ivar("_eventNumber"),new objj_ivar("_clickCount"),
new objj_ivar("_pressure"),new objj_ivar("_window"),new objj_ivar("_windowNumber"),new objj_ivar("_characters"),new objj_ivar("_isARepeat"),new objj_ivar("_keyCode"),new objj_ivar("_DOMEvent"),new objj_ivar("_deltaX"),new objj_ivar("_deltaY"),new objj_ivar("_deltaZ")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("_initMouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:"),function(a,b,c,d,e,f,h,o,k,n,q){with(a){if(a=
objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPEvent").super_class},"init"))_type=c,_location=CPPointCreateCopy(d),_modifierFlags=e,_timestamp=f,_context=o,_eventNumber=k,_clickCount=n,_pressure=q,_window=objj_msgSend(CPApp,"windowWithWindowNumber:",h);return a}}),new objj_method(sel_getUid("_initKeyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:"),function(a,b,c,d,e,f,h,o,k,n,q,s){with(a){if(a=objj_msgSendSuper({receiver:a,
super_class:objj_getClass("CPEvent").super_class},"init"))_type=c,_location=CPPointCreateCopy(d),_modifierFlags=e,_timestamp=f,_context=o,_characters=k,_charactersIgnoringModifiers=n,_isARepeat=q,_keyCode=s,_windowNumber=h;return a}}),new objj_method(sel_getUid("_initOtherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:"),function(a,b,c,d,e,f,h,o,k,n,q){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPEvent").super_class},"init"))_type=
c,_location=CPPointCreateCopy(d),_modifierFlags=e,_timestamp=f,_context=o,_subtype=k,_data1=n,_data2=q;return a}}),new objj_method(sel_getUid("locationInWindow"),function(a){with(a)return{x:_location.x,y:_location.y}}),new objj_method(sel_getUid("globalLocation"),function(a){with(a){var b=objj_msgSend(a,"window");a=objj_msgSend(a,"locationInWindow");if(b)return objj_msgSend(b,"convertBaseToGlobal:",a);return a}}),new objj_method(sel_getUid("modifierFlags"),function(a){with(a)return _modifierFlags}),
new objj_method(sel_getUid("timestamp"),function(a){with(a)return _timestamp}),new objj_method(sel_getUid("type"),function(a){with(a)return _type}),new objj_method(sel_getUid("window"),function(a){with(a)return _window||(_window=objj_msgSend(CPApp,"windowWithWindowNumber:",_windowNumber)),_window}),new objj_method(sel_getUid("windowNumber"),function(a){with(a)return _windowNumber}),new objj_method(sel_getUid("buttonNumber"),function(a){with(a){if(_type===CPRightMouseDown||_type===CPRightMouseUp||
_type===CPRightMouseDragged)return 1;return 0}}),new objj_method(sel_getUid("clickCount"),function(a){with(a)return _clickCount}),new objj_method(sel_getUid("characters"),function(a){with(a)return _characters}),new objj_method(sel_getUid("charactersIgnoringModifiers"),function(a){with(a)return _charactersIgnoringModifiers}),new objj_method(sel_getUid("isARepeat"),function(a){with(a)return _isARepeat}),new objj_method(sel_getUid("keyCode"),function(a){with(a)return _keyCode}),new objj_method(sel_getUid("pressure"),
function(a){with(a)return _pressure}),new objj_method(sel_getUid("_DOMEvent"),function(a){with(a)return _DOMEvent}),new objj_method(sel_getUid("deltaX"),function(a){with(a)return _deltaX}),new objj_method(sel_getUid("deltaY"),function(a){with(a)return _deltaY}),new objj_method(sel_getUid("deltaZ"),function(a){with(a)return _deltaZ}),new objj_method(sel_getUid("_triggersKeyEquivalent:withModifierMask:"),function(a,b,d,e){with(a){if(!d)return NO;c.test(d)&&(e|=CPShiftKeyMask);!CPBrowserIsOperatingSystem(CPMacOperatingSystem)&&
e&CPCommandKeyMask&&(e|=CPControlKeyMask,e&=~CPCommandKeyMask);if((_modifierFlags&(CPShiftKeyMask|CPAlternateKeyMask|CPCommandKeyMask|CPControlKeyMask))!==e)return NO;if(_characters===CPNewlineCharacter||_characters===CPCarriageReturnCharacter)return CPNewlineCharacter===d||CPCarriageReturnCharacter===d;return objj_msgSend(_characters,"caseInsensitiveCompare:",d)===CPOrderedSame}}),new objj_method(sel_getUid("_couldBeKeyEquivalent"),function(a){with(a){if(_type!==CPKeyDown)return NO;a=_characters.length;
if(!a)return NO;if(_modifierFlags&(CPCommandKeyMask|CPControlKeyMask))return YES;for(var b=0;b<a;b++)switch(_characters.charAt(b)){case CPBackspaceCharacter:case CPDeleteCharacter:case CPDeleteFunctionKey:case CPTabCharacter:case CPCarriageReturnCharacter:case CPNewlineCharacter:case CPSpaceFunctionKey:case CPEscapeFunctionKey:case CPPageUpFunctionKey:case CPPageDownFunctionKey:case CPLeftArrowFunctionKey:case CPUpArrowFunctionKey:case CPRightArrowFunctionKey:case CPDownArrowFunctionKey:case CPEndFunctionKey:case CPHomeFunctionKey:return YES}return NO}})]);
class_addMethods(a,[new objj_method(sel_getUid("keyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:"),function(a,b,c,d,e,f,h,o,k,n,q,s){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initKeyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:",c,d,e,f,h,o,k,n,q,s)}),new objj_method(sel_getUid("mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:"),
function(a,b,c,d,e,f,h,o,k,n,q){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initMouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",c,d,e,f,h,o,k,n,q)}),new objj_method(sel_getUid("otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:"),function(a,b,c,d,e,f,h,o,k,n,q){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initOtherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",
c,d,e,f,h,o,k,n,q)}),new objj_method(sel_getUid("mouseLocation"),function(a){with(a){a=objj_msgSend(CPApp,"currentEvent");var b=objj_msgSend(a,"window");if(b)return objj_msgSend(b,"convertBaseToGlobal:",objj_msgSend(a,"locationInWindow"));return objj_msgSend(a,"locationInWindow")}}),new objj_method(sel_getUid("startPeriodicEventsAfterDelay:withPeriod:"),function(a,b,c,d){with(a)e=window.setTimeout(function(){e=window.setInterval(_CPEventFirePeriodEvent,d*1E3)},c*1E3)}),new objj_method(sel_getUid("stopPeriodicEvents"),
function(a){with(a){if(e===nil)return;window.clearTimeout(e);e=nil}})]);_CPEventFirePeriodEvent=function(){objj_msgSend(CPApp,"sendEvent:",objj_msgSend(CPEvent,"otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",CPPeriodic,{x:0,y:0},0,0,0,nil,0,0,0))};var d=objj_msgSend(CPEvent,"class");_CPEventFromNativeMouseEvent=function(a,b,c,e,f,h,p,o,k,n){a.isa=d;a._type=b;a._location=c;a._modifierFlags=e;a._timestamp=f;a._windowNumber=h;a._window=nil;a._context=p;
a._eventNumber=o;a._clickCount=k;a._pressure=n;return a}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPStandardWindowView.j",baseURL),function(h,f){f("CPTextField.j",YES);f("_CPWindowView.j",YES);var e=nil,c=nil,b=objj_allocateClassPair(CPView,"_CPTexturedWindowHeadView"),a=b.isa;class_addIvars(b,[new objj_ivar("_gradientView"),new objj_ivar("_solidView"),new objj_ivar("_dividerView")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("initWithFrame:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,
super_class:objj_getClass("_CPTexturedWindowHeadView").super_class},"initWithFrame:",c))b=objj_msgSend(a,"class"),c=objj_msgSend(a,"bounds"),_gradientView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,CGRectGetWidth(c),41)),objj_msgSend(_gradientView,"setBackgroundColor:",objj_msgSend(b,"gradientColor")),objj_msgSend(a,"addSubview:",_gradientView),_solidView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,41,CGRectGetWidth(c),CGRectGetHeight(c)-
41)),objj_msgSend(_solidView,"setBackgroundColor:",objj_msgSend(b,"solidColor")),objj_msgSend(a,"addSubview:",_solidView);return a}}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(a){with(a)a=objj_msgSend(a,"bounds"),objj_msgSend(_gradientView,"setFrameSize:",CGSizeMake(CGRectGetWidth(a),41)),objj_msgSend(_solidView,"setFrameSize:",CGSizeMake(CGRectGetWidth(a),CGRectGetHeight(a)-41))})]);class_addMethods(a,[new objj_method(sel_getUid("gradientColor"),function(a){with(a)return e||
(a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_CPWindowView,"class")),e=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPThreePartImage,"alloc"),"initWithImageSlices:isVertical:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/Standard/CPWindowStandardTop0.png"),CGSizeMake(6,41)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/Standard/CPWindowStandardTop1.png"),
CGSizeMake(1,41)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/Standard/CPWindowStandardTop2.png"),CGSizeMake(6,41))],NO))),e}),new objj_method(sel_getUid("solidColor"),function(a){with(a)return c||(c=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",195/255,195/255,195/255,1)),c})]);var d=nil,g=nil,j=nil,i=nil,m=nil,l=nil,r=nil,p=nil,o=nil;b=objj_allocateClassPair(_CPWindowView,"_CPStandardWindowView");a=b.isa;
class_addIvars(b,[new objj_ivar("_headView"),new objj_ivar("_dividerView"),new objj_ivar("_bodyView"),new objj_ivar("_toolbarView"),new objj_ivar("_titleField"),new objj_ivar("_closeButton"),new objj_ivar("_minimizeButton"),new objj_ivar("_isDocumentEdited")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("contentRectForFrameRect:"),function(a,b,c){with(a)return b=objj_msgSend(objj_msgSend(a,"class"),"contentRectForFrameRect:",c),a=objj_msgSend(objj_msgSend(a,"window"),
"toolbar"),objj_msgSend(a,"isVisible")&&(toolbarHeight=CGRectGetHeight(objj_msgSend(objj_msgSend(a,"_toolbarView"),"frame")),b.origin.y+=toolbarHeight,b.size.height-=toolbarHeight),b}),new objj_method(sel_getUid("frameRectForContentRect:"),function(a,b,c){with(a)return b=objj_msgSend(objj_msgSend(a,"class"),"frameRectForContentRect:",c),a=objj_msgSend(objj_msgSend(a,"window"),"toolbar"),objj_msgSend(a,"isVisible")&&(toolbarHeight=CGRectGetHeight(objj_msgSend(objj_msgSend(a,"_toolbarView"),"frame")),
b.origin.y-=toolbarHeight,b.size.height+=toolbarHeight),b}),new objj_method(sel_getUid("initWithFrame:styleMask:"),function(a,b,c,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPStandardWindowView").super_class},"initWithFrame:styleMask:",c,d))b=objj_msgSend(a,"class"),c=objj_msgSend(a,"bounds"),_headView=objj_msgSend(objj_msgSend(_CPTexturedWindowHeadView,"alloc"),"initWithFrame:",CGRectMake(0,0,CGRectGetWidth(c),objj_msgSend(objj_msgSend(a,"class"),"titleBarHeight"))),
objj_msgSend(_headView,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_headView,"setHitTests:",NO),objj_msgSend(a,"addSubview:",_headView),_dividerView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,CGRectGetMaxY(objj_msgSend(_headView,"frame")),CGRectGetWidth(c),1)),objj_msgSend(_dividerView,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_dividerView,"setBackgroundColor:",objj_msgSend(b,"dividerBackgroundColor")),objj_msgSend(_dividerView,"setHitTests:",
NO),objj_msgSend(a,"addSubview:",_dividerView),d=CGRectGetMaxY(objj_msgSend(_dividerView,"frame")),_bodyView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,d,CGRectGetWidth(c),CGRectGetHeight(c)-d)),objj_msgSend(_bodyView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(_bodyView,"setBackgroundColor:",objj_msgSend(b,"bodyBackgroundColor")),objj_msgSend(_bodyView,"setHitTests:",NO),objj_msgSend(a,"addSubview:",_bodyView),objj_msgSend(a,"setResizeIndicatorOffset:",
CGSizeMake(2,2)),_titleField=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_titleField,"setFont:",objj_msgSend(CPFont,"boldSystemFontOfSize:",12)),objj_msgSend(_titleField,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_titleField,"setLineBreakMode:",CPLineBreakByTruncatingTail),objj_msgSend(_titleField,"setAlignment:",CPCenterTextAlignment),objj_msgSend(_titleField,"setTextShadowColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_titleField,
"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(_titleField,"setStringValue:","Untitled"),objj_msgSend(_titleField,"sizeToFit"),objj_msgSend(_titleField,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_titleField,"setStringValue:",""),objj_msgSend(a,"addSubview:",_titleField),_styleMask&CPClosableWindowMask&&(i||(b=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class")),i=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:",
"CPWindow/Standard/CPWindowStandardCloseButton.png"),CGSizeMake(16,16)),m=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardCloseButtonHighlighted.png"),CGSizeMake(16,16)),l=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardCloseButtonUnsaved.png"),CGSizeMake(16,16)),r=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardCloseButtonUnsavedHighlighted.png"),CGSizeMake(16,16))),_closeButton=objj_msgSend(objj_msgSend(CPButton,"alloc"),"initWithFrame:",CGRectMake(8,7,16,16)),objj_msgSend(_closeButton,"setBordered:",NO),objj_msgSend(a,"_updateCloseButton"),objj_msgSend(a,"addSubview:",_closeButton)),_styleMask&CPMiniaturizableWindowMask&&!objj_msgSend(CPPlatform,"isBrowser")&&(p||(b=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class")),
p=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardMinimizeButton.png"),CGSizeMake(16,16)),o=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardMinimizeButtonHighlighted.png"),CGSizeMake(16,16))),_minimizeButton=objj_msgSend(objj_msgSend(CPButton,"alloc"),"initWithFrame:",CGRectMake(27,7,16,16)),objj_msgSend(_minimizeButton,
"setBordered:",NO),objj_msgSend(_minimizeButton,"setImage:",p),objj_msgSend(_minimizeButton,"setAlternateImage:",o),objj_msgSend(a,"addSubview:",_minimizeButton)),objj_msgSend(a,"tile");return a}}),new objj_method(sel_getUid("viewDidMoveToWindow"),function(a){with(a)objj_msgSend(_closeButton,"setTarget:",objj_msgSend(a,"window")),objj_msgSend(_closeButton,"setAction:",sel_getUid("performClose:")),objj_msgSend(_minimizeButton,"setTarget:",objj_msgSend(a,"window")),objj_msgSend(_minimizeButton,"setAction:",
sel_getUid("performMiniaturize:"))}),new objj_method(sel_getUid("toolbarOffset"),function(a){with(a)return CGSizeMake(0,objj_msgSend(objj_msgSend(a,"class"),"titleBarHeight"))}),new objj_method(sel_getUid("tile"),function(a){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPStandardWindowView").super_class},"tile");var b=objj_msgSend(a,"window"),c=objj_msgSend(a,"bounds"),d=CGRectGetWidth(c);objj_msgSend(_headView,"setFrameSize:",CGSizeMake(d,objj_msgSend(a,"toolbarMaxY")));objj_msgSend(_dividerView,
"setFrame:",CGRectMake(0,CGRectGetMaxY(objj_msgSend(_headView,"frame")),d,1));a=CGRectGetMaxY(objj_msgSend(_dividerView,"frame"));objj_msgSend(_bodyView,"setFrame:",CGRectMake(0,a,d,CGRectGetHeight(c)-a));c=8;_closeButton&&(c+=19);_minimizeButton&&(c+=19);objj_msgSend(_titleField,"setFrame:",CGRectMake(c,5,d-c*2,CGRectGetHeight(objj_msgSend(_titleField,"frame"))));objj_msgSend(objj_msgSend(b,"contentView"),"setFrameOrigin:",CGPointMake(0,CGRectGetMaxY(objj_msgSend(_dividerView,"frame"))))}}),new objj_method(sel_getUid("_updateCloseButton"),
function(a){with(a)_isDocumentEdited?(objj_msgSend(_closeButton,"setImage:",l),objj_msgSend(_closeButton,"setAlternateImage:",r)):(objj_msgSend(_closeButton,"setImage:",i),objj_msgSend(_closeButton,"setAlternateImage:",m))}),new objj_method(sel_getUid("setDocumentEdited:"),function(a,b,c){with(a)_isDocumentEdited=c,objj_msgSend(a,"_updateCloseButton")}),new objj_method(sel_getUid("setTitle:"),function(a,b,c){with(a)objj_msgSend(_titleField,"setStringValue:",c)}),new objj_method(sel_getUid("mouseDown:"),
function(a,b,c){with(a){if(CGRectContainsPoint(objj_msgSend(_headView,"frame"),objj_msgSend(a,"convertPoint:fromView:",objj_msgSend(c,"locationInWindow"),nil)))return objj_msgSend(a,"trackMoveWithEvent:",c);objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPStandardWindowView").super_class},"mouseDown:",c)}})]);class_addMethods(a,[new objj_method(sel_getUid("bodyBackgroundColor"),function(a){with(a)return d||(d=objj_msgSend(CPColor,"colorWithWhite:alpha:",0.96,1)),d}),new objj_method(sel_getUid("dividerBackgroundColor"),
function(a){with(a)return g||(g=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",125/255,125/255,125/255,1)),g}),new objj_method(sel_getUid("titleColor"),function(a){with(a)return j||(j=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",44/255,44/255,44/255,1)),j}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(a,b,c){with(a)return b=CGRectMakeCopy(c),a=objj_msgSend(a,"titleBarHeight")+1,b.origin.y+=a,b.size.height-=a,b}),new objj_method(sel_getUid("frameRectForContentRect:"),
function(a,b,c){with(a)return b=CGRectMakeCopy(c),a=objj_msgSend(a,"titleBarHeight")+1,b.origin.y-=a,b.size.height+=a,b}),new objj_method(sel_getUid("titleBarHeight"),function(a){with(a)return 25})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPKeyedArchiver.j",baseURL),function(h,f){f("CPArray.j",YES);f("CPCoder.j",YES);f("CPData.j",YES);f("CPDictionary.j",YES);f("CPNumber.j",YES);f("CPString.j",YES);f("CPValue.j",YES);var e=nil,c=nil,b=Nil,a=Nil,d=objj_allocateClassPair(CPValue,"_CPKeyedArchiverValue"),g=d.isa;objj_registerClassPair(d);d=objj_allocateClassPair(CPCoder,"CPKeyedArchiver");g=d.isa;class_addIvars(d,[new objj_ivar("_delegate"),new objj_ivar("_delegateSelectors"),
new objj_ivar("_data"),new objj_ivar("_objects"),new objj_ivar("_UIDs"),new objj_ivar("_conditionalUIDs"),new objj_ivar("_replacementObjects"),new objj_ivar("_replacementClassNames"),new objj_ivar("_plistObject"),new objj_ivar("_plistObjects"),new objj_ivar("_outputFormat")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initForWritingWithMutableData:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPKeyedArchiver").super_class},
"init"))_data=c,_objects=[],_UIDs=objj_msgSend(CPDictionary,"dictionary"),_conditionalUIDs=objj_msgSend(CPDictionary,"dictionary"),_replacementObjects=objj_msgSend(CPDictionary,"dictionary"),_data=c,_plistObject=objj_msgSend(CPDictionary,"dictionary"),_plistObjects=objj_msgSend(CPArray,"arrayWithObject:","$null");return a}}),new objj_method(sel_getUid("finishEncoding"),function(a){with(a){_delegate&&_delegateSelectors&16&&objj_msgSend(_delegate,"archiverWillFinish:",a);for(var b=0,c=_plistObject;b<
_objects.length;++b){var d=_objects[b];objj_msgSend(d,"classForKeyedArchiver");_plistObject=_plistObjects[objj_msgSend(_UIDs,"objectForKey:",objj_msgSend(d,"UID"))];objj_msgSend(d,"encodeWithCoder:",a);_delegate&&_delegateSelectors&1&&objj_msgSend(_delegate,"archiver:didEncodeObject:",a,d)}_plistObject=objj_msgSend(CPDictionary,"dictionary");objj_msgSend(_plistObject,"setObject:forKey:",c,"$top");objj_msgSend(_plistObject,"setObject:forKey:",_plistObjects,"$objects");objj_msgSend(_plistObject,"setObject:forKey:",
objj_msgSend(a,"className"),"$archiver");objj_msgSend(_plistObject,"setObject:forKey:","100000","$version");objj_msgSend(_data,"setPlistObject:",_plistObject);_delegate&&_delegateSelectors&8&&objj_msgSend(_delegate,"archiverDidFinish:",a)}}),new objj_method(sel_getUid("outputFormat"),function(a){with(a)return _outputFormat}),new objj_method(sel_getUid("setOutputFormat:"),function(a,b,c){with(a)_outputFormat=c}),new objj_method(sel_getUid("encodeBool:forKey:"),function(a,b,c,d){with(a)objj_msgSend(_plistObject,
"setObject:forKey:",j(a,c,NO),d)}),new objj_method(sel_getUid("encodeDouble:forKey:"),function(a,b,c,d){with(a)objj_msgSend(_plistObject,"setObject:forKey:",j(a,c,NO),d)}),new objj_method(sel_getUid("encodeFloat:forKey:"),function(a,b,c,d){with(a)objj_msgSend(_plistObject,"setObject:forKey:",j(a,c,NO),d)}),new objj_method(sel_getUid("encodeInt:forKey:"),function(a,b,c,d){with(a)objj_msgSend(_plistObject,"setObject:forKey:",j(a,c,NO),d)}),new objj_method(sel_getUid("setDelegate:"),function(a,b,c){with(a)_delegate=
c,objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:didEncodeObject:"))&&(_delegateSelectors|=1),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:willEncodeObject:"))&&(_delegateSelectors|=2),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:willReplaceObject:withObject:"))&&(_delegateSelectors|=4),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:didFinishEncoding:"))&&(_delegateSelectors|=_CPKeyedArchiverDidFinishEncodingSelector),
objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:willFinishEncoding:"))&&(_delegateSelectors|=_CPKeyedArchiverWillFinishEncodingSelector)}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("encodePoint:forKey:"),function(a,b,c,d){with(a)objj_msgSend(_plistObject,"setObject:forKey:",j(a,CPStringFromPoint(c),NO),d)}),new objj_method(sel_getUid("encodeRect:forKey:"),function(a,b,c,d){with(a)objj_msgSend(_plistObject,"setObject:forKey:",
j(a,CPStringFromRect(c),NO),d)}),new objj_method(sel_getUid("encodeSize:forKey:"),function(a,b,c,d){with(a)objj_msgSend(_plistObject,"setObject:forKey:",j(a,CPStringFromSize(c),NO),d)}),new objj_method(sel_getUid("encodeConditionalObject:forKey:"),function(a,b,c,d){with(a)objj_msgSend(_plistObject,"setObject:forKey:",j(a,c,YES),d)}),new objj_method(sel_getUid("encodeNumber:forKey:"),function(a,b,c,d){with(a)objj_msgSend(_plistObject,"setObject:forKey:",j(a,c,NO),d)}),new objj_method(sel_getUid("encodeObject:forKey:"),
function(a,b,c,d){with(a)objj_msgSend(_plistObject,"setObject:forKey:",j(a,c,NO),d)}),new objj_method(sel_getUid("_encodeArrayOfObjects:forKey:"),function(a,b,c,d){with(a){b=0;for(var g=c.length,e=[];b<g;++b)objj_msgSend(e,"addObject:",j(a,c[b],NO));objj_msgSend(_plistObject,"setObject:forKey:",e,d)}}),new objj_method(sel_getUid("_encodeDictionaryOfObjects:forKey:"),function(a,b,c,d){with(a){for(var g=objj_msgSend(c,"keyEnumerator"),e=objj_msgSend(CPDictionary,"dictionary");b=objj_msgSend(g,"nextObject");)objj_msgSend(e,
"setObject:forKey:",j(a,objj_msgSend(c,"objectForKey:",b),NO),b);objj_msgSend(_plistObject,"setObject:forKey:",e,d)}}),new objj_method(sel_getUid("setClassName:forClass:"),function(a,b,c,d){with(a)_replacementClassNames||(_replacementClassNames=objj_msgSend(CPDictionary,"dictionary")),objj_msgSend(_replacementClassNames,"setObject:forKey:",c,CPStringFromClass(d))}),new objj_method(sel_getUid("classNameForClass:"),function(a,b,c){with(a){if(!_replacementClassNames)return c.name;return(a=objj_msgSend(_replacementClassNames,
"objectForKey:",CPStringFromClass(aClassName)))?a:c.name}})]);class_addMethods(g,[new objj_method(sel_getUid("initialize"),function(d){with(d){if(d!=objj_msgSend(CPKeyedArchiver,"class"))return;b=objj_msgSend(CPString,"class");a=objj_msgSend(CPNumber,"class");c=objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",0,"CP$UID")}}),new objj_method(sel_getUid("allowsKeyedCoding"),function(a){with(a)return YES}),new objj_method(sel_getUid("archivedDataWithRootObject:"),function(a,b,c){with(a)return b=
objj_msgSend(CPData,"dataWithPlistObject:",nil),a=objj_msgSend(objj_msgSend(a,"alloc"),"initForWritingWithMutableData:",b),objj_msgSend(a,"encodeObject:forKey:",c,"root"),objj_msgSend(a,"finishEncoding"),b}),new objj_method(sel_getUid("setClassName:forClass:"),function(a,b,c,d){with(a)e||(e=objj_msgSend(CPDictionary,"dictionary")),objj_msgSend(e,"setObject:forKey:",c,CPStringFromClass(d))}),new objj_method(sel_getUid("classNameForClass:"),function(a,b,c){with(a){if(!e)return c.name;return(a=objj_msgSend(e,
"objectForKey:",CPStringFromClass(c)))?a:c.name}})]);var j=function(d,g,e){g!==nil&&g!==void 0&&!g.isa&&(g=objj_msgSend(_CPKeyedArchiverValue,"valueWithJSObject:",g));var f=objj_msgSend(g,"UID"),j=objj_msgSend(d._replacementObjects,"objectForKey:",f);j===nil&&(j=objj_msgSend(g,"replacementObjectForKeyedArchiver:",d),d._delegate&&(j!==g&&d._delegateSelectors&4&&objj_msgSend(d._delegate,"archiver:willReplaceObject:withObject:",d,g,j),d._delegateSelectors&2&&(g=objj_msgSend(d._delegate,"archiver:willEncodeObject:",
d,j),g!==j&&d._delegateSelectors&4&&objj_msgSend(d._delegate,"archiver:willReplaceObject:withObject:",d,j,g),j=g)),objj_msgSend(d._replacementObjects,"setObject:forKey:",j,f));if(j===nil)return c;g=objj_msgSend(d._UIDs,"objectForKey:",f=objj_msgSend(j,"UID"));if(g===nil)if(e){if((g=objj_msgSend(d._conditionalUIDs,"objectForKey:",f))===nil)objj_msgSend(d._conditionalUIDs,"setObject:forKey:",g=objj_msgSend(d._plistObjects,"count"),f),objj_msgSend(d._plistObjects,"addObject:","$null")}else{g=objj_msgSend(j,
"classForKeyedArchiver");e=nil;if(g===b||g===a)e=j;else{e=objj_msgSend(CPDictionary,"dictionary");objj_msgSend(d._objects,"addObject:",j);(j=objj_msgSend(d,"classNameForClass:",g))||(j=objj_msgSend(objj_msgSend(d,"class"),"classNameForClass:",g));j?g=CPClassFromString(j):j=g.name;var h=objj_msgSend(d._UIDs,"objectForKey:",j);if(!h){var k=objj_msgSend(CPDictionary,"dictionary");h=[];objj_msgSend(k,"setObject:forKey:",j,"$classname");do objj_msgSend(h,"addObject:",CPStringFromClass(g));while(g=objj_msgSend(g,
"superclass"));objj_msgSend(k,"setObject:forKey:",h,"$classes");h=objj_msgSend(d._plistObjects,"count");objj_msgSend(d._plistObjects,"addObject:",k);objj_msgSend(d._UIDs,"setObject:forKey:",h,j)}objj_msgSend(e,"setObject:forKey:",objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",h,"CP$UID"),"$class")}g=objj_msgSend(d._conditionalUIDs,"objectForKey:",f);g!==nil?(objj_msgSend(d._UIDs,"setObject:forKey:",g,f),objj_msgSend(d._plistObjects,"replaceObjectAtIndex:withObject:",g,e)):(objj_msgSend(d._UIDs,
"setObject:forKey:",g=objj_msgSend(d._plistObjects,"count"),f),objj_msgSend(d._plistObjects,"addObject:",e))}return objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",g,"CP$UID")}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuItemStandardView.j",baseURL),function(h,f){f("CPControl.j",YES);var e=nil,c=nil,b=nil,a=[],d=[],g=objj_allocateClassPair(CPView,"_CPMenuItemStandardView"),j=g.isa;class_addIvars(g,[new objj_ivar("_menuItem"),new objj_ivar("_font"),new objj_ivar("_textColor"),new objj_ivar("_textShadowColor"),new objj_ivar("_minSize"),new objj_ivar("_isDirty"),new objj_ivar("_stateView"),new objj_ivar("_imageAndTextView"),new objj_ivar("_keyEquivalentView"),
new objj_ivar("_submenuIndicatorView")]);objj_registerClassPair(g);class_addMethods(g,[new objj_method(sel_getUid("menuItem"),function(a){with(a)return _menuItem}),new objj_method(sel_getUid("setMenuItem:"),function(a,b,c){with(a)_menuItem=c}),new objj_method(sel_getUid("minSize"),function(a){with(a)return _minSize}),new objj_method(sel_getUid("initWithFrame:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuItemStandardView").super_class},"initWithFrame:",
c))_stateView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMake(0,0,0,0)),objj_msgSend(_stateView,"setImageScaling:",CPScaleNone),objj_msgSend(a,"addSubview:",_stateView),_imageAndTextView=objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",CGRectMake(0,0,0,0)),objj_msgSend(_imageAndTextView,"setImagePosition:",CPImageLeft),objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(a,"addSubview:",_imageAndTextView),_keyEquivalentView=
objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",CGRectMake(0,0,0,0)),objj_msgSend(_keyEquivalentView,"setImagePosition:",CPNoImage),objj_msgSend(_keyEquivalentView,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(_keyEquivalentView,"setAutoresizingMask:",CPViewMinXMargin),objj_msgSend(a,"addSubview:",_keyEquivalentView),_submenuIndicatorView=objj_msgSend(objj_msgSend(_CPMenuItemSubmenuIndicatorView,"alloc"),"initWithFrame:",CGRectMake(0,0,8,10)),objj_msgSend(_submenuIndicatorView,
"setColor:",e),objj_msgSend(_submenuIndicatorView,"setAutoresizingMask:",CPViewMinXMargin),objj_msgSend(a,"addSubview:",_submenuIndicatorView),objj_msgSend(a,"setAutoresizingMask:",CPViewWidthSizable);return a}}),new objj_method(sel_getUid("textColor"),function(a){with(a){if(!objj_msgSend(_menuItem,"isEnabled"))return objj_msgSend(CPColor,"lightGrayColor");return _textColor||objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",70/255,69/255,69/255,1)}}),new objj_method(sel_getUid("textShadowColor"),
function(a){with(a){if(!objj_msgSend(_menuItem,"isEnabled"))return nil;return _textShadowColor||objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.8)}}),new objj_method(sel_getUid("setFont:"),function(a,b,c){with(a)_font=c}),new objj_method(sel_getUid("update"),function(b){with(b){var c=3+objj_msgSend(_menuItem,"indentationLevel")*17,d=0,g=objj_msgSend(objj_msgSend(_menuItem,"menu"),"showsStateColumn");g?(objj_msgSend(_stateView,"setHidden:",NO),objj_msgSend(_stateView,"setImage:",a[objj_msgSend(_menuItem,
"state")]||nil),c+=14):objj_msgSend(_stateView,"setHidden:",YES);objj_msgSend(_imageAndTextView,"setFont:",objj_msgSend(_menuItem,"font")||_font);objj_msgSend(_imageAndTextView,"setVerticalAlignment:",CPCenterVerticalTextAlignment);objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image"));objj_msgSend(_imageAndTextView,"setText:",objj_msgSend(_menuItem,"title"));objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(b,"textColor"));objj_msgSend(_imageAndTextView,"setTextShadowColor:",
objj_msgSend(b,"textShadowColor"));objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1));objj_msgSend(_imageAndTextView,"sizeToFit");var e=objj_msgSend(_imageAndTextView,"frame");e.origin.x=c;c+=CGRectGetWidth(e);d=MAX(d,CGRectGetHeight(e));var f=!!objj_msgSend(_menuItem,"keyEquivalent"),j=objj_msgSend(_menuItem,"hasSubmenu");if(f||j)c+=30;if(f){objj_msgSend(_keyEquivalentView,"setFont:",objj_msgSend(_menuItem,"font")||_font);objj_msgSend(_keyEquivalentView,"setVerticalAlignment:",
CPCenterVerticalTextAlignment);objj_msgSend(_keyEquivalentView,"setImage:",objj_msgSend(_menuItem,"image"));objj_msgSend(_keyEquivalentView,"setText:",objj_msgSend(_menuItem,"keyEquivalentStringRepresentation"));objj_msgSend(_keyEquivalentView,"setTextColor:",objj_msgSend(b,"textColor"));objj_msgSend(_keyEquivalentView,"setTextShadowColor:",objj_msgSend(b,"textShadowColor"));objj_msgSend(_keyEquivalentView,"setTextShadowOffset:",CGSizeMake(0,1));objj_msgSend(_keyEquivalentView,"setFrameOrigin:",CGPointMake(c,
4));objj_msgSend(_keyEquivalentView,"sizeToFit");var h=objj_msgSend(_keyEquivalentView,"frame");h.origin.x=c;c+=CGRectGetWidth(h);d=MAX(d,CGRectGetHeight(h));j&&(c+=30)}else objj_msgSend(_keyEquivalentView,"setHidden:",YES);if(j){objj_msgSend(_submenuIndicatorView,"setHidden:",NO);var q=objj_msgSend(_submenuIndicatorView,"frame");q.origin.x=c;c+=CGRectGetWidth(q);d=MAX(d,CGRectGetHeight(q))}else objj_msgSend(_submenuIndicatorView,"setHidden:",YES);d+=8;e.origin.y=FLOOR((d-CGRectGetHeight(e))/2);objj_msgSend(_imageAndTextView,
"setFrame:",e);g&&objj_msgSend(_stateView,"setFrameSize:",CGSizeMake(14,d));if(f)h.origin.y=FLOOR((d-CGRectGetHeight(h))/2),objj_msgSend(_keyEquivalentView,"setFrame:",h);if(j)q.origin.y=FLOOR((d-CGRectGetHeight(q))/2),objj_msgSend(_submenuIndicatorView,"setFrame:",q);_minSize=CGSizeMake(c+17,d);objj_msgSend(b,"setAutoresizesSubviews:",NO);objj_msgSend(b,"setFrameSize:",_minSize);objj_msgSend(b,"setAutoresizesSubviews:",YES)}}),new objj_method(sel_getUid("highlight:"),function(g,f,j){with(g){if(!objj_msgSend(_menuItem,
"isEnabled"))return;j?(objj_msgSend(g,"setBackgroundColor:",c),objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"alternateImage")||objj_msgSend(_menuItem,"image")),objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_keyEquivalentView,"setTextColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_imageAndTextView,"setTextShadowColor:",b),objj_msgSend(_keyEquivalentView,
"setTextShadowColor:",b)):(objj_msgSend(g,"setBackgroundColor:",nil),objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image")),objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(g,"textColor")),objj_msgSend(_keyEquivalentView,"setTextColor:",objj_msgSend(g,"textColor")),objj_msgSend(_submenuIndicatorView,"setColor:",e),objj_msgSend(_imageAndTextView,"setTextShadowColor:",objj_msgSend(g,"textShadowColor")),objj_msgSend(_keyEquivalentView,"setTextShadowColor:",objj_msgSend(g,
"textShadowColor")));objj_msgSend(objj_msgSend(_menuItem,"menu"),"showsStateColumn")&&(j?objj_msgSend(_stateView,"setImage:",d[objj_msgSend(_menuItem,"state")]||nil):objj_msgSend(_stateView,"setImage:",a[objj_msgSend(_menuItem,"state")]||nil))}})]);class_addMethods(j,[new objj_method(sel_getUid("initialize"),function(g){with(g){if(g!==objj_msgSend(_CPMenuItemStandardView,"class"))return;e=objj_msgSend(CPColor,"grayColor");c=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",95/255,131/
255,185/255,1);b=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",26/255,73/255,109/255,1);g=objj_msgSend(CPBundle,"bundleForClass:",g);a[CPOffState]=nil;d[CPOffState]=nil;a[CPOnState]=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(g,"pathForResource:","CPMenuItem/CPMenuItemOnState.png"),CGSizeMake(14,14));d[CPOnState]=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(g,"pathForResource:","CPMenuItem/CPMenuItemOnStateHighlighted.png"),
CGSizeMake(14,14));a[CPMixedState]=nil;d[CPMixedState]=nil}}),new objj_method(sel_getUid("view"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")}),new objj_method(sel_getUid("_standardLeftMargin"),function(a){with(a)return 17})]);g=objj_allocateClassPair(CPView,"_CPMenuItemSubmenuIndicatorView");j=g.isa;class_addIvars(g,[new objj_ivar("_color")]);objj_registerClassPair(g);class_addMethods(g,[new objj_method(sel_getUid("setColor:"),function(a,b,c){with(a){if(_color===c)return;
_color=c;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("drawRect:"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");a=objj_msgSend(a,"bounds");CGContextBeginPath(b);CGContextMoveToPoint(b,CGRectGetMinX(a),CGRectGetMinY(a));CGContextAddLineToPoint(b,CGRectGetMaxX(a),CGRectGetMidY(a));CGContextAddLineToPoint(b,CGRectGetMinX(a),CGRectGetMaxY(a));CGContextClosePath(b);CGContextSetFillColor(b,_color);CGContextFillPath(b)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPWindowController.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("Foundation/CPString.j",NO);f("CPResponder.j",YES);f("CPWindow.j",YES);f("CPDocument.j",YES);var e=objj_allocateClassPair(CPResponder,"CPWindowController");class_addIvars(e,[new objj_ivar("_window"),new objj_ivar("_documents"),new objj_ivar("_document"),new objj_ivar("_shouldCloseDocument"),new objj_ivar("_supportsMultipleDocuments"),new objj_ivar("_cibOwner"),
new objj_ivar("_windowCibName"),new objj_ivar("_windowCibPath"),new objj_ivar("_viewController"),new objj_ivar("_viewControllerContainerView")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(c){with(c)return objj_msgSend(c,"initWithWindow:",nil)}),new objj_method(sel_getUid("initWithWindow:"),function(c,b,a){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPWindowController").super_class},"init"))objj_msgSend(c,"setWindow:",a),objj_msgSend(c,
"setShouldCloseDocument:",NO),objj_msgSend(c,"setNextResponder:",CPApp),_documents=[];return c}}),new objj_method(sel_getUid("initWithWindowCibName:"),function(c,b,a){with(c)return objj_msgSend(c,"initWithWindowCibName:owner:",a,c)}),new objj_method(sel_getUid("initWithWindowCibName:owner:"),function(c,b,a,d){with(c){if(c=objj_msgSend(c,"initWithWindow:",nil))_cibOwner=d,_windowCibName=a;return c}}),new objj_method(sel_getUid("initWithWindowCibPath:owner:"),function(c,b,a,d){with(c){if(c=objj_msgSend(c,
"initWithWindow:",nil))_cibOwner=d,_windowCibPath=a;return c}}),new objj_method(sel_getUid("loadWindow"),function(c){with(c){if(_window)return;objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"loadCibFile:externalNameTable:",objj_msgSend(c,"windowCibPath"),objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",_cibOwner,CPCibOwner))}}),new objj_method(sel_getUid("showWindow:"),function(c,b,a){with(c)c=objj_msgSend(c,"window"),objj_msgSend(c,"respondsToSelector:",sel_getUid("becomesKeyOnlyIfNeeded"))&&
objj_msgSend(c,"becomesKeyOnlyIfNeeded")?objj_msgSend(c,"orderFront:",a):objj_msgSend(c,"makeKeyAndOrderFront:",a)}),new objj_method(sel_getUid("isWindowLoaded"),function(c){with(c)return _window!==nil}),new objj_method(sel_getUid("window"),function(c){with(c){if(!_window){objj_msgSend(c,"windowWillLoad");objj_msgSend(_document,"windowControllerWillLoadCib:",c);objj_msgSend(c,"loadWindow");_window===nil&&objj_msgSend(_cibOwner,"isKindOfClass:",objj_msgSend(CPDocument,"class"))&&objj_msgSend(c,"setWindow:",
objj_msgSend(_cibOwner,"valueForKey:","window"));if(!_window){var b=objj_msgSend(CPString,"stringWithFormat:","Window for %@ could not be loaded from Cib or no window specified.                                                         Override loadWindow to load the window manually.",c);objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,b)}objj_msgSend(c,"windowDidLoad");objj_msgSend(_document,"windowControllerDidLoadCib:",c);objj_msgSend(c,"synchronizeWindowTitleWithDocumentName")}return _window}}),
new objj_method(sel_getUid("setWindow:"),function(c,b,a){with(c)objj_msgSend(_window,"setWindowController:",nil),_window=a,objj_msgSend(_window,"setWindowController:",c),objj_msgSend(_window,"setNextResponder:",c)}),new objj_method(sel_getUid("windowDidLoad"),function(c){with(c);}),new objj_method(sel_getUid("windowWillLoad"),function(c){with(c);}),new objj_method(sel_getUid("setDocument:"),function(c,b,a){with(c){if(_document===a)return;b=objj_msgSend(CPNotificationCenter,"defaultCenter");_document&&
(objj_msgSend(c,"supportsMultipleDocuments")||objj_msgSend(c,"removeDocument:",_document),objj_msgSend(b,"removeObserver:name:object:",c,CPDocumentWillSaveNotification,_document),objj_msgSend(b,"removeObserver:name:object:",c,CPDocumentDidSaveNotification,_document),objj_msgSend(b,"removeObserver:name:object:",c,CPDocumentDidFailToSaveNotification,_document));if(_document=a)objj_msgSend(c,"addDocument:",_document),objj_msgSend(b,"addObserver:selector:name:object:",c,sel_getUid("_documentWillSave:"),
CPDocumentWillSaveNotification,_document),objj_msgSend(b,"addObserver:selector:name:object:",c,sel_getUid("_documentDidSave:"),CPDocumentDidSaveNotification,_document),objj_msgSend(b,"addObserver:selector:name:object:",c,sel_getUid("_documentDidFailToSave:"),CPDocumentDidFailToSaveNotification,_document),objj_msgSend(c,"setDocumentEdited:",objj_msgSend(_document,"isDocumentEdited"));(a=objj_msgSend(_document,"viewControllerForWindowController:",c))&&objj_msgSend(c,"setViewController:",a);objj_msgSend(c,
"synchronizeWindowTitleWithDocumentName");objj_msgSend(objj_msgSend(objj_msgSend(c,"window"),"toolbar"),"validateVisibleItems")}}),new objj_method(sel_getUid("setSupportsMultipleDocuments:"),function(c,b,a){with(c)_supportsMultipleDocuments=a}),new objj_method(sel_getUid("supportsMultipleDocuments"),function(c){with(c)return _supportsMultipleDocuments}),new objj_method(sel_getUid("addDocument:"),function(c,b,a){with(c)a&&!objj_msgSend(_documents,"containsObject:",a)&&objj_msgSend(_documents,"addObject:",
a)}),new objj_method(sel_getUid("removeDocument:"),function(c,b,a){with(c){b=objj_msgSend(_documents,"indexOfObjectIdenticalTo:",a);if(b===CPNotFound)return;objj_msgSend(_documents,"removeObjectAtIndex:",b);_document===a&&objj_msgSend(_documents,"count")&&objj_msgSend(c,"setDocument:",objj_msgSend(_documents,"objectAtIndex:",MIN(b,objj_msgSend(_documents,"count")-1)))}}),new objj_method(sel_getUid("removeDocumentAndCloseIfNecessary:"),function(c,b,a){with(c)objj_msgSend(c,"removeDocument:",a),objj_msgSend(_documents,
"count")||objj_msgSend(c,"close")}),new objj_method(sel_getUid("documents"),function(c){with(c)return _documents}),new objj_method(sel_getUid("setViewControllerContainerView:"),function(c,b,a){with(c)_viewControllerContainerView=a}),new objj_method(sel_getUid("viewControllerContainerView"),function(c){with(c)return _viewControllerContainerView}),new objj_method(sel_getUid("setViewController:"),function(c,b,a){with(c){c=objj_msgSend(c,"viewControllerContainerView")||objj_msgSend(objj_msgSend(c,"window"),
"contentView");var d=(b=objj_msgSend(_viewController,"view"))?objj_msgSend(b,"frame"):objj_msgSend(c,"bounds");objj_msgSend(b,"removeFromSuperview");_viewController=a;if(b=objj_msgSend(_viewController,"view"))objj_msgSend(b,"setFrame:",d),objj_msgSend(c,"addSubview:",b)}}),new objj_method(sel_getUid("viewController"),function(c){with(c)return _viewController}),new objj_method(sel_getUid("_documentWillSave:"),function(c){with(c)objj_msgSend(objj_msgSend(c,"window"),"setDocumentSaving:",YES)}),new objj_method(sel_getUid("_documentDidSave:"),
function(c){with(c)objj_msgSend(objj_msgSend(c,"window"),"setDocumentSaving:",NO)}),new objj_method(sel_getUid("_documentDidFailToSave:"),function(c){with(c)objj_msgSend(objj_msgSend(c,"window"),"setDocumentSaving:",NO)}),new objj_method(sel_getUid("document"),function(c){with(c)return _document}),new objj_method(sel_getUid("setDocumentEdited:"),function(c,b,a){with(c)objj_msgSend(objj_msgSend(c,"window"),"setDocumentEdited:",a)}),new objj_method(sel_getUid("close"),function(c){with(c)objj_msgSend(objj_msgSend(c,
"window"),"close")}),new objj_method(sel_getUid("setShouldCloseDocument:"),function(c,b,a){with(c)_shouldCloseDocument=a}),new objj_method(sel_getUid("shouldCloseDocument"),function(c){with(c)return _shouldCloseDocument}),new objj_method(sel_getUid("owner"),function(c){with(c)return _cibOwner}),new objj_method(sel_getUid("windowCibName"),function(c){with(c){if(_windowCibName)return _windowCibName;return objj_msgSend(objj_msgSend(_windowCibPath,"lastPathComponent"),"stringByDeletingPathExtension")}}),
new objj_method(sel_getUid("windowCibPath"),function(c){with(c){if(_windowCibPath)return _windowCibPath;return objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",_windowCibName+".cib")}}),new objj_method(sel_getUid("synchronizeWindowTitleWithDocumentName"),function(c){with(c){if(!_document||!_window)return;objj_msgSend(_window,"setTitle:",objj_msgSend(c,"windowTitleForDocumentDisplayName:",objj_msgSend(_document,"displayName")))}}),new objj_method(sel_getUid("windowTitleForDocumentDisplayName:"),
function(c,b,a){with(c)return a})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("AppController.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("AppKit/CPColor.j",NO);f("GRKit/GRKit.j",NO);f("app/app.j",YES);f("app/monkeypatch.j",YES);var e=objj_allocateClassPair(CPObject,"AppController"),c=e.isa;class_addIvars(e,[new objj_ivar("contentView"),new objj_ivar("patternView"),new objj_ivar("propertiesController"),new objj_ivar("patternListView")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("applicationDidFinishLaunching:"),
function(b){with(b){var a=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",CGRectMakeZero(),CPBorderlessBridgeWindowMask);contentView=objj_msgSend(a,"contentView");var c=objj_msgSend(contentView,"bounds");m_toolBar=objj_msgSend(objj_msgSend(CPToolbar,"alloc"),"initWithIdentifier:","PubEditor");objj_msgSend(m_toolBar,"setDelegate:",b);objj_msgSend(m_toolBar,"setVisible:",!0);objj_msgSend(a,"setToolbar:",m_toolBar);c=objj_msgSend(objj_msgSend(CPScrollView,"alloc"),"initWithFrame:",
CGRectMake(0,0,200,CGRectGetHeight(c)-58));objj_msgSend(c,"setAutohidesScrollers:",YES);objj_msgSend(c,"setAutoresizingMask:",CPViewHeightSizable);objj_msgSend(objj_msgSend(c,"contentView"),"setBackgroundColor:",objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",213/255,221/255,230/255,1));var g=objj_msgSend(objj_msgSend(CPCollectionViewItem,"alloc"),"init");objj_msgSend(g,"setView:",objj_msgSend(objj_msgSend(PatternListCell,"alloc"),"initWithFrame:",CGRectMakeZero()));patternListView=objj_msgSend(objj_msgSend(CPCollectionView,
"alloc"),"initWithFrame:",CGRectMake(0,0,200,0));objj_msgSend(patternListView,"setDelegate:",b);objj_msgSend(patternListView,"setItemPrototype:",g);objj_msgSend(patternListView,"setMinItemSize:",CGSizeMake(15,32));objj_msgSend(patternListView,"setMaxItemSize:",CGSizeMake(1E3,32));objj_msgSend(patternListView,"setMaxNumberOfColumns:",1);objj_msgSend(patternListView,"setVerticalMargin:",0);objj_msgSend(patternListView,"setAutoresizingMask:",CPViewWidthSizable);objj_msgSend(c,"setDocumentView:",patternListView);
objj_msgSend(patternListView,"setContent:",[PatternOne,PatternEight,PatternFifteen,PatternTwentyFour,PatternTen,PatternFive,PatternTwo,PatternSix,PatternTwentyTwo,PatternFour,PatternThree,PatternNineteen,PatternTwelve,PatternSeven,PatternThirteen,PatternFourteen,PatternEleven,PatternTwenty,PatternTwentyOne,PatternNine,PatternSeventeen,PatternTwentyThree,PatternSixteen,PatternEighteen]);g=objj_msgSend(patternListView,"content")[9];g=objj_msgSend(objj_msgSend(g,"alloc"),"initWithConfig:",objj_msgSend(g,
"defaultConfig"));objj_msgSend(patternListView,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",9));var e=CGRectMake(200,0,700,700);patternView=objj_msgSend(objj_msgSend(PatternView,"alloc"),"initWithFrame:",e);objj_msgSend(patternView,"setNeedsDisplay:",YES);objj_msgSend(patternView,"setPattern:",g);objj_msgSend(contentView,"addSubview:",c);objj_msgSend(contentView,"addSubview:",patternView);objj_msgSend(a,"orderFront:",b);objj_msgSend(AboutPatternsDelegate,"popupAlertAndHideAfter:",
12)}})]);e=objj_getClass("AppController");if(!e)throw new SyntaxError('*** Could not find definition for class "AppController"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("dumpConfig:"),function(b){with(b)CPLogConsole("Config: "+objj_msgSend(objj_msgSend(patternView,"pattern"),"newPattern"))}),new objj_method(sel_getUid("aboutPatterns:"),function(b){with(b)objj_msgSend(AboutPatternsDelegate,"popupAlert")}),new objj_method(sel_getUid("showProperties:"),function(b){with(b)propertiesController=
objj_msgSend(PatternSettingsController,"alloc"),objj_msgSend(propertiesController,"initWithWindowCibName:patternView:","PatternSettings",patternView),objj_msgSend(propertiesController,"showWindow:",b)})]);e=objj_getClass("AppController");if(!e)throw new SyntaxError('*** Could not find definition for class "AppController"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("toolbarAllowedItemIdentifiers:"),function(b,a,c){with(b)return objj_msgSend(b,"toolbarDefaultItemIdentifiers:",c)}),new objj_method(sel_getUid("toolbarDefaultItemIdentifiers:"),
function(b){with(b)return["Properties","StoreConfig",CPToolbarFlexibleSpaceItemIdentifier,"AboutPatterns"]}),new objj_method(sel_getUid("toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:"),function(b,a,c,g){with(b){a=objj_msgSend(objj_msgSend(CPToolbarItem,"alloc"),"initWithItemIdentifier:",g);var e=c=nil;switch(g){case "AboutPatterns":c=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:","",CPSizeMake(32,32));e=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
"",CPSizeMake(32,32));objj_msgSend(a,"setLabel:","About This");objj_msgSend(a,"setTarget:",b);objj_msgSend(a,"setAction:",sel_getUid("aboutPatterns:"));objj_msgSend(a,"setMinSize:",CGSizeMake(32,32));objj_msgSend(a,"setMaxSize:",CGSizeMake(32,32));break;case "Properties":c=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:","Resources/property_32.png",CPSizeMake(32,32));e=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:","Resources/property_32_high.png",
CPSizeMake(32,32));objj_msgSend(a,"setLabel:","Pattern Property");objj_msgSend(a,"setTarget:",b);objj_msgSend(a,"setAction:",sel_getUid("showProperties:"));objj_msgSend(a,"setMinSize:",CGSizeMake(32,32));objj_msgSend(a,"setMaxSize:",CGSizeMake(32,32));break;case "StoreConfig":c=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:","Resources/add.png",CPSizeMake(30,25)),e=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:","Resources/addHigh.png",CPSizeMake(30,
25)),objj_msgSend(a,"setLabel:","Property to Console"),objj_msgSend(a,"setTarget:",b),objj_msgSend(a,"setAction:",sel_getUid("dumpConfig:")),objj_msgSend(a,"setMinSize:",CGSizeMake(32,32)),objj_msgSend(a,"setMaxSize:",CGSizeMake(32,32))}objj_msgSend(a,"setImage:",c);objj_msgSend(a,"setAlternateImage:",e);return a}})]);e=objj_getClass("AppController");if(!e)throw new SyntaxError('*** Could not find definition for class "AppController"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("collectionViewDidChangeSelection:"),
function(b,a,c){with(b)b=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex"),c=objj_msgSend(c,"content")[b],c=objj_msgSend(objj_msgSend(c,"alloc"),"initWithConfig:",objj_msgSend(c,"defaultConfig")),objj_msgSend(patternView,"setPattern:",c),objj_msgSend(patternView,"redisplay"),propertiesController&&objj_msgSend(propertiesController,"close")})]);e=objj_allocateClassPair(CPObject,"AboutPatternsDelegate");c=e.isa;objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("alertDidEnd:returnCode:"),
function(b,a,c,g){with(b)switch(CPLogConsole("Return Code was : "+g),g){case 1:window.open("https://github.com/gorenje/capp_patterns","newwindow","");break;case 2:window.open("http://www.ribabookshops.com/item/islamic-patterns-an-analytical-and-cosmological-approach/929/","book","");break;case 3:window.open("http://cappuccino.org","capp","")}})]);class_addMethods(c,[new objj_method(sel_getUid("closeWindow:"),function(b,a,c){with(b)objj_msgSend(CPApp,"stopModal"),objj_msgSend(objj_msgSend(c,"window"),
"close")}),new objj_method(sel_getUid("popupAlertAndHideAfter:"),function(b,a,c){with(b){a=objj_msgSend(AboutPatternsDelegate,"popupAlert");var g=objj_msgSend(objj_msgSend(CPInvocation,"alloc"),"initWithMethodSignature:",nil);objj_msgSend(g,"setTarget:",b);objj_msgSend(g,"setSelector:",sel_getUid("closeWindow:"));objj_msgSend(g,"setArgument:atIndex:",a,2);objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:invocation:repeats:",c,g,NO)}}),new objj_method(sel_getUid("popupAlert"),function(b){with(b){b=
objj_msgSend(objj_msgSend(AboutPatternsDelegate,"alloc"),"init");var a=objj_msgSend(objj_msgSend(CPAlert,"alloc"),"init");objj_msgSend(a,"setMessageText:","Islamic Patterns and their generation using basic geometry.\n\nPattern property can be used to modify patterns but all changes are automagically reset. Property to console will send a copy of the properties to the console (developers only).\n\nCappuccino was used as UI framework. Code hosting provided by Github.\n\nNOTE: Depending on you browser, patterns may take some time to display.\n\nNOTE 2: IE will not work, IE only supports 1 bit alpha channel on colors and only rotations of 90,180 or 270 degrees are supported.\n\nCopyright (C) 2011 Gerrit Riessen");
objj_msgSend(a,"setTitle:","About Capp-Patterns");objj_msgSend(a,"setAlertStyle:",CPInformationalAlertStyle);objj_msgSend(a,"setDelegate:",b);objj_msgSend(a,"addButtonWithTitle:","OK");objj_msgSend(a,"addButtonWithTitle:","Github");objj_msgSend(a,"addButtonWithTitle:","Book");objj_msgSend(a,"addButtonWithTitle:","Cappuccino");objj_msgSend(a,"runModal");return a}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPRunLoop.j",baseURL),function(h,f){f("CPArray.j",YES);f("CPDate.j",YES);f("CPObject.j",YES);f("CPString.j",YES);CPDefaultRunLoopMode="CPDefaultRunLoopMode";_CPRunLoopPerformCompare=function(a,b){return objj_msgSend(b,"order")-objj_msgSend(a,"order")};var e=[],c=objj_allocateClassPair(CPObject,"_CPRunLoopPerform"),b=c.isa;class_addIvars(c,[new objj_ivar("_target"),new objj_ivar("_selector"),new objj_ivar("_argument"),new objj_ivar("_order"),
new objj_ivar("_runLoopModes"),new objj_ivar("_isValid")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithSelector:target:argument:order:modes:"),function(a,b,c,e,f,h,r){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPRunLoopPerform").super_class},"init"))_selector=c,_target=e,_argument=f,_order=h,_runLoopModes=r,_isValid=YES;return a}}),new objj_method(sel_getUid("selector"),function(a){with(a)return _selector}),new objj_method(sel_getUid("target"),
function(a){with(a)return _target}),new objj_method(sel_getUid("argument"),function(a){with(a)return _argument}),new objj_method(sel_getUid("order"),function(a){with(a)return _order}),new objj_method(sel_getUid("fireInMode:"),function(a,b,c){with(a){if(!_isValid)return YES;if(objj_msgSend(_runLoopModes,"containsObject:",c))return objj_msgSend(_target,"performSelector:withObject:",_selector,_argument),YES;return NO}}),new objj_method(sel_getUid("invalidate"),function(a){with(a)_isValid=NO})]);class_addMethods(b,
[new objj_method(sel_getUid("_poolPerform:"),function(a,b,c){with(a){if(!c||e.length>=5)return;e.push(c)}}),new objj_method(sel_getUid("performWithSelector:target:argument:order:modes:"),function(a,b,c,f,h,l,r){with(a){if(e.length)return a=e.pop(),a._target=f,a._selector=c,a._argument=h,a._order=l,a._runLoopModes=r,a._isValid=YES,a;return objj_msgSend(objj_msgSend(a,"alloc"),"initWithSelector:target:argument:order:modes:",c,f,h,l,r)}})]);var a=0;c=objj_allocateClassPair(CPObject,"CPRunLoop");b=c.isa;
class_addIvars(c,[new objj_ivar("_runLoopLock"),new objj_ivar("_timersForModes"),new objj_ivar("_nativeTimersForModes"),new objj_ivar("_nextTimerFireDatesForModes"),new objj_ivar("_didAddTimer"),new objj_ivar("_effectiveDate"),new objj_ivar("_orderedPerforms"),new objj_ivar("_runLoopInsuranceTimer")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPRunLoop").super_class},"init"))_orderedPerforms=
[],_timersForModes={},_nativeTimersForModes={},_nextTimerFireDatesForModes={};return a}}),new objj_method(sel_getUid("performSelector:target:argument:order:modes:"),function(a,b,c,e,f,h,r){with(a){a=objj_msgSend(_CPRunLoopPerform,"performWithSelector:target:argument:order:modes:",c,e,f,h,r);for(b=_orderedPerforms.length;b--;)if(h<objj_msgSend(_orderedPerforms[b],"order"))break;_orderedPerforms.splice(b+1,0,a)}}),new objj_method(sel_getUid("cancelPerformSelector:target:argument:"),function(a,b,c,e,
f){with(a)for(a=_orderedPerforms.length;a--;)b=_orderedPerforms[a],objj_msgSend(b,"selector")===c&&objj_msgSend(b,"target")==e&&objj_msgSend(b,"argument")==f&&objj_msgSend(_orderedPerforms[a],"invalidate")}),new objj_method(sel_getUid("performSelectors"),function(a){with(a)objj_msgSend(a,"limitDateForMode:",CPDefaultRunLoopMode)}),new objj_method(sel_getUid("addTimer:forMode:"),function(b,c,e,f){with(b){_timersForModes[f]?_timersForModes[f].push(e):_timersForModes[f]=[e];_didAddTimer=YES;if(!e._lastNativeRunLoopsForModes)e._lastNativeRunLoopsForModes=
{};e._lastNativeRunLoopsForModes[f]=a;objj_msgSend(CFBundle.environments(),"indexOfObject:","Browser")!==CPNotFound&&(_runLoopInsuranceTimer||(_runLoopInsuranceTimer=window.setNativeTimeout(function(){objj_msgSend(b,"limitDateForMode:",CPDefaultRunLoopMode)},0)))}}),new objj_method(sel_getUid("limitDateForMode:"),function(b,c,e){with(b){if(_runLoopLock)return;_runLoopLock=YES;objj_msgSend(CFBundle.environments(),"indexOfObject:","Browser")!==CPNotFound&&_runLoopInsuranceTimer&&(window.clearNativeTimeout(_runLoopInsuranceTimer),
_runLoopInsuranceTimer=nil);var f=_effectiveDate?objj_msgSend(_effectiveDate,"laterDate:",objj_msgSend(CPDate,"date")):objj_msgSend(CPDate,"date"),h=nil;c=_nextTimerFireDatesForModes[e];if(_didAddTimer||c&&c<=f){_didAddTimer=NO;_nativeTimersForModes[e]!==nil&&(window.clearNativeTimeout(_nativeTimersForModes[e]),_nativeTimersForModes[e]=nil);var l=_timersForModes[e];c=l.length;for(_timersForModes[e]=nil;c--;){var r=l[c];r._lastNativeRunLoopsForModes[e]<a&&r._isValid&&r._fireDate<=f&&objj_msgSend(r,
"fire");r._isValid?h=h===nil?r._fireDate:objj_msgSend(h,"earlierDate:",r._fireDate):(r._lastNativeRunLoopsForModes[e]=0,l.splice(c,1))}if((f=_timersForModes[e])&&f.length){for(c=f.length;c--;)r=f[c],objj_msgSend(r,"isValid")?h=h===nil?r._fireDate:objj_msgSend(h,"earlierDate:",r._fireDate):f.splice(c,1);_timersForModes[e]=f.concat(l)}else _timersForModes[e]=l;_nextTimerFireDatesForModes[e]=h;_nextTimerFireDatesForModes[e]!==nil&&(_nativeTimersForModes[e]=window.setNativeTimeout(function(){_effectiveDate=
h;_nativeTimersForModes[e]=nil;++a;objj_msgSend(b,"limitDateForMode:",e);_effectiveDate=nil},MAX(0,objj_msgSend(h,"timeIntervalSinceNow")*1E3)))}f=_orderedPerforms;c=f.length;for(_orderedPerforms=[];c--;)l=f[c],objj_msgSend(l,"fireInMode:",CPDefaultRunLoopMode)&&(objj_msgSend(_CPRunLoopPerform,"_poolPerform:",l),f.splice(c,1));_orderedPerforms.length?(_orderedPerforms=_orderedPerforms.concat(f),_orderedPerforms.sort(_CPRunLoopPerformCompare)):_orderedPerforms=f;_runLoopLock=NO;return h}})]);class_addMethods(b,
[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(CPRunLoop,"class"))return;CPMainRunLoop=objj_msgSend(objj_msgSend(CPRunLoop,"alloc"),"init")}}),new objj_method(sel_getUid("currentRunLoop"),function(a){with(a)return CPMainRunLoop}),new objj_method(sel_getUid("mainRunLoop"),function(a){with(a)return CPMainRunLoop})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/controllers/pattern_settings_controller.j",baseURL),function(){var h=objj_allocateClassPair(CPWindowController,"PatternSettingsController");class_addIvars(h,[new objj_ivar("m_circleCountView"),new objj_ivar("m_factorView"),new objj_ivar("m_rotationView"),new objj_ivar("m_sizeView"),new objj_ivar("m_framePosView"),new objj_ivar("m_rotationSlider"),new objj_ivar("m_circleCountSlider"),new objj_ivar("m_factorSlider"),new objj_ivar("m_framePosSlider"),
new objj_ivar("m_rotationValue"),new objj_ivar("m_circleCountValue"),new objj_ivar("m_factorValue"),new objj_ivar("m_framePosValue"),new objj_ivar("m_sizeSegment"),new objj_ivar("m_showShapesButton"),new objj_ivar("m_radiusSlider"),new objj_ivar("m_radiusView"),new objj_ivar("m_radiusValue"),new objj_ivar("m_strokeColorView"),new objj_ivar("m_fillColorView"),new objj_ivar("m_bgColorWell"),new objj_ivar("m_pattern_view")]);objj_registerClassPair(h);class_addMethods(h,[new objj_method(sel_getUid("initWithWindowCibName:patternView:"),
function(f,e,c,b){with(f)return(f=objj_msgSendSuper({receiver:f,super_class:objj_getClass("PatternSettingsController").super_class},"initWithWindowCibName:",c))&&(m_pattern_view=b),f}),new objj_method(sel_getUid("pattern"),function(f){with(f)return objj_msgSend(m_pattern_view,"pattern")}),new objj_method(sel_getUid("awakeFromCib"),function(f){with(f){objj_msgSend(CPBox,"makeBorder:",m_rotationView);objj_msgSend(CPBox,"makeBorder:",m_factorView);objj_msgSend(CPBox,"makeBorder:",m_circleCountView);
objj_msgSend(CPBox,"makeBorder:",m_radiusView);objj_msgSend(CPBox,"makeBorder:",m_fillColorView);objj_msgSend(CPBox,"makeBorder:",m_strokeColorView);objj_msgSend(CPBox,"makeBorder:",m_sizeView);objj_msgSend(CPBox,"makeBorder:",m_framePosView);objj_msgSend(CPBox,"makeBorder:",m_bgColorWell);objj_msgSend(m_framePosView,"setHidden:",YES);objj_msgSend(m_rotationSlider,"setObjectValue:",objj_msgSend(m_pattern_view,"rotation")*(180/Math.PI));objj_msgSend(f,"updateSlider:textField:sender:",m_rotationSlider,
m_rotationValue,m_rotationSlider);objj_msgSend(m_circleCountSlider,"setObjectValue:",objj_msgSend(objj_msgSend(f,"pattern"),"numPoints"));objj_msgSend(f,"updateSlider:textField:sender:",m_circleCountSlider,m_circleCountValue,m_circleCountSlider);objj_msgSend(m_factorSlider,"setObjectValue:",100*(objj_msgSend(objj_msgSend(f,"pattern"),"factorLarger")/2));objj_msgSend(f,"updateSlider:textField:sender:",m_factorSlider,m_factorValue,m_factorSlider);objj_msgSend(m_showShapesButton,"setState:",objj_msgSend(objj_msgSend(f,
"pattern"),"showShapes")?CPOnState:CPOffState);objj_msgSend(m_radiusSlider,"setObjectValue:",objj_msgSend(objj_msgSend(f,"pattern"),"radius"));objj_msgSend(f,"updateSlider:textField:sender:",m_radiusSlider,m_radiusValue,m_radiusSlider);objj_msgSend(m_sizeSegment,"selectSegmentWithTag:",objj_msgSend(objj_msgSend(objj_msgSend(f,"pattern"),"recurseDepth"),"intValue")+1);objj_msgSend(m_bgColorWell,"setColor:",objj_msgSend(objj_msgSend(f,"pattern"),"bgColor"));objj_msgSend(m_rotationSlider,"setObjectValue:",
objj_msgSend(objj_msgSend(f,"pattern"),"rotation"));objj_msgSend(f,"updateSlider:textField:sender:",m_rotationSlider,m_rotationValue,m_rotationSlider);for(var e=objj_msgSend(f,"findColorWellsWithTags:inViews:",[0,1,2,3,4,5],objj_msgSend(m_strokeColorView,"subviews")),c=0;c<objj_msgSend(e,"count");c++)objj_msgSend(e[c],"setColor:",objj_msgSend(objj_msgSend(f,"pattern"),"strokeColorAt:",c)),objj_msgSend(CPBox,"makeBorder:",e[c]);e=objj_msgSend(f,"findColorWellsWithTags:inViews:",[0,1,2,3,4,5],objj_msgSend(m_fillColorView,
"subviews"));for(c=0;c<objj_msgSend(e,"count");c++)objj_msgSend(e[c],"setColor:",objj_msgSend(objj_msgSend(f,"pattern"),"fillColorAt:",c)),objj_msgSend(CPBox,"makeBorder:",e[c]);objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",f,sel_getUid("windowWillClose:"),CPWindowWillCloseNotification,_window)}}),new objj_method(sel_getUid("updateFramePos:"),function(f,e,c){with(f)objj_msgSend(f,"updateSlider:textField:sender:",m_framePosSlider,m_framePosValue,
c)}),new objj_method(sel_getUid("updateFillColor:"),function(f,e,c){with(f)objj_msgSend(objj_msgSend(f,"pattern"),"setFillColorAt:color:",objj_msgSend(c,"tag"),objj_msgSend(c,"color")),objj_msgSend(m_pattern_view,"redisplay")}),new objj_method(sel_getUid("updateStrokeColor:"),function(f,e,c){with(f)objj_msgSend(objj_msgSend(f,"pattern"),"setStrokeColorAt:color:",objj_msgSend(c,"tag"),objj_msgSend(c,"color")),objj_msgSend(m_pattern_view,"redisplay")}),new objj_method(sel_getUid("updateRotationValue:"),
function(f,e,c){with(f)objj_msgSend(f,"updateSlider:textField:sender:",m_rotationSlider,m_rotationValue,c),objj_msgSend(m_pattern_view,"setRotation:",objj_msgSend(m_rotationSlider,"intValue")*(Math.PI/180)),objj_msgSend(objj_msgSend(f,"pattern"),"setRotation:",objj_msgSend(m_rotationSlider,"intValue"))}),new objj_method(sel_getUid("updateShowShapes:"),function(f,e,c){with(f)objj_msgSend(objj_msgSend(f,"pattern"),"setShowShapes:",objj_msgSend(c,"state")==CPOnState),objj_msgSend(m_pattern_view,"redisplay")}),
new objj_method(sel_getUid("updateBackgroundColor:"),function(f,e,c){with(f)objj_msgSend(objj_msgSend(f,"pattern"),"setBgColor:",objj_msgSend(c,"color")),objj_msgSend(m_pattern_view,"redisplay")}),new objj_method(sel_getUid("circleCountUpdate:"),function(f,e,c){with(f)objj_msgSend(f,"updateSlider:textField:sender:",m_circleCountSlider,m_circleCountValue,c),objj_msgSend(f,"compareOld:withNew:",objj_msgSend(f,"pattern"),objj_msgSend(objj_msgSend(f,"pattern"),"setNumPoints:",objj_msgSend(m_circleCountValue,
"intValue")))}),new objj_method(sel_getUid("updateRadiusValue:"),function(f,e,c){with(f)objj_msgSend(f,"updateSlider:textField:sender:",m_radiusSlider,m_radiusValue,c),objj_msgSend(f,"compareOld:withNew:",objj_msgSend(f,"pattern"),objj_msgSend(objj_msgSend(f,"pattern"),"setRadius:",objj_msgSend(m_radiusSlider,"intValue")))}),new objj_method(sel_getUid("updateFactorValue:"),function(f,e,c){with(f)objj_msgSend(f,"updateSlider:textField:sender:",m_factorSlider,m_factorValue,c),objj_msgSend(f,"compareOld:withNew:",
objj_msgSend(f,"pattern"),objj_msgSend(objj_msgSend(f,"pattern"),"setFactorLarger:",2*(objj_msgSend(m_factorSlider,"intValue")/100)))}),new objj_method(sel_getUid("updateSizeValue:"),function(f,e,c){with(f)objj_msgSend(f,"compareOld:withNew:",objj_msgSend(f,"pattern"),objj_msgSend(objj_msgSend(f,"pattern"),"setRecurseDepth:",objj_msgSend(objj_msgSend(c,"selectedTag"),"intValue")-1))}),new objj_method(sel_getUid("windowWillClose:"),function(f){with(f)objj_msgSend(objj_msgSend(CPColorPanel,"sharedColorPanel"),
"close")}),new objj_method(sel_getUid("updateSlider:textField:sender:"),function(f,e,c,b,a){with(f)objj_msgSend(a,"isKindOfClass:",CPTextField)?objj_msgSend(c,"setObjectValue:",objj_msgSend(objj_msgSend(a,"stringValue"),"intValue")):objj_msgSend(b,"setStringValue:",""+objj_msgSend(a,"intValue"))}),new objj_method(sel_getUid("findColorWellsWithTags:inViews:"),function(f,e,c,b){with(f){f=objj_msgSend(CPArray,"arrayWithArray:",c);e=objj_msgSend(b,"count");for(c=0;c<e;c++)if(objj_msgSend(b[c],"isKindOfClass:",
CPColorWell)){var a=objj_msgSend(f,"indexOfObject:",objj_msgSend(b[c],"tag"));a!=CPNotFound&&objj_msgSend(f,"replaceObjectAtIndex:withObject:",a,b[c])}return f}}),new objj_method(sel_getUid("compareOld:withNew:"),function(f,e,c,b){with(f)c!=b&&(objj_msgSend(m_pattern_view,"setPattern:",b),objj_msgSend(m_pattern_view,"redisplay"))})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPNotificationCenter.j",baseURL),function(h,f){f("CPArray.j",YES);f("CPDictionary.j",YES);f("CPException.j",YES);f("CPNotification.j",YES);f("CPNull.j",YES);var e=nil,c=objj_allocateClassPair(CPObject,"CPNotificationCenter"),b=c.isa;class_addIvars(c,[new objj_ivar("_namedRegistries"),new objj_ivar("_unnamedRegistry")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=
objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPNotificationCenter").super_class},"init"))_namedRegistries=objj_msgSend(CPDictionary,"dictionary"),_unnamedRegistry=objj_msgSend(objj_msgSend(_CPNotificationRegistry,"alloc"),"init");return a}}),new objj_method(sel_getUid("addObserver:selector:name:object:"),function(a,b,c,e,f,h){with(a){b=objj_msgSend(objj_msgSend(_CPNotificationObserver,"alloc"),"initWithObserver:selector:",c,e);if(f==nil)a=_unnamedRegistry;else if(!(a=objj_msgSend(_namedRegistries,
"objectForKey:",f)))a=objj_msgSend(objj_msgSend(_CPNotificationRegistry,"alloc"),"init"),objj_msgSend(_namedRegistries,"setObject:forKey:",a,f);objj_msgSend(a,"addObserver:object:",b,h)}}),new objj_method(sel_getUid("removeObserver:"),function(a,b,c){with(a){a=nil;for(b=objj_msgSend(_namedRegistries,"keyEnumerator");a=objj_msgSend(b,"nextObject");)objj_msgSend(objj_msgSend(_namedRegistries,"objectForKey:",a),"removeObserver:object:",c,nil);objj_msgSend(_unnamedRegistry,"removeObserver:object:",c,
nil)}}),new objj_method(sel_getUid("removeObserver:name:object:"),function(a,b,c,e,f){with(a)if(e==nil){a=nil;for(b=objj_msgSend(_namedRegistries,"keyEnumerator");a=objj_msgSend(b,"nextObject");)objj_msgSend(objj_msgSend(_namedRegistries,"objectForKey:",a),"removeObserver:object:",c,f);objj_msgSend(_unnamedRegistry,"removeObserver:object:",c,f)}else objj_msgSend(objj_msgSend(_namedRegistries,"objectForKey:",e),"removeObserver:object:",c,f)}),new objj_method(sel_getUid("postNotification:"),function(b,
c,e){with(b)e||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"postNotification: does not except 'nil' notifications"),a(b,e)}),new objj_method(sel_getUid("postNotificationName:object:userInfo:"),function(b,c,e,f,h){with(b)a(b,objj_msgSend(objj_msgSend(CPNotification,"alloc"),"initWithName:object:userInfo:",e,f,h))}),new objj_method(sel_getUid("postNotificationName:object:"),function(b,c,e,f){with(b)a(b,objj_msgSend(objj_msgSend(CPNotification,"alloc"),"initWithName:object:userInfo:",
e,f,nil))})]);class_addMethods(b,[new objj_method(sel_getUid("defaultCenter"),function(a){with(a)return e||(e=objj_msgSend(objj_msgSend(CPNotificationCenter,"alloc"),"init")),e})]);var a=function(a,b){objj_msgSend(a._unnamedRegistry,"postNotification:",b);objj_msgSend(objj_msgSend(a._namedRegistries,"objectForKey:",objj_msgSend(b,"name")),"postNotification:",b)};c=objj_allocateClassPair(CPObject,"_CPNotificationRegistry");b=c.isa;class_addIvars(c,[new objj_ivar("_objectObservers"),new objj_ivar("_observerRemovalCount")]);
objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPNotificationRegistry").super_class},"init"))_observerRemovalCount=0,_objectObservers=objj_msgSend(CPDictionary,"dictionary");return a}}),new objj_method(sel_getUid("addObserver:object:"),function(a,b,c,e){with(a)e||(e=objj_msgSend(CPNull,"null")),a=objj_msgSend(_objectObservers,"objectForKey:",objj_msgSend(e,"UID")),a||(a=[],objj_msgSend(_objectObservers,
"setObject:forKey:",a,objj_msgSend(e,"UID"))),a.push(c)}),new objj_method(sel_getUid("removeObserver:object:"),function(a,b,c,e){with(a){a=[];if(e==nil){e=nil;for(b=objj_msgSend(_objectObservers,"keyEnumerator");e=objj_msgSend(b,"nextObject");){for(var f=objj_msgSend(_objectObservers,"objectForKey:",e),h=f?f.length:0;h--;)objj_msgSend(f[h],"observer")==c&&(++_observerRemovalCount,f.splice(h,1));(!f||f.length==0)&&a.push(e)}}else{e=objj_msgSend(e,"UID");for(h=(f=objj_msgSend(_objectObservers,"objectForKey:",
e))?f.length:0;h--;)objj_msgSend(f[h],"observer")==c&&(++_observerRemovalCount,f.splice(h,1));(!f||f.length==0)&&a.push(e)}for(h=a.length;h--;)objj_msgSend(_objectObservers,"removeObjectForKey:",a[h])}}),new objj_method(sel_getUid("postNotification:"),function(a,b,c){with(a){a=_observerRemovalCount;var e=objj_msgSend(c,"object");b=nil;if(e!=nil&&(b=objj_msgSend(objj_msgSend(_objectObservers,"objectForKey:",objj_msgSend(e,"UID")),"copy"))){e=b;for(var f=b.length;f--;){var h=b[f];(a===_observerRemovalCount||
objj_msgSend(e,"indexOfObjectIdenticalTo:",h)!==CPNotFound)&&objj_msgSend(h,"postNotification:",c)}}b=objj_msgSend(objj_msgSend(_objectObservers,"objectForKey:",objj_msgSend(objj_msgSend(CPNull,"null"),"UID")),"copy");if(!b)return;a=_observerRemovalCount;f=b.length;for(e=b;f--;)h=b[f],(a===_observerRemovalCount||objj_msgSend(e,"indexOfObjectIdenticalTo:",h)!==CPNotFound)&&objj_msgSend(h,"postNotification:",c)}}),new objj_method(sel_getUid("count"),function(a){with(a)return objj_msgSend(_objectObservers,
"count")})]);c=objj_allocateClassPair(CPObject,"_CPNotificationObserver");b=c.isa;class_addIvars(c,[new objj_ivar("_observer"),new objj_ivar("_selector")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithObserver:selector:"),function(a,b,c,e){with(a)return a&&(_observer=c,_selector=e),a}),new objj_method(sel_getUid("observer"),function(a){with(a)return _observer}),new objj_method(sel_getUid("postNotification:"),function(a,b,c){with(a)objj_msgSend(_observer,"performSelector:withObject:",
_selector,c)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuItemView.j",baseURL),function(h,f){f("AppKit/CPControl.j",NO);f("_CPMenuItemSeparatorView.j",YES);f("_CPMenuItemStandardView.j",YES);f("_CPMenuItemMenuBarView.j",YES);var e=objj_allocateClassPair(CPView,"_CPMenuItemView"),c=e.isa;class_addIvars(e,[new objj_ivar("_menuItem"),new objj_ivar("_view"),new objj_ivar("_font"),new objj_ivar("_textColor"),new objj_ivar("_textShadowColor"),new objj_ivar("_minSize"),new objj_ivar("_isDirty"),
new objj_ivar("_showsStateColumn"),new objj_ivar("_imageAndTextView"),new objj_ivar("_submenuView")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithFrame:forMenuItem:"),function(b,a,c,e){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPMenuItemView").super_class},"initWithFrame:",c))_menuItem=e,_isDirty=_showsStateColumn=YES,objj_msgSend(b,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(b,"synchronizeWithMenuItem");return b}}),new objj_method(sel_getUid("minSize"),
function(b){with(b)return _minSize}),new objj_method(sel_getUid("setDirty"),function(b){with(b)_isDirty=YES}),new objj_method(sel_getUid("synchronizeWithMenuItem"),function(b){with(b){var a=objj_msgSend(_menuItem,"view");objj_msgSend(_menuItem,"isSeparatorItem")?objj_msgSend(_view,"isKindOfClass:",objj_msgSend(_CPMenuItemSeparatorView,"class"))||(objj_msgSend(_view,"removeFromSuperview"),_view=objj_msgSend(_CPMenuItemSeparatorView,"view")):a?_view!==a&&(objj_msgSend(_view,"removeFromSuperview"),_view=
a):(objj_msgSend(_menuItem,"menu")==objj_msgSend(CPApp,"mainMenu")?objj_msgSend(_view,"isKindOfClass:",objj_msgSend(_CPMenuItemMenuBarView,"class"))||(objj_msgSend(_view,"removeFromSuperview"),_view=objj_msgSend(_CPMenuItemMenuBarView,"view")):objj_msgSend(_view,"isKindOfClass:",objj_msgSend(_CPMenuItemStandardView,"class"))||(objj_msgSend(_view,"removeFromSuperview"),_view=objj_msgSend(_CPMenuItemStandardView,"view")),objj_msgSend(_view,"setMenuItem:",_menuItem));objj_msgSend(_view,"superview")!==
b&&objj_msgSend(b,"addSubview:",_view);objj_msgSend(_view,"respondsToSelector:",sel_getUid("update"))&&objj_msgSend(_view,"update");_minSize=objj_msgSend(_view,"frame").size;objj_msgSend(b,"setAutoresizesSubviews:",NO);objj_msgSend(b,"setFrameSize:",_minSize);objj_msgSend(b,"setAutoresizesSubviews:",YES)}}),new objj_method(sel_getUid("setShowsStateColumn:"),function(b,a,c){with(b)_showsStateColumn=c}),new objj_method(sel_getUid("highlight:"),function(b,a,c){with(b)objj_msgSend(_view,"respondsToSelector:",
sel_getUid("highlight:"))&&objj_msgSend(_view,"highlight:",c)}),new objj_method(sel_getUid("eventOnSubmenu:"),function(b,a,c){with(b){if(!objj_msgSend(_menuItem,"hasSubmenu"))return NO;return CGRectContainsPoint(objj_msgSend(_submenuView,"frame"),objj_msgSend(b,"convertPoint:fromView:",objj_msgSend(c,"locationInWindow"),nil))}}),new objj_method(sel_getUid("isHidden"),function(b){with(b)return objj_msgSend(_menuItem,"isHidden")}),new objj_method(sel_getUid("menuItem"),function(b){with(b)return _menuItem}),
new objj_method(sel_getUid("setFont:"),function(b,a,c){with(b){if(_font===c)return;_font=c;objj_msgSend(_view,"respondsToSelector:",sel_getUid("setFont:"))&&objj_msgSend(_view,"setFont:",c);objj_msgSend(b,"setDirty")}}),new objj_method(sel_getUid("setTextColor:"),function(b,a,c){with(b){if(_textColor==c)return;_textColor=c;objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(b,"textColor"));objj_msgSend(_submenuView,"setColor:",objj_msgSend(b,"textColor"))}}),new objj_method(sel_getUid("textColor"),
function(b){with(b)return nil}),new objj_method(sel_getUid("setTextShadowColor:"),function(b,a,c){with(b){if(_textShadowColor==c)return;_textShadowColor=c;objj_msgSend(_imageAndTextView,"setTextShadowColor:",objj_msgSend(b,"textShadowColor"))}}),new objj_method(sel_getUid("textShadowColor"),function(b){with(b)return objj_msgSend(_menuItem,"isEnabled")?_textShadowColor?_textShadowColor:objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.8):objj_msgSend(CPColor,"colorWithWhite:alpha:",0.8,0.8)})]);class_addMethods(c,
[new objj_method(sel_getUid("initialize"),function(b){with(b){if(b!=objj_msgSend(_CPMenuItemView,"class"))return;objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",95/255,131/255,185/255,1);objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",26/255,73/255,109/255,1);b=objj_msgSend(CPBundle,"bundleForClass:",b);objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPMenuItem/CPMenuItemOnState.png"),CGSizeMake(14,14));objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPMenuItem/CPMenuItemOnStateHighlighted.png"),CGSizeMake(14,14))}}),new objj_method(sel_getUid("leftMargin"),function(b){with(b)return 17})]);e=objj_allocateClassPair(CPView,"_CPMenuItemArrowView");c=e.isa;class_addIvars(e,[new objj_ivar("_color")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("setColor:"),function(b,a,c){with(b){if(_color==c)return;_color=c;objj_msgSend(b,"setNeedsDisplay:",YES)}}),
new objj_method(sel_getUid("drawRect:"),function(b){with(b)b=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort"),CGContextBeginPath(b),CGContextMoveToPoint(b,1,4),CGContextAddLineToPoint(b,9,4),CGContextAddLineToPoint(b,5,8),CGContextAddLineToPoint(b,1,4),CGContextClosePath(b),CGContextSetFillColor(b,_color),CGContextFillPath(b)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPColorWell.j",baseURL),function(h,f){f("Foundation/CPString.j",NO);f("CPView.j",YES);f("CPColor.j",YES);f("CPColorPanel.j",YES);var e=objj_allocateClassPair(CPControl,"CPColorWell");class_addIvars(e,[new objj_ivar("_active"),new objj_ivar("_bordered"),new objj_ivar("_color"),new objj_ivar("_wellView")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithFrame:"),function(c,b,a){with(c){if(c=objj_msgSendSuper({receiver:c,
super_class:objj_getClass("CPColorWell").super_class},"initWithFrame:",a))_active=NO,_bordered=YES,_color=objj_msgSend(CPColor,"whiteColor"),objj_msgSend(c,"drawBezelWithHighlight:",NO),objj_msgSend(c,"drawWellInside:",CGRectInset(objj_msgSend(c,"bounds"),3,3)),objj_msgSend(c,"_registerForNotifications");return c}}),new objj_method(sel_getUid("_registerForNotifications"),function(c){with(c){var b=objj_msgSend(CPNotificationCenter,"defaultCenter");objj_msgSend(b,"addObserver:selector:name:object:",
c,sel_getUid("colorWellDidBecomeExclusive:"),"_CPColorWellDidBecomeExclusiveNotification",nil);objj_msgSend(b,"addObserver:selector:name:object:",c,sel_getUid("colorPanelWillClose:"),CPWindowWillCloseNotification,objj_msgSend(CPColorPanel,"sharedColorPanel"))}}),new objj_method(sel_getUid("isBordered"),function(c){with(c)return _bordered}),new objj_method(sel_getUid("setBordered:"),function(c,b,a){with(c){if(_bordered==a)return;_bordered=a;objj_msgSend(c,"drawWellInside:",CGRectInset(objj_msgSend(c,
"bounds"),3,3))}}),new objj_method(sel_getUid("color"),function(c){with(c)return _color}),new objj_method(sel_getUid("setColor:"),function(c,b,a){with(c){if(_color==a)return;_color=a;objj_msgSend(c,"drawWellInside:",CGRectInset(objj_msgSend(c,"bounds"),3,3))}}),new objj_method(sel_getUid("takeColorFrom:"),function(c,b,a){with(c)objj_msgSend(c,"setColor:",objj_msgSend(a,"color"))}),new objj_method(sel_getUid("activate:"),function(c,b,a){with(c){a&&objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),
"postNotificationName:object:","_CPColorWellDidBecomeExclusiveNotification",c);if(objj_msgSend(c,"isActive"))return;_active=YES;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",c,sel_getUid("colorPanelDidChangeColor:"),CPColorPanelColorDidChangeNotification,objj_msgSend(CPColorPanel,"sharedColorPanel"))}}),new objj_method(sel_getUid("deactivate"),function(c){with(c){if(!objj_msgSend(c,"isActive"))return;_active=NO;objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"removeObserver:name:object:",c,CPColorPanelColorDidChangeNotification,objj_msgSend(CPColorPanel,"sharedColorPanel"))}}),new objj_method(sel_getUid("isActive"),function(c){with(c)return _active}),new objj_method(sel_getUid("drawBezelWithHighlight:"),function(c){with(c);}),new objj_method(sel_getUid("drawWellInside:"),function(c,b,a){with(c)_wellView?objj_msgSend(_wellView,"setFrame:",a):(_wellView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",a),objj_msgSend(_wellView,
"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(c,"addSubview:",_wellView)),objj_msgSend(_wellView,"setBackgroundColor:",_color)}),new objj_method(sel_getUid("colorPanelDidChangeColor:"),function(c,b,a){with(c)objj_msgSend(c,"takeColorFrom:",objj_msgSend(a,"object")),objj_msgSend(c,"sendAction:to:",objj_msgSend(c,"action"),objj_msgSend(c,"target"))}),new objj_method(sel_getUid("colorWellDidBecomeExclusive:"),function(c,b,a){with(c)c!=objj_msgSend(a,"object")&&objj_msgSend(c,
"deactivate")}),new objj_method(sel_getUid("colorPanelWillClose:"),function(c){with(c)objj_msgSend(c,"deactivate")}),new objj_method(sel_getUid("mouseDown:"),function(c){with(c){if(!objj_msgSend(c,"isEnabled"))return;objj_msgSend(c,"drawBezelWithHighlight:",YES)}}),new objj_method(sel_getUid("mouseDragged:"),function(c,b,a){with(c){if(!objj_msgSend(c,"isEnabled"))return;objj_msgSend(c,"drawBezelWithHighlight:",CGRectContainsPoint(objj_msgSend(c,"bounds"),objj_msgSend(c,"convertPoint:fromView:",objj_msgSend(a,
"locationInWindow"),nil)))}}),new objj_method(sel_getUid("mouseUp:"),function(c,b,a){with(c){objj_msgSend(c,"drawBezelWithHighlight:",NO);if(!CGRectContainsPoint(objj_msgSend(c,"bounds"),objj_msgSend(c,"convertPoint:fromView:",objj_msgSend(a,"locationInWindow"),nil))||!objj_msgSend(c,"isEnabled"))return;objj_msgSend(c,"activate:",YES);b=objj_msgSend(CPColorPanel,"sharedColorPanel");objj_msgSend(b,"setColor:",_color);objj_msgSend(b,"orderFront:",c)}})]);e=objj_getClass("CPColorWell");if(!e)throw new SyntaxError('*** Could not find definition for class "CPColorWell"');
class_addMethods(e,[new objj_method(sel_getUid("initWithCoder:"),function(c,b,a){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPColorWell").super_class},"initWithCoder:",a))_active=NO,_bordered=objj_msgSend(a,"decodeBoolForKey:","CPColorWellBorderedKey"),_color=objj_msgSend(a,"decodeObjectForKey:","CPColorWellColorKey"),objj_msgSend(c,"drawBezelWithHighlight:",NO),objj_msgSend(c,"drawWellInside:",CGRectInset(objj_msgSend(c,"bounds"),3,3)),objj_msgSend(c,"_registerForNotifications");
return c}}),new objj_method(sel_getUid("encodeWithCoder:"),function(c,b,a){with(c)b=_subviews,_subviews=objj_msgSend(_subviews,"copy"),objj_msgSend(_subviews,"removeObjectIdenticalTo:",_wellView),objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPColorWell").super_class},"encodeWithCoder:",a),_subviews=b,objj_msgSend(a,"encodeObject:forKey:",_color,"CPColorWellColorKey"),objj_msgSend(a,"encodeObject:forKey:",_bordered,"CPColorWellBorderedKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/sixteen.j",baseURL),function(){var h=objj_allocateClassPair(PatternMaker,"PatternSixteen"),f=h.isa;objj_registerClassPair(h);class_addMethods(h,[new objj_method(sel_getUid("_draw:"),function(e,c,b){with(e)objj_msgSend(e,"draw_frame_1:",b),objj_msgSend(e,"draw_frame_2:",b),objj_msgSend(e,"draw_frame_3:",b),objj_msgSend(e,"draw_frame_4:",b)}),new objj_method(sel_getUid("draw_frame_1:"),function(e,c,b){with(e){objj_msgSend(e,"setupColorWithIndex:context:",
0,b);objj_msgSend(objj_msgSend(e,"circle"),"draw:",b);objj_msgSend(e,"fillAndStroke:",b);c=objj_msgSend(e,"sub_circles");for(var a=objj_msgSend(c,"count");a--;)objj_msgSend(c[a],"draw:",b),objj_msgSend(e,"setupColorWithIndex:context:",1,b),objj_msgSend(e,"fillAndStroke:",b)}}),new objj_method(sel_getUid("draw_frame_2:"),function(e,c,b){with(e){c=objj_msgSend(e,"sub_circles");for(var a=0;a<objj_msgSend(e,"numPoints");a++){var d=c[a];objj_msgSend(e,"setupColorWithIndex:context:",2,b);objj_msgSend(objj_msgSend(GRTriangle,
"triangleWithPoints:",[objj_msgSend(objj_msgSend(e,"circle"),"cpt"),objj_msgSend(d,"cpt"),objj_msgSend(objj_msgSend(d,"nextCircle"),"cpt")]),"draw:",b);objj_msgSend(e,"fillAndStroke:",b)}}}),new objj_method(sel_getUid("draw_frame_3:"),function(e,c,b){with(e){c=objj_msgSend(e,"sub_circles");for(var a=0;a<objj_msgSend(e,"numPoints");a++){var d=c[a];objj_msgSend(e,"setupColorWithIndex:context:",3,b);var g=objj_msgSend(objj_msgSend(objj_msgSend(e,"circle"),"cpt"),"point_on_segment:ratio:",objj_msgSend(d,
"cpt"),0.25),f=objj_msgSend(objj_msgSend(objj_msgSend(e,"circle"),"cpt"),"point_on_segment:ratio:",objj_msgSend(objj_msgSend(d,"nextCircle"),"cpt"),0.25),h=objj_msgSend(objj_msgSend(d,"cpt"),"point_on_segment:ratio:",objj_msgSend(objj_msgSend(d,"nextCircle"),"cpt"),0.75);d=objj_msgSend(objj_msgSend(d,"cpt"),"point_on_segment:ratio:",objj_msgSend(objj_msgSend(d,"nextCircle"),"cpt"),0.25);objj_msgSend(objj_msgSend(GRLine,"lineWithPoint:andPoint:",g,h),"draw:",b);objj_msgSend(e,"fillAndStroke:",b);objj_msgSend(objj_msgSend(GRLine,
"lineWithPoint:andPoint:",d,f),"draw:",b);objj_msgSend(e,"fillAndStroke:",b)}}}),new objj_method(sel_getUid("draw_frame_4:"),function(e,c,b){with(e){c=objj_msgSend(e,"sub_circles");for(var a=0;a<objj_msgSend(e,"numPoints");a++){var d=c[a];objj_msgSend(e,"setupColorWithIndex:context:",4,b);var g=objj_msgSend(objj_msgSend(objj_msgSend(e,"circle"),"cpt"),"point_on_segment:ratio:",objj_msgSend(d,"cpt"),0.25),f=objj_msgSend(objj_msgSend(objj_msgSend(e,"circle"),"cpt"),"point_on_segment:ratio:",objj_msgSend(objj_msgSend(d,
"nextCircle"),"cpt"),0.25),h=objj_msgSend(objj_msgSend(d,"cpt"),"point_on_segment:ratio:",objj_msgSend(objj_msgSend(d,"nextCircle"),"cpt"),0.75),m=objj_msgSend(objj_msgSend(d,"cpt"),"point_on_segment:ratio:",objj_msgSend(objj_msgSend(d,"nextCircle"),"cpt"),0.25);h=objj_msgSend(GRLine,"lineWithPoint:andPoint:",g,h);m=objj_msgSend(GRLine,"lineWithPoint:andPoint:",m,f);var l=objj_msgSend(h,"intersection:",m);g=objj_msgSend(objj_msgSend(objj_msgSend(e,"circle"),"cpt"),"point_on_segment:ratio:",objj_msgSend(d,
"cpt"),0.75);f=objj_msgSend(objj_msgSend(objj_msgSend(e,"circle"),"cpt"),"point_on_segment:ratio:",objj_msgSend(objj_msgSend(d,"nextCircle"),"cpt"),0.75);f=objj_msgSend(GRLine,"lineWithPoint:andPoint:",g,f);g=objj_msgSend(h,"intersection:",f);f=objj_msgSend(m,"intersection:",f);objj_msgSend(objj_msgSend(GRTriangle,"triangleWithPoints:",[l,g,f]),"draw:",b);objj_msgSend(e,"showShapes")&&objj_msgSend(e,"fillAndStroke:",b);h=objj_msgSend(GRLine,"lineWithPoint:andPoint:",g,objj_msgSend(objj_msgSend(objj_msgSend(d,
"nextCircle"),"cpt"),"point_on_segment:ratio:",g,1.8));m=objj_msgSend(GRLine,"lineWithPoint:andPoint:",f,objj_msgSend(objj_msgSend(d,"cpt"),"point_on_segment:ratio:",f,2));h=objj_msgSend(h,"intersection:",m);objj_msgSend(e,"setupColorWithIndex:context:",5,b);objj_msgSend(objj_msgSend(GRLine,"lineWithPoint:andPoint:",h,objj_msgSend(objj_msgSend(d,"cpt"),"point_on_segment:ratio:",f,2)),"draw:",b);objj_msgSend(e,"fillAndStroke:",b);objj_msgSend(objj_msgSend(GRLine,"lineWithPoint:andPoint:",h,objj_msgSend(objj_msgSend(objj_msgSend(d,
"nextCircle"),"cpt"),"point_on_segment:ratio:",g,2)),"draw:",b);objj_msgSend(e,"fillAndStroke:",b)}}})]);class_addMethods(f,[new objj_method(sel_getUid("defaultConfig"),function(e){with(e)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",2,2,2,1),"background_color",8,"number_of_points",0,"rotation",1,"recurse_depth",0.5,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",160,"radius",YES,"show_shapes",
[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.33636363636363636),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.3),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",85,85,85,0.5909090909090909),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,148,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",153,18,88,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",205,25,118,1)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",
255,36,49,0.13636363636363635),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",42,38,247,0.16363636363636364),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,25,49,0.18181818181818182),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",240,31,50,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",35,39,191,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPPlatformWindow.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);var e=NULL,c=objj_allocateClassPair(CPObject,"CPPlatformWindow"),b=c.isa;class_addIvars(c,[new objj_ivar("_contentRect"),new objj_ivar("_level"),new objj_ivar("_hasShadow"),new objj_ivar("_shadowStyle"),new objj_ivar("_DOMWindow"),new objj_ivar("_DOMBodyElement"),new objj_ivar("_DOMFocusElement"),new objj_ivar("_DOMEventGuard"),new objj_ivar("_DOMScrollingElement"),
new objj_ivar("_hideDOMScrollingElementTimeout"),new objj_ivar("_windowLevels"),new objj_ivar("_windowLayers"),new objj_ivar("_mouseIsDown"),new objj_ivar("_mouseDownIsRightClick"),new objj_ivar("_mouseDownWindow"),new objj_ivar("_lastMouseUp"),new objj_ivar("_lastMouseDown"),new objj_ivar("_charCodes"),new objj_ivar("_keyCode"),new objj_ivar("_lastKey"),new objj_ivar("_capsLockActive"),new objj_ivar("_ignoreNativeCopyOrCutEvent"),new objj_ivar("_ignoreNativePastePreparation"),new objj_ivar("_DOMEventMode"),
new objj_ivar("_DOMPasteboardElement"),new objj_ivar("_pasteboardKeyDownEvent"),new objj_ivar("_overriddenEventType")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithContentRect:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPPlatformWindow").super_class},"init"))_contentRect={origin:{x:c.origin.x,y:c.origin.y},size:{width:c.size.width,height:c.size.height}},_windowLevels=[],_windowLayers=objj_msgSend(CPDictionary,"dictionary"),
_charCodes={};return a}}),new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithContentRect:",{origin:{x:0,y:0},size:{width:400,height:500}})}),new objj_method(sel_getUid("contentRect"),function(a){with(a)return{origin:{x:_contentRect.origin.x,y:_contentRect.origin.y},size:{width:_contentRect.size.width,height:_contentRect.size.height}}}),new objj_method(sel_getUid("contentBounds"),function(a){with(a)return a=objj_msgSend(a,"contentRect"),a.origin={x:0,y:0},a}),new objj_method(sel_getUid("visibleFrame"),
function(a){with(a){var b=objj_msgSend(a,"contentBounds");b.origin=CGPointMakeZero();objj_msgSend(CPMenu,"menuBarVisible")&&objj_msgSend(CPPlatformWindow,"primaryPlatformWindow")===a&&(a=objj_msgSend(objj_msgSend(CPApp,"mainMenu"),"menuBarHeight"),b.origin.y+=a,b.size.height-=a);return b}}),new objj_method(sel_getUid("usableContentFrame"),function(a){with(a)return objj_msgSend(a,"visibleFrame")}),new objj_method(sel_getUid("setContentRect:"),function(a,b,c){with(a){if(!c||_contentRect.origin.x==c.origin.x&&
_contentRect.origin.y==c.origin.y&&_contentRect.size.width==c.size.width&&_contentRect.size.height==c.size.height)return;_contentRect={origin:{x:c.origin.x,y:c.origin.y},size:{width:c.size.width,height:c.size.height}};objj_msgSend(a,"updateNativeContentRect")}}),new objj_method(sel_getUid("updateFromNativeContentRect"),function(a){with(a)objj_msgSend(a,"setContentRect:",objj_msgSend(a,"nativeContentRect"))}),new objj_method(sel_getUid("convertBaseToScreen:"),function(a,b,c){with(a)return a=objj_msgSend(a,
"contentRect"),{x:c.x+a.origin.x,y:c.y+a.origin.y}}),new objj_method(sel_getUid("convertScreenToBase:"),function(a,b,c){with(a)return a=objj_msgSend(a,"contentRect"),{x:c.x-a.origin.x,y:c.y-a.origin.y}}),new objj_method(sel_getUid("isVisible"),function(a){with(a)return _DOMWindow!==NULL}),new objj_method(sel_getUid("deminiaturize:"),function(a){with(a)_DOMWindow&&typeof _DOMWindow.cpDeminiaturize==="function"&&_DOMWindow.cpDeminiaturize()}),new objj_method(sel_getUid("miniaturize:"),function(a){with(a)_DOMWindow&&
typeof _DOMWindow.cpMiniaturize==="function"&&_DOMWindow.cpMiniaturize()}),new objj_method(sel_getUid("moveWindow:fromLevel:toLevel:"),function(a,b,c,e,f){with(a){if(!c._isVisible)return;b=objj_msgSend(a,"layerAtLevel:create:",e,NO);a=objj_msgSend(a,"layerAtLevel:create:",f,YES);objj_msgSend(b,"removeWindow:",c);objj_msgSend(a,"insertWindow:atIndex:",c,CPNotFound)}}),new objj_method(sel_getUid("setLevel:"),function(a,b,c){with(a)_level=c,_DOMWindow&&_DOMWindow.cpSetLevel&&_DOMWindow.cpSetLevel(c)}),
new objj_method(sel_getUid("setHasShadow:"),function(a,b,c){with(a)_hasShadow=c,_DOMWindow&&_DOMWindow.cpSetHasShadow&&_DOMWindow.cpSetHasShadow(c)}),new objj_method(sel_getUid("setShadowStyle:"),function(a,b,c){with(a)_shadowStyle=c,_DOMWindow&&_DOMWindow.cpSetShadowStyle&&_shadowStyle.cpSetShadowStyle(c)}),new objj_method(sel_getUid("supportsFullPlatformWindows"),function(a){with(a)return objj_msgSend(CPPlatform,"isBrowser")})]);class_addMethods(b,[new objj_method(sel_getUid("visiblePlatformWindows"),
function(a){with(a)return objj_msgSend(CPSet,"set")}),new objj_method(sel_getUid("supportsMultipleInstances"),function(a){with(a)return!CPBrowserIsEngine(CPInternetExplorerBrowserEngine)}),new objj_method(sel_getUid("primaryPlatformWindow"),function(a){with(a)return e}),new objj_method(sel_getUid("setPrimaryPlatformWindow:"),function(a,b,c){with(a)e=c})]);f("CPPlatformWindow+DOM.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPValueTransformer.j",baseURL),function(h,f){f("CPData.j",YES);f("CPDictionary.j",YES);f("CPException.j",YES);f("CPKeyedArchiver.j",YES);f("CPKeyedUnarchiver.j",YES);f("CPNumber.j",YES);f("CPObject.j",YES);var e=objj_msgSend(CPDictionary,"dictionary"),c=objj_allocateClassPair(CPObject,"CPValueTransformer"),b=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("reverseTransformedValue:"),function(a,
b,c){with(a)return objj_msgSend(objj_msgSend(a,"class"),"allowsReverseTransformation")||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,a+" is not reversible."),objj_msgSend(a,"transformedValue:",c)}),new objj_method(sel_getUid("transformedValue:"),function(a){with(a)return nil})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==objj_msgSend(CPValueTransformer,"class"))return;objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",
objj_msgSend(objj_msgSend(CPNegateBooleanTransformer,"alloc"),"init"),CPNegateBooleanTransformerName);objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",objj_msgSend(objj_msgSend(CPIsNilTransformer,"alloc"),"init"),CPIsNilTransformerName);objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",objj_msgSend(objj_msgSend(CPIsNotNilTransformer,"alloc"),"init"),CPIsNotNilTransformerName);objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",objj_msgSend(objj_msgSend(CPUnarchiveFromDataTransformer,
"alloc"),"init"),CPUnarchiveFromDataTransformerName)}}),new objj_method(sel_getUid("setValueTransformer:forName:"),function(a,b,c,f){with(a)objj_msgSend(e,"setObject:forKey:",c,f)}),new objj_method(sel_getUid("valueTransformerForName:"),function(a,b,c){with(a)return objj_msgSend(e,"objectForKey:",c)}),new objj_method(sel_getUid("valueTransformerNames"),function(a){with(a)return objj_msgSend(e,"allKeys")}),new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return NO}),new objj_method(sel_getUid("transformedValueClass"),
function(a){with(a)return objj_msgSend(CPObject,"class")})]);c=objj_allocateClassPair(CPValueTransformer,"CPNegateBooleanTransformer");b=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("reverseTransformedValue:"),function(a,b,c){with(a)return!objj_msgSend(c,"boolValue")}),new objj_method(sel_getUid("transformedValue:"),function(a,b,c){with(a)return!objj_msgSend(c,"boolValue")})]);class_addMethods(b,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return YES}),
new objj_method(sel_getUid("transformedValueClass"),function(a){with(a)return objj_msgSend(CPNumber,"class")})]);c=objj_allocateClassPair(CPValueTransformer,"CPIsNilTransformer");b=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("transformedValue:"),function(a,b,c){with(a)return c===nil||c===void 0})]);class_addMethods(b,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return NO}),new objj_method(sel_getUid("transformedValueClass"),function(a){with(a)return objj_msgSend(CPNumber,
"class")})]);c=objj_allocateClassPair(CPValueTransformer,"CPIsNotNilTransformer");b=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("transformedValue:"),function(a,b,c){with(a)return c!==nil&&c!==void 0})]);class_addMethods(b,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return NO}),new objj_method(sel_getUid("transformedValueClass"),function(a){with(a)return objj_msgSend(CPNumber,"class")})]);c=objj_allocateClassPair(CPValueTransformer,
"CPUnarchiveFromDataTransformer");b=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("reverseTransformedValue:"),function(a,b,c){with(a)return objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",c)}),new objj_method(sel_getUid("transformedValue:"),function(a,b,c){with(a)return objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",c)})]);class_addMethods(b,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return YES}),new objj_method(sel_getUid("transformedValueClass"),
function(a){with(a)return objj_msgSend(CPData,"class")})]);CPNegateBooleanTransformerName="CPNegateBoolean";CPIsNilTransformerName="CPIsNil";CPIsNotNilTransformerName="CPIsNotNil";CPUnarchiveFromDataTransformerName="CPUnarchiveFromData";CPKeyedUnarchiveFromDataTransformerName="CPKeyedUnarchiveFromData"});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibWindowTemplate.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("CGGeometry.j",YES);f("CPWindow.j",YES);var e=objj_allocateClassPair(CPObject,"_CPCibWindowTemplate");class_addIvars(e,[new objj_ivar("_minSize"),new objj_ivar("_maxSize"),new objj_ivar("_viewClass"),new objj_ivar("_windowClass"),new objj_ivar("_windowRect"),new objj_ivar("_windowStyleMask"),new objj_ivar("_windowTitle"),new objj_ivar("_windowView"),
new objj_ivar("_windowAutorecalculatesKeyViewLoop"),new objj_ivar("_windowIsFullPlatformWindow")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(c){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPCibWindowTemplate").super_class},"init"))_windowClass="CPWindow",_windowRect=CGRectMake(0,0,400,200),_windowStyleMask=CPTitledWindowMask|CPClosableWindowMask|CPMiniaturizableWindowMask|CPResizableWindowMask,_windowTitle="Window",_windowView=
objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,400,200)),_windowIsFullPlatformWindow=NO;return c}}),new objj_method(sel_getUid("initWithCoder:"),function(c,b,a){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPCibWindowTemplate").super_class},"init"))objj_msgSend(a,"containsValueForKey:","_CPCibWindowTemplateMinSizeKey")&&(_minSize=objj_msgSend(a,"decodeSizeForKey:","_CPCibWindowTemplateMinSizeKey")),objj_msgSend(a,"containsValueForKey:","_CPCibWindowTemplateMaxSizeKey")&&
(_maxSize=objj_msgSend(a,"decodeSizeForKey:","_CPCibWindowTemplateMaxSizeKey")),_viewClass=objj_msgSend(a,"decodeObjectForKey:","_CPCibWindowTemplateViewClassKey"),_windowClass=objj_msgSend(a,"decodeObjectForKey:","_CPCibWindowTemplateWindowClassKey"),_windowRect=objj_msgSend(a,"decodeRectForKey:","_CPCibWindowTemplateWindowRectKey"),_windowStyleMask=objj_msgSend(a,"decodeIntForKey:","_CPCibWindowTempatStyleMaskKey"),_windowTitle=objj_msgSend(a,"decodeObjectForKey:","_CPCibWindowTemplateWindowTitleKey"),
_windowView=objj_msgSend(a,"decodeObjectForKey:","_CPCibWindowTemplateWindowViewKey"),_windowAutorecalculatesKeyViewLoop=!!objj_msgSend(a,"decodeObjectForKey:","_CPCibWindowTemplateWindowAutorecalculatesKeyViewLoop"),_windowIsFullPlatformWindow=!!objj_msgSend(a,"decodeObjectForKey:","_CPCibWindowTemplateWindowIsFullPlatformWindowKey");return c}}),new objj_method(sel_getUid("encodeWithCoder:"),function(c,b,a){with(c)_minSize&&objj_msgSend(a,"encodeSize:forKey:",_minSize,"_CPCibWindowTemplateMinSizeKey"),
_maxSize&&objj_msgSend(a,"encodeSize:forKey:",_maxSize,"_CPCibWindowTemplateMaxSizeKey"),objj_msgSend(a,"encodeObject:forKey:",_viewClass,"_CPCibWindowTemplateViewClassKey"),objj_msgSend(a,"encodeObject:forKey:",_windowClass,"_CPCibWindowTemplateWindowClassKey"),objj_msgSend(a,"encodeRect:forKey:",_windowRect,"_CPCibWindowTemplateWindowRectKey"),objj_msgSend(a,"encodeInt:forKey:",_windowStyleMask,"_CPCibWindowTempatStyleMaskKey"),objj_msgSend(a,"encodeObject:forKey:",_windowTitle,"_CPCibWindowTemplateWindowTitleKey"),
objj_msgSend(a,"encodeObject:forKey:",_windowView,"_CPCibWindowTemplateWindowViewKey"),_windowAutorecalculatesKeyViewLoop&&objj_msgSend(a,"encodeObject:forKey:",_windowAutorecalculatesKeyViewLoop,"_CPCibWindowTemplateWindowAutorecalculatesKeyViewLoop"),_windowIsFullPlatformWindow&&objj_msgSend(a,"encodeObject:forKey:",_windowIsFullPlatformWindow,"_CPCibWindowTemplateWindowIsFullPlatformWindowKey")}),new objj_method(sel_getUid("customClassName"),function(c){with(c)return _windowClass}),new objj_method(sel_getUid("setCustomClassName:"),
function(c,b,a){with(c)_windowClass=a}),new objj_method(sel_getUid("windowClass"),function(c){with(c)return _windowClass}),new objj_method(sel_getUid("_cibInstantiate"),function(c){with(c)return c=CPClassFromString(objj_msgSend(c,"windowClass")),c=objj_msgSend(objj_msgSend(c,"alloc"),"initWithContentRect:styleMask:",_windowRect,_windowStyleMask),_minSize&&objj_msgSend(c,"setMinSize:",_minSize),_maxSize&&objj_msgSend(c,"setMaxSize:",_maxSize),objj_msgSend(c,"setTitle:",_windowTitle),objj_msgSend(_windowView,
"setAutoresizesSubviews:",NO),objj_msgSend(c,"setContentView:",_windowView),objj_msgSend(_windowView,"setAutoresizesSubviews:",YES),objj_msgSend(_viewClass,"isKindOfClass:",objj_msgSend(CPToolbar,"class"))&&objj_msgSend(c,"setToolbar:",_viewClass),objj_msgSend(c,"setAutorecalculatesKeyViewLoop:",_windowAutorecalculatesKeyViewLoop),objj_msgSend(c,"setFullBridge:",_windowIsFullPlatformWindow),c})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPPlatform.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);var e=objj_allocateClassPair(CPObject,"CPBasePlatform"),c=e.isa;objj_registerClassPair(e);class_addMethods(c,[new objj_method(sel_getUid("bootstrap"),function(a){with(a)objj_msgSend(CPPlatformString,"bootstrap"),objj_msgSend(CPPlatformWindow,"setPrimaryPlatformWindow:",objj_msgSend(objj_msgSend(CPPlatformWindow,"alloc"),"_init"))}),new objj_method(sel_getUid("isBrowser"),
function(a){with(a)return NO}),new objj_method(sel_getUid("supportsDragAndDrop"),function(a){with(a)return NO}),new objj_method(sel_getUid("supportsNativeMainMenu"),function(a){with(a)return NO}),new objj_method(sel_getUid("terminateApplication"),function(a){with(a);}),new objj_method(sel_getUid("activateIgnoringOtherApps:"),function(a){with(a);}),new objj_method(sel_getUid("deactivate"),function(a){with(a);}),new objj_method(sel_getUid("hideOtherApplications:"),function(a){with(a);}),new objj_method(sel_getUid("hide:"),
function(a){with(a);})]);typeof window.CPPlatformEnableHTMLDragAndDrop==="undefined"&&(CPPlatformEnableHTMLDragAndDrop=NO);CPPlatformDidClearBodyElementNotification="CPPlatformDidClearBodyElementNotification";CPPlatformWillClearBodyElementNotification="CPPlatformWillClearBodyElementNotification";var b=NO,a=nil,d=RegExp("\\bcpdontremove\\b","g");e=objj_allocateClassPair(CPBasePlatform,"CPPlatform");c=e.isa;objj_registerClassPair(e);class_addMethods(c,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==
objj_msgSend(CPPlatform,"class"))return;b=objj_msgSend(CPPlatform,"isBrowser");if(document.documentElement)document.documentElement.style.overflow="hidden";if(objj_msgSend(CPPlatform,"isBrowser"))window.onunload=function(){objj_msgSend(CPApp,"terminate:",nil)}}}),new objj_method(sel_getUid("isBrowser"),function(a){with(a)return typeof window.cpIsDesktop==="undefined"}),new objj_method(sel_getUid("supportsDragAndDrop"),function(a){with(a)return CPFeatureIsCompatible(CPHTMLDragAndDropFeature)&&(CPPlatformEnableHTMLDragAndDrop||
!objj_msgSend(a,"isBrowser"))}),new objj_method(sel_getUid("supportsNativeMainMenu"),function(a){with(a)return typeof window.cpSetMainMenu==="function"}),new objj_method(sel_getUid("terminateApplication"),function(a){with(a)typeof window.cpTerminate==="function"&&window.cpTerminate()}),new objj_method(sel_getUid("activateIgnoringOtherApps:"),function(a,b,c){with(a)typeof window.cpActivateIgnoringOtherApps==="function"&&window.cpActivateIgnoringOtherApps(!!c)}),new objj_method(sel_getUid("deactivate"),
function(a){with(a)typeof window.cpDeactivate==="function"&&window.cpDeactivate()}),new objj_method(sel_getUid("hideOtherApplications:"),function(a){with(a)typeof window.cpHideOtherApplications==="function"&&window.cpHideOtherApplications()}),new objj_method(sel_getUid("hide:"),function(a){with(a)typeof window.cpHide==="function"&&window.cpHide()}),new objj_method(sel_getUid("mainBodyElement"),function(b){with(b)return a||(a=document.getElementById("cappuccino-body")||document.body),a}),new objj_method(sel_getUid("initializeScreenIfNecessary"),
function(a){with(a){if(!b)return;b=NO;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPPlatformWillClearBodyElementNotification,a);for(var c=objj_msgSend(a,"mainBodyElement"),e=c.childNodes,f=e.length;f--;){var h=e[f];(!h.className||h.className.match(d)===null)&&c.removeChild(h)}c.style.overflow="hidden";objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPPlatformDidClearBodyElementNotification,a)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPBundle.j",baseURL),function(h,f){f("CPDictionary.j",YES);f("CPNotification.j",YES);f("CPNotificationCenter.j",YES);f("CPObject.j",YES);CPBundleDidLoadNotification="CPBundleDidLoadNotification";var e={},c=objj_allocateClassPair(CPObject,"CPBundle"),b=c.isa;class_addIvars(c,[new objj_ivar("_bundle"),new objj_ivar("_delegate")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithURL:"),function(a,
b,c){with(a){c=new CFURL(c);b=c.absoluteString();var f=e[b];if(f)return f;if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPBundle").super_class},"init"))_bundle=new CFBundle(c),e[b]=a;return a}}),new objj_method(sel_getUid("initWithPath:"),function(a,b,c){with(a)return objj_msgSend(a,"initWithURL:",c)}),new objj_method(sel_getUid("classNamed:"),function(a){with(a);}),new objj_method(sel_getUid("bundleURL"),function(a){with(a)return _bundle.bundleURL()}),new objj_method(sel_getUid("bundlePath"),
function(a){with(a)return objj_msgSend(objj_msgSend(a,"bundleURL"),"path")}),new objj_method(sel_getUid("resourcePath"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"resourceURL"),"path")}),new objj_method(sel_getUid("resourceURL"),function(a){with(a)return _bundle.resourcesDirectoryURL()}),new objj_method(sel_getUid("principalClass"),function(a){with(a)return(a=objj_msgSend(a,"objectForInfoDictionaryKey:","CPPrincipalClass"))?CPClassFromString(a):Nil}),new objj_method(sel_getUid("bundleIdentifier"),
function(a){with(a)return objj_msgSend(a,"objectForInfoDictionaryKey:","CPBundleIdentifier")}),new objj_method(sel_getUid("isLoaded"),function(a){with(a)return _bundle.isLoaded()}),new objj_method(sel_getUid("pathForResource:"),function(a,b,c){with(a)return _bundle.pathForResource(c)}),new objj_method(sel_getUid("infoDictionary"),function(a){with(a)return _bundle.infoDictionary()}),new objj_method(sel_getUid("objectForInfoDictionaryKey:"),function(a,b,c){with(a)return _bundle.valueForInfoDictionaryKey(c)}),
new objj_method(sel_getUid("loadWithDelegate:"),function(a,b,c){with(a)_delegate=c,_bundle.addEventListener("load",function(){objj_msgSend(_delegate,"bundleDidFinishLoading:",a);objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPBundleDidLoadNotification,a,nil)}),_bundle.addEventListener("error",function(){CPLog.error("Could not find bundle: "+a)}),_bundle.load(YES)}),new objj_method(sel_getUid("staticResourceURLs"),function(a){with(a){a=[];for(var b=
_bundle.staticResources(),c=0,e=objj_msgSend(b,"count");c<e;++c)objj_msgSend(a,"addObject:",b[c].URL());return a}}),new objj_method(sel_getUid("environments"),function(a){with(a)return _bundle.environments()}),new objj_method(sel_getUid("mostEligibleEnvironment"),function(a){with(a)return _bundle.mostEligibleEnvironment()}),new objj_method(sel_getUid("description"),function(a){with(a)return objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPBundle").super_class},"description")+"("+objj_msgSend(a,
"bundlePath")+")"})]);class_addMethods(b,[new objj_method(sel_getUid("bundleWithURL:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithURL:",c)}),new objj_method(sel_getUid("bundleWithPath:"),function(a,b,c){with(a)return objj_msgSend(a,"bundleWithURL:",c)}),new objj_method(sel_getUid("bundleForClass:"),function(a,b,c){with(a)return objj_msgSend(a,"bundleWithURL:",CFBundle.bundleForClass(c).bundleURL())}),new objj_method(sel_getUid("mainBundle"),function(a){with(a)return objj_msgSend(CPBundle,
"bundleWithPath:",CFBundle.mainBundle().bundleURL())})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/one.j",baseURL),function(){var h=objj_allocateClassPair(PatternMaker,"PatternOne"),f=h.isa;objj_registerClassPair(h);class_addMethods(h,[new objj_method(sel_getUid("_draw:"),function(e,c,b){with(e)objj_msgSend(e,"draw_frame_1:",b),objj_msgSend(e,"showShapes")&&objj_msgSend(e,"draw_frame_2:",b)}),new objj_method(sel_getUid("draw_frame_1:"),function(e,c,b){with(e){objj_msgSend(e,"setupColorWithIndex:context:",0,b);objj_msgSend(objj_msgSend(e,
"circle"),"draw:",b);objj_msgSend(e,"fillAndStroke:",b);c=objj_msgSend(e,"sub_circles");for(var a=objj_msgSend(c,"count");a--;)objj_msgSend(c[a],"draw:",b),objj_msgSend(e,"setupColorWithIndex:context:",a%2+1,b),objj_msgSend(e,"fillAndStroke:",b)}}),new objj_method(sel_getUid("draw_frame_2:"),function(e,c,b){with(e){c=objj_msgSend(e,"sub_circles");for(var a=0;a<objj_msgSend(e,"numPoints");a++){var d=c[a],f=objj_msgSend(objj_msgSend(e,"circle"),"intersection:",d),h=objj_msgSend(d,"closest:",objj_msgSend(objj_msgSend(e,
"circle"),"intersection:",objj_msgSend(d,"nextCircle"))),i=objj_msgSend(objj_msgSend(e,"circle"),"closest:",objj_msgSend(d,"intersection:",objj_msgSend(d,"nextCircle"))),m=objj_msgSend(objj_msgSend(e,"circle"),"closest:",objj_msgSend(d,"intersection:",objj_msgSend(d,"prevCircle")));d=objj_msgSend(d,"closest:",objj_msgSend(objj_msgSend(e,"circle"),"intersection:",objj_msgSend(d,"prevCircle")));var l=objj_msgSend(h,"closest:",f);f=objj_msgSend(d,"closest:",f);objj_msgSend(e,"setupColorWithIndex:context:",
3,b);objj_msgSend(objj_msgSend(GRTriangle,"triangleWithPoints:",[f,d,m]),"draw:",b);objj_msgSend(e,"fillAndStroke:",b);objj_msgSend(objj_msgSend(GRTriangle,"triangleWithPoints:",[l,i,h]),"draw:",b);objj_msgSend(e,"fillAndStroke:",b);objj_msgSend(e,"setupColorWithIndex:context:",4,b);objj_msgSend(objj_msgSend(GRRect,"rectWithPoints:",[i,h,d,m]),"draw:",b);objj_msgSend(e,"fillAndStroke:",b)}}})]);class_addMethods(f,[new objj_method(sel_getUid("defaultConfig"),function(e){with(e)return objj_msgSend(CPDictionary,
"dictionaryWithObjectsAndKeys:",objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,255,1),"background_color",6,"number_of_points",0,"rotation",0,"recurse_depth",1.54,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",97,"radius",YES,"show_shapes",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.6181818181818182),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.3),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",85,
85,85,0.5909090909090909),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,23,10,1)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",28,248,12,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",29,44,255,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",
240,31,50,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",191,188,30,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibCustomResource.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("Foundation/CPString.j",NO);var e=objj_allocateClassPair(CPObject,"_CPCibCustomResource"),c=e.isa;class_addIvars(e,[new objj_ivar("_className"),new objj_ivar("_resourceName"),new objj_ivar("_properties")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithClassName:resourceName:properties:"),function(b,a,c,e,f){with(b){if(b=
objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPCibCustomResource").super_class},"init"))_className=c,_resourceName=e,_properties=f;return b}}),new objj_method(sel_getUid("initWithCoder:"),function(b,a,c){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPCibCustomResource").super_class},"init"))_className=objj_msgSend(c,"decodeObjectForKey:","_CPCibCustomResourceClassNameKey"),_resourceName=objj_msgSend(c,"decodeObjectForKey:","_CPCibCustomResourceResourceNameKey"),
_properties=objj_msgSend(c,"decodeObjectForKey:","_CPCibCustomResourcePropertiesKey");return b}}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,a,c){with(b)objj_msgSend(c,"encodeObject:forKey:",_className,"_CPCibCustomResourceClassNameKey"),objj_msgSend(c,"encodeObject:forKey:",_resourceName,"_CPCibCustomResourceResourceNameKey"),objj_msgSend(c,"encodeObject:forKey:",_properties,"_CPCibCustomResourcePropertiesKey")}),new objj_method(sel_getUid("awakeAfterUsingCoder:"),function(b,a,c){with(b){if(objj_msgSend(c,
"respondsToSelector:",sel_getUid("bundle"))&&(!objj_msgSend(c,"respondsToSelector:",sel_getUid("awakenCustomResources"))||objj_msgSend(c,"awakenCustomResources"))&&_className==="CPImage")return objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(objj_msgSend(c,"bundle"),"pathForResource:",_resourceName),_properties.valueForKey("size"));return b}})]);class_addMethods(c,[new objj_method(sel_getUid("imageResourceWithName:size:"),function(b,a,c,e){with(b)return objj_msgSend(objj_msgSend(b,
"alloc"),"initWithClassName:resourceName:properties:","CPImage",c,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",e,"size"))})]);e=objj_getClass("_CPCibCustomResource");if(!e)throw new SyntaxError('*** Could not find definition for class "_CPCibCustomResource"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("filename"),function(b){with(b)return objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",_resourceName)}),new objj_method(sel_getUid("size"),function(b){with(b)return objj_msgSend(_properties,
"objectForKey:","size")}),new objj_method(sel_getUid("isThreePartImage"),function(b){with(b)return NO}),new objj_method(sel_getUid("isNinePartImage"),function(b){with(b)return NO}),new objj_method(sel_getUid("loadStatus"),function(b){with(b)return CPImageLoadStatusCompleted}),new objj_method(sel_getUid("delegate"),function(b){with(b)return nil})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPMutableSet.j",baseURL),function(h,f){f("CPSet.j",YES);var e=objj_allocateClassPair(CPSet,"CPMutableSet"),c=e.isa;objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithCapacity:"),function(b){with(b)return objj_msgSend(b,"init")}),new objj_method(sel_getUid("filterUsingPredicate:"),function(b,a,c){with(b)for(var e=objj_msgSend(b,"objectEnumerator");(a=objj_msgSend(e,"nextObject"))!==nil;)objj_msgSend(c,
"evaluateWithObject:",a)||objj_msgSend(b,"removeObject:",a)}),new objj_method(sel_getUid("removeObject:"),function(b,a){with(b)_CPRaiseInvalidAbstractInvocation(b,a)}),new objj_method(sel_getUid("removeObjectsInArray:"),function(b,a,c){with(b){a=0;for(var e=objj_msgSend(c,"count");a<e;++a)objj_msgSend(b,"removeObject:",objj_msgSend(c,"objectAtIndex:",a))}}),new objj_method(sel_getUid("removeAllObjects"),function(b){with(b)for(var a,c=objj_msgSend(b,"objectEnumerator");(a=objj_msgSend(c,"nextObject"))!==
nil;)objj_msgSend(b,"removeObject:",a)}),new objj_method(sel_getUid("addObjectsFromArray:"),function(b,a,c){with(b)for(a=objj_msgSend(c,"count");a--;)objj_msgSend(b,"addObject:",c[a])}),new objj_method(sel_getUid("unionSet:"),function(b,a,c){with(b)for(c=objj_msgSend(c,"objectEnumerator");(a=objj_msgSend(c,"nextObject"))!==nil;)objj_msgSend(b,"addObject:",a)}),new objj_method(sel_getUid("minusSet:"),function(b,a,c){with(b)for(c=objj_msgSend(c,"objectEnumerator");(a=objj_msgSend(c,"nextObject"))!==
nil;)objj_msgSend(b,"removeObject:",a)}),new objj_method(sel_getUid("intersectSet:"),function(b,a,c){with(b){var e,f=objj_msgSend(b,"objectEnumerator");for(a=[];(e=objj_msgSend(f,"nextObject"))!==nil;)objj_msgSend(c,"containsObject:",e)||a.push(e);for(c=objj_msgSend(a,"count");c--;)objj_msgSend(b,"removeObject:",a[c])}}),new objj_method(sel_getUid("setSet:"),function(b,a,c){with(b)objj_msgSend(b,"removeAllObjects"),objj_msgSend(b,"unionSet:",c)})]);class_addMethods(c,[new objj_method(sel_getUid("setWithCapacity:"),
function(b,a,c){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithCapacity:",c)})]);f("_CPConcreteMutableSet.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPPlatformWindow+DOMKeys.j",baseURL),function(){CPKeyCodes={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,
N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,
BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229};CPKeyCodes.firesKeyPressEvent=function(h,f,e,c,b){if(!CPFeatureIsCompatible(CPJavaScriptRemedialKeySupport))return!0;if(CPBrowserIsOperatingSystem(CPMacOperatingSystem)&&b)return CPKeyCodes.isCharacterKey(h);if(b&&!c)return!1;if(CPBrowserIsEngine(CPInternetExplorerBrowserEngine)&&!e&&(c||b))return!1;if(CPBrowserIsEngine(CPInternetExplorerBrowserEngine)&&c&&f==h)return!1;switch(h){case CPKeyCodes.ENTER:return!0;case CPKeyCodes.ESC:return!CPBrowserIsEngine(CPWebKitBrowserEngine)}return CPKeyCodes.isCharacterKey(h)};
CPKeyCodes.isCharacterKey=function(h){if(h>=CPKeyCodes.ZERO&&h<=CPKeyCodes.NINE)return!0;if(h>=CPKeyCodes.NUM_ZERO&&h<=CPKeyCodes.NUM_MULTIPLY)return!0;if(h>=CPKeyCodes.A&&h<=CPKeyCodes.Z)return!0;switch(h){case CPKeyCodes.SPACE:case CPKeyCodes.QUESTION_MARK:case CPKeyCodes.NUM_PLUS:case CPKeyCodes.NUM_MINUS:case CPKeyCodes.NUM_PERIOD:case CPKeyCodes.NUM_DIVISION:case CPKeyCodes.SEMICOLON:case CPKeyCodes.DASH:case CPKeyCodes.EQUALS:case CPKeyCodes.COMMA:case CPKeyCodes.PERIOD:case CPKeyCodes.SLASH:case CPKeyCodes.APOSTROPHE:case CPKeyCodes.SINGLE_QUOTE:case CPKeyCodes.OPEN_SQUARE_BRACKET:case CPKeyCodes.BACKSLASH:case CPKeyCodes.CLOSE_SQUARE_BRACKET:return!0;
default:return!1}}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/_CPConcreteMutableSet.j",baseURL),function(h,f){f("CPMutableSet.j",YES);var e=Object.prototype.hasOwnProperty,c=objj_allocateClassPair(CPMutableSet,"_CPConcreteMutableSet");class_addIvars(c,[new objj_ivar("_contents"),new objj_ivar("_count")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithObjects:count:"),function(b,a,c,e){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPConcreteMutableSet").super_class},"initWithObjects:count:",
c,e)){_count=0;_contents={};a=0;for(e=MIN(objj_msgSend(c,"count"),e);a<e;++a)objj_msgSend(b,"addObject:",c[a])}return b}}),new objj_method(sel_getUid("count"),function(b){with(b)return _count}),new objj_method(sel_getUid("member:"),function(b,a,c){with(b){b=objj_msgSend(c,"UID");if(!e.call(_contents,b))return nil;b=_contents[b];if(b===c||objj_msgSend(b,"isEqual:",c))return b;return nil}}),new objj_method(sel_getUid("allObjects"),function(b){with(b){b=[];for(var a in _contents)e.call(_contents,a)&&
b.push(_contents[a]);return b}}),new objj_method(sel_getUid("objectEnumerator"),function(b){with(b)return objj_msgSend(objj_msgSend(b,"allObjects"),"objectEnumerator")}),new objj_method(sel_getUid("addObject:"),function(b,a,c){with(b){if(c===nil||c===void 0)return;if(objj_msgSend(b,"containsObject:",c))return;_contents[objj_msgSend(c,"UID")]=c;_count++}}),new objj_method(sel_getUid("removeObject:"),function(b,a,c){with(b){if(!objj_msgSend(b,"containsObject:",c))return;delete _contents[objj_msgSend(c,
"UID")];_count--}}),new objj_method(sel_getUid("removeAllObjects"),function(b){with(b)_contents={},_count=0}),new objj_method(sel_getUid("classForCoder"),function(b){with(b)return objj_msgSend(CPSet,"class")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPOpenPanel.j",baseURL),function(h,f){f("CPPanel.j",YES);var e=objj_allocateClassPair(CPPanel,"CPOpenPanel"),c=e.isa;class_addIvars(e,[new objj_ivar("_canChooseFiles"),new objj_ivar("_canChooseDirectories"),new objj_ivar("_allowsMultipleSelection"),new objj_ivar("_directoryURL"),new objj_ivar("_URLs")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("canChooseFiles"),function(b){with(b)return _canChooseFiles}),
new objj_method(sel_getUid("setCanChooseFiles:"),function(b,a,c){with(b)_canChooseFiles=c}),new objj_method(sel_getUid("canChooseDirectories"),function(b){with(b)return _canChooseDirectories}),new objj_method(sel_getUid("setCanChooseDirectories:"),function(b,a,c){with(b)_canChooseDirectories=c}),new objj_method(sel_getUid("allowsMultipleSelection"),function(b){with(b)return _allowsMultipleSelection}),new objj_method(sel_getUid("setAllowsMultipleSelection:"),function(b,a,c){with(b)_allowsMultipleSelection=
c}),new objj_method(sel_getUid("directoryURL"),function(b){with(b)return _directoryURL}),new objj_method(sel_getUid("setDirectoryURL:"),function(b,a,c){with(b)_directoryURL=c}),new objj_method(sel_getUid("runModal"),function(b){with(b){if(typeof window.cpOpenPanel==="function")return objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode),b={directoryURL:objj_msgSend(b,"directoryURL"),canChooseFiles:objj_msgSend(b,"canChooseFiles"),canChooseDirectories:objj_msgSend(b,
"canChooseDirectories"),allowsMultipleSelection:objj_msgSend(b,"allowsMultipleSelection")},b=window.cpOpenPanel(b),_URLs=b.URLs,b.button;throw"-runModal is unimplemented.";}}),new objj_method(sel_getUid("URLs"),function(b){with(b)return _URLs})]);class_addMethods(c,[new objj_method(sel_getUid("openPanel"),function(b){with(b)return objj_msgSend(objj_msgSend(CPOpenPanel,"alloc"),"init")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPCoder.j",baseURL),function(h,f){f("CPException.j",YES);f("CPObject.j",YES);var e=objj_allocateClassPair(CPObject,"CPCoder");objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("allowsKeyedCoding"),function(c){with(c)return NO}),new objj_method(sel_getUid("encodeValueOfObjCType:at:"),function(c,b){with(c)_CPRaiseInvalidAbstractInvocation(c,b)}),new objj_method(sel_getUid("encodeDataObject:"),function(c,
b){with(c)_CPRaiseInvalidAbstractInvocation(c,b)}),new objj_method(sel_getUid("encodeObject:"),function(c){with(c);}),new objj_method(sel_getUid("encodePoint:"),function(c,b,a){with(c)objj_msgSend(c,"encodeNumber:",a.x),objj_msgSend(c,"encodeNumber:",a.y)}),new objj_method(sel_getUid("encodeRect:"),function(c,b,a){with(c)objj_msgSend(c,"encodePoint:",a.origin),objj_msgSend(c,"encodeSize:",a.size)}),new objj_method(sel_getUid("encodeSize:"),function(c,b,a){with(c)objj_msgSend(c,"encodeNumber:",a.width),
objj_msgSend(c,"encodeNumber:",a.height)}),new objj_method(sel_getUid("encodePropertyList:"),function(c){with(c);}),new objj_method(sel_getUid("encodeRootObject:"),function(c,b,a){with(c)objj_msgSend(c,"encodeObject:",a)}),new objj_method(sel_getUid("encodeBycopyObject:"),function(c,b,a){with(c)objj_msgSend(c,"encodeObject:",a)}),new objj_method(sel_getUid("encodeConditionalObject:"),function(c,b,a){with(c)objj_msgSend(c,"encodeObject:",a)})]);e=objj_getClass("CPObject");if(!e)throw new SyntaxError('*** Could not find definition for class "CPObject"');
class_addMethods(e,[new objj_method(sel_getUid("awakeAfterUsingCoder:"),function(c){with(c)return c})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCookie.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("Foundation/CPString.j",NO);var e=objj_allocateClassPair(CPObject,"CPCookie");class_addIvars(e,[new objj_ivar("_cookieName"),new objj_ivar("_cookieValue"),new objj_ivar("_expires")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithName:"),function(c,b,a){with(c)return c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPCookie").super_class},
"init"),_cookieName=a,_cookieValue=objj_msgSend(c,"_readCookieValue"),c}),new objj_method(sel_getUid("value"),function(c){with(c)return _cookieValue}),new objj_method(sel_getUid("name"),function(c){with(c)return _cookieName}),new objj_method(sel_getUid("expires"),function(c){with(c)return _expires}),new objj_method(sel_getUid("setValue:expires:domain:"),function(c,b,a,d,e){with(c)c=d?"; expires="+d.toGMTString():"",document.cookie=_cookieName+"="+a+c+"; path=/"+(e?"; domain="+e:"")}),new objj_method(sel_getUid("_readCookieValue"),
function(c){with(c){c=_cookieName+"=";for(var b=document.cookie.split(";"),a=0;a<b.length;a++){for(var d=b[a];d.charAt(0)==" ";)d=d.substring(1,d.length);if(d.indexOf(c)==0)return d.substring(c.length,d.length)}return""}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPDisplayServer.j",baseURL),function(h,f){f("Foundation/CPRunLoop.j",NO);var e=[],c={},b=[],a={},d=objj_msgSend(CPRunLoop,"mainRunLoop");_CPDisplayServerAddDisplayObject=function(a){var b=objj_msgSend(a,"UID");if(typeof c[b]==="undefined"){var d=e.length;c[b]=d;e[d]=a}};_CPDisplayServerAddLayoutObject=function(c){var d=objj_msgSend(c,"UID");if(typeof a[d]==="undefined"){var e=b.length;a[d]=e;b[e]=c}};var g=objj_allocateClassPair(CPObject,
"_CPDisplayServer"),j=g.isa;objj_registerClassPair(g);class_addMethods(j,[new objj_method(sel_getUid("run"),function(f){with(f){for(;b.length||e.length;){for(var g=0;g<b.length;++g){var h=b[g];delete a[objj_msgSend(h,"UID")];objj_msgSend(h,"layoutIfNeeded")}b=[];a={};for(g=0;g<e.length;++g){if(b.length)break;h=e[g];delete c[objj_msgSend(h,"UID")];objj_msgSend(h,"displayIfNeeded")}g===e.length?(e=[],c={}):e.splice(0,g)}objj_msgSend(d,"performSelector:target:argument:order:modes:",sel_getUid("run"),
f,nil,0,[CPDefaultRunLoopMode])}})]);objj_msgSend(_CPDisplayServer,"run")});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPPropertyListSerialization.j",baseURL),function(h,f){f("CPException.j",YES);f("CPObject.j",YES);CPPropertyListUnknownFormat=0;CPPropertyListOpenStepFormat=kCFPropertyListOpenStepFormat;CPPropertyListXMLFormat_v1_0=kCFPropertyListXMLFormat_v1_0;CPPropertyListBinaryFormat_v1_0=kCFPropertyListBinaryFormat_v1_0;CPPropertyList280NorthFormat_v1_0=kCFPropertyList280NorthFormat_v1_0;var e=objj_allocateClassPair(CPObject,"CPPropertyListSerialization"),
c=e.isa;objj_registerClassPair(e);class_addMethods(c,[new objj_method(sel_getUid("dataFromPropertyList:format:"),function(b,a,c,e){with(b)return CPPropertyListCreateData(c,e)}),new objj_method(sel_getUid("propertyListFromData:format:"),function(b,a,c,e){with(b)return CPPropertyListCreateFromData(c,e)})]);e=objj_getClass("CPPropertyListSerialization");if(!e)throw new SyntaxError('*** Could not find definition for class "CPPropertyListSerialization"');c=e.isa;class_addMethods(c,[new objj_method(sel_getUid("dataFromPropertyList:format:errorDescription:"),
function(b,a,c,e){with(b)return _CPReportLenientDeprecation(b,a,sel_getUid("dataFromPropertyList:format:")),objj_msgSend(b,"dataFromPropertyList:format:",c,e)}),new objj_method(sel_getUid("propertyListFromData:format:errorDescription:"),function(b,a,c,e){with(b)return _CPReportLenientDeprecation(b,a,sel_getUid("propertyListFromData:format:")),objj_msgSend(b,"propertyListFromData:format:",c,e)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/views/pattern_view.j",baseURL),function(){var h=objj_allocateClassPair(GRRotateView,"PatternView");class_addIvars(h,[new objj_ivar("m_pattern")]);objj_registerClassPair(h);class_addMethods(h,[new objj_method(sel_getUid("pattern"),function(f){with(f)return m_pattern}),new objj_method(sel_getUid("setPattern:"),function(f,e,c){with(f)m_pattern=c}),new objj_method(sel_getUid("initWithFrame:"),function(f,e,c){with(f)return(f=objj_msgSendSuper({receiver:f,
super_class:objj_getClass("PatternView").super_class},"initWithFrame:",c))&&objj_msgSend(f,"setClipsToBounds:",YES),f}),new objj_method(sel_getUid("setPattern:"),function(f,e,c){with(f)m_pattern=c,objj_msgSend(f,"setRotation:",objj_msgSend(m_pattern,"rotation")*(Math.PI/180))}),new objj_method(sel_getUid("drawLayer:inContext:"),function(f,e,c,b){with(f){objj_msgSend(objj_msgSend(f,"superview"),"setBackgroundColor:",objj_msgSend(objj_msgSend(f,"pattern"),"bgColor"));CGContextSetFillColor(b,objj_msgSend(objj_msgSend(f,
"pattern"),"bgColor"));CGContextFillRect(b,objj_msgSend(f,"bounds"));try{objj_msgSend(objj_msgSend(f,"pattern"),"draw:",b)}catch(a){CPLogConsole("Exception: happend, configuration broke everything")}}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/six.j",baseURL),function(){var h=objj_allocateClassPair(PatternTwo,"PatternSix"),f=h.isa;objj_registerClassPair(h);class_addMethods(f,[new objj_method(sel_getUid("defaultConfig"),function(e){with(e)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",132,132,132,1),"background_color",50,"number_of_points",0,"rotation",0,"recurse_depth",0.88,"factor_larger",objj_msgSend(GRPoint,
"pointWithX:Y:",350,350),"center_point",181,"radius",YES,"show_shapes",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,221,88,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",37,15,255,0.7727272727272727),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,255,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",2,13,2,0.20909090909090908),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",146,26,255,0.9363636363636364),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",
0,0,0,0)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",51,32,255,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",198,157,165,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0.02727272727272727),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",201,8,37,0.39545454545454545),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,200,10,0.4),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/fourteen.j",baseURL),function(){var h=objj_allocateClassPair(PatternTwelve,"PatternFourteen"),f=h.isa;objj_registerClassPair(h);class_addMethods(f,[new objj_method(sel_getUid("defaultConfig"),function(e){with(e)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,255,1),"background_color",24,"number_of_points",0,"rotation",0,"recurse_depth",0.44,"factor_larger",
objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",200,"radius",YES,"show_shapes",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",174,174,174,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.6181818181818182),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.39090909090909093),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.39090909090909093),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,2,10,1),objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",255,23,10,1)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,96,175,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,200,10,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/monkeypatch.j",baseURL),function(){var h=objj_getClass("CPColor");if(!h)throw new SyntaxError('*** Could not find definition for class "CPColor"');var f=h.isa;class_addMethods(h,[new objj_method(sel_getUid("addToBlue:"),function(e,c,b){with(e)return objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",objj_msgSend(e,"redComponent"),objj_msgSend(e,"greenComponent"),objj_msgSend(e,"blueComponent")+b/255,objj_msgSend(e,"alphaComponent"))})]);class_addMethods(f,
[new objj_method(sel_getUid("colorWith8BitRed:green:blue:alpha:"),function(e,c,b,a,d,f){with(e)return objj_msgSend(CPColor,"colorWithRed:green:blue:alpha:",b/255,a/255,d/255,f)}),new objj_method(sel_getUid("transparent"),function(e){with(e)return objj_msgSend(CPColor,"colorWithWhite:alpha:",0,0)})]);h=objj_getClass("CPBox");if(!h)throw new SyntaxError('*** Could not find definition for class "CPBox"');f=h.isa;class_addMethods(f,[new objj_method(sel_getUid("makeBorder:"),function(e,c,b){with(e)e=objj_msgSend(CPBox,
"boxEnclosingView:",b),objj_msgSend(e,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(e,"setBorderColor:",objj_msgSend(CPColor,"colorWithHexString:","a9aaae")),objj_msgSend(e,"setBorderType:",CPLineBorder)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/eight.j",baseURL),function(){var h=objj_allocateClassPair(PatternOne,"PatternEight"),f=h.isa;objj_registerClassPair(h);class_addMethods(f,[new objj_method(sel_getUid("defaultConfig"),function(e){with(e)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",174,174,174,1),"background_color",6,"number_of_points",0,"rotation",2,"recurse_depth",1.54,"factor_larger",objj_msgSend(GRPoint,
"pointWithX:Y:",350,350),"center_point",107,"radius",YES,"show_shapes",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",4,19,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,23,10,0)],"stroke_colors",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",255,225,58,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,198,63,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",2,8,198,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",240,31,50,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",198,195,31,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/nine.j",baseURL),function(){var h=objj_allocateClassPair(PatternSeven,"PatternNine"),f=h.isa;objj_registerClassPair(h);class_addMethods(f,[new objj_method(sel_getUid("defaultConfig"),function(e){with(e)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",12,"number_of_points",1,"recurse_depth",2,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",115,"radius",YES,"show_shapes",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",0,255,100,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.33636363636363636),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.3),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.3),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,2,10,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,23,10,1)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",51,32,255,0.5363636363636364),
objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,0,0.16363636363636364),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,0,0.16363636363636364),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,96,175,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,200,10,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/five.j",baseURL),function(){var h=objj_allocateClassPair(PatternTwo,"PatternFive"),f=h.isa;objj_registerClassPair(h);class_addMethods(f,[new objj_method(sel_getUid("defaultConfig"),function(e){with(e)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",12,"number_of_points",0,"recurse_depth",1,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",127,"radius",YES,"show_shapes",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",0,255,100,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",37,15,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,255,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",17,95,17,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",14,10,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",51,32,255,0),objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",198,157,165,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0.02727272727272727),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,9,45,0.39545454545454545),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,200,10,0.4),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,1)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPGraphicsContext.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("CGContext.j",YES);var e=nil,c=objj_allocateClassPair(CPObject,"CPGraphicsContext"),b=c.isa;class_addIvars(c,[new objj_ivar("_graphicsPort")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithGraphicsPort:"),function(a,b,c){with(a)return(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPGraphicsContext").super_class},
"init"))&&(_graphicsPort=c),a}),new objj_method(sel_getUid("graphicsPort"),function(a){with(a)return _graphicsPort})]);class_addMethods(b,[new objj_method(sel_getUid("currentContext"),function(a){with(a)return e}),new objj_method(sel_getUid("setCurrentContext:"),function(a,b,c){with(a)e=c}),new objj_method(sel_getUid("graphicsContextWithGraphicsPort:flipped:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithGraphicsPort:",c)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPNull.j",baseURL),function(h,f){f("CPObject.j",YES);var e=nil,c=objj_allocateClassPair(CPObject,"CPNull"),b=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("isEqual:"),function(a,b,c){with(a){if(a===c)return YES;return objj_msgSend(c,"isKindOfClass:",objj_msgSend(CPNull,"class"))}}),new objj_method(sel_getUid("initWithCoder:"),function(a){with(a)return objj_msgSend(CPNull,"null")}),new objj_method(sel_getUid("encodeWithCoder:"),
function(a){with(a);})]);class_addMethods(b,[new objj_method(sel_getUid("null"),function(a){with(a)return e||(e=objj_msgSend(objj_msgSend(CPNull,"alloc"),"init")),e})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCibOutletConnector.j",baseURL),function(h,f){f("CPCibConnector.j",YES);var e=objj_allocateClassPair(CPCibConnector,"CPCibOutletConnector");objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("establishConnection"),function(c){with(c)try{objj_msgSend(_source,"setValue:forKey:",_destination,_label)}catch(b){if(objj_msgSend(b,"name")===CPUndefinedKeyException)CPLog.warn("Could not connect the outlet "+_label+
" of target of class "+objj_msgSend(_source,"className"));else throw b;}})]);e=objj_allocateClassPair(CPCibOutletConnector,"_CPCibOutletConnector");objj_registerClassPair(e)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPScreen.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);var e=objj_allocateClassPair(CPObject,"CPScreen");objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("visibleFrame"),function(c){with(c)return{origin:{x:window.screen.availLeft,y:window.screen.availTop},size:{width:window.screen.availWidth,height:window.screen.availHeight}}})])});
CFHTTPRequest._cacheRequest(new CFURL("Frameworks/GRKit/Info.plist",baseURL),200,{},"280NPLIST;1.0;D;K;29;CPBundleInfoDictionaryVersiond;1;6K;12;CPBundleNameS;5;GRKitK;18;CPBundleIdentifierS;15;es.2monki.GRKitK;15;CPBundleVersionS;3;1.0K;19;CPBundlePackageTypeS;4;FMWKK;20;CPBundleEnvironmentsA;S;7;BrowserS;8;CommonJSE;K;18;CPBundleExecutableS;8;GRKit.sjK;36;CPBundleEnvironmentsWithImageSpritesA;E;E;\n");
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPBorderlessWindowView.j",baseURL),function(h,f){f("_CPWindowView.j",YES);var e=objj_allocateClassPair(_CPWindowView,"_CPBorderlessWindowView");objj_registerClassPair(e)});
