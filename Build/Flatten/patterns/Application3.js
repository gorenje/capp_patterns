ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPWindow.j",baseURL),function(h,f){f("Foundation/CPCountedSet.j",NO);f("Foundation/CPNotificationCenter.j",NO);f("Foundation/CPUndoManager.j",NO);f("CGGeometry.j",YES);f("CPAnimation.j",YES);f("CPPlatformWindow.j",YES);f("CPResponder.j",YES);f("CPScreen.j",YES);CPBorderlessWindowMask=0;CPTitledWindowMask=1;CPClosableWindowMask=2;CPMiniaturizableWindowMask=4;CPResizableWindowMask=8;CPTexturedBackgroundWindowMask=256;CPBorderlessBridgeWindowMask=
1048576;CPHUDBackgroundWindowMask=2097152;CPWindowNotSizable=0;CPWindowMinXMargin=1;CPWindowWidthSizable=2;CPWindowMaxXMargin=4;CPWindowMinYMargin=8;CPWindowHeightSizable=16;CPWindowMaxYMargin=32;CPBackgroundWindowLevel=-1;CPNormalWindowLevel=0;CPTornOffMenuWindowLevel=CPSubmenuWindowLevel=CPFloatingWindowLevel=3;CPMainMenuWindowLevel=24;CPStatusWindowLevel=25;CPModalPanelWindowLevel=8;CPPopUpMenuWindowLevel=101;CPDraggingWindowLevel=500;CPScreenSaverWindowLevel=1E3;CPWindowOut=0;CPWindowAbove=1;
CPWindowBelow=2;CPWindowWillCloseNotification="CPWindowWillCloseNotification";CPWindowDidBecomeMainNotification="CPWindowDidBecomeMainNotification";CPWindowDidResignMainNotification="CPWindowDidResignMainNotification";CPWindowDidBecomeKeyNotification="CPWindowDidBecomeKeyNotification";CPWindowDidResignKeyNotification="CPWindowDidResignKeyNotification";CPWindowDidResizeNotification="CPWindowDidResizeNotification";CPWindowDidMoveNotification="CPWindowDidMoveNotification";CPWindowWillBeginSheetNotification=
"CPWindowWillBeginSheetNotification";CPWindowDidEndSheetNotification="CPWindowDidEndSheetNotification";CPWindowDidMiniaturizeNotification="CPWindowDidMiniaturizeNotification";CPWindowWillMiniaturizeNotification="CPWindowWillMiniaturizeNotification";CPWindowDidDeminiaturizeNotification="CPWindowDidDeminiaturizeNotification";CPWindowShadowStyleStandard=0;CPWindowShadowStyleMenu=1;CPWindowShadowStylePanel=2;var d=nil,c=nil,b=nil,a=[CPLeftArrowFunctionKey,CPRightArrowFunctionKey,CPUpArrowFunctionKey,
CPDownArrowFunctionKey,CPPageUpFunctionKey,CPPageDownFunctionKey,CPHomeFunctionKey,CPEndFunctionKey,CPEscapeFunctionKey],e=objj_allocateClassPair(CPResponder,"CPWindow"),g=e.isa;class_addIvars(e,[new objj_ivar("_platformWindow"),new objj_ivar("_windowNumber"),new objj_ivar("_styleMask"),new objj_ivar("_frame"),new objj_ivar("_level"),new objj_ivar("_isVisible"),new objj_ivar("_isMiniaturized"),new objj_ivar("_isAnimating"),new objj_ivar("_hasShadow"),new objj_ivar("_isMovableByWindowBackground"),
new objj_ivar("_shadowStyle"),new objj_ivar("_showsResizeIndicator"),new objj_ivar("_isDocumentEdited"),new objj_ivar("_isDocumentSaving"),new objj_ivar("_shadowView"),new objj_ivar("_windowView"),new objj_ivar("_contentView"),new objj_ivar("_toolbarView"),new objj_ivar("_mouseEnteredStack"),new objj_ivar("_leftMouseDownView"),new objj_ivar("_rightMouseDownView"),new objj_ivar("_toolbar"),new objj_ivar("_firstResponder"),new objj_ivar("_initialFirstResponder"),new objj_ivar("_delegate"),new objj_ivar("_title"),
new objj_ivar("_acceptsMouseMovedEvents"),new objj_ivar("_ignoresMouseEvents"),new objj_ivar("_windowController"),new objj_ivar("_minSize"),new objj_ivar("_maxSize"),new objj_ivar("_undoManager"),new objj_ivar("_representedURL"),new objj_ivar("_registeredDraggedTypes"),new objj_ivar("_registeredDraggedTypesArray"),new objj_ivar("_inclusiveRegisteredDraggedTypes"),new objj_ivar("_defaultButton"),new objj_ivar("_defaultButtonEnabled"),new objj_ivar("_autorecalculatesKeyViewLoop"),new objj_ivar("_keyViewLoopIsDirty"),
new objj_ivar("_sharesChromeWithPlatformWindow"),new objj_ivar("_DOMElement"),new objj_ivar("_autoresizingMask"),new objj_ivar("_delegateRespondsToWindowWillReturnUndoManagerSelector"),new objj_ivar("_isFullPlatformWindow"),new objj_ivar("_fullPlatformWindowSession"),new objj_ivar("_sheetContext"),new objj_ivar("_parentView"),new objj_ivar("_isSheet"),new objj_ivar("_frameAnimation")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,
"initWithContentRect:styleMask:",{origin:{x:0,y:0},size:{width:0,height:0}},CPTitledWindowMask)}),new objj_method(sel_getUid("initWithContentRect:styleMask:"),function(a,e,b,g){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPWindow").super_class},"init")){e=objj_msgSend(objj_msgSend(a,"class"),"_windowViewClassForStyleMask:",g);_frame=objj_msgSend(e,"frameRectForContentRect:",b);objj_msgSend(a,"_setSharesChromeWithPlatformWindow:",!objj_msgSend(CPPlatform,"isBrowser"));if(objj_msgSend(CPPlatform,
"isBrowser"))objj_msgSend(a,"setPlatformWindow:",objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"));else{if(g&CPBorderlessBridgeWindowMask&&b.size.width===0&&b.size.height===0)b=objj_msgSend(objj_msgSend(objj_msgSend(CPScreen,"alloc"),"init"),"visibleFrame"),_frame.size.height=MIN(768,b.size.height),_frame.size.width=MIN(1024,b.size.width),_frame.origin.x=(b.size.width-_frame.size.width)/2,_frame.origin.y=(b.size.height-_frame.size.height)/2;objj_msgSend(a,"setPlatformWindow:",objj_msgSend(objj_msgSend(CPPlatformWindow,
"alloc"),"initWithContentRect:",_frame));objj_msgSend(a,"platformWindow")._only=a}_isFullPlatformWindow=NO;_registeredDraggedTypes=objj_msgSend(CPSet,"set");_registeredDraggedTypesArray=[];_isSheet=NO;_acceptsMouseMovedEvents=YES;_windowNumber=objj_msgSend(CPApp._windows,"count");CPApp._windows[_windowNumber]=a;_styleMask=g;objj_msgSend(a,"setLevel:",CPNormalWindowLevel);_minSize=CGSizeMake(0,0);_maxSize=CGSizeMake(1E6,1E6);_windowView=objj_msgSend(objj_msgSend(e,"alloc"),"initWithFrame:styleMask:",
CGRectMake(0,0,CGRectGetWidth(_frame),CGRectGetHeight(_frame)),g);objj_msgSend(_windowView,"_setWindow:",a);objj_msgSend(_windowView,"setNextResponder:",a);objj_msgSend(a,"setMovableByWindowBackground:",g&CPHUDBackgroundWindowMask);objj_msgSend(a,"setContentView:",objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMakeZero()));_firstResponder=a;_DOMElement=document.createElement("div");_DOMElement.style.position="absolute";_DOMElement.style.visibility="visible";_DOMElement.style.zIndex=
0;if(!objj_msgSend(a,"_sharesChromeWithPlatformWindow"))b=NULL?{x:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.a+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.c+NULL.tx,y:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.b+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.d+NULL.ty}:{x:_frame.origin.x,y:_frame.origin.y},_DOMElement.style.left=ROUND(b.x)+"px",_DOMElement.style.top=ROUND(b.y)+"px";_DOMElement.style.width=MAX(0,ROUND(1))+"px";_DOMElement.style.height=MAX(0,ROUND(1))+
"px";_DOMElement.appendChild(_windowView._DOMElement);objj_msgSend(a,"setNextResponder:",CPApp);objj_msgSend(a,"setHasShadow:",g!==CPBorderlessWindowMask);g&CPBorderlessBridgeWindowMask&&objj_msgSend(a,"setFullPlatformWindow:",YES);_keyViewLoopIsDirty=_defaultButtonEnabled=YES;objj_msgSend(a,"setShowsResizeIndicator:",_styleMask&CPResizableWindowMask)}return a}}),new objj_method(sel_getUid("platformWindow"),function(a){with(a)return _platformWindow}),new objj_method(sel_getUid("setPlatformWindow:"),
function(a,e,b){with(a)_platformWindow=b}),new objj_method(sel_getUid("awakeFromCib"),function(a){with(a)_keyViewLoopIsDirty=!objj_msgSend(a,"_hasKeyViewLoop")}),new objj_method(sel_getUid("_setWindowView:"),function(a,e,b){with(a){if(_windowView===b)return;e=_windowView;_windowView=b;e&&(objj_msgSend(e,"_setWindow:",nil),objj_msgSend(e,"noteToolbarChanged"),_DOMElement.removeChild(e._DOMElement));if(_windowView)_DOMElement.appendChild(_windowView._DOMElement),b=objj_msgSend(_contentView,"convertRect:toView:",
objj_msgSend(_contentView,"bounds"),nil),b.origin=objj_msgSend(a,"convertBaseToGlobal:",b.origin),objj_msgSend(_windowView,"_setWindow:",a),objj_msgSend(_windowView,"setNextResponder:",a),objj_msgSend(_windowView,"addSubview:",_contentView),objj_msgSend(_windowView,"setTitle:",_title),objj_msgSend(_windowView,"noteToolbarChanged"),objj_msgSend(_windowView,"setShowsResizeIndicator:",objj_msgSend(a,"showsResizeIndicator")),objj_msgSend(a,"setFrame:",objj_msgSend(a,"frameRectForContentRect:",b))}}),
new objj_method(sel_getUid("setFullPlatformWindow:"),function(a,e,b){with(a){if(!objj_msgSend(_platformWindow,"supportsFullPlatformWindows"))return;b=!!b;if(_isFullPlatformWindow===b)return;(_isFullPlatformWindow=b)?(_fullPlatformWindowSession=_CPWindowFullPlatformWindowSessionMake(_windowView,objj_msgSend(a,"contentRectForFrameRect:",objj_msgSend(a,"frame")),objj_msgSend(a,"hasShadow"),objj_msgSend(a,"level")),e=objj_msgSend(objj_msgSend(a,"class"),"_windowViewClassForFullPlatformWindowStyleMask:",
_styleMask),e=objj_msgSend(objj_msgSend(e,"alloc"),"initWithFrame:styleMask:",CGRectMakeZero(),_styleMask),objj_msgSend(a,"_setWindowView:",e),objj_msgSend(a,"setLevel:",CPBackgroundWindowLevel),objj_msgSend(a,"setHasShadow:",NO),objj_msgSend(a,"setAutoresizingMask:",CPWindowWidthSizable|CPWindowHeightSizable),objj_msgSend(a,"setFrame:",objj_msgSend(_platformWindow,"visibleFrame"))):(e=_fullPlatformWindowSession.windowView,objj_msgSend(a,"_setWindowView:",e),objj_msgSend(a,"setLevel:",_fullPlatformWindowSession.level),
objj_msgSend(a,"setHasShadow:",_fullPlatformWindowSession.hasShadow),objj_msgSend(a,"setAutoresizingMask:",CPWindowNotSizable),objj_msgSend(a,"setFrame:",objj_msgSend(e,"frameRectForContentRect:",_fullPlatformWindowSession.contentRect)))}}),new objj_method(sel_getUid("isFullPlatformWindow"),function(a){with(a)return _isFullPlatformWindow}),new objj_method(sel_getUid("styleMask"),function(a){with(a)return _styleMask}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(a,e,b){with(a)return objj_msgSend(_windowView,
"contentRectForFrameRect:",b)}),new objj_method(sel_getUid("frameRectForContentRect:"),function(a,e,b){with(a)return objj_msgSend(_windowView,"frameRectForContentRect:",b)}),new objj_method(sel_getUid("frame"),function(a){with(a)return{origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:_frame.size.width,height:_frame.size.height}}}),new objj_method(sel_getUid("_setClippedFrame:display:animate:"),function(a,e,b,g,c){with(a)b.size.width=MIN(MAX(b.size.width,_minSize.width),_maxSize.width),b.size.height=
MIN(MAX(b.size.height,_minSize.height),_maxSize.height),objj_msgSend(a,"setFrame:display:animate:",b,g,c)}),new objj_method(sel_getUid("setFrame:display:animate:"),function(a,e,b,g,c){with(a){b={origin:{x:b.origin.x,y:b.origin.y},size:{width:b.size.width,height:b.size.height}};e=b.origin.x;if(g=e-FLOOR(e))b.origin.x=e>0.879?CEIL(e):FLOOR(e);e=b.origin.y;if(g=e-FLOOR(e))b.origin.y=e>0.879?CEIL(e):FLOOR(e);e=b.size.width;if(g=e-FLOOR(e))b.size.width=e>0.15?CEIL(e):FLOOR(e);e=b.size.height;if(g=e-FLOOR(e))b.size.height=
e>0.15?CEIL(e):FLOOR(e);if(c)objj_msgSend(_frameAnimation,"stopAnimation"),_frameAnimation=objj_msgSend(objj_msgSend(_CPWindowFrameAnimation,"alloc"),"initWithWindow:targetFrame:",a,b),objj_msgSend(_frameAnimation,"startAnimation");else{c=_frame.origin;e=b.origin;if(!(c.x==e.x&&c.y==e.y)){c.x=e.x;c.y=e.y;if(!objj_msgSend(a,"_sharesChromeWithPlatformWindow"))c=NULL?{x:CGPointMake(c.x,c.y).x*NULL.a+CGPointMake(c.x,c.y).y*NULL.c+NULL.tx,y:CGPointMake(c.x,c.y).x*NULL.b+CGPointMake(c.x,c.y).y*NULL.d+NULL.ty}:
{x:c.x,y:c.y},_DOMElement.style.left=ROUND(c.x)+"px",_DOMElement.style.top=ROUND(c.y)+"px";objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidMoveNotification,a)}c=_frame.size;b=b.size;if(!(c.width==b.width&&c.height==b.height))c.width=b.width,c.height=b.height,objj_msgSend(_windowView,"setFrameSize:",c),_hasShadow&&objj_msgSend(_shadowView,"setFrameSize:",{width:20+c.width+19,height:10+c.height+10+5}),_isAnimating||objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPWindowDidResizeNotification,a);objj_msgSend(a,"_sharesChromeWithPlatformWindow")&&objj_msgSend(_platformWindow,"setContentRect:",_frame)}}}),new objj_method(sel_getUid("setFrame:display:"),function(a,e,b,g){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",b,g,NO)}),new objj_method(sel_getUid("setFrame:"),function(a,e,b){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",b,YES,NO)}),new objj_method(sel_getUid("setFrameOrigin:"),function(a,
e,b){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",{origin:{x:b.x,y:b.y},size:{width:_frame.size.width,height:_frame.size.height}},YES,NO)}),new objj_method(sel_getUid("setFrameSize:"),function(a,e,b){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",{origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:b.width,height:b.height}},YES,NO)}),new objj_method(sel_getUid("orderFront:"),function(a){with(a)objj_msgSend(_platformWindow,"orderFront:",a),objj_msgSend(_platformWindow,
"order:window:relativeTo:",CPWindowAbove,a,nil),(_firstResponder===a||!_firstResponder)&&objj_msgSend(a,"makeFirstResponder:",objj_msgSend(a,"initialFirstResponder")),CPApp._keyWindow||objj_msgSend(a,"makeKeyWindow"),CPApp._mainWindow||objj_msgSend(a,"makeMainWindow")}),new objj_method(sel_getUid("orderBack:"),function(a){with(a);}),new objj_method(sel_getUid("orderOut:"),function(a){with(a)objj_msgSend(a,"_sharesChromeWithPlatformWindow")&&objj_msgSend(_platformWindow,"orderOut:",a),objj_msgSend(_delegate,
"respondsToSelector:",sel_getUid("windowWillClose:"))&&objj_msgSend(_delegate,"windowWillClose:",a),objj_msgSend(_platformWindow,"order:window:relativeTo:",CPWindowOut,a,nil),objj_msgSend(a,"_updateMainAndKeyWindows")}),new objj_method(sel_getUid("orderWindow:relativeTo:"),function(a,e,b,g){with(a)objj_msgSend(_platformWindow,"order:window:relativeTo:",b,a,CPApp._windows[g])}),new objj_method(sel_getUid("setLevel:"),function(a,e,b){with(a){if(b===_level)return;objj_msgSend(_platformWindow,"moveWindow:fromLevel:toLevel:",
a,_level,b);_level=b;objj_msgSend(a,"_sharesChromeWithPlatformWindow")&&objj_msgSend(_platformWindow,"setLevel:",b)}}),new objj_method(sel_getUid("level"),function(a){with(a)return _level}),new objj_method(sel_getUid("isVisible"),function(a){with(a)return _isVisible}),new objj_method(sel_getUid("showsResizeIndicator"),function(a){with(a)return _showsResizeIndicator}),new objj_method(sel_getUid("setShowsResizeIndicator:"),function(a,e,b){with(a){b=!!b;if(_showsResizeIndicator===b)return;_showsResizeIndicator=
b;objj_msgSend(_windowView,"setShowsResizeIndicator:",objj_msgSend(a,"showsResizeIndicator"))}}),new objj_method(sel_getUid("resizeIndicatorOffset"),function(a){with(a)return objj_msgSend(_windowView,"resizeIndicatorOffset")}),new objj_method(sel_getUid("setResizeIndicatorOffset:"),function(a,e,b){with(a)objj_msgSend(_windowView,"setResizeIndicatorOffset:",b)}),new objj_method(sel_getUid("setContentView:"),function(a,e,b){with(a)_contentView&&objj_msgSend(_contentView,"removeFromSuperview"),e=CGRectMake(0,
0,CGRectGetWidth(_frame),CGRectGetHeight(_frame)),_contentView=b,objj_msgSend(_contentView,"setFrame:",objj_msgSend(a,"contentRectForFrameRect:",e)),objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(_windowView,"addSubview:",_contentView)}),new objj_method(sel_getUid("contentView"),function(a){with(a)return _contentView}),new objj_method(sel_getUid("setAlphaValue:"),function(a,e,b){with(a)objj_msgSend(_windowView,"setAlphaValue:",b)}),new objj_method(sel_getUid("alphaValue"),
function(a){with(a)return objj_msgSend(_windowView,"alphaValue")}),new objj_method(sel_getUid("setBackgroundColor:"),function(a,e,b){with(a)objj_msgSend(_windowView,"setBackgroundColor:",b)}),new objj_method(sel_getUid("backgroundColor"),function(a){with(a)return objj_msgSend(_windowView,"backgroundColor")}),new objj_method(sel_getUid("setMinSize:"),function(a,e,b){with(a){if(CGSizeEqualToSize(_minSize,b))return;_minSize=CGSizeCreateCopy(b);e=CGSizeMakeCopy(objj_msgSend(a,"frame").size);b=NO;if(e.width<
_minSize.width)e.width=_minSize.width,b=YES;if(e.height<_minSize.height)e.height=_minSize.height,b=YES;b&&objj_msgSend(a,"setFrameSize:",e)}}),new objj_method(sel_getUid("minSize"),function(a){with(a)return _minSize}),new objj_method(sel_getUid("setMaxSize:"),function(a,e,b){with(a){if(CGSizeEqualToSize(_maxSize,b))return;_maxSize=CGSizeCreateCopy(b);e=CGSizeMakeCopy(objj_msgSend(a,"frame").size);b=NO;if(e.width>_maxSize.width)e.width=_maxSize.width,b=YES;if(e.height>_maxSize.height)e.height=_maxSize.height,
b=YES;b&&objj_msgSend(a,"setFrameSize:",e)}}),new objj_method(sel_getUid("maxSize"),function(a){with(a)return _maxSize}),new objj_method(sel_getUid("hasShadow"),function(a){with(a)return _hasShadow}),new objj_method(sel_getUid("_updateShadow"),function(a){with(a){if(objj_msgSend(a,"_sharesChromeWithPlatformWindow")){_shadowView&&(_DOMElement.removeChild(_shadowView._DOMElement),_shadowView=nil);objj_msgSend(_platformWindow,"setHasShadow:",_hasShadow);return}_hasShadow&&!_shadowView?(a=objj_msgSend(_windowView,
"bounds"),_shadowView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(-20,-5,20+CGRectGetWidth(a)+19,10+CGRectGetHeight(a)+10)),d||(a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class")),d=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow0.png"),CGSizeMake(20,
19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow1.png"),CGSizeMake(1,19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow2.png"),CGSizeMake(19,19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow3.png"),CGSizeMake(20,1)),objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow4.png"),CGSizeMake(1,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow5.png"),CGSizeMake(19,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow6.png"),CGSizeMake(20,18)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow7.png"),CGSizeMake(1,18)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow8.png"),CGSizeMake(19,18))]))),objj_msgSend(_shadowView,"setBackgroundColor:",d),objj_msgSend(_shadowView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),_DOMElement.insertBefore(_shadowView._DOMElement,_windowView._DOMElement)):!_hasShadow&&_shadowView&&(_DOMElement.removeChild(_shadowView._DOMElement),
_shadowView=nil)}}),new objj_method(sel_getUid("setHasShadow:"),function(a,e,b){with(a){if(_hasShadow===b)return;_hasShadow=b;objj_msgSend(a,"_updateShadow")}}),new objj_method(sel_getUid("setShadowStyle:"),function(a,b,e){with(a)_shadowStyle=e,objj_msgSend(objj_msgSend(a,"platformWindow"),"setShadowStyle:",_shadowStyle)}),new objj_method(sel_getUid("setDelegate:"),function(a,b,e){with(a)b=objj_msgSend(CPNotificationCenter,"defaultCenter"),objj_msgSend(b,"removeObserver:name:object:",_delegate,CPWindowDidResignKeyNotification,
a),objj_msgSend(b,"removeObserver:name:object:",_delegate,CPWindowDidBecomeKeyNotification,a),objj_msgSend(b,"removeObserver:name:object:",_delegate,CPWindowDidBecomeMainNotification,a),objj_msgSend(b,"removeObserver:name:object:",_delegate,CPWindowDidResignMainNotification,a),objj_msgSend(b,"removeObserver:name:object:",_delegate,CPWindowDidMoveNotification,a),objj_msgSend(b,"removeObserver:name:object:",_delegate,CPWindowDidResizeNotification,a),_delegate=e,_delegateRespondsToWindowWillReturnUndoManagerSelector=
objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowWillReturnUndoManager:")),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResignKey:"))&&objj_msgSend(b,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResignKey:"),CPWindowDidResignKeyNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidBecomeKey:"))&&objj_msgSend(b,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidBecomeKey:"),CPWindowDidBecomeKeyNotification,
a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidBecomeMain:"))&&objj_msgSend(b,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidBecomeMain:"),CPWindowDidBecomeMainNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResignMain:"))&&objj_msgSend(b,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResignMain:"),CPWindowDidResignMainNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidMove:"))&&
objj_msgSend(b,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidMove:"),CPWindowDidMoveNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResize:"))&&objj_msgSend(b,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResize:"),CPWindowDidResizeNotification,a)}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("setWindowController:"),function(a,b,e){with(a)_windowController=e}),new objj_method(sel_getUid("windowController"),
function(a){with(a)return _windowController}),new objj_method(sel_getUid("doCommandBySelector:"),function(a,b,e){with(a)objj_msgSend(_delegate,"respondsToSelector:",e)?objj_msgSend(_delegate,"performSelector:",e):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPWindow").super_class},"doCommandBySelector:",e)}),new objj_method(sel_getUid("acceptsFirstResponder"),function(a){with(a)return YES}),new objj_method(sel_getUid("initialFirstResponder"),function(a){with(a)return _initialFirstResponder}),
new objj_method(sel_getUid("setInitialFirstResponder:"),function(a,b,e){with(a)_initialFirstResponder=e}),new objj_method(sel_getUid("makeFirstResponder:"),function(a,b,e){with(a){if(_firstResponder===e)return YES;if(!objj_msgSend(_firstResponder,"resignFirstResponder"))return NO;if(!e||!objj_msgSend(e,"acceptsFirstResponder")||!objj_msgSend(e,"becomeFirstResponder"))return _firstResponder=a,NO;_firstResponder=e;return YES}}),new objj_method(sel_getUid("firstResponder"),function(a){with(a)return _firstResponder}),
new objj_method(sel_getUid("acceptsMouseMovedEvents"),function(a){with(a)return _acceptsMouseMovedEvents}),new objj_method(sel_getUid("setAcceptsMouseMovedEvents:"),function(a,b,e){with(a)_acceptsMouseMovedEvents=e}),new objj_method(sel_getUid("ignoresMouseEvents"),function(a){with(a)return _ignoresMouseEvents}),new objj_method(sel_getUid("setIgnoresMouseEvents:"),function(a,b,e){with(a)_ignoresMouseEvents=e}),new objj_method(sel_getUid("title"),function(a){with(a)return _title}),new objj_method(sel_getUid("setTitle:"),
function(a,b,e){with(a)_title=e,objj_msgSend(_windowView,"setTitle:",e),objj_msgSend(a,"_synchronizeMenuBarTitleWithWindowTitle")}),new objj_method(sel_getUid("setTitleWithRepresentedFilename:"),function(a,e,b){with(a)objj_msgSend(a,"setRepresentedFilename:",b),objj_msgSend(a,"setTitle:",objj_msgSend(b,"lastPathComponent"))}),new objj_method(sel_getUid("setRepresentedFilename:"),function(a,b,e){with(a)objj_msgSend(a,"setRepresentedURL:",e)}),new objj_method(sel_getUid("representedFilename"),function(a){with(a)return _representedURL}),
new objj_method(sel_getUid("setRepresentedURL:"),function(a,e,b){with(a)_representedURL=b}),new objj_method(sel_getUid("representedURL"),function(a){with(a)return _representedURL}),new objj_method(sel_getUid("screen"),function(a){with(a)return objj_msgSend(objj_msgSend(CPScreen,"alloc"),"init")}),new objj_method(sel_getUid("setMovableByWindowBackground:"),function(a,b,e){with(a)_isMovableByWindowBackground=e}),new objj_method(sel_getUid("isMovableByWindowBackground"),function(a){with(a)return _isMovableByWindowBackground}),
new objj_method(sel_getUid("center"),function(a){with(a){if(_isFullPlatformWindow)return;var e=objj_msgSend(a,"frame").size,b=objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(_platformWindow,"contentBounds").size:objj_msgSend(objj_msgSend(a,"screen"),"visibleFrame").size;e=CGPointMake((b.width-e.width)/2,(b.height-e.height)/2);if(e.x<0)e.x=0;if(e.y<0)e.y=0;objj_msgSend(a,"setFrameOrigin:",e)}}),new objj_method(sel_getUid("sendEvent:"),function(a,e,b){with(a){var g=objj_msgSend(b,"type");e=objj_msgSend(b,
"locationInWindow");switch(g){case CPFlagsChanged:return objj_msgSend(objj_msgSend(a,"firstResponder"),"flagsChanged:",b);case CPKeyUp:return objj_msgSend(objj_msgSend(a,"firstResponder"),"keyUp:",b);case CPKeyDown:if(objj_msgSend(b,"charactersIgnoringModifiers")===CPTabCharacter){objj_msgSend(b,"modifierFlags")&CPShiftKeyMask?objj_msgSend(a,"selectPreviousKeyView:",a):objj_msgSend(a,"selectNextKeyView:",a);break}else if(objj_msgSend(b,"charactersIgnoringModifiers")===CPBackTabCharacter)return objj_msgSend(a,
"selectPreviousKeyView:",a);objj_msgSend(objj_msgSend(a,"firstResponder"),"keyDown:",b);if(!objj_msgSend(a,"disableKeyEquivalentForDefaultButton")){var c=objj_msgSend(a,"defaultButton");e=objj_msgSend(c,"keyEquivalent");c=objj_msgSend(c,"keyEquivalentModifierMask");objj_msgSend(b,"_triggersKeyEquivalent:withModifierMask:",e,c)&&objj_msgSend(objj_msgSend(a,"defaultButton"),"performClick:",a)}break;case CPScrollWheel:return objj_msgSend(objj_msgSend(_windowView,"hitTest:",e),"scrollWheel:",b);case CPLeftMouseUp:case CPRightMouseUp:a=
_leftMouseDownView;c=g==CPRightMouseUp?sel_getUid("rightMouseUp:"):sel_getUid("mouseUp:");a||(a=objj_msgSend(_windowView,"hitTest:",e));objj_msgSend(a,"performSelector:withObject:",c,b);_leftMouseDownView=nil;break;case CPLeftMouseDown:case CPRightMouseDown:_leftMouseDownView=objj_msgSend(_windowView,"hitTest:",e);_leftMouseDownView!=_firstResponder&&objj_msgSend(_leftMouseDownView,"acceptsFirstResponder")&&objj_msgSend(a,"makeFirstResponder:",_leftMouseDownView);objj_msgSend(CPApp,"activateIgnoringOtherApps:",
YES);e=objj_msgSend(b,"window");c=g==CPRightMouseDown?sel_getUid("rightMouseDown:"):sel_getUid("mouseDown:");if(objj_msgSend(e,"isKeyWindow")||objj_msgSend(e,"becomesKeyOnlyIfNeeded")&&!objj_msgSend(_leftMouseDownView,"needsPanelToBecomeKey"))return objj_msgSend(_leftMouseDownView,"performSelector:withObject:",c,b);else if(objj_msgSend(a,"makeKeyAndOrderFront:",a),objj_msgSend(_leftMouseDownView,"acceptsFirstMouse:",b))return objj_msgSend(_leftMouseDownView,"performSelector:withObject:",c,b);break;
case CPLeftMouseDragged:case CPRightMouseDragged:if(!_leftMouseDownView)return objj_msgSend(objj_msgSend(_windowView,"hitTest:",e),"mouseDragged:",b);g==CPRightMouseDragged&&(c=sel_getUid("rightMouseDragged:"),objj_msgSend(_leftMouseDownView,"respondsToSelector:",c)||(c=nil));c||(c=sel_getUid("mouseDragged:"));return objj_msgSend(_leftMouseDownView,"performSelector:withObject:",c,b);case CPMouseMoved:if(!_acceptsMouseMovedEvents)break;_mouseEnteredStack||(_mouseEnteredStack=[]);a=objj_msgSend(_windowView,
"hitTest:",e);if(objj_msgSend(_mouseEnteredStack,"count")&&objj_msgSend(_mouseEnteredStack,"lastObject")===a)return objj_msgSend(a,"mouseMoved:",b);g=a;for(c=[];g;)c.unshift(g),g=objj_msgSend(g,"superview");for(g=MIN(_mouseEnteredStack.length,c.length);g--;)if(_mouseEnteredStack[g]===c[g])break;var i=g+1,d=_mouseEnteredStack.length;if(i<d)for(var p=objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",CPMouseExited,e,objj_msgSend(b,
"modifierFlags"),objj_msgSend(b,"timestamp"),_windowNumber,nil,-1,1,0);i<d;++i)objj_msgSend(_mouseEnteredStack[i],"mouseExited:",p);i=g+1;d=c.length;if(i<d)for(p=objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",CPMouseEntered,e,objj_msgSend(b,"modifierFlags"),objj_msgSend(b,"timestamp"),_windowNumber,nil,-1,1,0);i<d;++i)objj_msgSend(c[i],"mouseEntered:",p);_mouseEnteredStack=c;objj_msgSend(a,"mouseMoved:",b)}}}),new objj_method(sel_getUid("windowNumber"),
function(a){with(a)return _windowNumber}),new objj_method(sel_getUid("becomeKeyWindow"),function(a){with(a)CPApp._keyWindow=a,_firstResponder!==a&&objj_msgSend(_firstResponder,"respondsToSelector:",sel_getUid("becomeKeyWindow"))&&objj_msgSend(_firstResponder,"becomeKeyWindow"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidBecomeKeyNotification,a)}),new objj_method(sel_getUid("canBecomeKeyWindow"),function(a){with(a)return YES}),new objj_method(sel_getUid("isKeyWindow"),
function(a){with(a)return objj_msgSend(CPApp,"keyWindow")==a}),new objj_method(sel_getUid("makeKeyAndOrderFront:"),function(a){with(a)objj_msgSend(a,"orderFront:",a),objj_msgSend(a,"makeKeyWindow"),objj_msgSend(a,"makeMainWindow")}),new objj_method(sel_getUid("makeKeyWindow"),function(a){with(a){if(objj_msgSend(CPApp,"keyWindow")===a||!objj_msgSend(a,"canBecomeKeyWindow"))return;objj_msgSend(objj_msgSend(CPApp,"keyWindow"),"resignKeyWindow");objj_msgSend(a,"becomeKeyWindow")}}),new objj_method(sel_getUid("resignKeyWindow"),
function(a){with(a){_firstResponder!==a&&objj_msgSend(_firstResponder,"respondsToSelector:",sel_getUid("resignKeyWindow"))&&objj_msgSend(_firstResponder,"resignKeyWindow");if(CPApp._keyWindow===a)CPApp._keyWindow=nil;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidResignKeyNotification,a)}}),new objj_method(sel_getUid("dragImage:at:offset:event:pasteboard:source:slideBack:"),function(a,b,e,g,c,i,d,p,m){with(a)objj_msgSend(objj_msgSend(CPDragServer,
"sharedDragServer"),"dragImage:fromWindow:at:offset:event:pasteboard:source:slideBack:",e,a,objj_msgSend(a,"convertBaseToGlobal:",g),c,i,d,p,m)}),new objj_method(sel_getUid("_noteRegisteredDraggedTypes:"),function(a,b,e){with(a){if(!e)return;_inclusiveRegisteredDraggedTypes||(_inclusiveRegisteredDraggedTypes=objj_msgSend(CPCountedSet,"set"));objj_msgSend(_inclusiveRegisteredDraggedTypes,"unionSet:",e)}}),new objj_method(sel_getUid("_noteUnregisteredDraggedTypes:"),function(a,b,e){with(a){if(!e)return;
objj_msgSend(_inclusiveRegisteredDraggedTypes,"minusSet:",e);objj_msgSend(_inclusiveRegisteredDraggedTypes,"count")===0&&(_inclusiveRegisteredDraggedTypes=nil)}}),new objj_method(sel_getUid("dragView:at:offset:event:pasteboard:source:slideBack:"),function(a,e,b,g,c,i,d,p,m){with(a)objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"dragView:fromWindow:at:offset:event:pasteboard:source:slideBack:",b,a,objj_msgSend(a,"convertBaseToGlobal:",g),c,i,d,p,m)}),new objj_method(sel_getUid("registerForDraggedTypes:"),
function(a,e,b){with(a){if(!b)return;objj_msgSend(a,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes);objj_msgSend(_registeredDraggedTypes,"addObjectsFromArray:",b);objj_msgSend(a,"_noteRegisteredDraggedTypes:",_registeredDraggedTypes);_registeredDraggedTypesArray=nil}}),new objj_method(sel_getUid("registeredDraggedTypes"),function(a){with(a)return _registeredDraggedTypesArray||(_registeredDraggedTypesArray=objj_msgSend(_registeredDraggedTypes,"allObjects")),_registeredDraggedTypesArray}),
new objj_method(sel_getUid("unregisterDraggedTypes"),function(a){with(a)objj_msgSend(a,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes),_registeredDraggedTypes=objj_msgSend(CPSet,"set"),_registeredDraggedTypesArray=[]}),new objj_method(sel_getUid("setDocumentEdited:"),function(a,b,e){with(a){if(_isDocumentEdited==e)return;_isDocumentEdited=e;objj_msgSend(CPMenu,"_setMenuBarIconImageAlphaValue:",_isDocumentEdited?0.5:1);objj_msgSend(_windowView,"setDocumentEdited:",e)}}),new objj_method(sel_getUid("isDocumentEdited"),
function(a){with(a)return _isDocumentEdited}),new objj_method(sel_getUid("setDocumentSaving:"),function(a,e,b){with(a){if(_isDocumentSaving==b)return;_isDocumentSaving=b;objj_msgSend(a,"_synchronizeSaveMenuWithDocumentSaving");objj_msgSend(_windowView,"windowDidChangeDocumentSaving")}}),new objj_method(sel_getUid("isDocumentSaving"),function(a){with(a)return _isDocumentSaving}),new objj_method(sel_getUid("_synchronizeSaveMenuWithDocumentSaving"),function(a){with(a){if(!objj_msgSend(a,"isMainWindow"))return;
a=objj_msgSend(CPApp,"mainMenu");var e=objj_msgSend(a,"indexOfItemWithTitle:",_isDocumentSaving?"Save":"Saving...");if(e==CPNotFound)return;a=objj_msgSend(a,"itemAtIndex:",e);_isDocumentSaving?(c=objj_msgSend(a,"image"),objj_msgSend(a,"setTitle:","Saving..."),objj_msgSend(a,"setImage:",b),objj_msgSend(a,"setEnabled:",NO)):(objj_msgSend(a,"setTitle:","Save"),objj_msgSend(a,"setImage:",c),objj_msgSend(a,"setEnabled:",YES))}}),new objj_method(sel_getUid("performMiniaturize:"),function(a,e,b){with(a)objj_msgSend(a,
"miniaturize:",b)}),new objj_method(sel_getUid("miniaturize:"),function(a,e,b){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowWillMiniaturizeNotification,a),objj_msgSend(objj_msgSend(a,"platformWindow"),"miniaturize:",b),objj_msgSend(a,"_updateMainAndKeyWindows"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidMiniaturizeNotification,a),_isMiniaturized=YES}),new objj_method(sel_getUid("deminiaturize:"),
function(a,e,b){with(a)objj_msgSend(objj_msgSend(a,"platformWindow"),"deminiaturize:",b),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidDeminiaturizeNotification,a),_isMiniaturized=NO}),new objj_method(sel_getUid("isMiniaturized"),function(a){with(a)return _isMiniaturized}),new objj_method(sel_getUid("performClose:"),function(a){with(a){if(!(_styleMask&CPClosableWindowMask))return;if(objj_msgSend(a,"isFullBridge")){var b=objj_msgSend(CPApp,
"currentEvent");if(objj_msgSend(b,"type")===CPKeyDown&&objj_msgSend(b,"characters")==="w"&&objj_msgSend(b,"modifierFlags")&CPPlatformActionKeyMask){objj_msgSend(objj_msgSend(a,"platformWindow"),"_propagateCurrentDOMEvent:",YES);return}}if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowShouldClose:"))){if(!objj_msgSend(_delegate,"windowShouldClose:",a))return}else if(objj_msgSend(a,"respondsToSelector:",sel_getUid("windowShouldClose:"))&&!objj_msgSend(a,"windowShouldClose:",a))return;
b=objj_msgSend(_windowController,"documents");if(objj_msgSend(b,"count")){var e=objj_msgSend(b,"indexOfObject:",objj_msgSend(_windowController,"document"));objj_msgSend(b[e],"shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:",_windowController,a,sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),{documents:objj_msgSend(b,"copy"),visited:0,index:e})}else objj_msgSend(a,"close")}}),new objj_method(sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),
function(a,b,e,g,c){with(a)if(g){b=objj_msgSend(a,"windowController");g=c.documents;var i=objj_msgSend(g,"count"),d=++c.visited,p=++c.index%i;objj_msgSend(e,"removeWindowController:",b);d<i?(objj_msgSend(b,"setDocument:",g[p]),objj_msgSend(g[p],"shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:",_windowController,a,sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),c)):objj_msgSend(a,"close")}}),new objj_method(sel_getUid("close"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPWindowWillCloseNotification,a),objj_msgSend(a,"orderOut:",nil)}),new objj_method(sel_getUid("isMainWindow"),function(a){with(a)return objj_msgSend(CPApp,"mainWindow")==a}),new objj_method(sel_getUid("canBecomeMainWindow"),function(a){with(a){if(objj_msgSend(a,"isVisible"))return YES;return NO}}),new objj_method(sel_getUid("makeMainWindow"),function(a){with(a){if(objj_msgSend(CPApp,"mainWindow")===a||!objj_msgSend(a,"canBecomeMainWindow"))return;objj_msgSend(objj_msgSend(CPApp,
"mainWindow"),"resignMainWindow");objj_msgSend(a,"becomeMainWindow")}}),new objj_method(sel_getUid("becomeMainWindow"),function(a){with(a)CPApp._mainWindow=a,objj_msgSend(a,"_synchronizeMenuBarTitleWithWindowTitle"),objj_msgSend(a,"_synchronizeSaveMenuWithDocumentSaving"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidBecomeMainNotification,a)}),new objj_method(sel_getUid("resignMainWindow"),function(a){with(a)if(objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPWindowDidResignMainNotification,a),CPApp._mainWindow===a)CPApp._mainWindow=nil}),new objj_method(sel_getUid("_updateMainAndKeyWindows"),function(a){with(a){var b=objj_msgSend(CPApp,"orderedWindows"),e=objj_msgSend(b,"count");if(objj_msgSend(a,"isKeyWindow")){var g=objj_msgSend(CPApp,"keyWindow");objj_msgSend(a,"resignKeyWindow");if(g&&g!==a&&objj_msgSend(g,"canBecomeKeyWindow"))objj_msgSend(g,"makeKeyWindow");else{objj_msgSend(CPApp,"mainMenu");g=
objj_getClass("_CPMenuBarWindow");for(var c,i=0;i<e;i++){var d=b[i];objj_msgSend(d,"isKindOfClass:",g)&&(c=d);if(!(d===a||d===c)&&objj_msgSend(d,"isVisible")&&objj_msgSend(d,"canBecomeKeyWindow")){objj_msgSend(d,"makeKeyWindow");break}}objj_msgSend(CPApp,"keyWindow")||objj_msgSend(c,"makeKeyWindow")}}if(objj_msgSend(a,"isMainWindow"))if(g=objj_msgSend(CPApp,"mainWindow"),objj_msgSend(a,"resignMainWindow"),g&&g!==a&&objj_msgSend(g,"canBecomeMainWindow"))objj_msgSend(g,"makeMainWindow");else{objj_msgSend(CPApp,
"mainMenu");g=objj_getClass("_CPMenuBarWindow");for(i=0;i<e;i++)if(d=b[i],objj_msgSend(d,"isKindOfClass:",g)&&(c=d),!(d===a||d===c)&&objj_msgSend(d,"isVisible")&&objj_msgSend(d,"canBecomeMainWindow")){objj_msgSend(d,"makeMainWindow");break}}}}),new objj_method(sel_getUid("toolbar"),function(a){with(a)return _toolbar}),new objj_method(sel_getUid("setToolbar:"),function(a,b,e){with(a){if(_toolbar===e)return;objj_msgSend(objj_msgSend(e,"_window"),"setToolbar:",nil);objj_msgSend(_toolbar,"_setWindow:",
nil);_toolbar=e;objj_msgSend(_toolbar,"_setWindow:",a);objj_msgSend(a,"_noteToolbarChanged")}}),new objj_method(sel_getUid("toggleToolbarShown:"),function(a){with(a)a=objj_msgSend(a,"toolbar"),objj_msgSend(a,"setVisible:",!objj_msgSend(a,"isVisible"))}),new objj_method(sel_getUid("_noteToolbarChanged"),function(a){with(a){var b=CGRectMakeCopy(objj_msgSend(a,"frame")),e;objj_msgSend(_windowView,"noteToolbarChanged");_isFullPlatformWindow?e=objj_msgSend(_platformWindow,"visibleFrame"):(e=CGRectMakeCopy(objj_msgSend(a,
"frame")),e.origin=b.origin);objj_msgSend(a,"setFrame:",e)}}),new objj_method(sel_getUid("_setFrame:delegate:duration:curve:"),function(a,b,e,g,c,i){with(a)objj_msgSend(_frameAnimation,"stopAnimation"),_frameAnimation=objj_msgSend(objj_msgSend(_CPWindowFrameAnimation,"alloc"),"initWithWindow:targetFrame:",a,e),objj_msgSend(_frameAnimation,"setDelegate:",g),objj_msgSend(_frameAnimation,"setAnimationCurve:",i),objj_msgSend(_frameAnimation,"setDuration:",c),objj_msgSend(_frameAnimation,"startAnimation")}),
new objj_method(sel_getUid("animationResizeTime:"),function(a){with(a)return 0.2}),new objj_method(sel_getUid("_setAttachedSheetFrameOrigin"),function(a){with(a){var b=objj_msgSend(a,"attachedSheet");a=objj_msgSend(objj_msgSend(a,"contentView"),"frame");var e=CGRectMakeCopy(objj_msgSend(b,"frame"));e.origin.y=CGRectGetMinY(_frame)+CGRectGetMinY(a);e.origin.x=CGRectGetMinX(_frame)+FLOOR((CGRectGetWidth(_frame)-CGRectGetWidth(e))/2);objj_msgSend(b,"setFrame:display:animate:",e,YES,NO)}}),new objj_method(sel_getUid("_attachSheet:modalDelegate:didEndSelector:contextInfo:"),
function(a,b,e,g,c,i){with(a)b=objj_msgSend(e,"frame"),_sheetContext={sheet:e,modalDelegate:g,endSelector:c,contextInfo:i,frame:CGRectMakeCopy(b),returnCode:-1,opened:NO},objj_msgSend(a,"_attachSheetWindow:",e)}),new objj_method(sel_getUid("_attachSheetWindow:"),function(a,e,b){with(a){e=objj_msgSend(b,"frame");var g=objj_msgSend(a,"frame"),c=objj_msgSend(b,"contentView");objj_msgSend(a,"_setUpMasksForView:",c);b._isSheet=YES;b._parentView=a;c=g.origin.x+FLOOR((g.size.width-e.size.width)/2);var i=
g.origin.y+objj_msgSend(objj_msgSend(a,"contentView"),"frame").origin.y;g=CGRectMake(c,i,e.size.width,0);e=CGRectMake(c,i,e.size.width,e.size.height);objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowWillBeginSheetNotification,a);objj_msgSend(CPApp,"runModalForWindow:",b);objj_msgSend(b,"orderFront:",a);objj_msgSend(b,"setFrame:display:animate:",g,YES,NO);_sheetContext.opened=YES;objj_msgSend(b,"_setFrame:delegate:duration:curve:",e,a,objj_msgSend(a,
"animationResizeTime:",e),CPAnimationEaseOut);objj_msgSend(b,"becomeKeyWindow")}}),new objj_method(sel_getUid("_detachSheetWindow"),function(a){with(a){var b=objj_msgSend(a,"attachedSheet"),e=objj_msgSend(b,"frame"),g=CGRectMakeCopy(e);g.size.height=0;_sheetContext.frame=e;e=objj_msgSend(b,"contentView");objj_msgSend(a,"_setUpMasksForView:",e);_sheetContext.opened=NO;objj_msgSend(b,"_setFrame:delegate:duration:curve:",g,a,objj_msgSend(a,"animationResizeTime:",g),CPAnimationEaseIn)}}),new objj_method(sel_getUid("animationDidEnd:"),
function(a,e,b){with(a){e=_sheetContext.sheet;if(b._window!=e)return;b=objj_msgSend(e,"contentView");if(_sheetContext.opened===YES){objj_msgSend(a,"_restoreMasksForView:",b);return}objj_msgSend(CPApp,"stopModal");objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidEndSheetNotification,a);objj_msgSend(e,"orderOut:",a);objj_msgSend(e,"setFrame:",_sheetContext.frame);objj_msgSend(a,"_restoreMasksForView:",b);a=_sheetContext.modalDelegate;b=_sheetContext.endSelector;
var g=_sheetContext.returnCode,c=_sheetContext.contextInfo;_sheetContext=nil;e._parentView=nil;a!=nil&&b!=nil&&objj_msgSend(a,b,e,g,c)}}),new objj_method(sel_getUid("_setUpMasksForView:"),function(a,e,b){with(a){a=objj_msgSend(b,"subviews");objj_msgSend(a,"addObject:",b);b=0;for(e=objj_msgSend(a,"count");b<e;b++){var g=objj_msgSend(a,"objectAtIndex:",b),c=objj_msgSend(g,"autoresizingMask");objj_msgSend(g,"setAutoresizingMask:",c|(c&CPViewMinYMargin?128:CPViewMinYMargin))}}}),new objj_method(sel_getUid("_restoreMasksForView:"),
function(a,b,e){with(a){a=objj_msgSend(e,"subviews");objj_msgSend(a,"addObject:",e);e=0;for(b=objj_msgSend(a,"count");e<b;e++){var g=objj_msgSend(a,"objectAtIndex:",e),c=objj_msgSend(g,"autoresizingMask");objj_msgSend(g,"setAutoresizingMask:",c&~(c&128?128:CPViewMinYMargin))}}}),new objj_method(sel_getUid("attachedSheet"),function(a){with(a){if(_sheetContext===nil)return nil;return _sheetContext.sheet}}),new objj_method(sel_getUid("isSheet"),function(a){with(a)return _isSheet}),new objj_method(sel_getUid("becomesKeyOnlyIfNeeded"),
function(a){with(a)return NO}),new objj_method(sel_getUid("worksWhenModal"),function(a){with(a)return NO}),new objj_method(sel_getUid("performKeyEquivalent:"),function(a,e,b){with(a)return objj_msgSend(objj_msgSend(a,"contentView"),"performKeyEquivalent:",b)}),new objj_method(sel_getUid("keyDown:"),function(a,b,e){with(a){if(objj_msgSend(e,"_couldBeKeyEquivalent")&&objj_msgSend(a,"performKeyEquivalent:",e))return;objj_msgSend(a,"_processKeyboardUIKey:",e)}}),new objj_method(sel_getUid("_processKeyboardUIKey:"),
function(e,b,g){with(e){b=objj_msgSend(g,"charactersIgnoringModifiers");if(!objj_msgSend(a,"containsObject:",b))return NO;g=objj_msgSend(CPKeyBinding,"selectorsForKey:modifierFlags:",b,0);if(objj_msgSend(g,"count")<=0)return NO;if(b!==CPEscapeFunctionKey)return b=objj_msgSend(g,"objectAtIndex:",0),objj_msgSend(objj_msgSend(e,"firstResponder"),"tryToPerform:with:",b,e);else objj_msgSend(objj_msgSend(e,"firstResponder"),"doCommandBySelector:",sel_getUid("complete:"))}}),new objj_method(sel_getUid("_dirtyKeyViewLoop"),
function(a){with(a)_autorecalculatesKeyViewLoop&&(_keyViewLoopIsDirty=YES)}),new objj_method(sel_getUid("_hasKeyViewLoop"),function(a){with(a){a=i(a);for(var e=objj_msgSend(a,"count");e--;)if(objj_msgSend(a[e],"nextKeyView"))return YES;return NO}}),new objj_method(sel_getUid("recalculateKeyViewLoop"),function(a){with(a){a=i(a);objj_msgSend(a,"sortUsingFunction:context:",p,nil);for(var e=0,b=objj_msgSend(a,"count");e<b;++e)objj_msgSend(a[e],"setNextKeyView:",a[(e+1)%b]);_keyViewLoopIsDirty=NO}}),new objj_method(sel_getUid("setAutorecalculatesKeyViewLoop:"),
function(a,e,b){with(a){if(_autorecalculatesKeyViewLoop===b)return;_autorecalculatesKeyViewLoop=b;_keyViewLoopIsDirty?objj_msgSend(a,"recalculateKeyViewLoop"):_autorecalculatesKeyViewLoop&&objj_msgSend(a,"_dirtyKeyViewLoop")}}),new objj_method(sel_getUid("autorecalculatesKeyViewLoop"),function(a){with(a)return _autorecalculatesKeyViewLoop}),new objj_method(sel_getUid("selectNextKeyView:"),function(a){with(a)objj_msgSend(_firstResponder,"isKindOfClass:",objj_msgSend(CPView,"class"))&&objj_msgSend(a,
"selectKeyViewFollowingView:",_firstResponder)}),new objj_method(sel_getUid("selectPreviousKeyView:"),function(a){with(a)objj_msgSend(_firstResponder,"isKindOfClass:",objj_msgSend(CPView,"class"))&&objj_msgSend(a,"selectKeyViewPrecedingView:",_firstResponder)}),new objj_method(sel_getUid("selectKeyViewFollowingView:"),function(a,e,b){with(a)_keyViewLoopIsDirty&&objj_msgSend(a,"recalculateKeyViewLoop"),objj_msgSend(a,"makeFirstResponder:",objj_msgSend(b,"nextValidKeyView"))}),new objj_method(sel_getUid("selectKeyViewPrecedingView:"),
function(a,e,b){with(a)_keyViewLoopIsDirty&&objj_msgSend(a,"recalculateKeyViewLoop"),objj_msgSend(a,"makeFirstResponder:",objj_msgSend(b,"previousValidKeyView"))}),new objj_method(sel_getUid("setDefaultButtonCell:"),function(a,e,b){with(a)objj_msgSend(a,"setDefaultButton:",b)}),new objj_method(sel_getUid("defaultButtonCell"),function(a){with(a)return objj_msgSend(a,"defaultButton")}),new objj_method(sel_getUid("setDefaultButton:"),function(a,e,b){with(a){if(_defaultButton===b)return;objj_msgSend(_defaultButton,
"keyEquivalent")===CPCarriageReturnCharacter&&objj_msgSend(_defaultButton,"setKeyEquivalent:",nil);_defaultButton=b;objj_msgSend(_defaultButton,"keyEquivalent")!==CPCarriageReturnCharacter&&objj_msgSend(_defaultButton,"setKeyEquivalent:",CPCarriageReturnCharacter)}}),new objj_method(sel_getUid("defaultButton"),function(a){with(a)return _defaultButton}),new objj_method(sel_getUid("enableKeyEquivalentForDefaultButton"),function(a){with(a)_defaultButtonEnabled=YES}),new objj_method(sel_getUid("enableKeyEquivalentForDefaultButtonCell"),
function(a){with(a)objj_msgSend(a,"enableKeyEquivalentForDefaultButton")}),new objj_method(sel_getUid("disableKeyEquivalentForDefaultButton"),function(a){with(a)_defaultButtonEnabled=NO}),new objj_method(sel_getUid("disableKeyEquivalentForDefaultButtonCell"),function(a){with(a)objj_msgSend(a,"disableKeyEquivalentForDefaultButton")})]);class_addMethods(g,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(CPWindow,"class"))return;a=objj_msgSend(CPBundle,"bundleForClass:",
objj_msgSend(CPWindow,"class"));b=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPProgressIndicator/CPProgressIndicatorSpinningStyleRegular.gif"),CGSizeMake(16,16))}}),new objj_method(sel_getUid("_windowViewClassForStyleMask:"),function(a,b,e){with(a){if(e&CPHUDBackgroundWindowMask)return _CPHUDWindowView;else if(e===CPBorderlessWindowMask)return _CPBorderlessWindowView;else if(e&CPDocModalWindowMask)return _CPDocModalWindowView;return _CPStandardWindowView}}),
new objj_method(sel_getUid("_windowViewClassForFullPlatformWindowStyleMask:"),function(a){with(a)return _CPBorderlessBridgeWindowView}),new objj_method(sel_getUid("frameRectForContentRect:styleMask:"),function(a,e,b,g){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"class"),"_windowViewClassForStyleMask:",g),"frameRectForContentRect:",b)})]);var i=function(a){a=objj_msgSend(objj_msgSend(a,"contentView"),"subviews");for(var e=0;e<a.length;++e)a=a.concat(objj_msgSend(a[e],"subviews"));return a},
p=function(a,e){var b=objj_msgSend(a,"convertRect:toView:",objj_msgSend(a,"bounds"),nil),g=objj_msgSend(e,"convertRect:toView:",objj_msgSend(e,"bounds"),nil),c=b.origin.y,i=g.origin.y,d=b.origin.x,p=g.origin.x;if(MIN(b.origin.y+b.size.height,g.origin.y+g.size.height)-MAX(c,i)>0){if(d<p)return CPOrderedAscending;if(d===p)return CPOrderedSame;return CPOrderedDescending}if(c<i)return CPOrderedAscending;if(c===i)return CPOrderedSame;return CPOrderedDescending};e=objj_getClass("CPWindow");if(!e)throw new SyntaxError('*** Could not find definition for class "CPWindow"');
g=e.isa;class_addMethods(e,[new objj_method(sel_getUid("_synchronizeMenuBarTitleWithWindowTitle"),function(a){with(a){if(!objj_msgSend(_windowController,"document")||!objj_msgSend(a,"isMainWindow"))return;objj_msgSend(CPMenu,"setMenuBarTitle:",_title)}})]);e=objj_getClass("CPWindow");if(!e)throw new SyntaxError('*** Could not find definition for class "CPWindow"');g=e.isa;class_addMethods(e,[new objj_method(sel_getUid("resizeWithOldPlatformWindowSize:"),function(a,e,b){with(a){if(objj_msgSend(a,"isFullPlatformWindow"))return objj_msgSend(a,
"setFrame:",objj_msgSend(_platformWindow,"visibleFrame"));if(_autoresizingMask==CPWindowNotSizable)return;var g=objj_msgSend(_platformWindow,"contentBounds");e=CGRectMakeCopy(_frame);var c=(CGRectGetWidth(g)-b.width)/((_autoresizingMask&CPWindowMinXMargin?1:0)+(_autoresizingMask&CPWindowWidthSizable?1:0)+(_autoresizingMask&CPWindowMaxXMargin?1:0));b=(CGRectGetHeight(g)-b.height)/((_autoresizingMask&CPWindowMinYMargin?1:0)+(_autoresizingMask&CPWindowHeightSizable?1:0)+(_autoresizingMask&CPWindowMaxYMargin?
1:0));_autoresizingMask&CPWindowMinXMargin&&(e.origin.x+=c);_autoresizingMask&CPWindowWidthSizable&&(e.size.width+=c);_autoresizingMask&CPWindowMinYMargin&&(e.origin.y+=b);_autoresizingMask&CPWindowHeightSizable&&(e.size.height+=b);objj_msgSend(a,"setFrame:",e)}}),new objj_method(sel_getUid("setAutoresizingMask:"),function(a,e,b){with(a)_autoresizingMask=b}),new objj_method(sel_getUid("autoresizingMask"),function(a){with(a)return _autoresizingMask}),new objj_method(sel_getUid("convertBaseToGlobal:"),
function(a,e,b){with(a)return objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(a,"convertBaseToPlatformWindow:",b):objj_msgSend(a,"convertBaseToScreen:",b)}),new objj_method(sel_getUid("convertGlobalToBase:"),function(a,e,b){with(a)return objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(a,"convertPlatformWindowToBase:",b):objj_msgSend(a,"convertScreenToBase:",b)}),new objj_method(sel_getUid("convertBaseToPlatformWindow:"),function(a,b,e){with(a){if(objj_msgSend(a,"_sharesChromeWithPlatformWindow"))return e;
a=objj_msgSend(a,"frame").origin;return{x:e.x+a.x,y:e.y+a.y}}}),new objj_method(sel_getUid("convertPlatformWindowToBase:"),function(a,e,b){with(a){if(objj_msgSend(a,"_sharesChromeWithPlatformWindow"))return b;a=objj_msgSend(a,"frame").origin;return{x:b.x-a.x,y:b.y-a.y}}}),new objj_method(sel_getUid("convertScreenToBase:"),function(a,b,e){with(a)return objj_msgSend(a,"convertPlatformWindowToBase:",objj_msgSend(_platformWindow,"convertScreenToBase:",e))}),new objj_method(sel_getUid("convertBaseToScreen:"),
function(a,b,e){with(a)return objj_msgSend(_platformWindow,"convertBaseToScreen:",objj_msgSend(a,"convertBaseToPlatformWindow:",e))}),new objj_method(sel_getUid("_setSharesChromeWithPlatformWindow:"),function(a,e,b){with(a){if(b&&objj_msgSend(CPPlatform,"isBrowser"))return;_sharesChromeWithPlatformWindow=b;objj_msgSend(a,"_updateShadow")}}),new objj_method(sel_getUid("_sharesChromeWithPlatformWindow"),function(a){with(a)return _sharesChromeWithPlatformWindow}),new objj_method(sel_getUid("undoManager"),
function(a){with(a){if(_undoManager)return _undoManager;var b=objj_msgSend(objj_msgSend(_windowController,"document"),"undoManager");if(b)return b;if(_delegateRespondsToWindowWillReturnUndoManagerSelector)return objj_msgSend(_delegate,"windowWillReturnUndoManager:",a);_undoManager||(_undoManager=objj_msgSend(objj_msgSend(CPUndoManager,"alloc"),"init"));return _undoManager}}),new objj_method(sel_getUid("undo:"),function(a){with(a)objj_msgSend(objj_msgSend(a,"undoManager"),"undo")}),new objj_method(sel_getUid("redo:"),
function(a){with(a)objj_msgSend(objj_msgSend(a,"undoManager"),"redo")}),new objj_method(sel_getUid("containsPoint:"),function(a,b,e){with(a)return CGRectContainsPoint(_frame,e)})]);e=objj_getClass("CPWindow");if(!e)throw new SyntaxError('*** Could not find definition for class "CPWindow"');g=e.isa;class_addMethods(e,[new objj_method(sel_getUid("setFullBridge:"),function(a,b,e){with(a)objj_msgSend(a,"setFullPlatformWindow:",e)}),new objj_method(sel_getUid("isFullBridge"),function(a){with(a)return objj_msgSend(a,
"isFullPlatformWindow")}),new objj_method(sel_getUid("convertBaseToBridge:"),function(a,b,e){with(a)return objj_msgSend(a,"convertBaseToPlatformWindow:",e)}),new objj_method(sel_getUid("convertBridgeToBase:"),function(a,b,e){with(a)return objj_msgSend(a,"convertPlatformWindowToBase:",e)})]);var m=function(a,b,e){return a+(b-a)*e};e=objj_allocateClassPair(CPAnimation,"_CPWindowFrameAnimation");g=e.isa;class_addIvars(e,[new objj_ivar("_window"),new objj_ivar("_startFrame"),new objj_ivar("_targetFrame")]);
objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithWindow:targetFrame:"),function(a,b,e,g){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPWindowFrameAnimation").super_class},"initWithDuration:animationCurve:",objj_msgSend(e,"animationResizeTime:",g),CPAnimationLinear))_window=e,_targetFrame=CGRectMakeCopy(g),_startFrame=CGRectMakeCopy(objj_msgSend(_window,"frame"));return a}}),new objj_method(sel_getUid("startAnimation"),function(a){with(a)objj_msgSendSuper({receiver:a,
super_class:objj_getClass("_CPWindowFrameAnimation").super_class},"startAnimation"),_window._isAnimating=YES}),new objj_method(sel_getUid("setCurrentProgress:"),function(a,e,b){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPWindowFrameAnimation").super_class},"setCurrentProgress:",b);a=objj_msgSend(a,"currentValue");if(a==1)_window._isAnimating=NO;a=CGRectMake(m(CGRectGetMinX(_startFrame),CGRectGetMinX(_targetFrame),a),m(CGRectGetMinY(_startFrame),CGRectGetMinY(_targetFrame),
a),m(CGRectGetWidth(_startFrame),CGRectGetWidth(_targetFrame),a),m(CGRectGetHeight(_startFrame),CGRectGetHeight(_targetFrame),a));objj_msgSend(_window,"setFrame:display:animate:",a,YES,NO)}})]);_CPWindowFullPlatformWindowSessionMake=function(a,e,b,g){return{windowView:a,contentRect:e,hasShadow:b,level:g}};CPStandardWindowShadowStyle=0;CPMenuWindowShadowStyle=1;CPPanelWindowShadowStyle=2;CPCustomWindowShadowStyle=3;f("_CPWindowView.j",YES);f("_CPStandardWindowView.j",YES);f("_CPDocModalWindowView.j",
YES);f("_CPHUDWindowView.j",YES);f("_CPBorderlessWindowView.j",YES);f("_CPBorderlessBridgeWindowView.j",YES);f("CPDragServer.j",YES);f("CPView.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPApplication.j",baseURL),function(h,f){f("Foundation/CPBundle.j",NO);f("CPCompatibility.j",YES);f("CPEvent.j",YES);f("CPMenu.j",YES);f("CPResponder.j",YES);f("CPDocumentController.j",YES);f("CPThemeBlend.j",YES);f("CPCibLoading.j",YES);f("CPPlatform.j",YES);CPApp=nil;CPApplicationWillFinishLaunchingNotification="CPApplicationWillFinishLaunchingNotification";CPApplicationDidFinishLaunchingNotification="CPApplicationDidFinishLaunchingNotification";
CPApplicationWillTerminateNotification="CPApplicationWillTerminateNotification";CPApplicationWillBecomeActiveNotification="CPApplicationWillBecomeActiveNotification";CPApplicationDidBecomeActiveNotification="CPApplicationDidBecomeActiveNotification";CPApplicationWillResignActiveNotification="CPApplicationWillResignActiveNotification";CPApplicationDidResignActiveNotification="CPApplicationDidResignActiveNotification";CPTerminateNow=YES;CPTerminateCancel=NO;CPTerminateLater=-1;CPRunStoppedResponse=
-1E3;CPRunAbortedResponse=-1001;CPRunContinuesResponse=-1002;var d=objj_allocateClassPair(CPResponder,"CPApplication"),c=d.isa;class_addIvars(d,[new objj_ivar("_eventListeners"),new objj_ivar("_currentEvent"),new objj_ivar("_windows"),new objj_ivar("_keyWindow"),new objj_ivar("_mainWindow"),new objj_ivar("_previousKeyWindow"),new objj_ivar("_previousMainWindow"),new objj_ivar("_documentController"),new objj_ivar("_currentSession"),new objj_ivar("_delegate"),new objj_ivar("_finishedLaunching"),new objj_ivar("_isActive"),
new objj_ivar("_namedArgs"),new objj_ivar("_args"),new objj_ivar("_fullArgsString"),new objj_ivar("_applicationIconImage"),new objj_ivar("_aboutPanel"),new objj_ivar("_themeBlend")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("themeBlend"),function(a){with(a)return _themeBlend}),new objj_method(sel_getUid("setThemeBlend:"),function(a,e,b){with(a)_themeBlend=b}),new objj_method(sel_getUid("init"),function(a){with(a){if(CPApp=a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},
"init"))_eventListeners=[],_windows=[],objj_msgSend(_windows,"addObject:",nil);return a}}),new objj_method(sel_getUid("setDelegate:"),function(a,b,g){with(a){if(_delegate==g)return;b=objj_msgSend(CPNotificationCenter,"defaultCenter");var c=[CPApplicationWillFinishLaunchingNotification,sel_getUid("applicationWillFinishLaunching:"),CPApplicationDidFinishLaunchingNotification,sel_getUid("applicationDidFinishLaunching:"),CPApplicationWillBecomeActiveNotification,sel_getUid("applicationWillBecomeActive:"),
CPApplicationDidBecomeActiveNotification,sel_getUid("applicationDidBecomeActive:"),CPApplicationWillResignActiveNotification,sel_getUid("applicationWillResignActive:"),CPApplicationDidResignActiveNotification,sel_getUid("applicationDidResignActive:"),CPApplicationWillTerminateNotification,sel_getUid("applicationWillTerminate:")],d=objj_msgSend(c,"count");if(_delegate)for(var m=0;m<d;m+=2){var f=c[m],h=c[m+1];objj_msgSend(_delegate,"respondsToSelector:",h)&&objj_msgSend(b,"removeObserver:name:object:",
_delegate,f,a)}_delegate=g;for(m=0;m<d;m+=2)f=c[m],h=c[m+1],objj_msgSend(_delegate,"respondsToSelector:",h)&&objj_msgSend(b,"addObserver:selector:name:object:",_delegate,h,f,a)}}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("finishLaunching"),function(a){with(a){window.status=" ";objj_msgSend(objj_msgSend(CPCursor,"arrowCursor"),"set");var b=objj_msgSend(CPBundle,"mainBundle"),g=objj_msgSend(b,"objectForInfoDictionaryKey:","CPBundleDocumentTypes");
objj_msgSend(g,"count")>0&&(_documentController=objj_msgSend(CPDocumentController,"sharedDocumentController"));if(b=objj_msgSend(b,"objectForInfoDictionaryKey:","CPApplicationDelegateClass"))(b=objj_getClass(b))&&(objj_msgSend(_documentController,"class")==b?objj_msgSend(a,"setDelegate:",_documentController):objj_msgSend(a,"setDelegate:",objj_msgSend(objj_msgSend(b,"alloc"),"init")));b=objj_msgSend(CPNotificationCenter,"defaultCenter");objj_msgSend(b,"postNotificationName:object:",CPApplicationWillFinishLaunchingNotification,
a);g=!!_documentController;for(var c=window.cpOpeningURLStrings&&window.cpOpeningURLStrings(),d=0,m=objj_msgSend(c,"count");d<m;++d)g=!objj_msgSend(a,"_openURL:",objj_msgSend(CPURL,"URLWithString:",c[d]))||g;g&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("applicationShouldOpenUntitledFile:"))&&(g=objj_msgSend(_delegate,"applicationShouldOpenUntitledFile:",a));g&&objj_msgSend(_documentController,"newDocument:",a);objj_msgSend(_documentController,"_updateRecentDocumentsMenu");objj_msgSend(b,
"postNotificationName:object:",CPApplicationDidFinishLaunchingNotification,a);objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);_finishedLaunching=YES}}),new objj_method(sel_getUid("terminate:"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPApplicationWillTerminateNotification,a),objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(objj_msgSend(objj_msgSend(a,"keyWindow"),"platformWindow"),
"_propagateCurrentDOMEvent:",YES):objj_msgSend(objj_msgSend(CPDocumentController,"sharedDocumentController"),"closeAllDocumentsWithDelegate:didCloseAllSelector:contextInfo:",a,sel_getUid("_documentController:didCloseAll:context:"),nil)}),new objj_method(sel_getUid("setApplicationIconImage:"),function(a,b,g){with(a)_applicationIconImage=g}),new objj_method(sel_getUid("applicationIconImage"),function(a){with(a){if(_applicationIconImage)return _applicationIconImage;(a=objj_msgSend(objj_msgSend(CPBundle,
"mainBundle"),"objectForInfoDictionaryKey:","CPApplicationIcon"))&&(_applicationIconImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:",a));return _applicationIconImage}}),new objj_method(sel_getUid("orderFrontStandardAboutPanel:"),function(a){with(a)objj_msgSend(a,"orderFrontStandardAboutPanelWithOptions:",nil)}),new objj_method(sel_getUid("orderFrontStandardAboutPanelWithOptions:"),function(a,b,g){with(a){if(!_aboutPanel){var c=objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),
"infoDictionary");b=objj_msgSend(g,"objectForKey:","ApplicationName")||objj_msgSend(c,"objectForKey:","CPBundleName");var d=objj_msgSend(g,"objectForKey:","ApplicationIcon")||objj_msgSend(a,"applicationIconImage"),m=objj_msgSend(g,"objectForKey:","Version")||objj_msgSend(c,"objectForKey:","CPBundleVersion"),f=objj_msgSend(g,"objectForKey:","ApplicationVersion")||objj_msgSend(c,"objectForKey:","CPBundleShortVersionString");g=objj_msgSend(g,"objectForKey:","Copyright")||objj_msgSend(c,"objectForKey:",
"CPHumanReadableCopyright");c=objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindowController,"class")),"pathForResource:","AboutPanel.cib");var h=objj_msgSend(CPWindowController,"alloc");h=objj_msgSend(h,"initWithWindowCibPath:owner:",c,h);c=objj_msgSend(h,"window");var l=objj_msgSend(c,"contentView");h=objj_msgSend(l,"viewWithTag:",1);var k=objj_msgSend(l,"viewWithTag:",2),j=objj_msgSend(l,"viewWithTag:",3);l=objj_msgSend(l,"viewWithTag:",4);var n=objj_msgSend(objj_msgSend(CPBundle,
"bundleForClass:",objj_msgSend(a,"class")),"pathForResource:","standardApplicationIcon.png");objj_msgSend(k,"setFont:",objj_msgSend(CPFont,"boldSystemFontOfSize:",14));objj_msgSend(k,"setAlignment:",CPCenterTextAlignment);objj_msgSend(j,"setAlignment:",CPCenterTextAlignment);objj_msgSend(l,"setAlignment:",CPCenterTextAlignment);objj_msgSend(h,"setImage:",d||objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",n,CGSizeMake(256,256)));objj_msgSend(k,"setStringValue:",b||"");f&&
m?objj_msgSend(j,"setStringValue:","Version "+f+" ("+m+")"):f||m?objj_msgSend(j,"setStringValue:","Version "+(f||m)):objj_msgSend(j,"setStringValue:","");objj_msgSend(l,"setStringValue:",g||"");objj_msgSend(c,"center");_aboutPanel=c}objj_msgSend(_aboutPanel,"orderFront:",a)}}),new objj_method(sel_getUid("_documentController:didCloseAll:context:"),function(a,b,g,c){with(a)c&&(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("applicationShouldTerminate:"))?objj_msgSend(a,"replyToApplicationShouldTerminate:",
objj_msgSend(_delegate,"applicationShouldTerminate:",a)):objj_msgSend(a,"replyToApplicationShouldTerminate:",YES))}),new objj_method(sel_getUid("replyToApplicationShouldTerminate:"),function(a,b,g){with(a)g==CPTerminateNow&&(objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPApplicationWillTerminateNotification,a),objj_msgSend(CPPlatform,"terminateApplication"))}),new objj_method(sel_getUid("activateIgnoringOtherApps:"),function(a,b,g){with(a)objj_msgSend(a,
"_willBecomeActive"),objj_msgSend(CPPlatform,"activateIgnoringOtherApps:",g),_isActive=YES,objj_msgSend(a,"_willResignActive")}),new objj_method(sel_getUid("deactivate"),function(a){with(a)objj_msgSend(a,"_willResignActive"),objj_msgSend(CPPlatform,"deactivate"),_isActive=NO,objj_msgSend(a,"_didResignActive")}),new objj_method(sel_getUid("isActive"),function(a){with(a)return _isActive}),new objj_method(sel_getUid("hideOtherApplications:"),function(a){with(a)objj_msgSend(CPPlatform,"hideOtherApplications:",
a)}),new objj_method(sel_getUid("run"),function(a){with(a)objj_msgSend(a,"finishLaunching")}),new objj_method(sel_getUid("runModalForWindow:"),function(a,b,g){with(a)objj_msgSend(a,"runModalSession:",objj_msgSend(a,"beginModalSessionForWindow:",g))}),new objj_method(sel_getUid("stopModalWithCode:"),function(a,b,g){with(a){if(!_currentSession)return;_currentSession._state=g;_currentSession=_currentSession._previous;objj_msgSend(a,"_removeRunModalLoop")}}),new objj_method(sel_getUid("_removeRunModalLoop"),
function(a){with(a)for(a=_eventListeners.length;a--;)if(_eventListeners[a]._callback===_CPRunModalLoop){_eventListeners.splice(a,1);break}}),new objj_method(sel_getUid("stopModal"),function(a){with(a)objj_msgSend(a,"stopModalWithCode:",CPRunStoppedResponse)}),new objj_method(sel_getUid("abortModal"),function(a){with(a)objj_msgSend(a,"stopModalWithCode:",CPRunAbortedResponse)}),new objj_method(sel_getUid("beginModalSessionForWindow:"),function(a,b,g){with(a)return{_window:g,_state:CPRunContinuesResponse,
_previous:nil}}),new objj_method(sel_getUid("runModalSession:"),function(a,b,g){with(a)g._previous=_currentSession,_currentSession=g,b=g._window,objj_msgSend(b,"center"),objj_msgSend(b,"makeKeyWindow"),objj_msgSend(b,"orderFront:",a),objj_msgSend(CPApp,"setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:",_CPRunModalLoop,CPAnyEventMask,nil,0,NO)}),new objj_method(sel_getUid("modalWindow"),function(a){with(a){if(!_currentSession)return nil;return _currentSession._window}}),new objj_method(sel_getUid("_handleKeyEquivalent:"),
function(a,b,g){with(a)return objj_msgSend(objj_msgSend(a,"keyWindow"),"performKeyEquivalent:",g)||objj_msgSend(objj_msgSend(a,"mainMenu"),"performKeyEquivalent:",g)}),new objj_method(sel_getUid("sendEvent:"),function(a,b,g){with(a){_currentEvent=g;b=objj_msgSend(objj_msgSend(objj_msgSend(g,"window"),"platformWindow"),"_willPropagateCurrentDOMEvent");objj_msgSend(objj_msgSend(objj_msgSend(g,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",NO);if(objj_msgSend(g,"_couldBeKeyEquivalent")&&objj_msgSend(a,
"_handleKeyEquivalent:",g)){a=objj_msgSend(g,"characters");b=objj_msgSend(g,"modifierFlags");(a=="c"||a=="x"||a=="v")&&b&CPPlatformActionKeyMask&&objj_msgSend(objj_msgSend(objj_msgSend(g,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);return}objj_msgSend(objj_msgSend(objj_msgSend(g,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",b);if(_eventListeners.length){_eventListeners[_eventListeners.length-1]._mask&1<<objj_msgSend(g,"type")&&_eventListeners.pop()._callback(g);return}objj_msgSend(objj_msgSend(g,
"window"),"sendEvent:",g)}}),new objj_method(sel_getUid("doCommandBySelector:"),function(a,b,g){with(a)objj_msgSend(_delegate,"respondsToSelector:",g)?objj_msgSend(_delegate,"performSelector:",g):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},"doCommandBySelector:",g)}),new objj_method(sel_getUid("keyWindow"),function(a){with(a)return _keyWindow}),new objj_method(sel_getUid("mainWindow"),function(a){with(a)return _mainWindow}),new objj_method(sel_getUid("windowWithWindowNumber:"),
function(a,b,g){with(a)return _windows[g]}),new objj_method(sel_getUid("windows"),function(a){with(a)return _windows}),new objj_method(sel_getUid("orderedWindows"),function(a){with(a)return CPWindowObjectList()}),new objj_method(sel_getUid("hide:"),function(a){with(a)objj_msgSend(CPPlatform,"hide:",a)}),new objj_method(sel_getUid("mainMenu"),function(a){with(a)return objj_msgSend(a,"menu")}),new objj_method(sel_getUid("setMainMenu:"),function(a,b,g){with(a)objj_msgSend(a,"setMenu:",g)}),new objj_method(sel_getUid("setMenu:"),
function(a,b,g){with(a)if(objj_msgSend(g,"_menuName")==="CPMainMenu"){if(objj_msgSend(a,"menu")===g)return;objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},"setMenu:",g);objj_msgSend(CPPlatform,"supportsNativeMainMenu")&&window.cpSetMainMenu(objj_msgSend(a,"menu"))}else objj_msgSend(g,"_setMenuName:","CPMainMenu")}),new objj_method(sel_getUid("orderFrontColorPanel:"),function(a){with(a)objj_msgSend(objj_msgSend(CPColorPanel,"sharedColorPanel"),"orderFront:",a)}),
new objj_method(sel_getUid("tryToPerform:with:"),function(a,b,g,c){with(a){if(!g)return NO;if(objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},"tryToPerform:with:",g,c))return YES;if(objj_msgSend(_delegate,"respondsToSelector:",g))return objj_msgSend(_delegate,"performSelector:withObject:",g,c),YES;return NO}}),new objj_method(sel_getUid("sendAction:to:from:"),function(a,b,g,c,d){with(a){a=objj_msgSend(a,"targetForAction:to:from:",g,c,d);if(!a)return NO;objj_msgSend(a,
"performSelector:withObject:",g,d);return YES}}),new objj_method(sel_getUid("targetForAction:to:from:"),function(a,b,g,c){with(a){if(!g)return nil;if(c)return c;return objj_msgSend(a,"targetForAction:",g)}}),new objj_method(sel_getUid("_targetForWindow:action:"),function(a,b,g,c){with(a){a=objj_msgSend(g,"firstResponder");for(b=YES;a;){if(objj_msgSend(a,"respondsToSelector:",c))return a;a==g&&(b=NO);a=objj_msgSend(a,"nextResponder")}if(b&&objj_msgSend(g,"respondsToSelector:",c))return g;a=objj_msgSend(g,
"delegate");if(objj_msgSend(a,"respondsToSelector:",c))return a;g=objj_msgSend(g,"windowController");if(objj_msgSend(g,"respondsToSelector:",c))return g;g=objj_msgSend(g,"document");if(g!==a&&objj_msgSend(g,"respondsToSelector:",c))return g;return nil}}),new objj_method(sel_getUid("targetForAction:"),function(a,b,g){with(a){if(!g)return nil;if(b=objj_msgSend(a,"_targetForWindow:action:",objj_msgSend(a,"keyWindow"),g))return b;if(b=objj_msgSend(a,"_targetForWindow:action:",objj_msgSend(a,"mainWindow"),
g))return b;if(objj_msgSend(a,"respondsToSelector:",g))return a;if(objj_msgSend(_delegate,"respondsToSelector:",g))return _delegate;if(objj_msgSend(_documentController,"respondsToSelector:",g))return _documentController;return nil}}),new objj_method(sel_getUid("setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:"),function(a,b,g,c){with(a)_eventListeners.push({_mask:c,_callback:g})}),new objj_method(sel_getUid("setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:"),function(a,
b,g,c,d){with(a)_eventListeners.push({_mask:d,_callback:function(a){objj_msgSend(g,c,a)}})}),new objj_method(sel_getUid("currentEvent"),function(a){with(a)return _currentEvent}),new objj_method(sel_getUid("beginSheet:modalForWindow:modalDelegate:didEndSelector:contextInfo:"),function(a,b,g,c,d,m,f){with(a){if(!(objj_msgSend(g,"styleMask")&CPDocModalWindowMask)){objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,"Currently only CPDocModalWindowMask style mask is supported for attached sheets");
return}objj_msgSend(c,"orderFront:",a);objj_msgSend(g,"setPlatformWindow:",objj_msgSend(c,"platformWindow"));objj_msgSend(c,"_attachSheet:modalDelegate:didEndSelector:contextInfo:",g,d,m,f)}}),new objj_method(sel_getUid("endSheet:returnCode:"),function(a,b,g,c){with(a)for(a=objj_msgSend(_windows,"count");--a>=0;){b=objj_msgSend(_windows,"objectAtIndex:",a);var d=b._sheetContext;if(d!=nil&&d.sheet===g){d.returnCode=c;objj_msgSend(b,"_detachSheetWindow");break}}}),new objj_method(sel_getUid("endSheet:"),
function(a,b,g){with(a)objj_msgSend(a,"endSheet:returnCode:",g,0)}),new objj_method(sel_getUid("arguments"),function(a){with(a)return _fullArgsString!==window.location.hash&&objj_msgSend(a,"_reloadArguments"),_args}),new objj_method(sel_getUid("setArguments:"),function(a,b,g){with(a){if(!g||g.length==0){_args=[];window.location.hash="#";return}objj_msgSend(g,"isKindOfClass:",CPArray)||(g=objj_msgSend(CPArray,"arrayWithObject:",g));_args=g;a=objj_msgSend(_args,"copy");b=0;for(g=a.length;b<g;b++)a[b]=
encodeURIComponent(a[b]);a=objj_msgSend(a,"componentsJoinedByString:","/");window.location.hash="#"+a}}),new objj_method(sel_getUid("_reloadArguments"),function(a){with(a)if(_fullArgsString=window.location.hash,_fullArgsString.length){a=_fullArgsString.substring(1).split("/");for(var b=0,g=a.length;b<g;b++)a[b]=decodeURIComponent(a[b]);_args=a}else _args=[]}),new objj_method(sel_getUid("namedArguments"),function(a){with(a)return _namedArgs}),new objj_method(sel_getUid("_openURL:"),function(a,b,g){with(a){if(_delegate&&
objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("application:openFile:")))return CPLog.warn("application:openFile: is deprecated, use application:openURL: instead."),objj_msgSend(_delegate,"application:openFile:",a,objj_msgSend(g,"absoluteString"));if(_delegate&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("application:openURL:")))return objj_msgSend(_delegate,"application:openURL:",a,g);return!!objj_msgSend(_documentController,"openDocumentWithContentsOfURL:display:error:",g,YES,
NULL)}}),new objj_method(sel_getUid("_willBecomeActive"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationWillBecomeActiveNotification,a,nil)}),new objj_method(sel_getUid("_didBecomeActive"),function(a){with(a)!objj_msgSend(a,"keyWindow")&&_previousKeyWindow&&objj_msgSend(objj_msgSend(a,"windows"),"indexOfObjectIdenticalTo:",_previousKeyWindow)!==CPNotFound&&objj_msgSend(_previousKeyWindow,"makeKeyWindow"),!objj_msgSend(a,
"mainWindow")&&_previousMainWindow&&objj_msgSend(objj_msgSend(a,"windows"),"indexOfObjectIdenticalTo:",_previousMainWindow)!==CPNotFound&&objj_msgSend(_previousMainWindow,"makeMainWindow"),objj_msgSend(a,"keyWindow")?objj_msgSend(objj_msgSend(a,"keyWindow"),"orderFront:",a):objj_msgSend(a,"mainWindow")?objj_msgSend(objj_msgSend(a,"mainWindow"),"makeKeyAndOrderFront:",a):objj_msgSend(objj_msgSend(a,"mainMenu")._menuWindow,"makeKeyWindow"),_previousMainWindow=_previousKeyWindow=nil,objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationDidBecomeActiveNotification,a,nil)}),new objj_method(sel_getUid("_willResignActive"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationWillResignActiveNotification,a,nil)}),new objj_method(sel_getUid("_didResignActive"),function(a){with(a)a._activeMenu&&objj_msgSend(a._activeMenu,"cancelTracking"),objj_msgSend(a,"keyWindow")&&(_previousKeyWindow=
objj_msgSend(a,"keyWindow"),objj_msgSend(_previousKeyWindow,"resignKeyWindow")),objj_msgSend(a,"mainWindow")&&(_previousMainWindow=objj_msgSend(a,"mainWindow"),objj_msgSend(_previousMainWindow,"resignMainWindow")),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationDidResignActiveNotification,a,nil)})]);class_addMethods(c,[new objj_method(sel_getUid("sharedApplication"),function(a){with(a)return CPApp||(CPApp=objj_msgSend(objj_msgSend(CPApplication,
"alloc"),"init")),CPApp}),new objj_method(sel_getUid("defaultThemeName"),function(a){with(a)return objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"objectForInfoDictionaryKey:","CPDefaultTheme")||"Aristo"})]);_CPRunModalLoop=function(a){objj_msgSend(CPApp,"setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:",_CPRunModalLoop,CPAnyEventMask,nil,0,NO);var b=objj_msgSend(a,"window");(b==CPApp._currentSession._window||objj_msgSend(b,"worksWhenModal"))&&objj_msgSend(b,"sendEvent:",a)};CPApplicationMain=
function(a,b){window.parent!==window&&typeof window.parent._childAppIsStarting==="function"&&window.parent._childAppIsStarting(window);var g=objj_msgSend(CPBundle,"mainBundle");(g=objj_msgSend(g,"principalClass"))||(g=objj_msgSend(CPApplication,"class"));objj_msgSend(g,"sharedApplication");objj_msgSend(a,"containsObject:","debug")&&CPLogRegister(CPLogPopup);CPApp._args=a;CPApp._namedArgs=b;objj_msgSend(_CPAppBootstrapper,"performActions")};var b=nil;d=objj_allocateClassPair(CPObject,"_CPAppBootstrapper");
c=d.isa;objj_registerClassPair(d);class_addMethods(c,[new objj_method(sel_getUid("actions"),function(a){with(a)return[sel_getUid("bootstrapPlatform"),sel_getUid("loadDefaultTheme"),sel_getUid("loadMainCibFile")]}),new objj_method(sel_getUid("performActions"),function(a){with(a){for(b||(b=objj_msgSend(a,"actions"));b.length;){var e=b.shift();if(objj_msgSend(a,e))return}objj_msgSend(CPApp,"run")}}),new objj_method(sel_getUid("bootstrapPlatform"),function(a){with(a)return objj_msgSend(CPPlatform,"bootstrap")}),
new objj_method(sel_getUid("loadDefaultTheme"),function(a){with(a){var b=objj_msgSend(CPApplication,"defaultThemeName"),g=nil;g=b==="Aristo"?objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPApplication,"class")),"pathForResource:",b+".blend"):objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",b+".blend");b=objj_msgSend(objj_msgSend(CPThemeBlend,"alloc"),"initWithContentsOfURL:",g);objj_msgSend(b,"loadWithDelegate:",a);return YES}}),new objj_method(sel_getUid("blendDidFinishLoading:"),
function(a,b,g){with(a)objj_msgSend(objj_msgSend(CPApplication,"sharedApplication"),"setThemeBlend:",g),objj_msgSend(CPTheme,"setDefaultTheme:",objj_msgSend(CPTheme,"themeNamed:",objj_msgSend(CPApplication,"defaultThemeName"))),objj_msgSend(a,"performActions")}),new objj_method(sel_getUid("loadMainCibFile"),function(a){with(a){var b=objj_msgSend(CPBundle,"mainBundle"),g=objj_msgSend(b,"objectForInfoDictionaryKey:","CPMainCibFile")||objj_msgSend(b,"objectForInfoDictionaryKey:","Main cib file base name");
if(g)return objj_msgSend(b,"loadCibFile:externalNameTable:loadDelegate:",g,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",CPApp,CPCibOwner),a),YES;else objj_msgSend(a,"loadCiblessBrowserMainMenu");return NO}}),new objj_method(sel_getUid("loadCiblessBrowserMainMenu"),function(a){with(a){a=objj_msgSend(objj_msgSend(CPMenu,"alloc"),"initWithTitle:","MainMenu");objj_msgSend(a,"setAutoenablesItems:",NO);var b=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPApplication,"class")),g=objj_msgSend(objj_msgSend(CPMenuItem,
"alloc"),"initWithTitle:action:keyEquivalent:","New",sel_getUid("newDocument:"),"n");objj_msgSend(g,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/New.png"),CGSizeMake(16,16)));objj_msgSend(g,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/NewHighlighted.png"),CGSizeMake(16,16)));objj_msgSend(a,"addItem:",g);g=objj_msgSend(objj_msgSend(CPMenuItem,
"alloc"),"initWithTitle:action:keyEquivalent:","Open",sel_getUid("openDocument:"),"o");objj_msgSend(g,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/Open.png"),CGSizeMake(16,16)));objj_msgSend(g,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/OpenHighlighted.png"),CGSizeMake(16,16)));objj_msgSend(a,"addItem:",g);g=objj_msgSend(objj_msgSend(CPMenu,
"alloc"),"initWithTitle:","Save");var c=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save",sel_getUid("saveDocument:"),nil);objj_msgSend(c,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/Save.png"),CGSizeMake(16,16)));objj_msgSend(c,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPApplication/SaveHighlighted.png"),
CGSizeMake(16,16)));objj_msgSend(g,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save",sel_getUid("saveDocument:"),"s"));objj_msgSend(g,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save As",sel_getUid("saveDocumentAs:"),nil));objj_msgSend(c,"setSubmenu:",g);objj_msgSend(a,"addItem:",c);b=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Edit",nil,nil);g=objj_msgSend(objj_msgSend(CPMenu,
"alloc"),"initWithTitle:","Edit");c=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Undo",sel_getUid("undo:"),CPUndoKeyEquivalent);var d=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Redo",sel_getUid("redo:"),CPRedoKeyEquivalent);objj_msgSend(c,"setKeyEquivalentModifierMask:",CPUndoKeyEquivalentModifierMask);objj_msgSend(d,"setKeyEquivalentModifierMask:",CPRedoKeyEquivalentModifierMask);objj_msgSend(g,"addItem:",c);objj_msgSend(g,
"addItem:",d);objj_msgSend(g,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Cut",sel_getUid("cut:"),"x"));objj_msgSend(g,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Copy",sel_getUid("copy:"),"c"));objj_msgSend(g,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Paste",sel_getUid("paste:"),"v"));objj_msgSend(b,"setSubmenu:",g);objj_msgSend(b,"setHidden:",
YES);objj_msgSend(a,"addItem:",b);objj_msgSend(a,"addItem:",objj_msgSend(CPMenuItem,"separatorItem"));objj_msgSend(CPApp,"setMainMenu:",a)}}),new objj_method(sel_getUid("cibDidFinishLoading:"),function(a){with(a)objj_msgSend(a,"performActions")}),new objj_method(sel_getUid("cibDidFailToLoad:"),function(a){with(a)throw Error("Could not load main cib file (Did you forget to nib2cib it?).");}),new objj_method(sel_getUid("reset"),function(a){with(a)b=nil})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPToolbar.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("CPPopUpButton.j",YES);f("CPToolbarItem.j",YES);CPToolbarDisplayModeDefault=0;CPToolbarDisplayModeIconAndLabel=1;CPToolbarDisplayModeIconOnly=2;CPToolbarDisplayModeLabelOnly=3;var d=nil,c=objj_allocateClassPair(CPObject,"CPToolbar"),b=c.isa;class_addIvars(c,[new objj_ivar("_identifier"),new objj_ivar("_displayMode"),new objj_ivar("_showsBaselineSeparator"),new objj_ivar("_allowsUserCustomization"),
new objj_ivar("_isVisible"),new objj_ivar("_delegate"),new objj_ivar("_itemIdentifiers"),new objj_ivar("_identifiedItems"),new objj_ivar("_defaultItems"),new objj_ivar("_allowedItems"),new objj_ivar("_selectableItems"),new objj_ivar("_items"),new objj_ivar("_itemsSortedByVisibilityPriority"),new objj_ivar("_toolbarView"),new objj_ivar("_window")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithIdentifier:","")}),new objj_method(sel_getUid("initWithIdentifier:"),
function(a,b,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPToolbar").super_class},"init"))_items=[],_identifier=e,_isVisible=YES,objj_msgSend(CPToolbar,"_addToolbar:forIdentifier:",a,_identifier);return a}}),new objj_method(sel_getUid("setDisplayMode:"),function(a){with(a);}),new objj_method(sel_getUid("identifier"),function(a){with(a)return _identifier}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("isVisible"),
function(a){with(a)return _isVisible}),new objj_method(sel_getUid("setVisible:"),function(a,b,e){with(a){if(_isVisible===e)return;_isVisible=e;objj_msgSend(_window,"_noteToolbarChanged")}}),new objj_method(sel_getUid("_window"),function(a){with(a)return _window}),new objj_method(sel_getUid("_setWindow:"),function(a,b,e){with(a)_window=e}),new objj_method(sel_getUid("setDelegate:"),function(a,b,e){with(a){if(_delegate===e)return;_delegate=e;objj_msgSend(a,"_reloadToolbarItems")}}),new objj_method(sel_getUid("_loadConfiguration"),
function(a){with(a);}),new objj_method(sel_getUid("_toolbarView"),function(a){with(a)return _toolbarView||(_toolbarView=objj_msgSend(objj_msgSend(_CPToolbarView,"alloc"),"initWithFrame:",CPRectMake(0,0,1200,59)),objj_msgSend(_toolbarView,"setToolbar:",a),objj_msgSend(_toolbarView,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_toolbarView,"reloadToolbarItems")),_toolbarView}),new objj_method(sel_getUid("_reloadToolbarItems"),function(a){with(a){_itemIdentifiers=objj_msgSend(_defaultItems,
"valueForKey:","itemIdentifier")||[];if(_delegate){var b=objj_msgSend(objj_msgSend(_delegate,"toolbarDefaultItemIdentifiers:",a),"mutableCopy");b&&(_itemIdentifiers=objj_msgSend(_itemIdentifiers,"arrayByAddingObjectsFromArray:",b))}b=0;var e=objj_msgSend(_itemIdentifiers,"count");for(_items=[];b<e;++b){var c=_itemIdentifiers[b],d=objj_msgSend(CPToolbarItem,"_standardItemWithItemIdentifier:",c);d||(d=objj_msgSend(_identifiedItems,"objectForKey:",c));!d&&_delegate&&(d=objj_msgSend(_delegate,"toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:",
a,c,YES));d=objj_msgSend(d,"copy");d===nil&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Toolbar delegate "+_delegate+' returned nil toolbar item for identifier "'+c+'"');d._toolbar=a;objj_msgSend(_items,"addObject:",d)}_itemsSortedByVisibilityPriority=objj_msgSend(_items,"sortedArrayUsingFunction:context:",g,NULL);objj_msgSend(_toolbarView,"reloadToolbarItems")}}),new objj_method(sel_getUid("items"),function(a){with(a)return _items}),new objj_method(sel_getUid("visibleItems"),
function(a){with(a)return objj_msgSend(_toolbarView,"visibleItems")}),new objj_method(sel_getUid("itemsSortedByVisibilityPriority"),function(a){with(a)return _itemsSortedByVisibilityPriority}),new objj_method(sel_getUid("validateVisibleItems"),function(a){with(a){a=objj_msgSend(a,"visibleItems");for(var b=objj_msgSend(a,"count");b--;)objj_msgSend(a[b],"validate")}}),new objj_method(sel_getUid("_itemForItemIdentifier:willBeInsertedIntoToolbar:"),function(a,b,e,g){with(a)return b=objj_msgSend(_identifiedItems,
"objectForKey:",e),b||(b=objj_msgSend(CPToolbarItem,"_standardItemWithItemIdentifier:",e),_delegate&&!b&&((b=objj_msgSend(objj_msgSend(_delegate,"toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:",a,e,g),"copy"))||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Toolbar delegate "+_delegate+" returned nil toolbar item for identifier "+e)),objj_msgSend(_identifiedItems,"setObject:forKey:",b,e)),b}),new objj_method(sel_getUid("_itemsWithIdentifiers:"),function(a,b,e){with(a){b=
[];for(var g=0;g<e.length;g++)objj_msgSend(b,"addObject:",objj_msgSend(a,"_itemForItemIdentifier:willBeInsertedIntoToolbar:",e[g],NO));return b}}),new objj_method(sel_getUid("_defaultToolbarItems"),function(a){with(a){if(!_defaultItems&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("toolbarDefaultItemIdentifiers:"))){_defaultItems=[];for(var b=objj_msgSend(_delegate,"toolbarDefaultItemIdentifiers:",a),e=0,g=objj_msgSend(b,"count");e<g;++e)objj_msgSend(_defaultItems,"addObject:",objj_msgSend(a,
"_itemForItemIdentifier:willBeInsertedIntoToolbar:",b[e],NO))}return _defaultItems}}),new objj_method(sel_getUid("toolbarItemDidChange:"),function(a,b,e){with(a){objj_msgSend(_identifiedItems,"objectForKey:",objj_msgSend(e,"itemIdentifier"))&&objj_msgSend(_identifiedItems,"setObject:forKey:",e,objj_msgSend(e,"itemIdentifier"));a=0;for(b=objj_msgSend(_items,"count");a<=b;++a)objj_msgSend(_items[a],"itemIdentifier")===objj_msgSend(e,"itemIdentifier")&&(_items[a]=e,_itemsSortedByVisibilityPriority=objj_msgSend(_items,
"sortedArrayUsingFunction:context:",g,NULL),objj_msgSend(_toolbarView,"reloadToolbarItems"))}})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(CPToolbar,"class"))return;d=objj_msgSend(CPDictionary,"dictionary");objj_msgSend(CPDictionary,"dictionary")}}),new objj_method(sel_getUid("_addToolbar:forIdentifier:"),function(a,b,e,g){with(a)a=objj_msgSend(d,"objectForKey:",g),a||(a=[],objj_msgSend(d,"setObject:forKey:",a,g)),objj_msgSend(a,"addObject:",
e)})]);c=objj_getClass("CPToolbar");if(!c)throw new SyntaxError('*** Could not find definition for class "CPToolbar"');b=c.isa;class_addMethods(c,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPToolbar").super_class},"init"))_identifier=objj_msgSend(e,"decodeObjectForKey:","CPToolbarIdentifierKey"),_displayMode=objj_msgSend(e,"decodeIntForKey:","CPToolbarDisplayModeKey"),_showsBaselineSeparator=objj_msgSend(e,"decodeBoolForKey:",
"CPToolbarShowsBaselineSeparatorKey"),_allowsUserCustomization=objj_msgSend(e,"decodeBoolForKey:","CPToolbarAllowsUserCustomizationKey"),_isVisible=objj_msgSend(e,"decodeBoolForKey:","CPToolbarIsVisibleKey"),_identifiedItems=objj_msgSend(e,"decodeObjectForKey:","CPToolbarIdentifiedItemsKey"),_defaultItems=objj_msgSend(e,"decodeObjectForKey:","CPToolbarDefaultItemsKey"),_allowedItems=objj_msgSend(e,"decodeObjectForKey:","CPToolbarAllowedItemsKey"),_selectableItems=objj_msgSend(e,"decodeObjectForKey:",
"CPToolbarSelectableItemsKey"),objj_msgSend(objj_msgSend(_identifiedItems,"allValues"),"makeObjectsPerformSelector:withObject:",sel_getUid("_setToolbar:"),a),_items=[],objj_msgSend(CPToolbar,"_addToolbar:forIdentifier:",a,_identifier),objj_msgSend(a,"setDelegate:",objj_msgSend(e,"decodeObjectForKey:","CPToolbarDelegateKey")),objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"performSelector:target:argument:order:modes:",sel_getUid("_reloadToolbarItems"),a,nil,0,[CPDefaultRunLoopMode]);return a}}),
new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,e){with(a)objj_msgSend(e,"encodeObject:forKey:",_identifier,"CPToolbarIdentifierKey"),objj_msgSend(e,"encodeInt:forKey:",_displayMode,"CPToolbarDisplayModeKey"),objj_msgSend(e,"encodeBool:forKey:",_showsBaselineSeparator,"CPToolbarShowsBaselineSeparatorKey"),objj_msgSend(e,"encodeBool:forKey:",_allowsUserCustomization,"CPToolbarAllowsUserCustomizationKey"),objj_msgSend(e,"encodeBool:forKey:",_isVisible,"CPToolbarIsVisibleKey"),objj_msgSend(e,
"encodeObject:forKey:",_identifiedItems,"CPToolbarIdentifiedItemsKey"),objj_msgSend(e,"encodeObject:forKey:",_defaultItems,"CPToolbarDefaultItemsKey"),objj_msgSend(e,"encodeObject:forKey:",_allowedItems,"CPToolbarAllowedItemsKey"),objj_msgSend(e,"encodeObject:forKey:",_selectableItems,"CPToolbarSelectableItemsKey"),objj_msgSend(e,"encodeConditionalObject:forKey:",_delegate,"CPToolbarDelegateKey")})]);var a=nil,e=nil;c=objj_allocateClassPair(CPView,"_CPToolbarView");b=c.isa;class_addIvars(c,[new objj_ivar("_toolbar"),
new objj_ivar("_flexibleWidthIndexes"),new objj_ivar("_visibleFlexibleWidthIndexes"),new objj_ivar("_itemInfos"),new objj_ivar("_viewsForToolbarItems"),new objj_ivar("_visibleItems"),new objj_ivar("_invisibleItems"),new objj_ivar("_additionalItemsButton"),new objj_ivar("_labelColor"),new objj_ivar("_labelShadowColor"),new objj_ivar("_minWidth"),new objj_ivar("_FIXME_isHUD")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("visibleItems"),function(a){with(a)return _visibleItems}),
new objj_method(sel_getUid("initWithFrame:"),function(a,b,g){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPToolbarView").super_class},"initWithFrame:",g))_minWidth=0,_labelColor=objj_msgSend(CPColor,"blackColor"),_labelShadowColor=objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.75),_additionalItemsButton=objj_msgSend(objj_msgSend(CPPopUpButton,"alloc"),"initWithFrame:pullsDown:",CGRectMake(0,0,10,15),YES),objj_msgSend(_additionalItemsButton,"setBordered:",NO),objj_msgSend(_additionalItemsButton,
"setImagePosition:",CPImageOnly),objj_msgSend(objj_msgSend(_additionalItemsButton,"menu"),"setShowsStateColumn:",NO),objj_msgSend(objj_msgSend(_additionalItemsButton,"menu"),"setAutoenablesItems:",NO),objj_msgSend(_additionalItemsButton,"setAlternateImage:",e);return a}}),new objj_method(sel_getUid("setToolbar:"),function(a,b,e){with(a)_toolbar=e}),new objj_method(sel_getUid("toolbar"),function(a){with(a)return _toolbar}),new objj_method(sel_getUid("FIXME_setIsHUD:"),function(a,b,e){with(a){if(_FIXME_isHUD===
e)return;_FIXME_isHUD=e;b=objj_msgSend(_toolbar,"items");for(var g=objj_msgSend(b,"count");g--;)objj_msgSend(objj_msgSend(a,"viewForItem:",b[g]),"FIXME_setIsHUD:",e)}}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(a){with(a)objj_msgSend(a,"tile")}),new objj_method(sel_getUid("viewForItem:"),function(a,b,e){with(a)return _viewsForToolbarItems[objj_msgSend(e,"UID")]||nil}),new objj_method(sel_getUid("tile"),function(b){with(b){var e=objj_msgSend(_toolbar,"items"),g=CGRectGetWidth(objj_msgSend(b,
"bounds")),c=_minWidth,d=[];_visibleItems=e;if(g<c){g-=20;_visibleItems=objj_msgSend(_visibleItems,"copy");for(var f=objj_msgSend(_toolbar,"itemsSortedByVisibilityPriority"),h=f.length;c>g&&h;){var j=f[--h],n=objj_msgSend(b,"viewForItem:",j);c-=objj_msgSend(n,"minSize").width+10;objj_msgSend(_visibleItems,"removeObjectIdenticalTo:",j);objj_msgSend(d,"addObject:",j);objj_msgSend(n,"setHidden:",YES);objj_msgSend(n,"FIXME_setIsHUD:",_FIXME_isHUD)}}h=objj_msgSend(e,"count");for(f=0;h--;)if(n=objj_msgSend(b,
"viewForItem:",e[h]),j=objj_msgSend(n,"minSize"),f<j.height)f=j.height;h=_visibleItems.length;for(var q=objj_msgSend(CPIndexSet,"indexSet");h--;)j=_visibleItems[h],n=objj_msgSend(b,"viewForItem:",j),j=objj_msgSend(n,"minSize"),j.width!==objj_msgSend(n,"maxSize").width?objj_msgSend(q,"addIndex:",h):objj_msgSend(n,"setFrameSize:",CGSizeMake(j.width,f)),objj_msgSend(n,"setHidden:",NO);h=g-c;for(var s=0;h&&objj_msgSend(q,"count");){s+=h/objj_msgSend(q,"count");h=0;for(c=CPNotFound;(c=objj_msgSend(q,"indexGreaterThanIndex:",
c))!==CPNotFound;){j=_visibleItems[c];n=objj_msgSend(b,"viewForItem:",j);j=objj_msgSend(n,"minSize").width+s;var t=MIN(j,objj_msgSend(n,"maxSize").width);t<j&&(objj_msgSend(q,"removeIndex:",c),h+=j-t);objj_msgSend(n,"setFrameSize:",CGSizeMake(t,f))}}c=0;h=_visibleItems.length;for(j=10;c<h;++c)n=objj_msgSend(b,"viewForItem:",_visibleItems[c]),q=CGRectGetWidth(objj_msgSend(n,"frame")),objj_msgSend(n,"setFrame:",CGRectMake(j,0,q,f)),j+=q+10;f=NO;if(objj_msgSend(d,"count")){c=0;h=objj_msgSend(e,"count");
for(_invisibleItems=[];c<h;++c)j=e[c],objj_msgSend(d,"indexOfObjectIdenticalTo:",j)!==CPNotFound&&(objj_msgSend(_invisibleItems,"addObject:",j),n=objj_msgSend(j,"itemIdentifier"),n!==CPToolbarSpaceItemIdentifier&&n!==CPToolbarFlexibleSpaceItemIdentifier&&n!==CPToolbarSeparatorItemIdentifier&&(f=YES))}if(f){objj_msgSend(_additionalItemsButton,"setFrameOrigin:",CGPointMake(g+5,(CGRectGetHeight(objj_msgSend(b,"bounds"))-CGRectGetHeight(objj_msgSend(_additionalItemsButton,"frame")))/2));objj_msgSend(b,
"addSubview:",_additionalItemsButton);objj_msgSend(_additionalItemsButton,"removeAllItems");objj_msgSend(_additionalItemsButton,"addItemWithTitle:","Additional Items");objj_msgSend(objj_msgSend(_additionalItemsButton,"itemArray")[0],"setImage:",a);c=0;h=objj_msgSend(_invisibleItems,"count");for(e=NO;c<h;++c)j=_invisibleItems[c],n=objj_msgSend(j,"itemIdentifier"),n===CPToolbarSpaceItemIdentifier||n===CPToolbarFlexibleSpaceItemIdentifier||(n===CPToolbarSeparatorItemIdentifier?e&&objj_msgSend(_additionalItemsButton,
"addItem:",objj_msgSend(CPMenuItem,"separatorItem")):(e=YES,g=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:",objj_msgSend(j,"label"),sel_getUid("didSelectMenuItem:"),nil),objj_msgSend(g,"setRepresentedObject:",j),objj_msgSend(g,"setImage:",objj_msgSend(j,"image")),objj_msgSend(g,"setTarget:",b),objj_msgSend(g,"setEnabled:",objj_msgSend(j,"isEnabled")),objj_msgSend(_additionalItemsButton,"addItem:",g)))}else objj_msgSend(_additionalItemsButton,"removeFromSuperview")}}),
new objj_method(sel_getUid("didSelectMenuItem:"),function(a,b,e){with(a)a=objj_msgSend(e,"representedObject"),objj_msgSend(CPApp,"sendAction:to:from:",objj_msgSend(a,"action"),objj_msgSend(a,"target"),a)}),new objj_method(sel_getUid("reloadToolbarItems"),function(a){with(a){for(var b=objj_msgSend(a,"subviews"),e=b.length;e--;)objj_msgSend(b[e],"removeFromSuperview");b=objj_msgSend(_toolbar,"items");var g=0;e=b.length;_minWidth=10;for(_viewsForToolbarItems={};g<e;++g){var c=b[g],d=objj_msgSend(objj_msgSend(_CPToolbarItemView,
"alloc"),"initWithToolbarItem:toolbar:",c,a);_viewsForToolbarItems[objj_msgSend(c,"UID")]=d;objj_msgSend(a,"addSubview:",d);_minWidth+=objj_msgSend(d,"minSize").width+10}objj_msgSend(a,"tile")}})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(b){with(b){if(b!==objj_msgSend(_CPToolbarView,"class"))return;b=objj_msgSend(CPBundle,"bundleForClass:",b);a=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","_CPToolbarView/_CPToolbarViewExtraItemsImage.png"),
CPSizeMake(10,15));e=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","_CPToolbarView/_CPToolbarViewExtraItemsAlternateImage.png"),CGSizeMake(10,15))}})]);var g=function(a,b){var e=objj_msgSend(a,"visibilityPriority"),g=objj_msgSend(b,"visibilityPriority");if(e==g)return CPOrderedSame;if(e>g)return CPOrderedAscending;return CPOrderedDescending};c=objj_allocateClassPair(CPControl,"_CPToolbarItemView");b=c.isa;class_addIvars(c,[new objj_ivar("_minSize"),
new objj_ivar("_maxSize"),new objj_ivar("_labelSize"),new objj_ivar("_toolbarItem"),new objj_ivar("_toolbar"),new objj_ivar("_imageView"),new objj_ivar("_view"),new objj_ivar("_labelField"),new objj_ivar("_FIXME_isHUD")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("minSize"),function(a){with(a)return _minSize}),new objj_method(sel_getUid("maxSize"),function(a){with(a)return _maxSize}),new objj_method(sel_getUid("initWithToolbarItem:toolbar:"),function(a,b,e,g){with(a){if(a=
objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPToolbarItemView").super_class},"init")){_toolbarItem=e;_labelField=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero());objj_msgSend(_labelField,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",11));objj_msgSend(_labelField,"setTextColor:",objj_msgSend(a,"FIXME_labelColor"));objj_msgSend(_labelField,"setTextShadowColor:",objj_msgSend(a,"FIXME_labelShadowColor"));objj_msgSend(_labelField,"setTextShadowOffset:",
CGSizeMake(0,1));objj_msgSend(_labelField,"setAutoresizingMask:",CPViewWidthSizable|CPViewMinXMargin);objj_msgSend(a,"addSubview:",_labelField);objj_msgSend(a,"updateFromItem");_toolbar=g;b=["label","image","alternateImage","minSize","maxSize","target","action","enabled"];e=0;for(g=objj_msgSend(b,"count");e<g;++e)objj_msgSend(_toolbarItem,"addObserver:forKeyPath:options:context:",a,b[e],0,NULL)}return a}}),new objj_method(sel_getUid("FIXME_setIsHUD:"),function(a,b,e){with(a)_FIXME_isHUD=e,objj_msgSend(_labelField,
"setTextColor:",objj_msgSend(a,"FIXME_labelColor")),objj_msgSend(_labelField,"setTextShadowColor:",objj_msgSend(a,"FIXME_labelShadowColor"))}),new objj_method(sel_getUid("updateFromItem"),function(a){with(a){var b=objj_msgSend(_toolbarItem,"itemIdentifier");if(b===CPToolbarSpaceItemIdentifier||b===CPToolbarFlexibleSpaceItemIdentifier||b===CPToolbarSeparatorItemIdentifier){objj_msgSend(_view,"removeFromSuperview");objj_msgSend(_imageView,"removeFromSuperview");_minSize=objj_msgSend(_toolbarItem,"minSize");
_maxSize=objj_msgSend(_toolbarItem,"maxSize");if(b===CPToolbarSeparatorItemIdentifier)_view=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,2,32)),sizes={},sizes.CPToolbarItemSeparator=[CGSizeMake(2,26),CGSizeMake(2,1),CGSizeMake(2,26)],objj_msgSend(_view,"setBackgroundColor:",_CPControlThreePartImagePattern(YES,sizes,"CPToolbarItem","Separator")),objj_msgSend(a,"addSubview:",_view);return}objj_msgSend(a,"setTarget:",objj_msgSend(_toolbarItem,"target"));objj_msgSend(a,"setAction:",
objj_msgSend(_toolbarItem,"action"));b=objj_msgSend(_toolbarItem,"view")||nil;b!==_view&&(b?(objj_msgSend(a,"addSubview:",b),objj_msgSend(_imageView,"removeFromSuperview")):objj_msgSend(_view,"removeFromSuperview"),_view=b);_view||(_imageView||(_imageView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",objj_msgSend(a,"bounds")),objj_msgSend(_imageView,"setImageScaling:",CPScaleProportionally),objj_msgSend(a,"addSubview:",_imageView)),objj_msgSend(_imageView,"setImage:",objj_msgSend(_toolbarItem,
"image")));b=objj_msgSend(_toolbarItem,"minSize");objj_msgSend(_toolbarItem,"maxSize");objj_msgSend(_labelField,"setStringValue:",objj_msgSend(_toolbarItem,"label"));objj_msgSend(_labelField,"sizeToFit");objj_msgSend(a,"setEnabled:",objj_msgSend(_toolbarItem,"isEnabled"));_labelSize=objj_msgSend(_labelField,"frame").size;_minSize=CGSizeMake(MAX(_labelSize.width,b.width),_labelSize.height+b.height+2+5);_maxSize=CGSizeMake(MAX(_labelSize.width,b.width),1E8);objj_msgSend(_toolbar,"tile")}}),new objj_method(sel_getUid("layoutSubviews"),
function(a){with(a){var b=objj_msgSend(_toolbarItem,"itemIdentifier");if(b===CPToolbarSpaceItemIdentifier||b===CPToolbarFlexibleSpaceItemIdentifier)return;var e=objj_msgSend(a,"bounds");a=e.size.width;if(b===CPToolbarSeparatorItemIdentifier)return objj_msgSend(_view,"setFrame:",CGRectMake(ROUND((a-2)/2),0,2,e.size.height));b=_view||_imageView;var g=objj_msgSend(_toolbarItem,"maxSize");e=e.size.height-_labelSize.height-2-5;var c=MIN(g.width,a);g=MIN(g.height,e);objj_msgSend(b,"setFrame:",CGRectMake(ROUND((a-
c)/2),5+ROUND((e-g)/2),c,g));objj_msgSend(_labelField,"setFrameOrigin:",CGPointMake(ROUND((a-_labelSize.width)/2),5+e+2))}}),new objj_method(sel_getUid("mouseDown:"),function(a,b,e){with(a){if(objj_msgSend(_toolbarItem,"view"))return objj_msgSend(objj_msgSend(a,"nextResponder"),"mouseDown:",e);b=objj_msgSend(_toolbarItem,"itemIdentifier");if(b===CPToolbarSpaceItemIdentifier||b===CPToolbarFlexibleSpaceItemIdentifier||b===CPToolbarSeparatorItemIdentifier)return objj_msgSend(objj_msgSend(a,"nextResponder"),
"mouseDown:",e);objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPToolbarItemView").super_class},"mouseDown:",e)}}),new objj_method(sel_getUid("setEnabled:"),function(a,b,e){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPToolbarItemView").super_class},"setEnabled:",e),e?(objj_msgSend(_imageView,"setAlphaValue:",1),objj_msgSend(_labelField,"setAlphaValue:",1)):(objj_msgSend(_imageView,"setAlphaValue:",0.5),objj_msgSend(_labelField,"setAlphaValue:",0.5)),objj_msgSend(_toolbar,
"tile")}),new objj_method(sel_getUid("FIXME_labelColor"),function(a){with(a){if(_FIXME_isHUD)return objj_msgSend(CPColor,"whiteColor");return objj_msgSend(CPColor,"blackColor")}}),new objj_method(sel_getUid("FIXME_labelShadowColor"),function(a){with(a){if(_FIXME_isHUD)return objj_msgSend(a,"isHighlighted")?objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.5):objj_msgSend(CPColor,"clearColor");return objj_msgSend(a,"isHighlighted")?objj_msgSend(CPColor,"colorWithWhite:alpha:",0,0.3):objj_msgSend(CPColor,
"colorWithWhite:alpha:",1,0.75)}}),new objj_method(sel_getUid("setHighlighted:"),function(a,b,e){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPToolbarItemView").super_class},"setHighlighted:",e),e?((b=objj_msgSend(_toolbarItem,"alternateImage"))&&objj_msgSend(_imageView,"setImage:",b),objj_msgSend(_labelField,"setTextShadowOffset:",CGSizeMakeZero())):((b=objj_msgSend(_toolbarItem,"image"))&&objj_msgSend(_imageView,"setImage:",b),objj_msgSend(_labelField,"setTextShadowOffset:",
CGSizeMake(0,1))),objj_msgSend(_labelField,"setTextShadowColor:",objj_msgSend(a,"FIXME_labelShadowColor"))}),new objj_method(sel_getUid("sendAction:to:"),function(a,b,e,g){with(a)objj_msgSend(CPApp,"sendAction:to:from:",e,g,_toolbarItem)}),new objj_method(sel_getUid("observeValueForKeyPath:ofObject:change:context:"),function(a,b,e,g){with(a)e==="enabled"?objj_msgSend(a,"setEnabled:",objj_msgSend(g,"isEnabled")):e==="target"?objj_msgSend(a,"setTarget:",objj_msgSend(g,"target")):e==="action"?objj_msgSend(a,
"setAction:",objj_msgSend(g,"action")):objj_msgSend(a,"updateFromItem")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCollectionView.j",baseURL),function(h,f){f("Foundation/CPArray.j",NO);f("Foundation/CPData.j",NO);f("Foundation/CPIndexSet.j",NO);f("Foundation/CPKeyedArchiver.j",NO);f("Foundation/CPKeyedUnarchiver.j",NO);f("CPView.j",YES);f("CPCollectionViewItem.j",YES);var d=objj_allocateClassPair(CPView,"CPCollectionView");class_addIvars(d,[new objj_ivar("_content"),new objj_ivar("_items"),new objj_ivar("_itemData"),new objj_ivar("_itemPrototype"),
new objj_ivar("_itemForDragging"),new objj_ivar("_cachedItems"),new objj_ivar("_maxNumberOfRows"),new objj_ivar("_maxNumberOfColumns"),new objj_ivar("_minItemSize"),new objj_ivar("_maxItemSize"),new objj_ivar("_backgroundColors"),new objj_ivar("_tileWidth"),new objj_ivar("_isSelectable"),new objj_ivar("_allowsMultipleSelection"),new objj_ivar("_allowsEmptySelection"),new objj_ivar("_selectionIndexes"),new objj_ivar("_itemSize"),new objj_ivar("_horizontalMargin"),new objj_ivar("_verticalMargin"),new objj_ivar("_numberOfRows"),
new objj_ivar("_numberOfColumns"),new objj_ivar("_delegate"),new objj_ivar("_mouseDownEvent")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithFrame:"),function(c,b,a){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPCollectionView").super_class},"initWithFrame:",a))_items=[],_content=[],_cachedItems=[],_itemSize=CGSizeMakeZero(),_minItemSize=CGSizeMakeZero(),_maxItemSize=CGSizeMakeZero(),objj_msgSend(c,"setBackgroundColors:",nil),_verticalMargin=
5,_tileWidth=-1,_selectionIndexes=objj_msgSend(CPIndexSet,"indexSet"),_isSelectable=_allowsEmptySelection=YES;return c}}),new objj_method(sel_getUid("setItemPrototype:"),function(c,b,a){with(c)_cachedItems=[],_itemForDragging=_itemData=nil,_itemPrototype=a,objj_msgSend(c,"reloadContent")}),new objj_method(sel_getUid("itemPrototype"),function(c){with(c)return _itemPrototype}),new objj_method(sel_getUid("newItemForRepresentedObject:"),function(c,b,a){with(c)return c=nil,_cachedItems.length?c=_cachedItems.pop():
(_itemData||_itemPrototype&&(_itemData=objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",_itemPrototype)),c=objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",_itemData)),objj_msgSend(c,"setRepresentedObject:",a),objj_msgSend(objj_msgSend(c,"view"),"setFrameSize:",_itemSize),c}),new objj_method(sel_getUid("acceptsFirstResponder"),function(c){with(c)return YES}),new objj_method(sel_getUid("isFirstResponder"),function(c){with(c)return objj_msgSend(objj_msgSend(c,"window"),"firstResponder")===
c}),new objj_method(sel_getUid("setContent:"),function(c,b,a){with(c)objj_msgSend(c,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSet")),_content=a,objj_msgSend(c,"reloadContent")}),new objj_method(sel_getUid("content"),function(c){with(c)return _content}),new objj_method(sel_getUid("items"),function(c){with(c)return _items}),new objj_method(sel_getUid("setSelectable:"),function(c,b,a){with(c){if(_isSelectable==a)return;_isSelectable=a;if(!_isSelectable)for(c=CPNotFound;(c=objj_msgSend(_selectionIndexes,
"indexGreaterThanIndex:",c))!=CPNotFound;)objj_msgSend(_items[c],"setSelected:",NO)}}),new objj_method(sel_getUid("isSelectable"),function(c){with(c)return _isSelectable}),new objj_method(sel_getUid("setAllowsEmptySelection:"),function(c,b,a){with(c)_allowsEmptySelection=a}),new objj_method(sel_getUid("allowsEmptySelection"),function(c){with(c)return _allowsEmptySelection}),new objj_method(sel_getUid("setAllowsMultipleSelection:"),function(c,b,a){with(c)_allowsMultipleSelection=a}),new objj_method(sel_getUid("allowsMultipleSelection"),
function(c){with(c)return _allowsMultipleSelection}),new objj_method(sel_getUid("setSelectionIndexes:"),function(c,b,a){with(c){if(objj_msgSend(_selectionIndexes,"isEqual:",a)||!_isSelectable)return;for(b=CPNotFound;(b=objj_msgSend(_selectionIndexes,"indexGreaterThanIndex:",b))!=CPNotFound;)objj_msgSend(_items[b],"setSelected:",NO);_selectionIndexes=a;for(b=CPNotFound;(b=objj_msgSend(_selectionIndexes,"indexGreaterThanIndex:",b))!=CPNotFound;)objj_msgSend(_items[b],"setSelected:",YES);a=objj_msgSend(objj_msgSend(c,
"class"),"_binderClassForBinding:","selectionIndexes");objj_msgSend(objj_msgSend(a,"getBinding:forObject:","selectionIndexes",c),"reverseSetValueFor:","selectionIndexes");objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionViewDidChangeSelection:"))&&objj_msgSend(_delegate,"collectionViewDidChangeSelection:",c)}}),new objj_method(sel_getUid("selectionIndexes"),function(c){with(c)return objj_msgSend(_selectionIndexes,"copy")}),new objj_method(sel_getUid("reloadContent"),function(c){with(c){for(var b=
_items.length;b--;)objj_msgSend(objj_msgSend(_items[b],"view"),"removeFromSuperview"),objj_msgSend(_items[b],"setSelected:",NO),_cachedItems.push(_items[b]);_items=[];if(!_itemPrototype||!_content)return;var a=0;for(b=_content.length;a<b;++a)_items.push(objj_msgSend(c,"newItemForRepresentedObject:",_content[a])),objj_msgSend(c,"addSubview:",objj_msgSend(_items[a],"view"));for(a=CPNotFound;(a=objj_msgSend(_selectionIndexes,"indexGreaterThanIndex:",a))!=CPNotFound;)objj_msgSend(_items[a],"setSelected:",
YES);objj_msgSend(c,"tile")}}),new objj_method(sel_getUid("tile"),function(c){with(c){var b=CGRectGetWidth(objj_msgSend(c,"bounds"));if(!objj_msgSend(_content,"count")||b==_tileWidth)return;var a=CGSizeMakeCopy(_minItemSize);_numberOfColumns=MAX(1,FLOOR(b/a.width));_maxNumberOfColumns>0&&(_numberOfColumns=MIN(_maxNumberOfColumns,_numberOfColumns));var e=b-_numberOfColumns*a.width,g=NO;if(e>0&&a.width<_maxItemSize.width)a.width=MIN(_maxItemSize.width,a.width+FLOOR(e/_numberOfColumns));if(_maxNumberOfColumns==
1&&a.width<_maxItemSize.width&&a.width<b)a.width=MIN(_maxItemSize.width,b);CGSizeEqualToSize(_itemSize,a)||(_itemSize=a,g=YES);var d=0,p=_items.length;_maxNumberOfColumns>0&&_maxNumberOfRows>0&&(p=MIN(p,_maxNumberOfColumns*_maxNumberOfRows));_numberOfRows=CEIL(p/_numberOfColumns);var f=_horizontalMargin=FLOOR((b-_numberOfColumns*a.width)/(_numberOfColumns+1));for(e=-a.height;d<p;++d){d%_numberOfColumns==0&&(f=_horizontalMargin,e+=_verticalMargin+a.height);var h=objj_msgSend(_items[d],"view");objj_msgSend(h,
"setFrameOrigin:",CGPointMake(f,e));g&&objj_msgSend(h,"setFrameSize:",_itemSize);f+=a.width+_horizontalMargin}g=objj_msgSend(c,"superview");a=e+a.height+_verticalMargin;if(objj_msgSend(g,"isKindOfClass:",objj_msgSend(CPClipView,"class")))g=objj_msgSend(g,"bounds").size,a=MAX(g.height,a);_tileWidth=b;objj_msgSend(c,"setFrameSize:",CGSizeMake(b,a));_tileWidth=-1}}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(c){with(c)objj_msgSend(c,"tile")}),new objj_method(sel_getUid("setMaxNumberOfRows:"),
function(c,b,a){with(c){if(_maxNumberOfRows==a)return;_maxNumberOfRows=a;objj_msgSend(c,"tile")}}),new objj_method(sel_getUid("maxNumberOfRows"),function(c){with(c)return _maxNumberOfRows}),new objj_method(sel_getUid("setMaxNumberOfColumns:"),function(c,b,a){with(c){if(_maxNumberOfColumns==a)return;_maxNumberOfColumns=a;objj_msgSend(c,"tile")}}),new objj_method(sel_getUid("maxNumberOfColumns"),function(c){with(c)return _maxNumberOfColumns}),new objj_method(sel_getUid("numberOfRows"),function(c){with(c)return _numberOfRows}),
new objj_method(sel_getUid("numberOfColumns"),function(c){with(c)return _numberOfColumns}),new objj_method(sel_getUid("setMinItemSize:"),function(c,b,a){with(c){if(CGSizeEqualToSize(_minItemSize,a))return;_minItemSize=CGSizeMakeCopy(a);objj_msgSend(c,"tile")}}),new objj_method(sel_getUid("minItemSize"),function(c){with(c)return _minItemSize}),new objj_method(sel_getUid("setMaxItemSize:"),function(c,b,a){with(c){if(CGSizeEqualToSize(_maxItemSize,a))return;_maxItemSize=CGSizeMakeCopy(a);objj_msgSend(c,
"tile")}}),new objj_method(sel_getUid("maxItemSize"),function(c){with(c)return _maxItemSize}),new objj_method(sel_getUid("setBackgroundColors:"),function(c,b,a){with(c){if(_backgroundColors===a)return;(_backgroundColors=a)||(_backgroundColors=objj_msgSend(CPColor,"whiteColor"));objj_msgSend(_backgroundColors,"count")===1?objj_msgSend(c,"setBackgroundColor:",_backgroundColors[0]):objj_msgSend(c,"setBackgroundColor:",nil);objj_msgSend(c,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("backgroundColors"),
function(c){with(c)return _backgroundColors}),new objj_method(sel_getUid("mouseUp:"),function(c,b,a){with(c)objj_msgSend(_selectionIndexes,"count")&&objj_msgSend(a,"clickCount")==2&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionView:didDoubleClickOnItemAtIndex:"))&&objj_msgSend(_delegate,"collectionView:didDoubleClickOnItemAtIndex:",c,objj_msgSend(_selectionIndexes,"firstIndex"))}),new objj_method(sel_getUid("mouseDown:"),function(c,b,a){with(c){_mouseDownEvent=a;var e=objj_msgSend(c,
"convertPoint:fromView:",objj_msgSend(a,"locationInWindow"),nil);b=FLOOR(e.y/(_itemSize.height+_verticalMargin));e=FLOOR(e.x/(_itemSize.width+_horizontalMargin));b=b*_numberOfColumns+e;if(b>=0&&b<_items.length){if(_allowsMultipleSelection&&(objj_msgSend(a,"modifierFlags")&CPCommandKeyMask||objj_msgSend(a,"modifierFlags")&CPShiftKeyMask))if(objj_msgSend(a,"modifierFlags")&CPCommandKeyMask){var g=objj_msgSend(_selectionIndexes,"copy");objj_msgSend(g,"containsIndex:",b)?objj_msgSend(g,"removeIndex:",
b):objj_msgSend(g,"addIndex:",b)}else objj_msgSend(a,"modifierFlags")&CPShiftKeyMask&&(g=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex"),a=nil,a=b<g?CPMakeRange(b,g-b+1):CPMakeRange(g,b-g+1),g=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"copy"),objj_msgSend(g,"addIndexesInRange:",a));else g=objj_msgSend(CPIndexSet,"indexSetWithIndex:",b);objj_msgSend(c,"setSelectionIndexes:",g)}else _allowsEmptySelection&&objj_msgSend(c,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSet"))}}),
new objj_method(sel_getUid("mouseDragged:"),function(c,b,a){with(c){b=objj_msgSend(a,"locationInWindow");a=objj_msgSend(_mouseDownEvent,"locationInWindow");if(ABS(b.x-a.x)<3&&ABS(b.y-a.y)<3)return;if(!objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionView:dragTypesForItemsAtIndexes:")))return;if(!objj_msgSend(_selectionIndexes,"count"))return;if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionView:canDragItemsAtIndexes:withEvent:"))&&!objj_msgSend(_delegate,"collectionView:canDragItemsAtIndexes:withEvent:",
c,_selectionIndexes,_mouseDownEvent))return;b=objj_msgSend(_delegate,"collectionView:dragTypesForItemsAtIndexes:",c,_selectionIndexes);objj_msgSend(objj_msgSend(CPPasteboard,"pasteboardWithName:",CPDragPboard),"declareTypes:owner:",b,c);_itemForDragging?objj_msgSend(_itemForDragging,"setRepresentedObject:",_content[objj_msgSend(_selectionIndexes,"firstIndex")]):_itemForDragging=objj_msgSend(c,"newItemForRepresentedObject:",_content[objj_msgSend(_selectionIndexes,"firstIndex")]);b=objj_msgSend(_itemForDragging,
"view");objj_msgSend(b,"setFrameSize:",_itemSize);objj_msgSend(b,"setAlphaValue:",0.7);objj_msgSend(c,"dragView:at:offset:event:pasteboard:source:slideBack:",b,objj_msgSend(objj_msgSend(_items[objj_msgSend(_selectionIndexes,"firstIndex")],"view"),"frame").origin,CGSizeMakeZero(),_mouseDownEvent,nil,c,YES)}}),new objj_method(sel_getUid("pasteboard:provideDataForType:"),function(c,b,a,e){with(c)objj_msgSend(a,"setData:forType:",objj_msgSend(_delegate,"collectionView:dataForItemsAtIndexes:forType:",
c,_selectionIndexes,e),e)}),new objj_method(sel_getUid("setVerticalMargin:"),function(c,b,a){with(c){if(_verticalMargin==a)return;_verticalMargin=a;objj_msgSend(c,"tile")}}),new objj_method(sel_getUid("verticalMargin"),function(c){with(c)return _verticalMargin}),new objj_method(sel_getUid("setDelegate:"),function(c,b,a){with(c)_delegate=a}),new objj_method(sel_getUid("delegate"),function(c){with(c)return _delegate}),new objj_method(sel_getUid("itemAtIndex:"),function(c,b,a){with(c)return objj_msgSend(_items,
"objectAtIndex:",a)}),new objj_method(sel_getUid("frameForItemAtIndex:"),function(c,b,a){with(c)return objj_msgSend(objj_msgSend(objj_msgSend(c,"itemAtIndex:",a),"view"),"frame")}),new objj_method(sel_getUid("frameForItemsAtIndexes:"),function(c,b,a){with(c){b=[];var e=CGRectNull;objj_msgSend(a,"getIndexes:maxCount:inIndexRange:",b,-1,nil);a=0;for(var g=objj_msgSend(b,"count");a<g;++a)e=CGRectUnion(e,objj_msgSend(c,"frameForItemAtIndex:",b[a]));return e}})]);d=objj_getClass("CPCollectionView");if(!d)throw new SyntaxError('*** Could not find definition for class "CPCollectionView"');
class_addMethods(d,[new objj_method(sel_getUid("_modifySelectionWithNewIndex:direction:expand:"),function(c,b,a,e,g){with(c){a=MIN(MAX(a,0),objj_msgSend(objj_msgSend(c,"items"),"count")-1);if(_allowsMultipleSelection&&g){b=objj_msgSend(_selectionIndexes,"copy");g=objj_msgSend(b,"firstIndex");var d=objj_msgSend(b,"lastIndex");e===-1?objj_msgSend(b,"addIndexesInRange:",CPMakeRange(a,g-a+1)):objj_msgSend(b,"addIndexesInRange:",CPMakeRange(d,a-d+1))}else b=objj_msgSend(CPIndexSet,"indexSetWithIndex:",
a);objj_msgSend(c,"setSelectionIndexes:",b);objj_msgSend(c,"_scrollToSelection")}}),new objj_method(sel_getUid("_scrollToSelection"),function(c){with(c){var b=objj_msgSend(c,"frameForItemsAtIndexes:",objj_msgSend(c,"selectionIndexes"));CGRectIsNull(b)||objj_msgSend(c,"scrollRectToVisible:",b)}}),new objj_method(sel_getUid("moveLeft:"),function(c){with(c){var b=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex");b===CPNotFound&&(b=objj_msgSend(objj_msgSend(c,"items"),"count"));objj_msgSend(c,
"_modifySelectionWithNewIndex:direction:expand:",b-1,-1,NO)}}),new objj_method(sel_getUid("moveLeftAndModifySelection:"),function(c){with(c){var b=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex");b===CPNotFound&&(b=objj_msgSend(objj_msgSend(c,"items"),"count"));objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",b-1,-1,YES)}}),new objj_method(sel_getUid("moveRight:"),function(c){with(c)objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",objj_msgSend(objj_msgSend(c,
"selectionIndexes"),"lastIndex")+1,1,NO)}),new objj_method(sel_getUid("moveRightAndModifySelection:"),function(c){with(c)objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",objj_msgSend(objj_msgSend(c,"selectionIndexes"),"lastIndex")+1,1,YES)}),new objj_method(sel_getUid("moveDown:"),function(c){with(c)objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",objj_msgSend(objj_msgSend(c,"selectionIndexes"),"lastIndex")+objj_msgSend(c,"numberOfColumns"),1,NO)}),new objj_method(sel_getUid("moveDownAndModifySelection:"),
function(c){with(c)objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",objj_msgSend(objj_msgSend(c,"selectionIndexes"),"lastIndex")+objj_msgSend(c,"numberOfColumns"),1,YES)}),new objj_method(sel_getUid("moveUp:"),function(c){with(c){var b=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex");b==CPNotFound&&(b=objj_msgSend(objj_msgSend(c,"items"),"count"));objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",b-objj_msgSend(c,"numberOfColumns"),-1,NO)}}),new objj_method(sel_getUid("moveUpAndModifySelection:"),
function(c){with(c){var b=objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex");b==CPNotFound&&(b=objj_msgSend(objj_msgSend(c,"items"),"count"));objj_msgSend(c,"_modifySelectionWithNewIndex:direction:expand:",b-objj_msgSend(c,"numberOfColumns"),-1,YES)}}),new objj_method(sel_getUid("deleteBackward:"),function(c){with(c)objj_msgSend(objj_msgSend(c,"delegate"),"respondsToSelector:",sel_getUid("collectionView:shouldDeleteItemsAtIndexes:"))&&(objj_msgSend(objj_msgSend(c,"delegate"),"collectionView:shouldDeleteItemsAtIndexes:",
c,objj_msgSend(c,"selectionIndexes")),objj_msgSend(objj_msgSend(c,"selectionIndexes"),"firstIndex")>objj_msgSend(objj_msgSend(c,"content"),"count")-1&&objj_msgSend(c,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",objj_msgSend(objj_msgSend(c,"content"),"count")-1)),objj_msgSend(c,"_scrollToSelection"),objj_msgSend(c,"setNeedsDisplay:",YES))}),new objj_method(sel_getUid("keyDown:"),function(c,b,a){with(c)objj_msgSend(c,"interpretKeyEvents:",[a])})]);d=objj_getClass("CPCollectionView");
if(!d)throw new SyntaxError('*** Could not find definition for class "CPCollectionView"');class_addMethods(d,[new objj_method(sel_getUid("rectForItemAtIndex:"),function(c,b,a){with(c)return _CPReportLenientDeprecation(objj_msgSend(c,"class"),b,sel_getUid("frameForItemAtIndex:")),objj_msgSend(c,"frameForItemAtIndex:",a)}),new objj_method(sel_getUid("rectForItemsAtIndexes:"),function(c,b,a){with(c)return _CPReportLenientDeprecation(objj_msgSend(c,"class"),b,sel_getUid("frameForItemsAtIndexes:")),objj_msgSend(c,
"frameForItemsAtIndexes:",a)})]);d=objj_getClass("CPCollectionView");if(!d)throw new SyntaxError('*** Could not find definition for class "CPCollectionView"');class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(c,b,a){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPCollectionView").super_class},"initWithCoder:",a))_items=[],_content=[],_cachedItems=[],_itemSize=CGSizeMakeZero(),_minItemSize=objj_msgSend(a,"decodeSizeForKey:","CPCollectionViewMinItemSizeKey")||
CGSizeMakeZero(),_maxItemSize=objj_msgSend(a,"decodeSizeForKey:","CPCollectionViewMaxItemSizeKey")||CGSizeMakeZero(),_maxNumberOfRows=objj_msgSend(a,"decodeIntForKey:","CPCollectionViewMaxNumberOfRowsKey")||0,_maxNumberOfColumns=objj_msgSend(a,"decodeIntForKey:","CPCollectionViewMaxNumberOfColumnsKey")||0,_verticalMargin=objj_msgSend(a,"decodeFloatForKey:","CPCollectionViewVerticalMarginKey"),_isSelectable=objj_msgSend(a,"decodeBoolForKey:","CPCollectionViewSelectableKey"),_allowsMultipleSelection=
objj_msgSend(a,"decodeBoolForKey:","CPCollectionViewAllowsMultipleSelectionKey"),objj_msgSend(c,"setBackgroundColors:",objj_msgSend(a,"decodeObjectForKey:","CPCollectionViewBackgroundColorsKey")),_tileWidth=-1,_selectionIndexes=objj_msgSend(CPIndexSet,"indexSet"),_allowsEmptySelection=YES;return c}}),new objj_method(sel_getUid("encodeWithCoder:"),function(c,b,a){with(c)objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPCollectionView").super_class},"encodeWithCoder:",a),CGSizeEqualToSize(_minItemSize,
CGSizeMakeZero())||objj_msgSend(a,"encodeSize:forKey:",_minItemSize,"CPCollectionViewMinItemSizeKey"),CGSizeEqualToSize(_maxItemSize,CGSizeMakeZero())||objj_msgSend(a,"encodeSize:forKey:",_maxItemSize,"CPCollectionViewMaxItemSizeKey"),objj_msgSend(a,"encodeInt:forKey:",_maxNumberOfRows,"CPCollectionViewMaxNumberOfRowsKey"),objj_msgSend(a,"encodeInt:forKey:",_maxNumberOfColumns,"CPCollectionViewMaxNumberOfColumnsKey"),objj_msgSend(a,"encodeBool:forKey:",_isSelectable,"CPCollectionViewSelectableKey"),
objj_msgSend(a,"encodeBool:forKey:",_allowsMultipleSelection,"CPCollectionViewAllowsMultipleSelectionKey"),objj_msgSend(a,"encodeFloat:forKey:",_verticalMargin,"CPCollectionViewVerticalMarginKey"),objj_msgSend(a,"encodeObject:forKey:",_backgroundColors,"CPCollectionViewBackgroundColorsKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPDocument.j",baseURL),function(h,f){f("Foundation/CPString.j",NO);f("Foundation/CPArray.j",NO);f("CPApplication.j",YES);f("CPResponder.j",YES);f("CPSavePanel.j",YES);f("CPViewController.j",YES);f("CPWindowController.j",YES);CPSaveOperation=0;CPSaveAsOperation=1;CPSaveToOperation=2;CPAutosaveOperation=3;CPChangeDone=0;CPChangeUndone=1;CPChangeCleared=2;CPChangeReadOtherContents=3;CPChangeAutosaved=4;CPDocumentWillSaveNotification=
"CPDocumentWillSaveNotification";CPDocumentDidSaveNotification="CPDocumentDidSaveNotification";CPDocumentDidFailToSaveNotification="CPDocumentDidFailToSaveNotification";var d=0,c=objj_allocateClassPair(CPResponder,"CPDocument");class_addIvars(c,[new objj_ivar("_window"),new objj_ivar("_view"),new objj_ivar("_viewControllersForWindowControllers"),new objj_ivar("_fileURL"),new objj_ivar("_fileType"),new objj_ivar("_windowControllers"),new objj_ivar("_untitledDocumentIndex"),new objj_ivar("_hasUndoManager"),
new objj_ivar("_undoManager"),new objj_ivar("_changeCount"),new objj_ivar("_readConnection"),new objj_ivar("_writeRequest"),new objj_ivar("_canCloseAlert")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("init"),function(b){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPDocument").super_class},"init"))_windowControllers=[],_viewControllersForWindowControllers=objj_msgSend(CPDictionary,"dictionary"),_hasUndoManager=YES,_changeCount=0,objj_msgSend(b,
"setNextResponder:",CPApp);return b}}),new objj_method(sel_getUid("initWithType:error:"),function(b,a,e){with(b)return(b=objj_msgSend(b,"init"))&&objj_msgSend(b,"setFileType:",e),b}),new objj_method(sel_getUid("initWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(b,a,e,g,c,d,f){with(b){if(b=objj_msgSend(b,"init"))objj_msgSend(b,"setFileURL:",e),objj_msgSend(b,"setFileType:",g),objj_msgSend(b,"readFromURL:ofType:delegate:didReadSelector:contextInfo:",e,g,c,d,f);return b}}),
new objj_method(sel_getUid("initForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(b,a,e,g,c,d,f,h){with(b){if(b=objj_msgSend(b,"init"))objj_msgSend(b,"setFileURL:",e),objj_msgSend(b,"setFileType:",c),objj_msgSend(b,"readFromURL:ofType:delegate:didReadSelector:contextInfo:",g,c,d,f,h);return b}}),new objj_method(sel_getUid("dataOfType:error:"),function(b){with(b)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"dataOfType:error: must be overridden by the document subclass.")}),
new objj_method(sel_getUid("readFromData:ofType:error:"),function(b){with(b)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"readFromData:ofType: must be overridden by the document subclass.")}),new objj_method(sel_getUid("viewControllerWillLoadCib:"),function(b){with(b);}),new objj_method(sel_getUid("viewControllerDidLoadCib:"),function(b){with(b);}),new objj_method(sel_getUid("firstEligibleExistingWindowController"),function(b){with(b)return nil}),new objj_method(sel_getUid("makeWindowControllers"),
function(b){with(b)objj_msgSend(b,"makeViewAndWindowControllers")}),new objj_method(sel_getUid("makeViewAndWindowControllers"),function(b){with(b){var a=objj_msgSend(b,"viewCibName"),e=nil,g=nil;objj_msgSend(a,"length")&&(e=objj_msgSend(objj_msgSend(CPViewController,"alloc"),"initWithCibName:bundle:owner:",a,nil,b));e&&(g=objj_msgSend(b,"firstEligibleExistingWindowController"));if(!g)if(a=objj_msgSend(b,"windowCibName"),objj_msgSend(a,"length"))g=objj_msgSend(objj_msgSend(CPWindowController,"alloc"),
"initWithWindowCibName:owner:",a,b);else if(e)g=objj_msgSend(e,"view"),g=objj_msgSend(g,"frame"),g.origin=CGPointMake(50,50),g=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",g,CPTitledWindowMask|CPClosableWindowMask|CPMiniaturizableWindowMask|CPResizableWindowMask),g=objj_msgSend(objj_msgSend(CPWindowController,"alloc"),"initWithWindow:",g);g&&e&&objj_msgSend(g,"setSupportsMultipleDocuments:",YES);g&&objj_msgSend(b,"addWindowController:",g);e&&objj_msgSend(b,"addViewController:forWindowController:",
e,g)}}),new objj_method(sel_getUid("windowControllers"),function(b){with(b)return _windowControllers}),new objj_method(sel_getUid("addWindowController:"),function(b,a,e){with(b)objj_msgSend(_windowControllers,"addObject:",e),objj_msgSend(e,"document")!==b&&objj_msgSend(e,"setDocument:",b)}),new objj_method(sel_getUid("removeWindowController:"),function(b,a,e){with(b)e&&objj_msgSend(_windowControllers,"removeObject:",e),objj_msgSend(e,"document")===b&&objj_msgSend(e,"setDocument:",nil)}),new objj_method(sel_getUid("view"),
function(b){with(b)return _view}),new objj_method(sel_getUid("viewControllers"),function(b){with(b)return objj_msgSend(_viewControllersForWindowControllers,"allValues")}),new objj_method(sel_getUid("addViewController:forWindowController:"),function(b,a,e,g){with(b)objj_msgSend(_viewControllersForWindowControllers,"setObject:forKey:",e,objj_msgSend(g,"UID")),objj_msgSend(g,"document")===b&&objj_msgSend(g,"setViewController:",e)}),new objj_method(sel_getUid("removeViewController:"),function(b,a,e){with(b)objj_msgSend(_viewControllersForWindowControllers,
"removeObject:",e)}),new objj_method(sel_getUid("viewControllerForWindowController:"),function(b,a,e){with(b)return objj_msgSend(_viewControllersForWindowControllers,"objectForKey:",objj_msgSend(e,"UID"))}),new objj_method(sel_getUid("showWindows"),function(b){with(b)objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocument:"),b),objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("showWindow:"),b)}),new objj_method(sel_getUid("displayName"),
function(b){with(b){if(_fileURL)return objj_msgSend(_fileURL,"lastPathComponent");_untitledDocumentIndex||(_untitledDocumentIndex=++d);if(_untitledDocumentIndex==1)return"Untitled";return"Untitled "+_untitledDocumentIndex}}),new objj_method(sel_getUid("viewCibName"),function(b){with(b)return nil}),new objj_method(sel_getUid("windowCibName"),function(b){with(b)return nil}),new objj_method(sel_getUid("windowControllerDidLoadCib:"),function(b){with(b);}),new objj_method(sel_getUid("windowControllerWillLoadCib:"),
function(b){with(b);}),new objj_method(sel_getUid("readFromURL:ofType:delegate:didReadSelector:contextInfo:"),function(b,a,e,g,c,d,f){with(b)objj_msgSend(_readConnection,"cancel"),_readConnection=objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",objj_msgSend(CPURLRequest,"requestWithURL:",e),b),_readConnection.session={fileType:g,delegate:c,didReadSelector:d,contextInfo:f}}),new objj_method(sel_getUid("fileURL"),function(b){with(b)return _fileURL}),new objj_method(sel_getUid("setFileURL:"),
function(b,a,e){with(b){if(_fileURL===e)return;_fileURL=e;objj_msgSend(_windowControllers,"makeObjectsPerformSelector:",sel_getUid("synchronizeWindowTitleWithDocumentName"))}}),new objj_method(sel_getUid("saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:"),function(b,a,e,g,c,d,f,h){with(b)g=objj_msgSend(b,"dataOfType:error:",objj_msgSend(b,"fileType"),nil),a=_changeCount,_writeRequest=objj_msgSend(CPURLRequest,"requestWithURL:",e),objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(_writeRequest,
"setHTTPMethod:","POST"):objj_msgSend(_writeRequest,"setHTTPMethod:","PUT"),objj_msgSend(_writeRequest,"setHTTPBody:",objj_msgSend(g,"rawString")),objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","close","Connection"),c===CPSaveOperation&&objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","true","x-cappuccino-overwrite"),c!==CPSaveToOperation&&objj_msgSend(b,"updateChangeCount:",CPChangeCleared),b=objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",_writeRequest,b),b.session=
{absoluteURL:e,saveOperation:c,changeCount:a,delegate:d,didSaveSelector:f,contextInfo:h,connection:b}}),new objj_method(sel_getUid("connection:didReceiveResponse:"),function(b,a,e,g){with(b){if(!objj_msgSend(g,"isKindOfClass:",objj_msgSend(CPHTTPURLResponse,"class")))return;a=objj_msgSend(g,"statusCode");if(a===200)return;g=e.session;e==_readConnection?(objj_msgSend(e,"cancel"),alert("There was an error retrieving the document."),objj_msgSend(g.delegate,g.didReadSelector,b,NO,g.contextInfo)):a==409&&
(objj_msgSend(e,"cancel"),confirm("There already exists a file with that name, would you like to overwrite it?")?(objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","true","x-cappuccino-overwrite"),objj_msgSend(e,"start")):(g.saveOperation!=CPSaveToOperation&&(_changeCount+=g.changeCount,objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(b,"isDocumentEdited"))),_writeRequest=nil,objj_msgSend(g.delegate,g.didSaveSelector,b,
NO,g.contextInfo),objj_msgSend(b,"_sendDocumentSavedNotification:",NO)))}}),new objj_method(sel_getUid("connection:didReceiveData:"),function(b,a,e,g){with(b)a=e.session,e==_readConnection?(objj_msgSend(b,"readFromData:ofType:error:",objj_msgSend(CPData,"dataWithRawString:",g),a.fileType,nil),objj_msgSend(a.delegate,a.didReadSelector,b,YES,a.contextInfo)):(a.saveOperation!=CPSaveToOperation&&objj_msgSend(b,"setFileURL:",a.absoluteURL),_writeRequest=nil,objj_msgSend(a.delegate,a.didSaveSelector,b,
YES,a.contextInfo),objj_msgSend(b,"_sendDocumentSavedNotification:",YES))}),new objj_method(sel_getUid("connection:didFailWithError:"),function(b,a,e){with(b)a=e.session,_readConnection==e?objj_msgSend(a.delegate,a.didReadSelector,b,NO,a.contextInfo):(a.saveOperation!=CPSaveToOperation&&(_changeCount+=a.changeCount,objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(b,"isDocumentEdited"))),_writeRequest=nil,alert("There was an error saving the document."),
objj_msgSend(a.delegate,a.didSaveSelector,b,NO,a.contextInfo),objj_msgSend(b,"_sendDocumentSavedNotification:",NO))}),new objj_method(sel_getUid("connectionDidFinishLoading:"),function(b,a,e){with(b)_readConnection==e&&(_readConnection=nil)}),new objj_method(sel_getUid("isDocumentEdited"),function(b){with(b)return _changeCount!=0}),new objj_method(sel_getUid("updateChangeCount:"),function(b,a,e){with(b)e==CPChangeDone?++_changeCount:e==CPChangeUndone?--_changeCount:e==CPChangeCleared&&(_changeCount=
0),objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(b,"isDocumentEdited"))}),new objj_method(sel_getUid("setFileType:"),function(b,a,e){with(b)_fileType=e}),new objj_method(sel_getUid("fileType"),function(b){with(b)return _fileType}),new objj_method(sel_getUid("hasUndoManager"),function(b){with(b)return _hasUndoManager}),new objj_method(sel_getUid("setHasUndoManager:"),function(b,a,e){with(b){if(_hasUndoManager==e)return;(_hasUndoManager=
e)||objj_msgSend(b,"setUndoManager:",nil)}}),new objj_method(sel_getUid("_undoManagerWillCloseGroup:"),function(b,a,e){with(b){a=objj_msgSend(e,"object");if(objj_msgSend(a,"isUndoing")||objj_msgSend(a,"isRedoing"))return;objj_msgSend(b,"updateChangeCount:",CPChangeDone)}}),new objj_method(sel_getUid("_undoManagerDidUndoChange:"),function(b){with(b)objj_msgSend(b,"updateChangeCount:",CPChangeUndone)}),new objj_method(sel_getUid("_undoManagerDidRedoChange:"),function(b){with(b)objj_msgSend(b,"updateChangeCount:",
CPChangeDone)}),new objj_method(sel_getUid("setUndoManager:"),function(b,a,e){with(b)if(a=objj_msgSend(CPNotificationCenter,"defaultCenter"),_undoManager&&(objj_msgSend(a,"removeObserver:name:object:",b,CPUndoManagerDidUndoChangeNotification,_undoManager),objj_msgSend(a,"removeObserver:name:object:",b,CPUndoManagerDidRedoChangeNotification,_undoManager),objj_msgSend(a,"removeObserver:name:object:",b,CPUndoManagerWillCloseUndoGroupNotification,_undoManager)),_undoManager=e)objj_msgSend(a,"addObserver:selector:name:object:",
b,sel_getUid("_undoManagerDidUndoChange:"),CPUndoManagerDidUndoChangeNotification,_undoManager),objj_msgSend(a,"addObserver:selector:name:object:",b,sel_getUid("_undoManagerDidRedoChange:"),CPUndoManagerDidRedoChangeNotification,_undoManager),objj_msgSend(a,"addObserver:selector:name:object:",b,sel_getUid("_undoManagerWillCloseGroup:"),CPUndoManagerWillCloseUndoGroupNotification,_undoManager)}),new objj_method(sel_getUid("undoManager"),function(b){with(b)return _hasUndoManager&&!_undoManager&&objj_msgSend(b,
"setUndoManager:",objj_msgSend(objj_msgSend(CPUndoManager,"alloc"),"init")),_undoManager}),new objj_method(sel_getUid("windowWillReturnUndoManager:"),function(b){with(b)return objj_msgSend(b,"undoManager")}),new objj_method(sel_getUid("saveDocument:"),function(b){with(b)objj_msgSend(b,"saveDocumentWithDelegate:didSaveSelector:contextInfo:",nil,nil,nil)}),new objj_method(sel_getUid("saveDocumentWithDelegate:didSaveSelector:contextInfo:"),function(b,a,e,g,c){with(b)_fileURL?(objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPDocumentWillSaveNotification,b),objj_msgSend(b,"saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:",_fileURL,objj_msgSend(b,"fileType"),CPSaveOperation,e,g,c)):objj_msgSend(b,"_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:",e,g,c)}),new objj_method(sel_getUid("saveDocumentAs:"),function(b){with(b)objj_msgSend(b,"_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:",nil,nil,nil)}),new objj_method(sel_getUid("_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:"),
function(b,a,e,g,c){with(b){a=objj_msgSend(CPSavePanel,"savePanel");if(!objj_msgSend(a,"runModal"))return;a=objj_msgSend(a,"URL");objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPDocumentWillSaveNotification,b);objj_msgSend(b,"saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:",a,objj_msgSend(b,"fileType"),CPSaveAsOperation,e,g,c)}}),new objj_method(sel_getUid("_sendDocumentSavedNotification:"),function(b,a,e){with(b)e?objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPDocumentDidSaveNotification,b):objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPDocumentDidFailToSaveNotification,b)})]);c=objj_getClass("CPDocument");if(!c)throw new SyntaxError('*** Could not find definition for class "CPDocument"');class_addMethods(c,[new objj_method(sel_getUid("close"),function(b){with(b)objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("removeDocumentAndCloseIfNecessary:"),
b),objj_msgSend(objj_msgSend(CPDocumentController,"sharedDocumentController"),"removeDocument:",b)}),new objj_method(sel_getUid("shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:"),function(b,a,e,g,c,d){with(b)objj_msgSend(e,"shouldCloseDocument")||objj_msgSend(_windowControllers,"count")<2&&objj_msgSend(_windowControllers,"indexOfObject:",e)!==CPNotFound?objj_msgSend(b,"canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:",b,sel_getUid("_document:shouldClose:context:"),
{delegate:g,selector:c,context:d}):objj_msgSend(g,"respondsToSelector:",c)&&objj_msgSend(g,c,b,YES,d)}),new objj_method(sel_getUid("_document:shouldClose:context:"),function(b,a,e,g,c){with(b)e===b&&g&&objj_msgSend(b,"close"),objj_msgSend(c.delegate,c.selector,e,g,c.context)}),new objj_method(sel_getUid("canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:"),function(b,a,e,g,c){with(b){if(!objj_msgSend(b,"isDocumentEdited"))return objj_msgSend(e,"respondsToSelector:",g)&&objj_msgSend(e,g,
b,YES,c);_canCloseAlert=objj_msgSend(objj_msgSend(CPAlert,"alloc"),"init");objj_msgSend(_canCloseAlert,"setDelegate:",b);objj_msgSend(_canCloseAlert,"setAlertStyle:",CPWarningAlertStyle);objj_msgSend(_canCloseAlert,"setTitle:","Unsaved Document");objj_msgSend(_canCloseAlert,"setMessageText:","Do you want to save the changes you've made to the document \""+(objj_msgSend(b,"displayName")||objj_msgSend(b,"fileName"))+'"?');objj_msgSend(_canCloseAlert,"addButtonWithTitle:","Save");objj_msgSend(_canCloseAlert,
"addButtonWithTitle:","Cancel");objj_msgSend(_canCloseAlert,"addButtonWithTitle:","Don't Save");_canCloseAlert._context={delegate:e,selector:g,context:c};objj_msgSend(_canCloseAlert,"runModal")}}),new objj_method(sel_getUid("alertDidEnd:returnCode:"),function(b,a,e,g){with(b){if(e!==_canCloseAlert)return;a=e._context.delegate;var c=e._context.selector;e=e._context.context;g===0?objj_msgSend(b,"saveDocumentWithDelegate:didSaveSelector:contextInfo:",a,c,e):objj_msgSend(a,c,b,g===2,e);_canCloseAlert=
nil}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPMenuItem.j",baseURL),function(h,f){f("Foundation/CPCoder.j",NO);f("Foundation/CPObject.j",NO);f("Foundation/CPString.j",NO);f("CPImage.j",YES);f("CPMenu.j",YES);f("CPView.j",YES);f("_CPMenuItemView.j",YES);var d=objj_allocateClassPair(CPObject,"CPMenuItem"),c=d.isa;class_addIvars(d,[new objj_ivar("_isSeparator"),new objj_ivar("_title"),new objj_ivar("_font"),new objj_ivar("_target"),new objj_ivar("_action"),new objj_ivar("_isEnabled"),new objj_ivar("_isHidden"),
new objj_ivar("_tag"),new objj_ivar("_state"),new objj_ivar("_image"),new objj_ivar("_alternateImage"),new objj_ivar("_onStateImage"),new objj_ivar("_offStateImage"),new objj_ivar("_mixedStateImage"),new objj_ivar("_submenu"),new objj_ivar("_menu"),new objj_ivar("_keyEquivalent"),new objj_ivar("_keyEquivalentModifierMask"),new objj_ivar("_mnemonicLocation"),new objj_ivar("_isAlternate"),new objj_ivar("_indentationLevel"),new objj_ivar("_toolTip"),new objj_ivar("_representedObject"),new objj_ivar("_view"),
new objj_ivar("_changeCount"),new objj_ivar("_menuItemView")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("init"),function(b){with(b)return objj_msgSend(b,"initWithTitle:action:keyEquivalent:","",nil,nil)}),new objj_method(sel_getUid("initWithTitle:action:keyEquivalent:"),function(b,a,e,g,c){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPMenuItem").super_class},"init"))_changeCount=0,_isSeparator=NO,_title=e,_action=g,_isEnabled=YES,_isHidden=
NO,_tag=0,_state=CPOffState,_keyEquivalent=c||"",_keyEquivalentModifierMask=CPPlatformActionKeyMask,_indentationLevel=0,_mnemonicLocation=CPNotFound;return b}}),new objj_method(sel_getUid("setEnabled:"),function(b,a,e){with(b){if(objj_msgSend(_menu,"autoenablesItems"))return;_isEnabled=e;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("isEnabled"),function(b){with(b)return _isEnabled}),new objj_method(sel_getUid("setHidden:"),function(b,a,
e){with(b){if(_isHidden==e)return;_isHidden=e;objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("isHidden"),function(b){with(b)return _isHidden}),new objj_method(sel_getUid("isHiddenOrHasHiddenAncestor"),function(b){with(b){if(_isHidden)return YES;b=objj_msgSend(_menu,"supermenu");if(objj_msgSend(objj_msgSend(b,"itemAtIndex:",objj_msgSend(b,"indexOfItemWithSubmenu:",_menu)),"isHiddenOrHasHiddenAncestor"))return YES;return NO}}),new objj_method(sel_getUid("setTarget:"),function(b,
a,e){with(b)_target=e}),new objj_method(sel_getUid("target"),function(b){with(b)return _target}),new objj_method(sel_getUid("setAction:"),function(b,a,e){with(b)_action=e}),new objj_method(sel_getUid("action"),function(b){with(b)return _action}),new objj_method(sel_getUid("setTitle:"),function(b,a,e){with(b){_mnemonicLocation=CPNotFound;if(_title==e)return;_title=e;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("title"),function(b){with(b)return _title}),
new objj_method(sel_getUid("setTextColor:"),function(b){with(b);}),new objj_method(sel_getUid("setFont:"),function(b,a,e){with(b){if(_font==e)return;_font=e;objj_msgSend(_menu,"itemChanged:",b);objj_msgSend(_menuItemView,"setDirty")}}),new objj_method(sel_getUid("font"),function(b){with(b)return _font}),new objj_method(sel_getUid("setTag:"),function(b,a,e){with(b)_tag=e}),new objj_method(sel_getUid("tag"),function(b){with(b)return _tag}),new objj_method(sel_getUid("setState:"),function(b,a,e){with(b){if(_state==
e)return;_state=e;objj_msgSend(_menu,"itemChanged:",b);objj_msgSend(_menuItemView,"setDirty")}}),new objj_method(sel_getUid("state"),function(b){with(b)return _state}),new objj_method(sel_getUid("setImage:"),function(b,a,e){with(b){if(_image==e)return;_image=e;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("image"),function(b){with(b)return _image}),new objj_method(sel_getUid("setAlternateImage:"),function(b,a,e){with(b)_alternateImage=e}),
new objj_method(sel_getUid("alternateImage"),function(b){with(b)return _alternateImage}),new objj_method(sel_getUid("setOnStateImage:"),function(b,a,e){with(b){if(_onStateImage==e)return;_onStateImage=e;objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("onStateImage"),function(b){with(b)return _onStateImage}),new objj_method(sel_getUid("setOffStateImage:"),function(b,a,e){with(b){if(_offStateImage==e)return;_offStateImage=e;objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("offStateImage"),
function(b){with(b)return _offStateImage}),new objj_method(sel_getUid("setMixedStateImage:"),function(b,a,e){with(b){if(_mixedStateImage==e)return;_mixedStateImage=e;objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("mixedStateImage"),function(b){with(b)return _mixedStateImage}),new objj_method(sel_getUid("setSubmenu:"),function(b,a,e){with(b){if(_submenu===e)return;objj_msgSend(_submenu,"supermenu")&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Can't add submenu \""+
objj_msgSend(e,"title")+'" to item "'+objj_msgSend(b,"title")+'", because it is already submenu of "'+objj_msgSend(objj_msgSend(e,"supermenu"),"title")+'"');(_submenu=e)?(objj_msgSend(_submenu,"setSupermenu:",_menu),objj_msgSend(b,"setTarget:",_menu),objj_msgSend(b,"setAction:",sel_getUid("submenuAction:"))):(objj_msgSend(b,"setTarget:",nil),objj_msgSend(b,"setAction:",NULL));objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("submenu"),function(b){with(b)return _submenu}),
new objj_method(sel_getUid("hasSubmenu"),function(b){with(b)return _submenu?YES:NO}),new objj_method(sel_getUid("isSeparatorItem"),function(b){with(b)return _isSeparator}),new objj_method(sel_getUid("setMenu:"),function(b,a,e){with(b)_menu=e}),new objj_method(sel_getUid("menu"),function(b){with(b)return _menu}),new objj_method(sel_getUid("setKeyEquivalent:"),function(b,a,e){with(b)_keyEquivalent=e||""}),new objj_method(sel_getUid("keyEquivalent"),function(b){with(b)return _keyEquivalent}),new objj_method(sel_getUid("setKeyEquivalentModifierMask:"),
function(b,a,e){with(b)_keyEquivalentModifierMask=e}),new objj_method(sel_getUid("keyEquivalentModifierMask"),function(b){with(b)return _keyEquivalentModifierMask}),new objj_method(sel_getUid("keyEquivalentStringRepresentation"),function(b){with(b){if(!objj_msgSend(_keyEquivalent,"length"))return"";b=_keyEquivalent.toUpperCase();var a=_keyEquivalentModifierMask&CPShiftKeyMask||b===_keyEquivalent&&_keyEquivalent.toLowerCase()!==_keyEquivalent.toUpperCase();if(CPBrowserIsOperatingSystem(CPMacOperatingSystem))_keyEquivalentModifierMask&
CPCommandKeyMask&&(b="⌘"+b),a&&(b="⇧"+b),_keyEquivalentModifierMask&CPAlternateKeyMask&&(b="⌥"+b),_keyEquivalentModifierMask&CPControlKeyMask&&(b="^"+b);else if(a&&(b="Shift-"+b),_keyEquivalentModifierMask&CPAlternateKeyMask&&(b="Alt-"+b),_keyEquivalentModifierMask&CPControlKeyMask||_keyEquivalentModifierMask&CPCommandKeyMask)b="Ctrl-"+b;return b}}),new objj_method(sel_getUid("setMnemonicLocation:"),function(b,a,e){with(b)_mnemonicLocation=e}),new objj_method(sel_getUid("mnemonicLocation"),function(b){with(b)return _mnemonicLocation}),
new objj_method(sel_getUid("setTitleWithMnemonicLocation:"),function(b,a,e){with(b)a=objj_msgSend(e,"rangeOfString:","&").location,a==CPNotFound?objj_msgSend(b,"setTitle:",e):(objj_msgSend(b,"setTitle:",objj_msgSend(e,"substringToIndex:",a)+objj_msgSend(e,"substringFromIndex:",a+1)),objj_msgSend(b,"setMnemonicLocation:",a))}),new objj_method(sel_getUid("mnemonic"),function(b){with(b)return _mnemonicLocation==CPNotFound?"":objj_msgSend(_title,"characterAtIndex:",_mnemonicLocation)}),new objj_method(sel_getUid("setAlternate:"),
function(b,a,e){with(b)_isAlternate=e}),new objj_method(sel_getUid("isAlternate"),function(b){with(b)return _isAlternate}),new objj_method(sel_getUid("setIndentationLevel:"),function(b,a,e){with(b)e<0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"setIndentationLevel: argument must be greater than or equal to 0."),_indentationLevel=MIN(15,e)}),new objj_method(sel_getUid("indentationLevel"),function(b){with(b)return _indentationLevel}),new objj_method(sel_getUid("setToolTip:"),
function(b,a,e){with(b)_toolTip=e}),new objj_method(sel_getUid("toolTip"),function(b){with(b)return _toolTip}),new objj_method(sel_getUid("setRepresentedObject:"),function(b,a,e){with(b)_representedObject=e}),new objj_method(sel_getUid("representedObject"),function(b){with(b)return _representedObject}),new objj_method(sel_getUid("setView:"),function(b,a,e){with(b){if(_view===e)return;_view=e;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("view"),
function(b){with(b)return _view}),new objj_method(sel_getUid("isHighlighted"),function(b){with(b)return objj_msgSend(objj_msgSend(b,"menu"),"highlightedItem")==b}),new objj_method(sel_getUid("copy"),function(b){with(b)return b=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"init"),b._isSeparator=_isSeparator,objj_msgSend(b,"setTitle:",_title),objj_msgSend(b,"setFont:",_font),objj_msgSend(b,"setTarget:",_target),objj_msgSend(b,"setAction:",_action),objj_msgSend(b,"setEnabled:",_isEnabled),objj_msgSend(b,
"setHidden:",_isHidden),objj_msgSend(b,"setTag:",_tag),objj_msgSend(b,"setState:",_state),objj_msgSend(b,"setImage:",_image),objj_msgSend(b,"setAlternateImage:",_alternateImage),objj_msgSend(b,"setOnStateImage:",_onStateImage),objj_msgSend(b,"setOffStateImage:",_offStateImage),objj_msgSend(b,"setMixedStateImage:",_mixedStateImage),objj_msgSend(b,"setKeyEquivalent:",_keyEquivalent),objj_msgSend(b,"setKeyEquivalentModifierMask:",_keyEquivalentModifierMask),objj_msgSend(b,"setMnemonicLocation:",_mnemonicLocation),
objj_msgSend(b,"setAlternate:",_isAlternate),objj_msgSend(b,"setIndentationLevel:",_indentationLevel),objj_msgSend(b,"setToolTip:",_toolTip),objj_msgSend(b,"setRepresentedObject:",_representedObject),b}),new objj_method(sel_getUid("mutableCopy"),function(b){with(b)return objj_msgSend(b,"copy")}),new objj_method(sel_getUid("_menuItemView"),function(b){with(b)return _menuItemView||(_menuItemView=objj_msgSend(objj_msgSend(_CPMenuItemView,"alloc"),"initWithFrame:forMenuItem:",CGRectMakeZero(),b)),_menuItemView}),
new objj_method(sel_getUid("_isSelectable"),function(b){with(b)return!objj_msgSend(b,"submenu")||objj_msgSend(b,"action")!==sel_getUid("submenuAction:")||objj_msgSend(b,"target")!==objj_msgSend(b,"menu")}),new objj_method(sel_getUid("_isMenuBarButton"),function(b){with(b)return!objj_msgSend(b,"submenu")&&objj_msgSend(b,"menu")===objj_msgSend(CPApp,"mainMenu")})]);class_addMethods(c,[new objj_method(sel_getUid("separatorItem"),function(b){with(b)return b=objj_msgSend(objj_msgSend(b,"alloc"),"initWithTitle:action:keyEquivalent:",
"",nil,nil),b._isSeparator=YES,b})]);d=objj_getClass("CPMenuItem");if(!d)throw new SyntaxError('*** Could not find definition for class "CPMenuItem"');c=d.isa;class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(b,a,e){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPMenuItem").super_class},"init"))_changeCount=0,_isSeparator=objj_msgSend(e,"containsValueForKey:","CPMenuItemIsSeparatorKey")&&objj_msgSend(e,"decodeBoolForKey:","CPMenuItemIsSeparatorKey"),
_title=objj_msgSend(e,"decodeObjectForKey:","CPMenuItemTitleKey"),_target=objj_msgSend(e,"decodeObjectForKey:","CPMenuItemTargetKey"),_action=objj_msgSend(e,"decodeObjectForKey:","CPMenuItemActionKey"),_isEnabled=objj_msgSend(e,"containsValueForKey:","CPMenuItemIsEnabledKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemIsEnabledKey"):YES,_isHidden=objj_msgSend(e,"containsValueForKey:","CPMenuItemIsHiddenKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemIsHiddenKey"):NO,_tag=objj_msgSend(e,
"containsValueForKey:","CPMenuItemTagKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemTagKey"):0,_state=objj_msgSend(e,"containsValueForKey:","CPMenuItemStateKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemStateKey"):CPOffState,_image=objj_msgSend(e,"containsValueForKey:","CPMenuItemImageKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemImageKey"):nil,_alternateImage=objj_msgSend(e,"containsValueForKey:","CPMenuItemAlternateImageKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemAlternateImageKey"):
nil,_menu=objj_msgSend(e,"containsValueForKey:","CPMenuItemMenuKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemMenuKey"):nil,objj_msgSend(b,"setSubmenu:",objj_msgSend(e,"containsValueForKey:","CPMenuItemSubmenuKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemSubmenuKey"):nil),_keyEquivalent=objj_msgSend(e,"decodeObjectForKey:","CPMenuItemKeyEquivalentKey")||"",_keyEquivalentModifierMask=objj_msgSend(e,"decodeObjectForKey:","CPMenuItemKeyEquivalentModifierMaskKey")||0,objj_msgSend(b,"setIndentationLevel:",
objj_msgSend(e,"decodeIntForKey:","CPMenuItemIndentationLevelKey")||0),_representedObject=objj_msgSend(e,"containsValueForKey:","CPMenuItemRepresentedObjectKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemRepresentedObjectKey"):nil,_view=objj_msgSend(e,"containsValueForKey:","CPMenuItemViewKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemViewKey"):nil;return b}}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,a,e){with(b)_isSeparator&&objj_msgSend(e,"encodeBool:forKey:",_isSeparator,
"CPMenuItemIsSeparatorKey"),objj_msgSend(e,"encodeObject:forKey:",_title,"CPMenuItemTitleKey"),objj_msgSend(e,"encodeObject:forKey:",_target,"CPMenuItemTargetKey"),objj_msgSend(e,"encodeObject:forKey:",_action,"CPMenuItemActionKey"),_isEnabled!==YES&&objj_msgSend(e,"encodeObject:forKey:",_isEnabled,"CPMenuItemIsEnabledKey"),_isHidden!==NO&&objj_msgSend(e,"encodeObject:forKey:",_isHidden,"CPMenuItemIsHiddenKey"),_tag!==0&&objj_msgSend(e,"encodeObject:forKey:",_tag,"CPMenuItemTagKey"),_state!==CPOffState&&
objj_msgSend(e,"encodeObject:forKey:",_state,"CPMenuItemStateKey"),_image!==nil&&objj_msgSend(e,"encodeObject:forKey:",_image,"CPMenuItemImageKey"),_alternateImage!==nil&&objj_msgSend(e,"encodeObject:forKey:",_alternateImage,"CPMenuItemAlternateImageKey"),_submenu!==nil&&objj_msgSend(e,"encodeObject:forKey:",_submenu,"CPMenuItemSubmenuKey"),_menu!==nil&&objj_msgSend(e,"encodeObject:forKey:",_menu,"CPMenuItemMenuKey"),_keyEquivalent&&_keyEquivalent.length&&objj_msgSend(e,"encodeObject:forKey:",_keyEquivalent,
"CPMenuItemKeyEquivalentKey"),_keyEquivalentModifierMask&&objj_msgSend(e,"encodeObject:forKey:",_keyEquivalentModifierMask,"CPMenuItemKeyEquivalentModifierMaskKey"),_indentationLevel>0&&objj_msgSend(e,"encodeInt:forKey:",_indentationLevel,"CPMenuItemIndentationLevelKey"),_representedObject!==nil&&objj_msgSend(e,"encodeObject:forKey:",_representedObject,"CPMenuItemRepresentedObjectKey"),_view!==nil&&objj_msgSend(e,"encodeObject:forKey:",_view,"CPMenuItemViewKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuWindow.j",baseURL),function(h,f){f("CPWindow.j",YES);var d=[],c=[];_CPMenuWindowMenuBarBackgroundStyle=0;_CPMenuWindowPopUpBackgroundStyle=1;_CPMenuWindowAttachedMenuBackgroundStyle=2;var b=objj_allocateClassPair(CPWindow,"_CPMenuWindow"),a=b.isa;class_addIvars(b,[new objj_ivar("_menuView"),new objj_ivar("_menuClipView"),new objj_ivar("_moreAboveView"),new objj_ivar("_moreBelowView"),new objj_ivar("_unconstrainedFrame"),
new objj_ivar("_constraintRect")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("initWithContentRect:styleMask:"),function(a,b,c){with(a){_constraintRect={origin:{x:0,y:0},size:{width:0,height:0}};_unconstrainedFrame={origin:{x:0,y:0},size:{width:0,height:0}};if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"initWithContentRect:styleMask:",c,CPBorderlessWindowMask))objj_msgSend(a,"setLevel:",CPPopUpMenuWindowLevel),objj_msgSend(a,
"setHasShadow:",YES),objj_msgSend(a,"setShadowStyle:",CPMenuWindowShadowStyle),objj_msgSend(a,"setAcceptsMouseMovedEvents:",YES),b=objj_msgSend(a,"contentView"),_menuView=objj_msgSend(objj_msgSend(_CPMenuView,"alloc"),"initWithFrame:",CGRectMakeZero()),_menuClipView=objj_msgSend(objj_msgSend(CPClipView,"alloc"),"initWithFrame:",CGRectMake(1,5,0,0)),objj_msgSend(_menuClipView,"setDocumentView:",_menuView),objj_msgSend(b,"addSubview:",_menuClipView),_moreAboveView=objj_msgSend(objj_msgSend(CPImageView,
"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_moreAboveView,"setImage:",_CPMenuWindowMoreAboveImage),objj_msgSend(_moreAboveView,"setFrameSize:",objj_msgSend(_CPMenuWindowMoreAboveImage,"size")),objj_msgSend(b,"addSubview:",_moreAboveView),_moreBelowView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_moreBelowView,"setImage:",_CPMenuWindowMoreBelowImage),objj_msgSend(_moreBelowView,"setFrameSize:",objj_msgSend(_CPMenuWindowMoreBelowImage,
"size")),objj_msgSend(b,"addSubview:",_moreBelowView),objj_msgSend(a,"setShadowStyle:",CPWindowShadowStyleMenu);return a}}),new objj_method(sel_getUid("setFont:"),function(a,b,c){with(a)objj_msgSend(_menuView,"setFont:",c)}),new objj_method(sel_getUid("font"),function(a){with(a)return objj_msgSend(_menuView,"font")}),new objj_method(sel_getUid("setBackgroundStyle:"),function(a,b,c){with(a)objj_msgSend(a,"setBackgroundColor:",objj_msgSend(objj_msgSend(a,"class"),"backgroundColorForBackgroundStyle:",
c))}),new objj_method(sel_getUid("setMenu:"),function(a,b,c){with(a)objj_msgSend(c,"_setMenuWindow:",a),objj_msgSend(_menuView,"setMenu:",c),b=objj_msgSend(_menuView,"frame").size,objj_msgSend(a,"setFrameSize:",CGSizeMake(1+b.width+1,5+b.height+5)),objj_msgSend(_menuView,"scrollPoint:",CGPointMake(0,0)),objj_msgSend(_menuClipView,"setFrame:",CGRectMake(1,5,b.width,b.height))}),new objj_method(sel_getUid("setMinWidth:"),function(a,b,c){with(a)b=objj_msgSend(a,"unconstrainedFrame").size,objj_msgSend(a,
"setFrameSize:",CGSizeMake(MAX(b.width,c),b.height))}),new objj_method(sel_getUid("menu"),function(a){with(a)return objj_msgSend(_menuView,"menu")}),new objj_method(sel_getUid("orderFront:"),function(a,b,c){with(a)objj_msgSend(a,"setFrame:",_unconstrainedFrame),objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"orderFront:",c)}),new objj_method(sel_getUid("setConstraintRect:"),function(a,b,c){with(a)_constraintRect=c,objj_msgSend(a,"setFrame:",_unconstrainedFrame)}),
new objj_method(sel_getUid("unconstrainedFrame"),function(a){with(a)return{origin:{x:_unconstrainedFrame.origin.x,y:_unconstrainedFrame.origin.y},size:{width:_unconstrainedFrame.size.width,height:_unconstrainedFrame.size.height}}}),new objj_method(sel_getUid("setFrameOrigin:"),function(a,b,c){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"setFrame:",{origin:{x:c.x,y:c.y},size:{width:_unconstrainedFrame.size.width,height:_unconstrainedFrame.size.height}})}),
new objj_method(sel_getUid("setFrameSize:"),function(a,b,c){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"setFrame:",{origin:{x:_unconstrainedFrame.origin.x,y:_unconstrainedFrame.origin.y},size:{width:c.width,height:c.height}})}),new objj_method(sel_getUid("setFrame:display:animate:"),function(a,b,c,d,f){with(a){_unconstrainedFrame={origin:{x:c.origin.x,y:c.origin.y},size:{width:c.size.width,height:c.size.height}};b=CGRectIntersection(_unconstrainedFrame,
_constraintRect);b.origin.x=CGRectGetMinX(_unconstrainedFrame);b.size.width=CGRectGetWidth(_unconstrainedFrame);if(CGRectGetWidth(b)>CGRectGetWidth(_constraintRect))b.size.width=CGRectGetWidth(_constraintRect);CGRectGetMaxX(b)>CGRectGetMaxX(_constraintRect)&&(b.origin.x-=CGRectGetMaxX(b)-CGRectGetMaxX(_constraintRect));if(CGRectGetMinX(b)<CGRectGetMinX(_constraintRect))b.origin.x=CGRectGetMinX(_constraintRect);objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"setFrame:display:animate:",
b,d,f);c=CGPointMake(CGRectGetMinX(c)+1,CGRectGetMinY(c)+5);var h=c.y<CGRectGetMinY(b)+5,o=c.y+CGRectGetHeight(objj_msgSend(_menuView,"frame"))>CGRectGetMaxY(b)-5;f=d=5;var l=objj_msgSend(a,"contentView");l=objj_msgSend(l,"bounds");if(h){d+=16;var k=objj_msgSend(_moreAboveView,"frame");objj_msgSend(_moreAboveView,"setFrameOrigin:",CGPointMake((CGRectGetWidth(l)-CGRectGetWidth(k))/2,(21-CGRectGetHeight(k))/2))}objj_msgSend(_moreAboveView,"setHidden:",!h);o&&(f+=16,objj_msgSend(_moreBelowView,"setFrameOrigin:",
CGPointMake((CGRectGetWidth(l)-CGRectGetWidth(objj_msgSend(_moreBelowView,"frame")))/2,CGRectGetHeight(l)-16-5)));objj_msgSend(_moreBelowView,"setHidden:",!o);h=CGRectMakeZero();h.origin.x=1;h.origin.y=d;h.size.width=CGRectGetWidth(b)-1-1;h.size.height=CGRectGetHeight(b)-d-f;objj_msgSend(_menuClipView,"setFrame:",h);objj_msgSend(_menuView,"setFrameSize:",CGSizeMake(CGRectGetWidth(h),CGRectGetHeight(objj_msgSend(_menuView,"frame"))));objj_msgSend(_menuView,"scrollPoint:",CGPointMake(0,objj_msgSend(a,
"convertBaseToGlobal:",h.origin).y-c.y))}}),new objj_method(sel_getUid("hasMinimumNumberOfVisibleItems"),function(a){with(a){a=objj_msgSend(_menuView,"visibleRect");if(CGRectIsEmpty(a))return NO;for(var b=objj_msgSend(_menuView,"numberOfUnhiddenItems"),c=MIN(b,3),d=0,f=objj_msgSend(_menuView,"itemIndexAtPoint:",objj_msgSend(_menuView,"convertPoint:fromView:",objj_msgSend(_menuClipView,"frame").origin,nil));f<b&&d<c;++f){var h=objj_msgSend(_menuView,"rectForUnhiddenItemAtIndex:",f),o=CGRectIntersection(a,
h);if(CGRectIsEmpty(o))break;CGRectEqualToRect(o,h)&&++d}return d>=c}}),new objj_method(sel_getUid("canScrollUp"),function(a){with(a)return!objj_msgSend(_moreAboveView,"isHidden")}),new objj_method(sel_getUid("canScrollDown"),function(a){with(a)return!objj_msgSend(_moreBelowView,"isHidden")}),new objj_method(sel_getUid("canScroll"),function(a){with(a)return objj_msgSend(a,"canScrollUp")||objj_msgSend(a,"canScrollDown")}),new objj_method(sel_getUid("scrollByDelta:"),function(a,b,c){with(a){if(c===
0)return;if(c>0&&!objj_msgSend(a,"canScrollDown"))return;if(c<0&&!objj_msgSend(a,"canScrollUp"))return;_unconstrainedFrame.origin.y-=c;objj_msgSend(a,"setFrame:",_unconstrainedFrame)}}),new objj_method(sel_getUid("scrollUp"),function(a){with(a)objj_msgSend(a,"scrollByDelta:",-10)}),new objj_method(sel_getUid("scrollDown"),function(a){with(a)objj_msgSend(a,"scrollByDelta:",10)})]);class_addMethods(a,[new objj_method(sel_getUid("menuWindowWithMenu:font:"),function(a,b,c,p){with(a)return a=nil,d.length?
(a=d.pop(),objj_msgSend(a,"setFrameOrigin:",CGPointMakeZero())):a=objj_msgSend(objj_msgSend(_CPMenuWindow,"alloc"),"init"),objj_msgSend(a,"setFont:",p),objj_msgSend(a,"setMenu:",c),objj_msgSend(a,"setMinWidth:",objj_msgSend(c,"minimumWidth")),a}),new objj_method(sel_getUid("poolMenuWindow:"),function(a,b,c){with(a){if(!c||d.length>=5)return;d.push(c)}}),new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(_CPMenuWindow,"class"))return;a=objj_msgSend(CPBundle,"bundleForClass:",
a);_CPMenuWindowMoreAboveImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowMoreAbove.png"),CGSizeMake(38,18));_CPMenuWindowMoreBelowImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowMoreBelow.png"),CGSizeMake(38,18))}}),new objj_method(sel_getUid("_standardLeftMargin"),function(a){with(a)return 1}),new objj_method(sel_getUid("backgroundColorForBackgroundStyle:"),
function(a,b,d){with(a)return b=c[d],b||(a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(a,"class")),d==_CPMenuWindowPopUpBackgroundStyle?b=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded0.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow1.png"),CGSizeMake(1,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded2.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow3.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,
"pathForResource:","_CPMenuWindow/_CPMenuWindow4.png"),CGSizeMake(1,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow5.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded6.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:",
"_CPMenuWindow/_CPMenuWindow7.png"),CGSizeMake(1,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded8.png"),CGSizeMake(4,4))])):d==_CPMenuWindowMenuBarBackgroundStyle&&(b=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow3.png"),
CGSizeMake(4,0)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow4.png"),CGSizeMake(1,0)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow5.png"),CGSizeMake(4,0)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow3.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow4.png"),CGSizeMake(1,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow5.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded6.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow7.png"),CGSizeMake(1,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded8.png"),CGSizeMake(4,4))]))),c[d]=b),b})]);b=objj_getClass("_CPMenuWindow");if(!b)throw new SyntaxError('*** Could not find definition for class "_CPMenuWindow"');a=b.isa;class_addMethods(b,[new objj_method(sel_getUid("globalFrame"),function(a){with(a)return objj_msgSend(a,
"frame")}),new objj_method(sel_getUid("isMenuBar"),function(a){with(a)return NO}),new objj_method(sel_getUid("scrollingStateForPoint:"),function(a,b,c){with(a){b=objj_msgSend(a,"frame");if(!CPRectContainsPoint(b,c)||!objj_msgSend(a,"canScroll"))return _CPMenuManagerScrollingStateNone;if(c.y<CGRectGetMinY(b)+5+16&&!objj_msgSend(_moreAboveView,"isHidden"))return _CPMenuManagerScrollingStateUp;if(c.y>CGRectGetMaxY(b)-5-16&&!objj_msgSend(_moreBelowView,"isHidden"))return _CPMenuManagerScrollingStateDown;
return _CPMenuManagerScrollingStateNone}}),new objj_method(sel_getUid("deltaYForItemAtIndex:"),function(a,b,c){with(a)return 5+CGRectGetMinY(objj_msgSend(_menuView,"rectForItemAtIndex:",c))}),new objj_method(sel_getUid("rectForItemAtIndex:"),function(a,b,c){with(a)return objj_msgSend(_menuView,"convertRect:toView:",objj_msgSend(_menuView,"rectForItemAtIndex:",c),nil)}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(a,b,c){with(a){if(!CGRectContainsPoint(objj_msgSend(_menuClipView,"bounds"),
objj_msgSend(_menuClipView,"convertPoint:fromView:",c,nil)))return NO;return objj_msgSend(_menuView,"itemIndexAtPoint:",objj_msgSend(_menuView,"convertPoint:fromView:",c,nil))}})]);b=objj_allocateClassPair(CPView,"_CPMenuView");a=b.isa;class_addIvars(b,[new objj_ivar("_menuItemViews"),new objj_ivar("_visibleMenuItemInfos"),new objj_ivar("_font")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("font"),function(a){with(a)return _font}),new objj_method(sel_getUid("setFont:"),
function(a,b,c){with(a)_font=c}),new objj_method(sel_getUid("numberOfUnhiddenItems"),function(a){with(a)return _visibleMenuItemInfos.length}),new objj_method(sel_getUid("rectForUnhiddenItemAtIndex:"),function(a,b,c){with(a)return objj_msgSend(a,"rectForItemAtIndex:",_visibleMenuItemInfos[c].index)}),new objj_method(sel_getUid("rectForItemAtIndex:"),function(a,b,c){with(a)return objj_msgSend(_menuItemViews[c===CPNotFound?0:c],"frame")}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(a,b,
c){with(a){b=c.x;a=objj_msgSend(a,"bounds");if(b<CGRectGetMinX(a)||b>CGRectGetMaxX(a))return CPNotFound;c=c.y;a=0;for(b=_visibleMenuItemInfos.length-1;a<=b;){var d=FLOOR(a+(b-a)/2),f=_visibleMenuItemInfos[d],h=objj_msgSend(f.view,"frame");if(c<CGRectGetMinY(h))b=d-1;else if(c>CGRectGetMaxY(h))a=d+1;else return f.index}return CPNotFound}}),new objj_method(sel_getUid("tile"),function(a){with(a){objj_msgSend(_menuItemViews,"makeObjectsPerformSelector:",sel_getUid("removeFromSuperview"));_menuItemViews=
[];_visibleMenuItemInfos=[];var b=objj_msgSend(a,"menu");if(!b)return;var c=objj_msgSend(b,"itemArray"),d=0,f=objj_msgSend(c,"count"),h=0,o=0;for(b=objj_msgSend(b,"showsStateColumn");d<f;++d){var l=c[d],k=objj_msgSend(l,"_menuItemView");_menuItemViews.push(k);if(!objj_msgSend(l,"isHidden"))_visibleMenuItemInfos.push({view:k,index:d}),objj_msgSend(k,"setFont:",_font),objj_msgSend(k,"setShowsStateColumn:",b),objj_msgSend(k,"synchronizeWithMenuItem"),objj_msgSend(k,"setFrameOrigin:",CGPointMake(0,o)),
objj_msgSend(a,"addSubview:",k),l=objj_msgSend(k,"minSize"),k=l.width,h<k&&(h=k),o+=l.height}for(d=0;d<f;++d)k=_menuItemViews[d],objj_msgSend(k,"setFrameSize:",CGSizeMake(h,CGRectGetHeight(objj_msgSend(k,"frame"))));objj_msgSend(a,"setAutoresizesSubviews:",NO);objj_msgSend(a,"setFrameSize:",CGSizeMake(h,o));objj_msgSend(a,"setAutoresizesSubviews:",YES)}}),new objj_method(sel_getUid("setMenu:"),function(a,b,c){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuView").super_class},
"setMenu:",c),objj_msgSend(a,"tile")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPIndexSet.j",baseURL),function(h,f){f("CPArray.j",YES);f("CPObject.j",YES);f("CPRange.j",YES);var d=objj_allocateClassPair(CPObject,"CPIndexSet"),c=d.isa;class_addIvars(d,[new objj_ivar("_count"),new objj_ivar("_ranges")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithIndexesInRange:",{location:0,length:0})}),new objj_method(sel_getUid("initWithIndex:"),
function(a,b,c){with(a)return objj_msgSend(a,"initWithIndexesInRange:",{location:c,length:1})}),new objj_method(sel_getUid("initWithIndexesInRange:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init"))_count=MAX(0,c.length),_ranges=_count>0?[c]:[];return a}}),new objj_method(sel_getUid("initWithIndexSet:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init")){_count=
objj_msgSend(c,"count");_ranges=[];b=c._ranges;for(c=b.length;c--;)_ranges[c]={location:b[c].location,length:b[c].length}}return a}}),new objj_method(sel_getUid("isEqual:"),function(a,b,c){with(a){if(a===c)return YES;if(!c||!objj_msgSend(c,"isKindOfClass:",objj_msgSend(CPIndexSet,"class")))return NO;return objj_msgSend(a,"isEqualToIndexSet:",c)}}),new objj_method(sel_getUid("isEqualToIndexSet:"),function(a,b,c){with(a){if(!c)return NO;if(a===c)return YES;a=_ranges.length;b=c._ranges;if(a!==b.length||
_count!==c._count)return NO;for(;a--;)if(!CPEqualRanges(_ranges[a],b[a]))return NO;return YES}}),new objj_method(sel_getUid("isEqual:"),function(a,b,c){with(a)return a===c||objj_msgSend(c,"isKindOfClass:",objj_msgSend(a,"class"))&&objj_msgSend(a,"isEqualToIndexSet:",c)}),new objj_method(sel_getUid("containsIndex:"),function(a,c,d){with(a)return b(_ranges,d)!==CPNotFound}),new objj_method(sel_getUid("containsIndexesInRange:"),function(a,c,d){with(a){if(d.length<=0)return NO;if(_count<d.length)return NO;
a=b(_ranges,d.location);if(a===CPNotFound)return NO;return CPIntersectionRange(_ranges[a],d).length===d.length}}),new objj_method(sel_getUid("containsIndexes:"),function(a,b,c){with(a){b=c._count;if(b<=0)return YES;if(_count<b)return NO;c=c._ranges;for(b=c.length;b--;)if(!objj_msgSend(a,"containsIndexesInRange:",c[b]))return NO;return YES}}),new objj_method(sel_getUid("intersectsIndexesInRange:"),function(b,c,d){with(b){if(_count<=0)return NO;b=a(_ranges,d.location);if(FLOOR(b)===b)return YES;d=a(_ranges,
d.location+d.length-1);if(FLOOR(d)===d)return YES;return b!==d}}),new objj_method(sel_getUid("count"),function(a){with(a)return _count}),new objj_method(sel_getUid("firstIndex"),function(a){with(a){if(_count>0)return _ranges[0].location;return CPNotFound}}),new objj_method(sel_getUid("lastIndex"),function(a){with(a){if(_count>0)return _ranges[_ranges.length-1].location+_ranges[_ranges.length-1].length-1;return CPNotFound}}),new objj_method(sel_getUid("indexGreaterThanIndex:"),function(b,c,d){with(b){++d;
b=a(_ranges,d);if(b===CPNotFound)return CPNotFound;b=CEIL(b);if(b>=_ranges.length)return CPNotFound;b=_ranges[b];if(CPLocationInRange(d,b))return d;return b.location}}),new objj_method(sel_getUid("indexLessThanIndex:"),function(b,c,d){with(b){--d;b=a(_ranges,d);if(b===CPNotFound)return CPNotFound;b=FLOOR(b);if(b<0)return CPNotFound;b=_ranges[b];if(CPLocationInRange(d,b))return d;return b.location+b.length-1}}),new objj_method(sel_getUid("indexGreaterThanOrEqualToIndex:"),function(a,b,c){with(a)return objj_msgSend(a,
"indexGreaterThanIndex:",c-1)}),new objj_method(sel_getUid("indexLessThanOrEqualToIndex:"),function(a,b,c){with(a)return objj_msgSend(a,"indexLessThanIndex:",c+1)}),new objj_method(sel_getUid("getIndexes:maxCount:inIndexRange:"),function(b,c,d,p,f){with(b){if(!_count||p===0||f&&!f.length){if(f)f.length=0;return 0}c=0;if(f){var h=f.location;b=f.location+f.length-1;var o=CEIL(a(_ranges,h)),l=FLOOR(a(_ranges,b))}else h=objj_msgSend(b,"firstIndex"),b=objj_msgSend(b,"lastIndex"),o=0,l=_ranges.length-1;
for(;o<=l;){var k=_ranges[o],j=MAX(h,k.location);for(k=MIN(b+1,k.location+k.length);j<k;++j)if(d[c++]=j,c===p){if(f)f.location=j+1,f.length=b+1-j-1;return p}++o}if(f)f.location=CPNotFound,f.length=0;return c}}),new objj_method(sel_getUid("description"),function(a){with(a){a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"description");if(_count){var b=0,c=_ranges.length;a+="[number of indexes: "+_count+" (in "+c;for(a+=c===1?" range), indexes: (":" ranges), indexes: (";b<
c;++b){var d=_ranges[b];a+=d.location;d.length>1&&(a+="-"+(CPMaxRange(d)-1));b+1<c&&(a+=" ")}a+=")]"}else a+="(no indexes)";return a}})]);class_addMethods(c,[new objj_method(sel_getUid("indexSet"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")}),new objj_method(sel_getUid("indexSetWithIndex:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithIndex:",c)}),new objj_method(sel_getUid("indexSetWithIndexesInRange:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,
"alloc"),"initWithIndexesInRange:",c)})]);d=objj_getClass("CPIndexSet");if(!d)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');c=d.isa;class_addMethods(d,[new objj_method(sel_getUid("addIndex:"),function(a,b,c){with(a)objj_msgSend(a,"addIndexesInRange:",{location:c,length:1})}),new objj_method(sel_getUid("addIndexes:"),function(a,b,c){with(a){b=c._ranges;for(c=b.length;c--;)objj_msgSend(a,"addIndexesInRange:",b[c])}}),new objj_method(sel_getUid("addIndexesInRange:"),function(b,
c,d){with(b){if(d.length<=0)return;if(_count<=0){_count=d.length;_ranges=[d];return}c=_ranges.length;var f=a(_ranges,d.location-1);b=CEIL(f);b===f&&b<c&&(d=CPUnionRange(d,_ranges[b]));c=a(_ranges,CPMaxRange(d));f=FLOOR(c);f===c&&f>=0&&(d=CPUnionRange(d,_ranges[f]));c=f-b+1;if(c===_ranges.length)_ranges=[d],_count=d.length;else if(c===1)b<_ranges.length&&(_count-=_ranges[b].length),_count+=d.length,_ranges[b]=d;else{if(c>0){f=b;for(var h=b+c-1;f<=h;++f)_count-=_ranges[f].length;objj_msgSend(_ranges,
"removeObjectsInRange:",{location:b,length:c})}objj_msgSend(_ranges,"insertObject:atIndex:",d,b);_count+=d.length}}}),new objj_method(sel_getUid("removeIndex:"),function(a,b,c){with(a)objj_msgSend(a,"removeIndexesInRange:",{location:c,length:1})}),new objj_method(sel_getUid("removeIndexes:"),function(a,b,c){with(a){b=c._ranges;for(c=b.length;c--;)objj_msgSend(a,"removeIndexesInRange:",b[c])}}),new objj_method(sel_getUid("removeAllIndexes"),function(a){with(a)_ranges=[],_count=0}),new objj_method(sel_getUid("removeIndexesInRange:"),
function(b,c,d){with(b){if(d.length<=0)return;if(_count<=0)return;c=_ranges.length;var f=a(_ranges,d.location);b=CEIL(f);if(f===b&&b<c&&(f=_ranges[b],d.location!==f.location)){var h=CPMaxRange(d),r=CPMaxRange(f);f.length=d.location-f.location;if(h<r){_count-=d.length;objj_msgSend(_ranges,"insertObject:atIndex:",{location:h,length:r-h},b+1);return}else _count-=r-d.location,b+=1}f=a(_ranges,CPMaxRange(d)-1);c=FLOOR(f);if(f===c&&c>=0&&(h=CPMaxRange(d),f=_ranges[c],r=CPMaxRange(f),h!==r))_count-=h-f.location,
c-=1,f.location=h,f.length=r-h;d=c-b+1;if(d>0){c=b;for(f=b+d-1;c<=f;++c)_count-=_ranges[c].length;objj_msgSend(_ranges,"removeObjectsInRange:",{location:b,length:d})}}}),new objj_method(sel_getUid("shiftIndexesStartingAtIndex:by:"),function(a,b,c,d){with(a){if(!_count||d==0)return;b=_ranges.length-1;for(var f=CPMakeRange(CPNotFound,0);b>=0;--b){var h=_ranges[b],o=CPMaxRange(h);if(c>=o)break;if(c>h.location){f=CPMakeRange(c+d,o-c);h.length=c-h.location;if(d>0)objj_msgSend(_ranges,"insertObject:atIndex:",
f,b+1);else if(f.location<0)f.length=CPMaxRange(f),f.location=0;break}if((h.location+=d)<0)_count-=h.length-CPMaxRange(h),h.length=CPMaxRange(h),h.location=0}if(d<0){c=b+1;d=_ranges.length;for(h=[];c<d;++c)objj_msgSend(h,"addObject:",_ranges[c]),_count-=_ranges[c].length;if((c=b+1)<d){objj_msgSend(_ranges,"removeObjectsInRange:",CPMakeRange(c,d-c));c=0;for(d=h.length;c<d;++c)objj_msgSend(a,"addIndexesInRange:",h[c])}f.location!=CPNotFound&&objj_msgSend(a,"addIndexesInRange:",f)}}})]);d=objj_getClass("CPIndexSet");
if(!d)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');c=d.isa;class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init")){_count=objj_msgSend(c,"decodeIntForKey:","CPIndexSetCountKey");_ranges=[];b=objj_msgSend(c,"decodeObjectForKey:","CPIndexSetRangeStringsKey");c=0;for(var d=b.length;c<d;++c)_ranges.push(CPRangeFromString(b[c]))}return a}}),
new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a){objj_msgSend(c,"encodeInt:forKey:",_count,"CPIndexSetCountKey");a=0;b=_ranges.length;for(var d=[];a<b;++a)d[a]=CPStringFromRange(_ranges[a]);objj_msgSend(c,"encodeObject:forKey:",d,"CPIndexSetRangeStringsKey")}})]);d=objj_getClass("CPIndexSet");if(!d)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');c=d.isa;class_addMethods(d,[new objj_method(sel_getUid("copy"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,
"class"),"alloc"),"initWithIndexSet:",a)}),new objj_method(sel_getUid("mutableCopy"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"class"),"alloc"),"initWithIndexSet:",a)})]);d=objj_allocateClassPair(CPIndexSet,"CPMutableIndexSet");c=d.isa;objj_registerClassPair(d);var b=function(a,b){for(var c=0,d=a.length-1;c<=d;){var f=FLOOR(c+(d-c)/2),h=a[f];if(b<h.location)d=f-1;else if(b>=CPMaxRange(h))c=f+1;else return f}return CPNotFound},a=function(a,b){var c=a.length;if(c<=0)return CPNotFound;
for(var d=0,f=c*2;d<=f;){var h=FLOOR(d+(f-d)/2),o=h/2,l=FLOOR(o);if(o===l)if(l-1>=0&&b<CPMaxRange(a[l-1]))f=h-1;else if(l<c&&b>=a[l].location)d=h+1;else return l-0.5;else if(o=a[l],b<o.location)f=h-1;else if(b>=CPMaxRange(o))d=h+1;else return l}return CPNotFound}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPSet+KVO.j",baseURL),function(h,f){f("CPException.j",YES);f("CPObject.j",YES);f("CPSet.j",YES);var d=objj_getClass("CPObject");if(!d)throw new SyntaxError('*** Could not find definition for class "CPObject"');var c=d.isa;class_addMethods(d,[new objj_method(sel_getUid("mutableSetValueForKey:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(_CPKVCSet,"alloc"),"initWithKey:forProxyObject:",c,a)}),new objj_method(sel_getUid("mutableSetValueForKeyPath:"),
function(a,b,c){with(a){var d=c.indexOf(".");if(d<0)return objj_msgSend(a,"mutableSetValueForKey:",c);b=c.substring(0,d);c=c.substring(d+1);return objj_msgSend(objj_msgSend(a,"valueForKeyPath:",b),"mutableSetValueForKeyPath:",c)}})]);d=objj_allocateClassPair(CPMutableSet,"_CPKVCSet");c=d.isa;class_addIvars(d,[new objj_ivar("_proxyObject"),new objj_ivar("_key"),new objj_ivar("_accessSEL"),new objj_ivar("_access"),new objj_ivar("_setSEL"),new objj_ivar("_set"),new objj_ivar("_countSEL"),new objj_ivar("_count"),
new objj_ivar("_enumeratorSEL"),new objj_ivar("_enumerator"),new objj_ivar("_memberSEL"),new objj_ivar("_member"),new objj_ivar("_addSEL"),new objj_ivar("_add"),new objj_ivar("_addManySEL"),new objj_ivar("_addMany"),new objj_ivar("_removeSEL"),new objj_ivar("_remove"),new objj_ivar("_removeManySEL"),new objj_ivar("_removeMany"),new objj_ivar("_intersectSEL"),new objj_ivar("_intersect")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithKey:forProxyObject:"),function(a,
b,c,d){with(a)return a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPKVCSet").super_class},"init"),_key=c,_proxyObject=d,b=_key.charAt(0).toUpperCase()+_key.substring(1),_accessSEL=sel_getName(_key),objj_msgSend(_proxyObject,"respondsToSelector:",_accessSEL)&&(_access=objj_msgSend(_proxyObject,"methodForSelector:",_accessSEL)),_setSEL=sel_getName("set"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_setSEL)&&(_set=objj_msgSend(_proxyObject,"methodForSelector:",_setSEL)),_countSEL=
sel_getName("countOf"+b),objj_msgSend(_proxyObject,"respondsToSelector:",_countSEL)&&(_count=objj_msgSend(_proxyObject,"methodForSelector:",_countSEL)),_enumeratorSEL=sel_getName("enumeratorOf"+b),objj_msgSend(_proxyObject,"respondsToSelector:",_enumeratorSEL)&&(_enumerator=objj_msgSend(_proxyObject,"methodForSelector:",_enumeratorSEL)),_memberSEL=sel_getName("memberOf"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_memberSEL)&&(_member=objj_msgSend(_proxyObject,"methodForSelector:",_memberSEL)),
_addSEL=sel_getName("add"+b+"Object:"),objj_msgSend(_proxyObject,"respondsToSelector:",_addSEL)&&(_add=objj_msgSend(_proxyObject,"methodForSelector:",_addSEL)),_addManySEL=sel_getName("add"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_addManySEL)&&(_addMany=objj_msgSend(_proxyObject,"methodForSelector:",_addManySEL)),_removeSEL=sel_getName("remove"+b+"Object:"),objj_msgSend(_proxyObject,"respondsToSelector:",_removeSEL)&&(_remove=objj_msgSend(_proxyObject,"methodForSelector:",_removeSEL)),
_removeManySEL=sel_getName("remove"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_removeManySEL)&&(_removeMany=objj_msgSend(_proxyObject,"methodForSelector:",_removeManySEL)),_intersectSEL=sel_getName("intersect"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_intersectSEL)&&(_intersect=objj_msgSend(_proxyObject,"methodForSelector:",_intersectSEL)),a}),new objj_method(sel_getUid("_representedObject"),function(a){with(a){if(_access)return _access(_proxyObject,_accessSEL);return objj_msgSend(_proxyObject,
"valueForKey:",_key)}}),new objj_method(sel_getUid("_setRepresentedObject:"),function(a,b,c){with(a){if(_set)return _set(_proxyObject,_setSEL,c);objj_msgSend(_proxyObject,"setValue:forKey:",c,_key)}}),new objj_method(sel_getUid("count"),function(a){with(a){if(_count)return _count(_proxyObject,_countSEL);return objj_msgSend(objj_msgSend(a,"_representedObject"),"count")}}),new objj_method(sel_getUid("objectEnumerator"),function(a){with(a){if(_enumerator)return _enumerator(_proxyObject,_enumeratorSEL);
return objj_msgSend(objj_msgSend(a,"_representedObject"),"objectEnumerator")}}),new objj_method(sel_getUid("member:"),function(a,b,c){with(a){if(_member)return _member(_proxyObject,_memberSEL,c);return objj_msgSend(objj_msgSend(a,"_representedObject"),"member:",c)}}),new objj_method(sel_getUid("addObject:"),function(a,b,c){with(a)_add?_add(_proxyObject,_addSEL,c):_addMany?(a=objj_msgSend(CPSet,"setWithObject:",c),_addMany(_proxyObject,_addManySEL,a)):(b=objj_msgSend(objj_msgSend(a,"_representedObject"),
"copy"),objj_msgSend(b,"addObject:",c),objj_msgSend(a,"_setRepresentedObject:",b))}),new objj_method(sel_getUid("addObjectsFromArray:"),function(a,b,c){with(a)if(_addMany)a=objj_msgSend(CPSet,"setWithArray:",c),_addMany(_proxyObject,_addManySEL,a);else if(_add)for(c=objj_msgSend(c,"objectEnumerator");a=objj_msgSend(c,"nextObject");)_add(_proxyObject,_addSEL,a);else b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"addObjectsFromArray:",c),objj_msgSend(a,"_setRepresentedObject:",
b)}),new objj_method(sel_getUid("unionSet:"),function(a,b,c){with(a)if(_addMany)_addMany(_proxyObject,_addManySEL,c);else if(_add)for(c=objj_msgSend(c,"objectEnumerator");a=objj_msgSend(c,"nextObject");)_add(_proxyObject,_addSEL,a);else b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"unionSet:",c),objj_msgSend(a,"_setRepresentedObject:",b)}),new objj_method(sel_getUid("removeObject:"),function(a,b,c){with(a)_remove?_remove(_proxyObject,_removeSEL,c):_removeMany?(a=objj_msgSend(CPSet,
"setWithObject:",c),_removeMany(_proxyObject,_removeManySEL,a)):(b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"removeObject:",c),objj_msgSend(a,"_setRepresentedObject:",b))}),new objj_method(sel_getUid("minusSet:"),function(a,b,c){with(a)if(_removeMany)_removeMany(_proxyObject,_removeManySEL,c);else if(_remove)for(c=objj_msgSend(c,"objectEnumerator");a=objj_msgSend(c,"nextObject");)_remove(_proxyObject,_removeSEL,a);else b=objj_msgSend(objj_msgSend(a,"_representedObject"),
"copy"),objj_msgSend(b,"minusSet:",c),objj_msgSend(a,"_setRepresentedObject:",b)}),new objj_method(sel_getUid("removeObjectsInArray:"),function(a,b,c){with(a)if(_removeMany)a=objj_msgSend(CPSet,"setWithArray:",c),_removeMany(_proxyObject,_removeManySEL,a);else if(_remove)for(c=objj_msgSend(c,"objectEnumerator");a=objj_msgSend(c,"nextObject");)_remove(_proxyObject,_removeSEL,a);else b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"removeObjectsInArray:",c),objj_msgSend(a,
"_setRepresentedObject:",b)}),new objj_method(sel_getUid("removeAllObjects"),function(a){with(a)if(_removeMany)a=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),_removeMany(_proxyObject,_removeManySEL,a);else if(_remove)for(var b=objj_msgSend(objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),"objectEnumerator");a=objj_msgSend(b,"nextObject");)_remove(_proxyObject,_removeSEL,a);else b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"removeAllObjects"),objj_msgSend(a,
"_setRepresentedObject:",b)}),new objj_method(sel_getUid("intersectSet:"),function(a,b,c){with(a)_intersect?_intersect(_proxyObject,_intersectSEL,c):(b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"intersectSet:",c),objj_msgSend(a,"_setRepresentedObject:",b))}),new objj_method(sel_getUid("setSet:"),function(a,b,c){with(a)objj_msgSend(a,"_setRepresentedObject:",c)}),new objj_method(sel_getUid("allObjects"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),
"allObjects")}),new objj_method(sel_getUid("anyObject"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),"anyObject")}),new objj_method(sel_getUid("containsObject:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),"containsObject:",c)}),new objj_method(sel_getUid("intersectsSet:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),"intersectsSet:",c)}),new objj_method(sel_getUid("isEqualToSet:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,
"_representedObject"),"isEqualToSet:",c)}),new objj_method(sel_getUid("copy"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),"copy")})]);class_addMethods(c,[new objj_method(sel_getUid("alloc"),function(a){with(a){var b=objj_msgSend(CPMutableSet,"set");b.isa=a;a=class_copyIvarList(a);for(var c=a.length;c--;)b[ivar_getName(a[c])]=nil;return b}})]);d=objj_getClass("CPSet");if(!d)throw new SyntaxError('*** Could not find definition for class "CPSet"');c=d.isa;class_addMethods(d,
[new objj_method(sel_getUid("valueForKeyPath:"),function(a,c,g){with(a)if(g.indexOf("@")===0){var d=g.indexOf("."),f,h;d!==-1?(f=g.substring(1,d),h=g.substring(d+1)):f=g.substring(1);if(b[f])return b[f](a,c,h);return nil}else{c=objj_msgSend(CPSet,"set");for(a=objj_msgSend(a,"objectEnumerator");d=objj_msgSend(a,"nextObject");)(d=objj_msgSend(d,"valueForKeyPath:",g))&&objj_msgSend(c,"addObject:",d);return c}}),new objj_method(sel_getUid("setValue:forKey:"),function(a,b,c,d){with(a)for(b=objj_msgSend(a,
"objectEnumerator");a=objj_msgSend(b,"nextObject");)objj_msgSend(a,"setValue:forKey:",c,d)})]);var b=[];b.avg=function(a,b,c){a=objj_msgSend(objj_msgSend(a,"valueForKeyPath:",c),"allObjects");c=b=objj_msgSend(a,"count");var d=0;if(!b)return 0;for(;c--;)d+=objj_msgSend(a[c],"doubleValue");return d/b};b.max=function(a,b,c){a=objj_msgSend(objj_msgSend(a,"valueForKeyPath:",c),"allObjects");b=objj_msgSend(a,"count")-1;for(c=objj_msgSend(a,"lastObject");b--;){var d=a[b];objj_msgSend(c,"compare:",d)<0&&
(c=d)}return c};b.min=function(a,b,c){a=objj_msgSend(objj_msgSend(a,"valueForKeyPath:",c),"allObjects");b=objj_msgSend(a,"count")-1;for(c=objj_msgSend(a,"lastObject");b--;){var d=a[b];objj_msgSend(c,"compare:",d)>0&&(c=d)}return c};b.count=function(a){return objj_msgSend(a,"count")};b.sum=function(a,b,c){a=objj_msgSend(objj_msgSend(a,"valueForKeyPath:",c),"allObjects");b=objj_msgSend(a,"count");for(c=0;b--;)c+=objj_msgSend(a[b],"doubleValue");return c};d=objj_getClass("CPSet");if(!d)throw new SyntaxError('*** Could not find definition for class "CPSet"');
c=d.isa;class_addMethods(d,[new objj_method(sel_getUid("addObserver:forKeyPath:options:context:"),function(a,b,c,d,f,h){with(a)objj_msgSend(isa,"instanceMethodForSelector:",b)===objj_msgSend(CPSet,"instanceMethodForSelector:",b)?objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unsupported method on CPSet"):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPSet").super_class},"addObserver:forKeyPath:options:context:",c,d,f,h)}),new objj_method(sel_getUid("removeObserver:forKeyPath:"),
function(a,b,c,d){with(a)objj_msgSend(isa,"instanceMethodForSelector:",b)===objj_msgSend(CPSet,"instanceMethodForSelector:",b)?objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unsupported method on CPSet"):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPSet").super_class},"removeObserver:forKeyPath:",c,d)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPEvent.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("CPText.j",YES);CPLeftMouseDown=1;CPLeftMouseUp=2;CPRightMouseDown=3;CPRightMouseUp=4;CPMouseMoved=5;CPLeftMouseDragged=6;CPRightMouseDragged=7;CPMouseEntered=8;CPMouseExited=9;CPKeyDown=10;CPKeyUp=11;CPFlagsChanged=12;CPAppKitDefined=13;CPSystemDefined=14;CPApplicationDefined=15;CPPeriodic=16;CPCursorUpdate=17;CPScrollWheel=22;CPOtherMouseDown=25;CPOtherMouseUp=
26;CPOtherMouseDragged=27;CPTouchStart=28;CPTouchMove=29;CPTouchEnd=30;CPTouchCancel=31;CPAlphaShiftKeyMask=65536;CPShiftKeyMask=131072;CPControlKeyMask=262144;CPAlternateKeyMask=524288;CPCommandKeyMask=1048576;CPNumericPadKeyMask=2097152;CPHelpKeyMask=4194304;CPFunctionKeyMask=8388608;CPDeviceIndependentModifierFlagsMask=4294901760;CPLeftMouseDownMask=1<<CPLeftMouseDown;CPLeftMouseUpMask=1<<CPLeftMouseUp;CPRightMouseDownMask=1<<CPRightMouseDown;CPRightMouseUpMask=1<<CPRightMouseUp;CPOtherMouseDownMask=
1<<CPOtherMouseDown;CPOtherMouseUpMask=1<<CPOtherMouseUp;CPMouseMovedMask=1<<CPMouseMoved;CPLeftMouseDraggedMask=1<<CPLeftMouseDragged;CPRightMouseDraggedMask=1<<CPRightMouseDragged;CPOtherMouseDragged=1<<CPOtherMouseDragged;CPMouseEnteredMask=1<<CPMouseEntered;CPMouseExitedMask=1<<CPMouseExited;CPCursorUpdateMask=1<<CPCursorUpdate;CPKeyDownMask=1<<CPKeyDown;CPKeyUpMask=1<<CPKeyUp;CPFlagsChangedMask=1<<CPFlagsChanged;CPAppKitDefinedMask=1<<CPAppKitDefined;CPSystemDefinedMask=1<<CPSystemDefined;CPApplicationDefinedMask=
1<<CPApplicationDefined;CPPeriodicMask=1<<CPPeriodic;CPScrollWheelMask=1<<CPScrollWheel;CPAnyEventMask=4294967295;CPUpArrowFunctionKey="";CPDownArrowFunctionKey="";CPLeftArrowFunctionKey="";CPRightArrowFunctionKey="";CPF1FunctionKey="";CPF2FunctionKey="";CPF3FunctionKey="";CPF4FunctionKey="";CPF5FunctionKey="";CPF6FunctionKey="";CPF7FunctionKey="";CPF8FunctionKey="";CPF9FunctionKey="";CPF10FunctionKey="";CPF11FunctionKey="";CPF12FunctionKey="";CPF13FunctionKey="";CPF14FunctionKey=
"";CPF15FunctionKey="";CPF16FunctionKey="";CPF17FunctionKey="";CPF18FunctionKey="";CPF19FunctionKey="";CPF20FunctionKey="";CPF21FunctionKey="";CPF22FunctionKey="";CPF23FunctionKey="";CPF24FunctionKey="";CPF25FunctionKey="";CPF26FunctionKey="";CPF27FunctionKey="";CPF28FunctionKey="";CPF29FunctionKey="";CPF30FunctionKey="";CPF31FunctionKey="";CPF32FunctionKey="";CPF33FunctionKey="";CPF34FunctionKey="";CPF35FunctionKey="";CPInsertFunctionKey="";CPDeleteFunctionKey="";CPHomeFunctionKey=
"";CPBeginFunctionKey="";CPEndFunctionKey="";CPPageUpFunctionKey="";CPPageDownFunctionKey="";CPPrintScreenFunctionKey="";CPScrollLockFunctionKey="";CPPauseFunctionKey="";CPSysReqFunctionKey="";CPBreakFunctionKey="";CPResetFunctionKey="";CPStopFunctionKey="";CPMenuFunctionKey="";CPUserFunctionKey="";CPSystemFunctionKey="";CPPrintFunctionKey="";CPClearLineFunctionKey="";CPClearDisplayFunctionKey="";CPInsertLineFunctionKey="";CPDeleteLineFunctionKey="";CPInsertCharFunctionKey="";
CPDeleteCharFunctionKey="";CPPrevFunctionKey="";CPNextFunctionKey="";CPSelectFunctionKey="";CPExecuteFunctionKey="";CPUndoFunctionKey="";CPRedoFunctionKey="";CPFindFunctionKey="";CPHelpFunctionKey="";CPModeSwitchFunctionKey="";CPEscapeFunctionKey="";CPSpaceFunctionKey=" ";CPDOMEventDoubleClick="dblclick";CPDOMEventMouseDown="mousedown";CPDOMEventMouseUp="mouseup";CPDOMEventMouseMoved="mousemove";CPDOMEventMouseDragged="mousedrag";CPDOMEventKeyUp="keyup";CPDOMEventKeyDown="keydown";CPDOMEventKeyPress=
"keypress";CPDOMEventCopy="copy";CPDOMEventPaste="paste";CPDOMEventScrollWheel="mousewheel";CPDOMEventTouchStart="touchstart";CPDOMEventTouchMove="touchmove";CPDOMEventTouchEnd="touchend";CPDOMEventTouchCancel="touchcancel";var d=nil,c=/[A-Z]/,b=objj_allocateClassPair(CPObject,"CPEvent"),a=b.isa;class_addIvars(b,[new objj_ivar("_type"),new objj_ivar("_location"),new objj_ivar("_modifierFlags"),new objj_ivar("_timestamp"),new objj_ivar("_context"),new objj_ivar("_eventNumber"),new objj_ivar("_clickCount"),
new objj_ivar("_pressure"),new objj_ivar("_window"),new objj_ivar("_windowNumber"),new objj_ivar("_characters"),new objj_ivar("_isARepeat"),new objj_ivar("_keyCode"),new objj_ivar("_DOMEvent"),new objj_ivar("_deltaX"),new objj_ivar("_deltaY"),new objj_ivar("_deltaZ")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("_initMouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:"),function(a,b,c,e,d,f,h,k,j,n,q){with(a){if(a=
objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPEvent").super_class},"init"))_type=c,_location=CPPointCreateCopy(e),_modifierFlags=d,_timestamp=f,_context=k,_eventNumber=j,_clickCount=n,_pressure=q,_window=objj_msgSend(CPApp,"windowWithWindowNumber:",h);return a}}),new objj_method(sel_getUid("_initKeyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:"),function(a,b,c,e,d,f,h,k,j,n,q,s){with(a){if(a=objj_msgSendSuper({receiver:a,
super_class:objj_getClass("CPEvent").super_class},"init"))_type=c,_location=CPPointCreateCopy(e),_modifierFlags=d,_timestamp=f,_context=k,_characters=j,_charactersIgnoringModifiers=n,_isARepeat=q,_keyCode=s,_windowNumber=h;return a}}),new objj_method(sel_getUid("_initOtherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:"),function(a,b,c,e,d,f,h,k,j,n,q){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPEvent").super_class},"init"))_type=
c,_location=CPPointCreateCopy(e),_modifierFlags=d,_timestamp=f,_context=k,_subtype=j,_data1=n,_data2=q;return a}}),new objj_method(sel_getUid("locationInWindow"),function(a){with(a)return{x:_location.x,y:_location.y}}),new objj_method(sel_getUid("globalLocation"),function(a){with(a){var b=objj_msgSend(a,"window");a=objj_msgSend(a,"locationInWindow");if(b)return objj_msgSend(b,"convertBaseToGlobal:",a);return a}}),new objj_method(sel_getUid("modifierFlags"),function(a){with(a)return _modifierFlags}),
new objj_method(sel_getUid("timestamp"),function(a){with(a)return _timestamp}),new objj_method(sel_getUid("type"),function(a){with(a)return _type}),new objj_method(sel_getUid("window"),function(a){with(a)return _window||(_window=objj_msgSend(CPApp,"windowWithWindowNumber:",_windowNumber)),_window}),new objj_method(sel_getUid("windowNumber"),function(a){with(a)return _windowNumber}),new objj_method(sel_getUid("buttonNumber"),function(a){with(a){if(_type===CPRightMouseDown||_type===CPRightMouseUp||
_type===CPRightMouseDragged)return 1;return 0}}),new objj_method(sel_getUid("clickCount"),function(a){with(a)return _clickCount}),new objj_method(sel_getUid("characters"),function(a){with(a)return _characters}),new objj_method(sel_getUid("charactersIgnoringModifiers"),function(a){with(a)return _charactersIgnoringModifiers}),new objj_method(sel_getUid("isARepeat"),function(a){with(a)return _isARepeat}),new objj_method(sel_getUid("keyCode"),function(a){with(a)return _keyCode}),new objj_method(sel_getUid("pressure"),
function(a){with(a)return _pressure}),new objj_method(sel_getUid("_DOMEvent"),function(a){with(a)return _DOMEvent}),new objj_method(sel_getUid("deltaX"),function(a){with(a)return _deltaX}),new objj_method(sel_getUid("deltaY"),function(a){with(a)return _deltaY}),new objj_method(sel_getUid("deltaZ"),function(a){with(a)return _deltaZ}),new objj_method(sel_getUid("_triggersKeyEquivalent:withModifierMask:"),function(a,b,e,d){with(a){if(!e)return NO;c.test(e)&&(d|=CPShiftKeyMask);!CPBrowserIsOperatingSystem(CPMacOperatingSystem)&&
d&CPCommandKeyMask&&(d|=CPControlKeyMask,d&=~CPCommandKeyMask);if((_modifierFlags&(CPShiftKeyMask|CPAlternateKeyMask|CPCommandKeyMask|CPControlKeyMask))!==d)return NO;if(_characters===CPNewlineCharacter||_characters===CPCarriageReturnCharacter)return CPNewlineCharacter===e||CPCarriageReturnCharacter===e;return objj_msgSend(_characters,"caseInsensitiveCompare:",e)===CPOrderedSame}}),new objj_method(sel_getUid("_couldBeKeyEquivalent"),function(a){with(a){if(_type!==CPKeyDown)return NO;a=_characters.length;
if(!a)return NO;if(_modifierFlags&(CPCommandKeyMask|CPControlKeyMask))return YES;for(var b=0;b<a;b++)switch(_characters.charAt(b)){case CPBackspaceCharacter:case CPDeleteCharacter:case CPDeleteFunctionKey:case CPTabCharacter:case CPCarriageReturnCharacter:case CPNewlineCharacter:case CPSpaceFunctionKey:case CPEscapeFunctionKey:case CPPageUpFunctionKey:case CPPageDownFunctionKey:case CPLeftArrowFunctionKey:case CPUpArrowFunctionKey:case CPRightArrowFunctionKey:case CPDownArrowFunctionKey:case CPEndFunctionKey:case CPHomeFunctionKey:return YES}return NO}})]);
class_addMethods(a,[new objj_method(sel_getUid("keyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:"),function(a,b,c,e,d,f,h,k,j,n,q,s){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initKeyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:",c,e,d,f,h,k,j,n,q,s)}),new objj_method(sel_getUid("mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:"),
function(a,b,c,e,d,f,h,k,j,n,q){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initMouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",c,e,d,f,h,k,j,n,q)}),new objj_method(sel_getUid("otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:"),function(a,b,c,e,d,f,h,k,j,n,q){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initOtherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",
c,e,d,f,h,k,j,n,q)}),new objj_method(sel_getUid("mouseLocation"),function(a){with(a){a=objj_msgSend(CPApp,"currentEvent");var b=objj_msgSend(a,"window");if(b)return objj_msgSend(b,"convertBaseToGlobal:",objj_msgSend(a,"locationInWindow"));return objj_msgSend(a,"locationInWindow")}}),new objj_method(sel_getUid("startPeriodicEventsAfterDelay:withPeriod:"),function(a,b,c,e){with(a)d=window.setTimeout(function(){d=window.setInterval(_CPEventFirePeriodEvent,e*1E3)},c*1E3)}),new objj_method(sel_getUid("stopPeriodicEvents"),
function(a){with(a){if(d===nil)return;window.clearTimeout(d);d=nil}})]);_CPEventFirePeriodEvent=function(){objj_msgSend(CPApp,"sendEvent:",objj_msgSend(CPEvent,"otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",CPPeriodic,{x:0,y:0},0,0,0,nil,0,0,0))};var e=objj_msgSend(CPEvent,"class");_CPEventFromNativeMouseEvent=function(a,b,c,d,f,h,l,k,j,n){a.isa=e;a._type=b;a._location=c;a._modifierFlags=d;a._timestamp=f;a._windowNumber=h;a._window=nil;a._context=l;
a._eventNumber=k;a._clickCount=j;a._pressure=n;return a}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPStandardWindowView.j",baseURL),function(h,f){f("CPTextField.j",YES);f("_CPWindowView.j",YES);var d=nil,c=nil,b=objj_allocateClassPair(CPView,"_CPTexturedWindowHeadView"),a=b.isa;class_addIvars(b,[new objj_ivar("_gradientView"),new objj_ivar("_solidView"),new objj_ivar("_dividerView")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("initWithFrame:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,
super_class:objj_getClass("_CPTexturedWindowHeadView").super_class},"initWithFrame:",c))b=objj_msgSend(a,"class"),c=objj_msgSend(a,"bounds"),_gradientView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,CGRectGetWidth(c),41)),objj_msgSend(_gradientView,"setBackgroundColor:",objj_msgSend(b,"gradientColor")),objj_msgSend(a,"addSubview:",_gradientView),_solidView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,41,CGRectGetWidth(c),CGRectGetHeight(c)-
41)),objj_msgSend(_solidView,"setBackgroundColor:",objj_msgSend(b,"solidColor")),objj_msgSend(a,"addSubview:",_solidView);return a}}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(a){with(a)a=objj_msgSend(a,"bounds"),objj_msgSend(_gradientView,"setFrameSize:",CGSizeMake(CGRectGetWidth(a),41)),objj_msgSend(_solidView,"setFrameSize:",CGSizeMake(CGRectGetWidth(a),CGRectGetHeight(a)-41))})]);class_addMethods(a,[new objj_method(sel_getUid("gradientColor"),function(a){with(a)return d||
(a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_CPWindowView,"class")),d=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPThreePartImage,"alloc"),"initWithImageSlices:isVertical:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/Standard/CPWindowStandardTop0.png"),CGSizeMake(6,41)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/Standard/CPWindowStandardTop1.png"),
CGSizeMake(1,41)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/Standard/CPWindowStandardTop2.png"),CGSizeMake(6,41))],NO))),d}),new objj_method(sel_getUid("solidColor"),function(a){with(a)return c||(c=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",195/255,195/255,195/255,1)),c})]);var e=nil,g=nil,i=nil,p=nil,m=nil,r=nil,o=nil,l=nil,k=nil;b=objj_allocateClassPair(_CPWindowView,"_CPStandardWindowView");a=b.isa;
class_addIvars(b,[new objj_ivar("_headView"),new objj_ivar("_dividerView"),new objj_ivar("_bodyView"),new objj_ivar("_toolbarView"),new objj_ivar("_titleField"),new objj_ivar("_closeButton"),new objj_ivar("_minimizeButton"),new objj_ivar("_isDocumentEdited")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("contentRectForFrameRect:"),function(a,b,c){with(a)return b=objj_msgSend(objj_msgSend(a,"class"),"contentRectForFrameRect:",c),a=objj_msgSend(objj_msgSend(a,"window"),
"toolbar"),objj_msgSend(a,"isVisible")&&(toolbarHeight=CGRectGetHeight(objj_msgSend(objj_msgSend(a,"_toolbarView"),"frame")),b.origin.y+=toolbarHeight,b.size.height-=toolbarHeight),b}),new objj_method(sel_getUid("frameRectForContentRect:"),function(a,b,c){with(a)return b=objj_msgSend(objj_msgSend(a,"class"),"frameRectForContentRect:",c),a=objj_msgSend(objj_msgSend(a,"window"),"toolbar"),objj_msgSend(a,"isVisible")&&(toolbarHeight=CGRectGetHeight(objj_msgSend(objj_msgSend(a,"_toolbarView"),"frame")),
b.origin.y-=toolbarHeight,b.size.height+=toolbarHeight),b}),new objj_method(sel_getUid("initWithFrame:styleMask:"),function(a,b,c,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPStandardWindowView").super_class},"initWithFrame:styleMask:",c,e))b=objj_msgSend(a,"class"),c=objj_msgSend(a,"bounds"),_headView=objj_msgSend(objj_msgSend(_CPTexturedWindowHeadView,"alloc"),"initWithFrame:",CGRectMake(0,0,CGRectGetWidth(c),objj_msgSend(objj_msgSend(a,"class"),"titleBarHeight"))),
objj_msgSend(_headView,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_headView,"setHitTests:",NO),objj_msgSend(a,"addSubview:",_headView),_dividerView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,CGRectGetMaxY(objj_msgSend(_headView,"frame")),CGRectGetWidth(c),1)),objj_msgSend(_dividerView,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_dividerView,"setBackgroundColor:",objj_msgSend(b,"dividerBackgroundColor")),objj_msgSend(_dividerView,"setHitTests:",
NO),objj_msgSend(a,"addSubview:",_dividerView),e=CGRectGetMaxY(objj_msgSend(_dividerView,"frame")),_bodyView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,e,CGRectGetWidth(c),CGRectGetHeight(c)-e)),objj_msgSend(_bodyView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(_bodyView,"setBackgroundColor:",objj_msgSend(b,"bodyBackgroundColor")),objj_msgSend(_bodyView,"setHitTests:",NO),objj_msgSend(a,"addSubview:",_bodyView),objj_msgSend(a,"setResizeIndicatorOffset:",
CGSizeMake(2,2)),_titleField=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_titleField,"setFont:",objj_msgSend(CPFont,"boldSystemFontOfSize:",12)),objj_msgSend(_titleField,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_titleField,"setLineBreakMode:",CPLineBreakByTruncatingTail),objj_msgSend(_titleField,"setAlignment:",CPCenterTextAlignment),objj_msgSend(_titleField,"setTextShadowColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_titleField,
"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(_titleField,"setStringValue:","Untitled"),objj_msgSend(_titleField,"sizeToFit"),objj_msgSend(_titleField,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_titleField,"setStringValue:",""),objj_msgSend(a,"addSubview:",_titleField),_styleMask&CPClosableWindowMask&&(p||(b=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class")),p=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:",
"CPWindow/Standard/CPWindowStandardCloseButton.png"),CGSizeMake(16,16)),m=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardCloseButtonHighlighted.png"),CGSizeMake(16,16)),r=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardCloseButtonUnsaved.png"),CGSizeMake(16,16)),o=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardCloseButtonUnsavedHighlighted.png"),CGSizeMake(16,16))),_closeButton=objj_msgSend(objj_msgSend(CPButton,"alloc"),"initWithFrame:",CGRectMake(8,7,16,16)),objj_msgSend(_closeButton,"setBordered:",NO),objj_msgSend(a,"_updateCloseButton"),objj_msgSend(a,"addSubview:",_closeButton)),_styleMask&CPMiniaturizableWindowMask&&!objj_msgSend(CPPlatform,"isBrowser")&&(l||(b=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class")),
l=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardMinimizeButton.png"),CGSizeMake(16,16)),k=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardMinimizeButtonHighlighted.png"),CGSizeMake(16,16))),_minimizeButton=objj_msgSend(objj_msgSend(CPButton,"alloc"),"initWithFrame:",CGRectMake(27,7,16,16)),objj_msgSend(_minimizeButton,
"setBordered:",NO),objj_msgSend(_minimizeButton,"setImage:",l),objj_msgSend(_minimizeButton,"setAlternateImage:",k),objj_msgSend(a,"addSubview:",_minimizeButton)),objj_msgSend(a,"tile");return a}}),new objj_method(sel_getUid("viewDidMoveToWindow"),function(a){with(a)objj_msgSend(_closeButton,"setTarget:",objj_msgSend(a,"window")),objj_msgSend(_closeButton,"setAction:",sel_getUid("performClose:")),objj_msgSend(_minimizeButton,"setTarget:",objj_msgSend(a,"window")),objj_msgSend(_minimizeButton,"setAction:",
sel_getUid("performMiniaturize:"))}),new objj_method(sel_getUid("toolbarOffset"),function(a){with(a)return CGSizeMake(0,objj_msgSend(objj_msgSend(a,"class"),"titleBarHeight"))}),new objj_method(sel_getUid("tile"),function(a){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPStandardWindowView").super_class},"tile");var b=objj_msgSend(a,"window"),c=objj_msgSend(a,"bounds"),e=CGRectGetWidth(c);objj_msgSend(_headView,"setFrameSize:",CGSizeMake(e,objj_msgSend(a,"toolbarMaxY")));objj_msgSend(_dividerView,
"setFrame:",CGRectMake(0,CGRectGetMaxY(objj_msgSend(_headView,"frame")),e,1));a=CGRectGetMaxY(objj_msgSend(_dividerView,"frame"));objj_msgSend(_bodyView,"setFrame:",CGRectMake(0,a,e,CGRectGetHeight(c)-a));c=8;_closeButton&&(c+=19);_minimizeButton&&(c+=19);objj_msgSend(_titleField,"setFrame:",CGRectMake(c,5,e-c*2,CGRectGetHeight(objj_msgSend(_titleField,"frame"))));objj_msgSend(objj_msgSend(b,"contentView"),"setFrameOrigin:",CGPointMake(0,CGRectGetMaxY(objj_msgSend(_dividerView,"frame"))))}}),new objj_method(sel_getUid("_updateCloseButton"),
function(a){with(a)_isDocumentEdited?(objj_msgSend(_closeButton,"setImage:",r),objj_msgSend(_closeButton,"setAlternateImage:",o)):(objj_msgSend(_closeButton,"setImage:",p),objj_msgSend(_closeButton,"setAlternateImage:",m))}),new objj_method(sel_getUid("setDocumentEdited:"),function(a,b,c){with(a)_isDocumentEdited=c,objj_msgSend(a,"_updateCloseButton")}),new objj_method(sel_getUid("setTitle:"),function(a,b,c){with(a)objj_msgSend(_titleField,"setStringValue:",c)}),new objj_method(sel_getUid("mouseDown:"),
function(a,b,c){with(a){if(CGRectContainsPoint(objj_msgSend(_headView,"frame"),objj_msgSend(a,"convertPoint:fromView:",objj_msgSend(c,"locationInWindow"),nil)))return objj_msgSend(a,"trackMoveWithEvent:",c);objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPStandardWindowView").super_class},"mouseDown:",c)}})]);class_addMethods(a,[new objj_method(sel_getUid("bodyBackgroundColor"),function(a){with(a)return e||(e=objj_msgSend(CPColor,"colorWithWhite:alpha:",0.96,1)),e}),new objj_method(sel_getUid("dividerBackgroundColor"),
function(a){with(a)return g||(g=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",125/255,125/255,125/255,1)),g}),new objj_method(sel_getUid("titleColor"),function(a){with(a)return i||(i=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",44/255,44/255,44/255,1)),i}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(a,b,c){with(a)return b=CGRectMakeCopy(c),a=objj_msgSend(a,"titleBarHeight")+1,b.origin.y+=a,b.size.height-=a,b}),new objj_method(sel_getUid("frameRectForContentRect:"),
function(a,b,c){with(a)return b=CGRectMakeCopy(c),a=objj_msgSend(a,"titleBarHeight")+1,b.origin.y-=a,b.size.height+=a,b}),new objj_method(sel_getUid("titleBarHeight"),function(a){with(a)return 25})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPKeyedArchiver.j",baseURL),function(h,f){f("CPArray.j",YES);f("CPCoder.j",YES);f("CPData.j",YES);f("CPDictionary.j",YES);f("CPNumber.j",YES);f("CPString.j",YES);f("CPValue.j",YES);var d=nil,c=nil,b=Nil,a=Nil,e=objj_allocateClassPair(CPValue,"_CPKeyedArchiverValue"),g=e.isa;objj_registerClassPair(e);e=objj_allocateClassPair(CPCoder,"CPKeyedArchiver");g=e.isa;class_addIvars(e,[new objj_ivar("_delegate"),new objj_ivar("_delegateSelectors"),
new objj_ivar("_data"),new objj_ivar("_objects"),new objj_ivar("_UIDs"),new objj_ivar("_conditionalUIDs"),new objj_ivar("_replacementObjects"),new objj_ivar("_replacementClassNames"),new objj_ivar("_plistObject"),new objj_ivar("_plistObjects"),new objj_ivar("_outputFormat")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initForWritingWithMutableData:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPKeyedArchiver").super_class},
"init"))_data=c,_objects=[],_UIDs=objj_msgSend(CPDictionary,"dictionary"),_conditionalUIDs=objj_msgSend(CPDictionary,"dictionary"),_replacementObjects=objj_msgSend(CPDictionary,"dictionary"),_data=c,_plistObject=objj_msgSend(CPDictionary,"dictionary"),_plistObjects=objj_msgSend(CPArray,"arrayWithObject:","$null");return a}}),new objj_method(sel_getUid("finishEncoding"),function(a){with(a){_delegate&&_delegateSelectors&16&&objj_msgSend(_delegate,"archiverWillFinish:",a);for(var b=0,c=_plistObject;b<
_objects.length;++b){var e=_objects[b];objj_msgSend(e,"classForKeyedArchiver");_plistObject=_plistObjects[objj_msgSend(_UIDs,"objectForKey:",objj_msgSend(e,"UID"))];objj_msgSend(e,"encodeWithCoder:",a);_delegate&&_delegateSelectors&1&&objj_msgSend(_delegate,"archiver:didEncodeObject:",a,e)}_plistObject=objj_msgSend(CPDictionary,"dictionary");objj_msgSend(_plistObject,"setObject:forKey:",c,"$top");objj_msgSend(_plistObject,"setObject:forKey:",_plistObjects,"$objects");objj_msgSend(_plistObject,"setObject:forKey:",
objj_msgSend(a,"className"),"$archiver");objj_msgSend(_plistObject,"setObject:forKey:","100000","$version");objj_msgSend(_data,"setPlistObject:",_plistObject);_delegate&&_delegateSelectors&8&&objj_msgSend(_delegate,"archiverDidFinish:",a)}}),new objj_method(sel_getUid("outputFormat"),function(a){with(a)return _outputFormat}),new objj_method(sel_getUid("setOutputFormat:"),function(a,b,c){with(a)_outputFormat=c}),new objj_method(sel_getUid("encodeBool:forKey:"),function(a,b,c,e){with(a)objj_msgSend(_plistObject,
"setObject:forKey:",i(a,c,NO),e)}),new objj_method(sel_getUid("encodeDouble:forKey:"),function(a,b,c,e){with(a)objj_msgSend(_plistObject,"setObject:forKey:",i(a,c,NO),e)}),new objj_method(sel_getUid("encodeFloat:forKey:"),function(a,b,c,e){with(a)objj_msgSend(_plistObject,"setObject:forKey:",i(a,c,NO),e)}),new objj_method(sel_getUid("encodeInt:forKey:"),function(a,b,c,e){with(a)objj_msgSend(_plistObject,"setObject:forKey:",i(a,c,NO),e)}),new objj_method(sel_getUid("setDelegate:"),function(a,b,c){with(a)_delegate=
c,objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:didEncodeObject:"))&&(_delegateSelectors|=1),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:willEncodeObject:"))&&(_delegateSelectors|=2),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:willReplaceObject:withObject:"))&&(_delegateSelectors|=4),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:didFinishEncoding:"))&&(_delegateSelectors|=_CPKeyedArchiverDidFinishEncodingSelector),
objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:willFinishEncoding:"))&&(_delegateSelectors|=_CPKeyedArchiverWillFinishEncodingSelector)}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("encodePoint:forKey:"),function(a,b,c,e){with(a)objj_msgSend(_plistObject,"setObject:forKey:",i(a,CPStringFromPoint(c),NO),e)}),new objj_method(sel_getUid("encodeRect:forKey:"),function(a,b,c,e){with(a)objj_msgSend(_plistObject,"setObject:forKey:",
i(a,CPStringFromRect(c),NO),e)}),new objj_method(sel_getUid("encodeSize:forKey:"),function(a,b,c,e){with(a)objj_msgSend(_plistObject,"setObject:forKey:",i(a,CPStringFromSize(c),NO),e)}),new objj_method(sel_getUid("encodeConditionalObject:forKey:"),function(a,b,c,e){with(a)objj_msgSend(_plistObject,"setObject:forKey:",i(a,c,YES),e)}),new objj_method(sel_getUid("encodeNumber:forKey:"),function(a,b,c,e){with(a)objj_msgSend(_plistObject,"setObject:forKey:",i(a,c,NO),e)}),new objj_method(sel_getUid("encodeObject:forKey:"),
function(a,b,c,e){with(a)objj_msgSend(_plistObject,"setObject:forKey:",i(a,c,NO),e)}),new objj_method(sel_getUid("_encodeArrayOfObjects:forKey:"),function(a,b,c,e){with(a){b=0;for(var d=c.length,g=[];b<d;++b)objj_msgSend(g,"addObject:",i(a,c[b],NO));objj_msgSend(_plistObject,"setObject:forKey:",g,e)}}),new objj_method(sel_getUid("_encodeDictionaryOfObjects:forKey:"),function(a,b,c,e){with(a){for(var d=objj_msgSend(c,"keyEnumerator"),g=objj_msgSend(CPDictionary,"dictionary");b=objj_msgSend(d,"nextObject");)objj_msgSend(g,
"setObject:forKey:",i(a,objj_msgSend(c,"objectForKey:",b),NO),b);objj_msgSend(_plistObject,"setObject:forKey:",g,e)}}),new objj_method(sel_getUid("setClassName:forClass:"),function(a,b,c,e){with(a)_replacementClassNames||(_replacementClassNames=objj_msgSend(CPDictionary,"dictionary")),objj_msgSend(_replacementClassNames,"setObject:forKey:",c,CPStringFromClass(e))}),new objj_method(sel_getUid("classNameForClass:"),function(a,b,c){with(a){if(!_replacementClassNames)return c.name;return(a=objj_msgSend(_replacementClassNames,
"objectForKey:",CPStringFromClass(aClassName)))?a:c.name}})]);class_addMethods(g,[new objj_method(sel_getUid("initialize"),function(e){with(e){if(e!=objj_msgSend(CPKeyedArchiver,"class"))return;b=objj_msgSend(CPString,"class");a=objj_msgSend(CPNumber,"class");c=objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",0,"CP$UID")}}),new objj_method(sel_getUid("allowsKeyedCoding"),function(a){with(a)return YES}),new objj_method(sel_getUid("archivedDataWithRootObject:"),function(a,b,c){with(a)return b=
objj_msgSend(CPData,"dataWithPlistObject:",nil),a=objj_msgSend(objj_msgSend(a,"alloc"),"initForWritingWithMutableData:",b),objj_msgSend(a,"encodeObject:forKey:",c,"root"),objj_msgSend(a,"finishEncoding"),b}),new objj_method(sel_getUid("setClassName:forClass:"),function(a,b,c,e){with(a)d||(d=objj_msgSend(CPDictionary,"dictionary")),objj_msgSend(d,"setObject:forKey:",c,CPStringFromClass(e))}),new objj_method(sel_getUid("classNameForClass:"),function(a,b,c){with(a){if(!d)return c.name;return(a=objj_msgSend(d,
"objectForKey:",CPStringFromClass(c)))?a:c.name}})]);var i=function(e,d,g){d!==nil&&d!==void 0&&!d.isa&&(d=objj_msgSend(_CPKeyedArchiverValue,"valueWithJSObject:",d));var f=objj_msgSend(d,"UID"),h=objj_msgSend(e._replacementObjects,"objectForKey:",f);h===nil&&(h=objj_msgSend(d,"replacementObjectForKeyedArchiver:",e),e._delegate&&(h!==d&&e._delegateSelectors&4&&objj_msgSend(e._delegate,"archiver:willReplaceObject:withObject:",e,d,h),e._delegateSelectors&2&&(d=objj_msgSend(e._delegate,"archiver:willEncodeObject:",
e,h),d!==h&&e._delegateSelectors&4&&objj_msgSend(e._delegate,"archiver:willReplaceObject:withObject:",e,h,d),h=d)),objj_msgSend(e._replacementObjects,"setObject:forKey:",h,f));if(h===nil)return c;d=objj_msgSend(e._UIDs,"objectForKey:",f=objj_msgSend(h,"UID"));if(d===nil)if(g){if((d=objj_msgSend(e._conditionalUIDs,"objectForKey:",f))===nil)objj_msgSend(e._conditionalUIDs,"setObject:forKey:",d=objj_msgSend(e._plistObjects,"count"),f),objj_msgSend(e._plistObjects,"addObject:","$null")}else{d=objj_msgSend(h,
"classForKeyedArchiver");g=nil;if(d===b||d===a)g=h;else{g=objj_msgSend(CPDictionary,"dictionary");objj_msgSend(e._objects,"addObject:",h);(h=objj_msgSend(e,"classNameForClass:",d))||(h=objj_msgSend(objj_msgSend(e,"class"),"classNameForClass:",d));h?d=CPClassFromString(h):h=d.name;var i=objj_msgSend(e._UIDs,"objectForKey:",h);if(!i){var j=objj_msgSend(CPDictionary,"dictionary");i=[];objj_msgSend(j,"setObject:forKey:",h,"$classname");do objj_msgSend(i,"addObject:",CPStringFromClass(d));while(d=objj_msgSend(d,
"superclass"));objj_msgSend(j,"setObject:forKey:",i,"$classes");i=objj_msgSend(e._plistObjects,"count");objj_msgSend(e._plistObjects,"addObject:",j);objj_msgSend(e._UIDs,"setObject:forKey:",i,h)}objj_msgSend(g,"setObject:forKey:",objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",i,"CP$UID"),"$class")}d=objj_msgSend(e._conditionalUIDs,"objectForKey:",f);d!==nil?(objj_msgSend(e._UIDs,"setObject:forKey:",d,f),objj_msgSend(e._plistObjects,"replaceObjectAtIndex:withObject:",d,g)):(objj_msgSend(e._UIDs,
"setObject:forKey:",d=objj_msgSend(e._plistObjects,"count"),f),objj_msgSend(e._plistObjects,"addObject:",g))}return objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",d,"CP$UID")}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuItemStandardView.j",baseURL),function(h,f){f("CPControl.j",YES);var d=nil,c=nil,b=nil,a=[],e=[],g=objj_allocateClassPair(CPView,"_CPMenuItemStandardView"),i=g.isa;class_addIvars(g,[new objj_ivar("_menuItem"),new objj_ivar("_font"),new objj_ivar("_textColor"),new objj_ivar("_textShadowColor"),new objj_ivar("_minSize"),new objj_ivar("_isDirty"),new objj_ivar("_stateView"),new objj_ivar("_imageAndTextView"),new objj_ivar("_keyEquivalentView"),
new objj_ivar("_submenuIndicatorView")]);objj_registerClassPair(g);class_addMethods(g,[new objj_method(sel_getUid("menuItem"),function(a){with(a)return _menuItem}),new objj_method(sel_getUid("setMenuItem:"),function(a,b,c){with(a)_menuItem=c}),new objj_method(sel_getUid("minSize"),function(a){with(a)return _minSize}),new objj_method(sel_getUid("initWithFrame:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuItemStandardView").super_class},"initWithFrame:",
c))_stateView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMake(0,0,0,0)),objj_msgSend(_stateView,"setImageScaling:",CPScaleNone),objj_msgSend(a,"addSubview:",_stateView),_imageAndTextView=objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",CGRectMake(0,0,0,0)),objj_msgSend(_imageAndTextView,"setImagePosition:",CPImageLeft),objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(a,"addSubview:",_imageAndTextView),_keyEquivalentView=
objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",CGRectMake(0,0,0,0)),objj_msgSend(_keyEquivalentView,"setImagePosition:",CPNoImage),objj_msgSend(_keyEquivalentView,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(_keyEquivalentView,"setAutoresizingMask:",CPViewMinXMargin),objj_msgSend(a,"addSubview:",_keyEquivalentView),_submenuIndicatorView=objj_msgSend(objj_msgSend(_CPMenuItemSubmenuIndicatorView,"alloc"),"initWithFrame:",CGRectMake(0,0,8,10)),objj_msgSend(_submenuIndicatorView,
"setColor:",d),objj_msgSend(_submenuIndicatorView,"setAutoresizingMask:",CPViewMinXMargin),objj_msgSend(a,"addSubview:",_submenuIndicatorView),objj_msgSend(a,"setAutoresizingMask:",CPViewWidthSizable);return a}}),new objj_method(sel_getUid("textColor"),function(a){with(a){if(!objj_msgSend(_menuItem,"isEnabled"))return objj_msgSend(CPColor,"lightGrayColor");return _textColor||objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",70/255,69/255,69/255,1)}}),new objj_method(sel_getUid("textShadowColor"),
function(a){with(a){if(!objj_msgSend(_menuItem,"isEnabled"))return nil;return _textShadowColor||objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.8)}}),new objj_method(sel_getUid("setFont:"),function(a,b,c){with(a)_font=c}),new objj_method(sel_getUid("update"),function(b){with(b){var c=3+objj_msgSend(_menuItem,"indentationLevel")*17,e=0,d=objj_msgSend(objj_msgSend(_menuItem,"menu"),"showsStateColumn");d?(objj_msgSend(_stateView,"setHidden:",NO),objj_msgSend(_stateView,"setImage:",a[objj_msgSend(_menuItem,
"state")]||nil),c+=14):objj_msgSend(_stateView,"setHidden:",YES);objj_msgSend(_imageAndTextView,"setFont:",objj_msgSend(_menuItem,"font")||_font);objj_msgSend(_imageAndTextView,"setVerticalAlignment:",CPCenterVerticalTextAlignment);objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image"));objj_msgSend(_imageAndTextView,"setText:",objj_msgSend(_menuItem,"title"));objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(b,"textColor"));objj_msgSend(_imageAndTextView,"setTextShadowColor:",
objj_msgSend(b,"textShadowColor"));objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1));objj_msgSend(_imageAndTextView,"sizeToFit");var g=objj_msgSend(_imageAndTextView,"frame");g.origin.x=c;c+=CGRectGetWidth(g);e=MAX(e,CGRectGetHeight(g));var f=!!objj_msgSend(_menuItem,"keyEquivalent"),h=objj_msgSend(_menuItem,"hasSubmenu");if(f||h)c+=30;if(f){objj_msgSend(_keyEquivalentView,"setFont:",objj_msgSend(_menuItem,"font")||_font);objj_msgSend(_keyEquivalentView,"setVerticalAlignment:",
CPCenterVerticalTextAlignment);objj_msgSend(_keyEquivalentView,"setImage:",objj_msgSend(_menuItem,"image"));objj_msgSend(_keyEquivalentView,"setText:",objj_msgSend(_menuItem,"keyEquivalentStringRepresentation"));objj_msgSend(_keyEquivalentView,"setTextColor:",objj_msgSend(b,"textColor"));objj_msgSend(_keyEquivalentView,"setTextShadowColor:",objj_msgSend(b,"textShadowColor"));objj_msgSend(_keyEquivalentView,"setTextShadowOffset:",CGSizeMake(0,1));objj_msgSend(_keyEquivalentView,"setFrameOrigin:",CGPointMake(c,
4));objj_msgSend(_keyEquivalentView,"sizeToFit");var i=objj_msgSend(_keyEquivalentView,"frame");i.origin.x=c;c+=CGRectGetWidth(i);e=MAX(e,CGRectGetHeight(i));h&&(c+=30)}else objj_msgSend(_keyEquivalentView,"setHidden:",YES);if(h){objj_msgSend(_submenuIndicatorView,"setHidden:",NO);var q=objj_msgSend(_submenuIndicatorView,"frame");q.origin.x=c;c+=CGRectGetWidth(q);e=MAX(e,CGRectGetHeight(q))}else objj_msgSend(_submenuIndicatorView,"setHidden:",YES);e+=8;g.origin.y=FLOOR((e-CGRectGetHeight(g))/2);objj_msgSend(_imageAndTextView,
"setFrame:",g);d&&objj_msgSend(_stateView,"setFrameSize:",CGSizeMake(14,e));if(f)i.origin.y=FLOOR((e-CGRectGetHeight(i))/2),objj_msgSend(_keyEquivalentView,"setFrame:",i);if(h)q.origin.y=FLOOR((e-CGRectGetHeight(q))/2),objj_msgSend(_submenuIndicatorView,"setFrame:",q);_minSize=CGSizeMake(c+17,e);objj_msgSend(b,"setAutoresizesSubviews:",NO);objj_msgSend(b,"setFrameSize:",_minSize);objj_msgSend(b,"setAutoresizesSubviews:",YES)}}),new objj_method(sel_getUid("highlight:"),function(g,f,h){with(g){if(!objj_msgSend(_menuItem,
"isEnabled"))return;h?(objj_msgSend(g,"setBackgroundColor:",c),objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"alternateImage")||objj_msgSend(_menuItem,"image")),objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_keyEquivalentView,"setTextColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_imageAndTextView,"setTextShadowColor:",b),objj_msgSend(_keyEquivalentView,
"setTextShadowColor:",b)):(objj_msgSend(g,"setBackgroundColor:",nil),objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image")),objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(g,"textColor")),objj_msgSend(_keyEquivalentView,"setTextColor:",objj_msgSend(g,"textColor")),objj_msgSend(_submenuIndicatorView,"setColor:",d),objj_msgSend(_imageAndTextView,"setTextShadowColor:",objj_msgSend(g,"textShadowColor")),objj_msgSend(_keyEquivalentView,"setTextShadowColor:",objj_msgSend(g,
"textShadowColor")));objj_msgSend(objj_msgSend(_menuItem,"menu"),"showsStateColumn")&&(h?objj_msgSend(_stateView,"setImage:",e[objj_msgSend(_menuItem,"state")]||nil):objj_msgSend(_stateView,"setImage:",a[objj_msgSend(_menuItem,"state")]||nil))}})]);class_addMethods(i,[new objj_method(sel_getUid("initialize"),function(g){with(g){if(g!==objj_msgSend(_CPMenuItemStandardView,"class"))return;d=objj_msgSend(CPColor,"grayColor");c=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",95/255,131/
255,185/255,1);b=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",26/255,73/255,109/255,1);g=objj_msgSend(CPBundle,"bundleForClass:",g);a[CPOffState]=nil;e[CPOffState]=nil;a[CPOnState]=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(g,"pathForResource:","CPMenuItem/CPMenuItemOnState.png"),CGSizeMake(14,14));e[CPOnState]=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(g,"pathForResource:","CPMenuItem/CPMenuItemOnStateHighlighted.png"),
CGSizeMake(14,14));a[CPMixedState]=nil;e[CPMixedState]=nil}}),new objj_method(sel_getUid("view"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")}),new objj_method(sel_getUid("_standardLeftMargin"),function(a){with(a)return 17})]);g=objj_allocateClassPair(CPView,"_CPMenuItemSubmenuIndicatorView");i=g.isa;class_addIvars(g,[new objj_ivar("_color")]);objj_registerClassPair(g);class_addMethods(g,[new objj_method(sel_getUid("setColor:"),function(a,b,c){with(a){if(_color===c)return;
_color=c;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("drawRect:"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");a=objj_msgSend(a,"bounds");CGContextBeginPath(b);CGContextMoveToPoint(b,CGRectGetMinX(a),CGRectGetMinY(a));CGContextAddLineToPoint(b,CGRectGetMaxX(a),CGRectGetMidY(a));CGContextAddLineToPoint(b,CGRectGetMinX(a),CGRectGetMaxY(a));CGContextClosePath(b);CGContextSetFillColor(b,_color);CGContextFillPath(b)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPWindowController.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("Foundation/CPString.j",NO);f("CPResponder.j",YES);f("CPWindow.j",YES);f("CPDocument.j",YES);var d=objj_allocateClassPair(CPResponder,"CPWindowController");class_addIvars(d,[new objj_ivar("_window"),new objj_ivar("_documents"),new objj_ivar("_document"),new objj_ivar("_shouldCloseDocument"),new objj_ivar("_supportsMultipleDocuments"),new objj_ivar("_cibOwner"),
new objj_ivar("_windowCibName"),new objj_ivar("_windowCibPath"),new objj_ivar("_viewController"),new objj_ivar("_viewControllerContainerView")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("init"),function(c){with(c)return objj_msgSend(c,"initWithWindow:",nil)}),new objj_method(sel_getUid("initWithWindow:"),function(c,b,a){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPWindowController").super_class},"init"))objj_msgSend(c,"setWindow:",a),objj_msgSend(c,
"setShouldCloseDocument:",NO),objj_msgSend(c,"setNextResponder:",CPApp),_documents=[];return c}}),new objj_method(sel_getUid("initWithWindowCibName:"),function(c,b,a){with(c)return objj_msgSend(c,"initWithWindowCibName:owner:",a,c)}),new objj_method(sel_getUid("initWithWindowCibName:owner:"),function(c,b,a,e){with(c){if(c=objj_msgSend(c,"initWithWindow:",nil))_cibOwner=e,_windowCibName=a;return c}}),new objj_method(sel_getUid("initWithWindowCibPath:owner:"),function(c,b,a,e){with(c){if(c=objj_msgSend(c,
"initWithWindow:",nil))_cibOwner=e,_windowCibPath=a;return c}}),new objj_method(sel_getUid("loadWindow"),function(c){with(c){if(_window)return;objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"loadCibFile:externalNameTable:",objj_msgSend(c,"windowCibPath"),objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",_cibOwner,CPCibOwner))}}),new objj_method(sel_getUid("showWindow:"),function(c,b,a){with(c)c=objj_msgSend(c,"window"),objj_msgSend(c,"respondsToSelector:",sel_getUid("becomesKeyOnlyIfNeeded"))&&
objj_msgSend(c,"becomesKeyOnlyIfNeeded")?objj_msgSend(c,"orderFront:",a):objj_msgSend(c,"makeKeyAndOrderFront:",a)}),new objj_method(sel_getUid("isWindowLoaded"),function(c){with(c)return _window!==nil}),new objj_method(sel_getUid("window"),function(c){with(c){if(!_window){objj_msgSend(c,"windowWillLoad");objj_msgSend(_document,"windowControllerWillLoadCib:",c);objj_msgSend(c,"loadWindow");_window===nil&&objj_msgSend(_cibOwner,"isKindOfClass:",objj_msgSend(CPDocument,"class"))&&objj_msgSend(c,"setWindow:",
objj_msgSend(_cibOwner,"valueForKey:","window"));if(!_window){var b=objj_msgSend(CPString,"stringWithFormat:","Window for %@ could not be loaded from Cib or no window specified.                                                         Override loadWindow to load the window manually.",c);objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,b)}objj_msgSend(c,"windowDidLoad");objj_msgSend(_document,"windowControllerDidLoadCib:",c);objj_msgSend(c,"synchronizeWindowTitleWithDocumentName")}return _window}}),
new objj_method(sel_getUid("setWindow:"),function(c,b,a){with(c)objj_msgSend(_window,"setWindowController:",nil),_window=a,objj_msgSend(_window,"setWindowController:",c),objj_msgSend(_window,"setNextResponder:",c)}),new objj_method(sel_getUid("windowDidLoad"),function(c){with(c);}),new objj_method(sel_getUid("windowWillLoad"),function(c){with(c);}),new objj_method(sel_getUid("setDocument:"),function(c,b,a){with(c){if(_document===a)return;b=objj_msgSend(CPNotificationCenter,"defaultCenter");_document&&
(objj_msgSend(c,"supportsMultipleDocuments")||objj_msgSend(c,"removeDocument:",_document),objj_msgSend(b,"removeObserver:name:object:",c,CPDocumentWillSaveNotification,_document),objj_msgSend(b,"removeObserver:name:object:",c,CPDocumentDidSaveNotification,_document),objj_msgSend(b,"removeObserver:name:object:",c,CPDocumentDidFailToSaveNotification,_document));if(_document=a)objj_msgSend(c,"addDocument:",_document),objj_msgSend(b,"addObserver:selector:name:object:",c,sel_getUid("_documentWillSave:"),
CPDocumentWillSaveNotification,_document),objj_msgSend(b,"addObserver:selector:name:object:",c,sel_getUid("_documentDidSave:"),CPDocumentDidSaveNotification,_document),objj_msgSend(b,"addObserver:selector:name:object:",c,sel_getUid("_documentDidFailToSave:"),CPDocumentDidFailToSaveNotification,_document),objj_msgSend(c,"setDocumentEdited:",objj_msgSend(_document,"isDocumentEdited"));(a=objj_msgSend(_document,"viewControllerForWindowController:",c))&&objj_msgSend(c,"setViewController:",a);objj_msgSend(c,
"synchronizeWindowTitleWithDocumentName");objj_msgSend(objj_msgSend(objj_msgSend(c,"window"),"toolbar"),"validateVisibleItems")}}),new objj_method(sel_getUid("setSupportsMultipleDocuments:"),function(c,b,a){with(c)_supportsMultipleDocuments=a}),new objj_method(sel_getUid("supportsMultipleDocuments"),function(c){with(c)return _supportsMultipleDocuments}),new objj_method(sel_getUid("addDocument:"),function(c,b,a){with(c)a&&!objj_msgSend(_documents,"containsObject:",a)&&objj_msgSend(_documents,"addObject:",
a)}),new objj_method(sel_getUid("removeDocument:"),function(c,b,a){with(c){b=objj_msgSend(_documents,"indexOfObjectIdenticalTo:",a);if(b===CPNotFound)return;objj_msgSend(_documents,"removeObjectAtIndex:",b);_document===a&&objj_msgSend(_documents,"count")&&objj_msgSend(c,"setDocument:",objj_msgSend(_documents,"objectAtIndex:",MIN(b,objj_msgSend(_documents,"count")-1)))}}),new objj_method(sel_getUid("removeDocumentAndCloseIfNecessary:"),function(c,b,a){with(c)objj_msgSend(c,"removeDocument:",a),objj_msgSend(_documents,
"count")||objj_msgSend(c,"close")}),new objj_method(sel_getUid("documents"),function(c){with(c)return _documents}),new objj_method(sel_getUid("setViewControllerContainerView:"),function(c,b,a){with(c)_viewControllerContainerView=a}),new objj_method(sel_getUid("viewControllerContainerView"),function(c){with(c)return _viewControllerContainerView}),new objj_method(sel_getUid("setViewController:"),function(c,b,a){with(c){c=objj_msgSend(c,"viewControllerContainerView")||objj_msgSend(objj_msgSend(c,"window"),
"contentView");var e=(b=objj_msgSend(_viewController,"view"))?objj_msgSend(b,"frame"):objj_msgSend(c,"bounds");objj_msgSend(b,"removeFromSuperview");_viewController=a;if(b=objj_msgSend(_viewController,"view"))objj_msgSend(b,"setFrame:",e),objj_msgSend(c,"addSubview:",b)}}),new objj_method(sel_getUid("viewController"),function(c){with(c)return _viewController}),new objj_method(sel_getUid("_documentWillSave:"),function(c){with(c)objj_msgSend(objj_msgSend(c,"window"),"setDocumentSaving:",YES)}),new objj_method(sel_getUid("_documentDidSave:"),
function(c){with(c)objj_msgSend(objj_msgSend(c,"window"),"setDocumentSaving:",NO)}),new objj_method(sel_getUid("_documentDidFailToSave:"),function(c){with(c)objj_msgSend(objj_msgSend(c,"window"),"setDocumentSaving:",NO)}),new objj_method(sel_getUid("document"),function(c){with(c)return _document}),new objj_method(sel_getUid("setDocumentEdited:"),function(c,b,a){with(c)objj_msgSend(objj_msgSend(c,"window"),"setDocumentEdited:",a)}),new objj_method(sel_getUid("close"),function(c){with(c)objj_msgSend(objj_msgSend(c,
"window"),"close")}),new objj_method(sel_getUid("setShouldCloseDocument:"),function(c,b,a){with(c)_shouldCloseDocument=a}),new objj_method(sel_getUid("shouldCloseDocument"),function(c){with(c)return _shouldCloseDocument}),new objj_method(sel_getUid("owner"),function(c){with(c)return _cibOwner}),new objj_method(sel_getUid("windowCibName"),function(c){with(c){if(_windowCibName)return _windowCibName;return objj_msgSend(objj_msgSend(_windowCibPath,"lastPathComponent"),"stringByDeletingPathExtension")}}),
new objj_method(sel_getUid("windowCibPath"),function(c){with(c){if(_windowCibPath)return _windowCibPath;return objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",_windowCibName+".cib")}}),new objj_method(sel_getUid("synchronizeWindowTitleWithDocumentName"),function(c){with(c){if(!_document||!_window)return;objj_msgSend(_window,"setTitle:",objj_msgSend(c,"windowTitleForDocumentDisplayName:",objj_msgSend(_document,"displayName")))}}),new objj_method(sel_getUid("windowTitleForDocumentDisplayName:"),
function(c,b,a){with(c)return a})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPPasteboard.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("Foundation/CPArray.j",NO);f("Foundation/CPDictionary.j",NO);f("Foundation/CPPropertyListSerialization.j",NO);CPGeneralPboard="CPGeneralPboard";CPFontPboard="CPFontPboard";CPRulerPboard="CPRulerPboard";CPFindPboard="CPFindPboard";CPDragPboard="CPDragPboard";CPColorPboardType="CPColorPboardType";CPFilenamesPboardType="CPFilenamesPboardType";CPFontPboardType="CPFontPboardType";
CPHTMLPboardType="CPHTMLPboardType";CPStringPboardType="CPStringPboardType";CPURLPboardType="CPURLPboardType";CPImagesPboardType="CPImagesPboardType";CPVideosPboardType="CPVideosPboardType";UTF8PboardType="public.utf8-plain-text";CPImagePboardType="CPImagePboardType";var d=nil,c=NO,b=objj_allocateClassPair(CPObject,"CPPasteboard"),a=b.isa;class_addIvars(b,[new objj_ivar("_types"),new objj_ivar("_owners"),new objj_ivar("_provided"),new objj_ivar("_changeCount"),new objj_ivar("_stateUID"),new objj_ivar("_nativePasteboard")]);
objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("_initWithName:"),function(a,b,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPPasteboard").super_class},"init"))_name=e,_types=[],_owners=objj_msgSend(CPDictionary,"dictionary"),_provided=objj_msgSend(CPDictionary,"dictionary"),_changeCount=0,c&&(_nativePasteboard=window.cpPasteboardWithName(e),objj_msgSend(a,"_synchronizePasteboard"));return a}}),new objj_method(sel_getUid("addTypes:owner:"),function(a,
b,c,e){with(a){a=0;for(b=c.length;a<b;++a){var d=c[a];objj_msgSend(_owners,"objectForKey:",d)||(objj_msgSend(_types,"addObject:",d),objj_msgSend(_provided,"removeObjectForKey:",d));objj_msgSend(_owners,"setObject:forKey:",e,d)}_nativePasteboard&&(e=objj_msgSend(c,"copy"),objj_msgSend(c,"containsObject:",CPStringPboardType)&&e.push(UTF8PboardType),_nativePasteboard.addTypes_(e));return++_changeCount}}),new objj_method(sel_getUid("declareTypes:owner:"),function(a,b,c,e){with(a)objj_msgSend(a,"_declareTypes:owner:updateNativePasteboard:",
c,e,YES)}),new objj_method(sel_getUid("_declareTypes:owner:updateNativePasteboard:"),function(a,b,c,e,d){with(a){objj_msgSend(_types,"setArray:",c);_owners=objj_msgSend(CPDictionary,"dictionary");_provided=objj_msgSend(CPDictionary,"dictionary");for(a=_types.length;a--;)objj_msgSend(_owners,"setObject:forKey:",e,_types[a]);_nativePasteboard&&d&&(e=objj_msgSend(c,"copy"),objj_msgSend(c,"containsObject:",CPStringPboardType)&&e.push(UTF8PboardType),_nativePasteboard.declareTypes_(e),_changeCount=_nativePasteboard.changeCount());
return++_changeCount}}),new objj_method(sel_getUid("setData:forType:"),function(a,b,c,e){with(a)return objj_msgSend(_provided,"setObject:forKey:",c,e),e===CPStringPboardType&&objj_msgSend(a,"setData:forType:",c,UTF8PboardType),YES}),new objj_method(sel_getUid("setPropertyList:forType:"),function(a,b,c,e){with(a)return objj_msgSend(a,"setData:forType:",objj_msgSend(CPPropertyListSerialization,"dataFromPropertyList:format:",c,CPPropertyList280NorthFormat_v1_0),e)}),new objj_method(sel_getUid("setString:forType:"),
function(a,b,c,e){with(a)objj_msgSend(a,"setPropertyList:forType:",c,e)}),new objj_method(sel_getUid("availableTypeFromArray:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,"types"),"firstObjectCommonWithArray:",c)}),new objj_method(sel_getUid("types"),function(a){with(a)return objj_msgSend(a,"_synchronizePasteboard"),_types}),new objj_method(sel_getUid("changeCount"),function(a){with(a)return _changeCount}),new objj_method(sel_getUid("dataForType:"),function(a,b,c){with(a){if(b=objj_msgSend(_provided,
"objectForKey:",c))return b;if(b=objj_msgSend(_owners,"objectForKey:",c))return objj_msgSend(b,"pasteboard:provideDataForType:",a,c),objj_msgSend(_provided,"objectForKey:",c);if(c===CPStringPboardType)return objj_msgSend(a,"dataForType:",UTF8PboardType);return nil}}),new objj_method(sel_getUid("_synchronizePasteboard"),function(a){with(a)if(_nativePasteboard&&_nativePasteboard.changeCount()>_changeCount){var b=objj_msgSend(_nativePasteboard.types(),"copy");objj_msgSend(b,"containsObject:",UTF8PboardType)&&
b.push(CPStringPboardType);objj_msgSend(a,"_declareTypes:owner:updateNativePasteboard:",b,a,NO);_changeCount=_nativePasteboard.changeCount()}}),new objj_method(sel_getUid("pasteboard:provideDataForType:"),function(a,b,c,e){with(a)e===CPStringPboardType?(b=_nativePasteboard.stringForType_(UTF8PboardType),objj_msgSend(a,"setString:forType:",b,CPStringPboardType),objj_msgSend(a,"setString:forType:",b,UTF8PboardType)):objj_msgSend(a,"setString:forType:",_nativePasteboard.stringForType_(e),e)}),new objj_method(sel_getUid("propertyListForType:"),
function(a,b,c){with(a){if(a=objj_msgSend(a,"dataForType:",c))return objj_msgSend(CPPropertyListSerialization,"propertyListFromData:format:",a,CPPropertyList280NorthFormat_v1_0);return nil}}),new objj_method(sel_getUid("stringForType:"),function(a,b,c){with(a)return objj_msgSend(a,"propertyListForType:",c)}),new objj_method(sel_getUid("_generateStateUID"),function(a){with(a){a=32;for(_stateUID="";a--;)_stateUID+=FLOOR(RAND()*16).toString(16).toUpperCase();return _stateUID}}),new objj_method(sel_getUid("_stateUID"),
function(a){with(a)return _stateUID})]);class_addMethods(a,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(CPPasteboard,"class"))return;objj_msgSend(a,"setVersion:",1);d=objj_msgSend(CPDictionary,"dictionary");typeof window.cpPasteboardWithName!=="undefined"&&(c=YES)}}),new objj_method(sel_getUid("generalPasteboard"),function(a){with(a)return objj_msgSend(CPPasteboard,"pasteboardWithName:",CPGeneralPboard)}),new objj_method(sel_getUid("pasteboardWithName:"),function(a,
b,c){with(a){if(a=objj_msgSend(d,"objectForKey:",c))return a;a=objj_msgSend(objj_msgSend(CPPasteboard,"alloc"),"_initWithName:",c);objj_msgSend(d,"setObject:forKey:",a,c);return a}})]);var e=nil;b=objj_allocateClassPair(CPPasteboard,"_CPDOMDataTransferPasteboard");a=b.isa;class_addIvars(b,[new objj_ivar("_dataTransfer")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("_setDataTransfer:"),function(a,b,c){with(a)_dataTransfer=c}),new objj_method(sel_getUid("_setPasteboard:"),
function(a,b,c){with(a){_dataTransfer.clearData();a=objj_msgSend(c,"types");for(b=a.length;b--;){var e=a[b];e===CPStringPboardType?_dataTransfer.setData(e,objj_msgSend(c,"stringForType:",e)):_dataTransfer.setData(e,objj_msgSend(objj_msgSend(c,"dataForType:",e),"rawString"))}}}),new objj_method(sel_getUid("types"),function(a){with(a)return Array.prototype.slice.apply(_dataTransfer.types)}),new objj_method(sel_getUid("dataForType:"),function(a,b,c){with(a){a=_dataTransfer.getData(c);if(c===CPStringPboardType)return objj_msgSend(CPData,
"dataFromPropertyList:format:",a,kCFPropertyList280NorthFormat_v1_0);return objj_msgSend(CPData,"dataWithRawString:",a)}}),new objj_method(sel_getUid("propertyListForType:"),function(a,b,c){with(a){if(c===CPStringPboardType)return _dataTransfer.getData(c);return objj_msgSend(CPPropertyListSerialization,"propertyListFromData:format:",objj_msgSend(a,"dataForType:",c),CPPropertyListUnknownFormat)}})]);class_addMethods(a,[new objj_method(sel_getUid("DOMDataTransferPasteboard"),function(a){with(a)return e||
(e=objj_msgSend(objj_msgSend(_CPDOMDataTransferPasteboard,"alloc"),"init")),e})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuItemMenuBarView.j",baseURL),function(h,f){f("CPView.j",YES);var d=nil,c=nil,b=objj_allocateClassPair(CPView,"_CPMenuItemMenuBarView"),a=b.isa;class_addIvars(b,[new objj_ivar("_menuItem"),new objj_ivar("_font"),new objj_ivar("_textColor"),new objj_ivar("_textShadowColor"),new objj_ivar("_isDirty"),new objj_ivar("_imageAndTextView"),new objj_ivar("_submenuIndicatorView")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("menuItem"),
function(a){with(a)return _menuItem}),new objj_method(sel_getUid("setMenuItem:"),function(a,b,c){with(a)_menuItem=c}),new objj_method(sel_getUid("initWithFrame:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuItemMenuBarView").super_class},"initWithFrame:",c))_imageAndTextView=objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",CGRectMake(8,0,0,0)),objj_msgSend(_imageAndTextView,"setImagePosition:",CPImageLeft),objj_msgSend(_imageAndTextView,
"setImageOffset:",3),objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(_imageAndTextView,"setAutoresizingMask:",CPViewMinYMargin|CPViewMaxYMargin),objj_msgSend(a,"addSubview:",_imageAndTextView),_submenuIndicatorView=objj_msgSend(objj_msgSend(_CPMenuItemMenuBarSubmenuIndicatorView,"alloc"),"initWithFrame:",CGRectMake(0,0,9,6)),objj_msgSend(_submenuIndicatorView,"setAutoresizingMask:",CPViewMinYMargin|CPViewMaxYMargin),objj_msgSend(a,"addSubview:",_submenuIndicatorView),
objj_msgSend(a,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable);return a}}),new objj_method(sel_getUid("textColor"),function(a){with(a){if(!objj_msgSend(_menuItem,"isEnabled"))return objj_msgSend(CPColor,"lightGrayColor");return _textColor||objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",70/255,69/255,69/255,1)}}),new objj_method(sel_getUid("textShadowColor"),function(a){with(a){if(!objj_msgSend(_menuItem,"isEnabled"))return objj_msgSend(CPColor,"colorWithWhite:alpha:",
0.8,0.8);return _textShadowColor||objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.8)}}),new objj_method(sel_getUid("update"),function(a){with(a){var b=8,c=0;objj_msgSend(_imageAndTextView,"setFont:",objj_msgSend(_menuItem,"font")||objj_msgSend(_CPMenuBarWindow,"font"));objj_msgSend(_imageAndTextView,"setVerticalAlignment:",CPCenterVerticalTextAlignment);objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image"));objj_msgSend(_imageAndTextView,"setText:",objj_msgSend(_menuItem,"title"));
objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(a,"textColor"));objj_msgSend(_imageAndTextView,"setTextShadowColor:",objj_msgSend(a,"textShadowColor"));objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1));objj_msgSend(_imageAndTextView,"sizeToFit");var d=objj_msgSend(_imageAndTextView,"frame");d.origin.x=b;b+=CGRectGetWidth(d);c=MAX(c,CGRectGetHeight(d));var f=objj_msgSend(_menuItem,"hasSubmenu")&&objj_msgSend(_menuItem,"action");if(f){objj_msgSend(_submenuIndicatorView,
"setHidden:",NO);objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(a,"textColor"));objj_msgSend(_submenuIndicatorView,"setShadowColor:",objj_msgSend(a,"textShadowColor"));var h=objj_msgSend(_submenuIndicatorView,"frame");h.origin.x=b+3;b=CGRectGetMaxX(h);c=MAX(c,CGRectGetHeight(h))}else objj_msgSend(_submenuIndicatorView,"setHidden:",YES);c+=8;d.origin.y=FLOOR((c-CGRectGetHeight(d))/2);objj_msgSend(_imageAndTextView,"setFrame:",d);if(f)h.origin.y=FLOOR((c-CGRectGetHeight(h))/2)+1,objj_msgSend(_submenuIndicatorView,
"setFrame:",h);_minSize=CGSizeMake(b+8,c);objj_msgSend(a,"setAutoresizesSubviews:",NO);objj_msgSend(a,"setFrameSize:",_minSize);objj_msgSend(a,"setAutoresizesSubviews:",YES)}}),new objj_method(sel_getUid("highlight:"),function(a,b,f){with(a)objj_msgSend(_menuItem,"isEnabled")||(f=NO),f?(objj_msgSend(_menuItem,"_isMenuBarButton")||objj_msgSend(a,"setBackgroundColor:",d),objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"alternateImage")||objj_msgSend(_menuItem,"image")),objj_msgSend(_imageAndTextView,
"setTextColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_imageAndTextView,"setTextShadowColor:",c),objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_submenuIndicatorView,"setShadowColor:",objj_msgSend(CPColor,"colorWithWhite:alpha:",0.1,0.7))):(objj_msgSend(a,"setBackgroundColor:",nil),objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image")),objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(a,"textColor")),objj_msgSend(_imageAndTextView,
"setTextShadowColor:",objj_msgSend(a,"textShadowColor")),objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(a,"textColor")),objj_msgSend(_submenuIndicatorView,"setShadowColor:",objj_msgSend(a,"textShadowColor")))})]);class_addMethods(a,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==objj_msgSend(_CPMenuItemMenuBarView,"class"))return;a=objj_msgSend(CPBundle,"bundleForClass:",a);d=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),
"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuBarWindow/_CPMenuBarWindowBackgroundSelected.png"),CGSizeMake(1,28)));objj_msgSend(CPColor,"grayColor");objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",95/255,131/255,185/255,1);c=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",26/255,73/255,109/255,1);objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPMenuItem/CPMenuItemOnState.png"),
CGSizeMake(14,14));objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPMenuItem/CPMenuItemOnStateHighlighted.png"),CGSizeMake(14,14))}}),new objj_method(sel_getUid("view"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")})]);b=objj_allocateClassPair(CPView,"_CPMenuItemMenuBarSubmenuIndicatorView");a=b.isa;class_addIvars(b,[new objj_ivar("_color"),new objj_ivar("_shadowColor")]);objj_registerClassPair(b);class_addMethods(b,
[new objj_method(sel_getUid("setColor:"),function(a,b,c){with(a){if(_color===c)return;_color=c;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("setShadowColor:"),function(a,b,c){with(a){if(_shadowColor===c)return;_shadowColor=c;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("drawRect:"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");a=objj_msgSend(a,"bounds");a.size.height-=1;a.size.width-=2;a.origin.x+=
1;CGContextBeginPath(b);CGContextMoveToPoint(b,CGRectGetMinX(a),CGRectGetMinY(a));CGContextAddLineToPoint(b,CGRectGetMaxX(a),CGRectGetMinY(a));CGContextAddLineToPoint(b,CGRectGetMidX(a),CGRectGetMaxY(a));CGContextClosePath(b);CGContextSetShadowWithColor(b,CGSizeMake(0,1),1.1,_shadowColor||objj_msgSend(CPColor,"whiteColor"));CGContextSetFillColor(b,_color||objj_msgSend(CPColor,"blackColor"));CGContextFillPath(b)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPObject.j",baseURL),function(){var h=objj_allocateClassPair(Nil,"CPObject"),f=h.isa;class_addIvars(h,[new objj_ivar("isa")]);objj_registerClassPair(h);class_addMethods(h,[new objj_method(sel_getUid("init"),function(d){with(d)return d}),new objj_method(sel_getUid("copy"),function(d){with(d)return d}),new objj_method(sel_getUid("mutableCopy"),function(d){with(d)return objj_msgSend(d,"copy")}),new objj_method(sel_getUid("dealloc"),
function(d){with(d);}),new objj_method(sel_getUid("class"),function(d){with(d)return isa}),new objj_method(sel_getUid("isKindOfClass:"),function(d,c,b){with(d)return objj_msgSend(isa,"isSubclassOfClass:",b)}),new objj_method(sel_getUid("isMemberOfClass:"),function(d,c,b){with(d)return d.isa===b}),new objj_method(sel_getUid("isProxy"),function(d){with(d)return NO}),new objj_method(sel_getUid("respondsToSelector:"),function(d,c,b){with(d)return!!class_getInstanceMethod(isa,b)}),new objj_method(sel_getUid("implementsSelector:"),
function(d,c,b){with(d){d=class_copyMethodList(isa);for(c=d.length;c--;)if(method_getName(d[c])===b)return YES;return NO}}),new objj_method(sel_getUid("methodForSelector:"),function(d,c,b){with(d)return class_getMethodImplementation(isa,b)}),new objj_method(sel_getUid("methodSignatureForSelector:"),function(d){with(d)return nil}),new objj_method(sel_getUid("description"),function(d){with(d)return"<"+class_getName(isa)+" 0x"+objj_msgSend(CPString,"stringWithHash:",objj_msgSend(d,"UID"))+">"}),new objj_method(sel_getUid("performSelector:"),
function(d,c,b){with(d)return objj_msgSend(d,b)}),new objj_method(sel_getUid("performSelector:withObject:"),function(d,c,b,a){with(d)return objj_msgSend(d,b,a)}),new objj_method(sel_getUid("performSelector:withObject:withObject:"),function(d,c,b,a,e){with(d)return objj_msgSend(d,b,a,e)}),new objj_method(sel_getUid("forwardInvocation:"),function(d,c,b){with(d)objj_msgSend(d,"doesNotRecognizeSelector:",objj_msgSend(b,"selector"))}),new objj_method(sel_getUid("forward::"),function(d,c,b,a){with(d){if(c=
objj_msgSend(d,"methodSignatureForSelector:",b)){c=objj_msgSend(CPInvocation,"invocationWithMethodSignature:",c);objj_msgSend(c,"setTarget:",d);objj_msgSend(c,"setSelector:",b);b=2;for(var e=a.length;b<e;++b)objj_msgSend(c,"setArgument:atIndex:",a[b],b);objj_msgSend(d,"forwardInvocation:",c);return objj_msgSend(c,"returnValue")}objj_msgSend(d,"doesNotRecognizeSelector:",b)}}),new objj_method(sel_getUid("doesNotRecognizeSelector:"),function(d,c,b){with(d)objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,
(class_isMetaClass(isa)?"+":"-")+" ["+objj_msgSend(d,"className")+" "+b+"] unrecognized selector sent to "+(class_isMetaClass(isa)?"class":"instance")+" 0x"+objj_msgSend(CPString,"stringWithHash:",objj_msgSend(d,"UID")))}),new objj_method(sel_getUid("awakeAfterUsingCoder:"),function(d){with(d)return d}),new objj_method(sel_getUid("classForKeyedArchiver"),function(d){with(d)return objj_msgSend(d,"classForCoder")}),new objj_method(sel_getUid("classForCoder"),function(d){with(d)return objj_msgSend(d,
"class")}),new objj_method(sel_getUid("replacementObjectForArchiver:"),function(d,c,b){with(d)return objj_msgSend(d,"replacementObjectForCoder:",b)}),new objj_method(sel_getUid("replacementObjectForKeyedArchiver:"),function(d,c,b){with(d)return objj_msgSend(d,"replacementObjectForCoder:",b)}),new objj_method(sel_getUid("replacementObjectForCoder:"),function(d){with(d)return d}),new objj_method(sel_getUid("className"),function(d){with(d)return isa.name}),new objj_method(sel_getUid("autorelease"),function(d){with(d)return d}),
new objj_method(sel_getUid("hash"),function(d){with(d)return objj_msgSend(d,"UID")}),new objj_method(sel_getUid("UID"),function(d){with(d){if(typeof d._UID==="undefined")d._UID=objj_generateObjectUID();return _UID+""}}),new objj_method(sel_getUid("isEqual:"),function(d,c,b){with(d)return d===b||objj_msgSend(d,"UID")===objj_msgSend(b,"UID")}),new objj_method(sel_getUid("retain"),function(d){with(d)return d}),new objj_method(sel_getUid("release"),function(d){with(d);}),new objj_method(sel_getUid("self"),
function(d){with(d)return d}),new objj_method(sel_getUid("superclass"),function(d){with(d)return isa.super_class})]);class_addMethods(f,[new objj_method(sel_getUid("load"),function(d){with(d);}),new objj_method(sel_getUid("initialize"),function(d){with(d);}),new objj_method(sel_getUid("new"),function(d){with(d)return objj_msgSend(objj_msgSend(d,"alloc"),"init")}),new objj_method(sel_getUid("alloc"),function(d){with(d)return class_createInstance(d)}),new objj_method(sel_getUid("allocWithCoder:"),function(d){with(d)return objj_msgSend(d,
"alloc")}),new objj_method(sel_getUid("class"),function(d){with(d)return d}),new objj_method(sel_getUid("superclass"),function(d){with(d)return super_class}),new objj_method(sel_getUid("isSubclassOfClass:"),function(d,c,b){with(d){for(;d;d=d.super_class)if(d===b)return YES;return NO}}),new objj_method(sel_getUid("isKindOfClass:"),function(d,c,b){with(d)return objj_msgSend(d,"isSubclassOfClass:",b)}),new objj_method(sel_getUid("isMemberOfClass:"),function(d,c,b){with(d)return d===b}),new objj_method(sel_getUid("instancesRespondToSelector:"),
function(d,c,b){with(d)return!!class_getInstanceMethod(d,b)}),new objj_method(sel_getUid("instanceMethodForSelector:"),function(d,c,b){with(d)return class_getMethodImplementation(d,b)}),new objj_method(sel_getUid("description"),function(d){with(d)return class_getName(isa)}),new objj_method(sel_getUid("setVersion:"),function(d,c,b){with(d)class_setVersion(d,b)}),new objj_method(sel_getUid("version"),function(d){with(d)return class_getVersion(d)})]);objj_class.prototype.toString=objj_object.prototype.toString=
function(){return this.isa&&class_getInstanceMethod(this.isa,"description")!=NULL?objj_msgSend(this,"description"):String(this)+" (-description not implemented)"}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGGeometry.j",baseURL),function(){CGPointMake=function(h,f){return{x:h,y:f}};CGPointMakeZero=function(){return{x:0,y:0}};CGPointMakeCopy=function(h){return{x:h.x,y:h.y}};CGPointCreateCopy=function(h){return{x:h.x,y:h.y}};CGPointEqualToPoint=function(h,f){return h.x==f.x&&h.y==f.y};CGStringFromPoint=function(h){return"{"+h.x+", "+h.y+"}"};CGSizeMake=function(h,f){return{width:h,height:f}};CGSizeMakeZero=function(){return{width:0,
height:0}};CGSizeMakeCopy=function(h){return{width:h.width,height:h.height}};CGSizeCreateCopy=function(h){return{width:h.width,height:h.height}};CGSizeEqualToSize=function(h,f){return h.width==f.width&&h.height==f.height};CGStringFromSize=function(h){return"{"+h.width+", "+h.height+"}"};CGRectMake=function(h,f,d,c){return{origin:{x:h,y:f},size:{width:d,height:c}}};CGRectMakeZero=function(){return{origin:{x:0,y:0},size:{width:0,height:0}}};CGRectMakeCopy=function(h){return{origin:{x:h.origin.x,y:h.origin.y},
size:{width:h.size.width,height:h.size.height}}};CGRectCreateCopy=function(h){return{origin:{x:h.origin.x,y:h.origin.y},size:{width:h.size.width,height:h.size.height}}};CGRectEqualToRect=function(h,f){return h.origin.x==f.origin.x&&h.origin.y==f.origin.y&&h.size.width==f.size.width&&h.size.height==f.size.height};CGStringFromRect=function(h){return"{"+("{"+h.origin.x+", "+h.origin.y+"}")+", "+("{"+h.size.width+", "+h.size.height+"}")+"}"};CGRectOffset=function(h,f,d){return{origin:{x:h.origin.x+f,
y:h.origin.y+d},size:{width:h.size.width,height:h.size.height}}};CGRectInset=function(h,f,d){return{origin:{x:h.origin.x+f,y:h.origin.y+d},size:{width:h.size.width-2*f,height:h.size.height-2*d}}};CGRectGetHeight=function(h){return h.size.height};CGRectGetMaxX=function(h){return h.origin.x+h.size.width};CGRectGetMaxY=function(h){return h.origin.y+h.size.height};CGRectGetMidX=function(h){return h.origin.x+h.size.width/2};CGRectGetMidY=function(h){return h.origin.y+h.size.height/2};CGRectGetMinX=function(h){return h.origin.x};
CGRectGetMinY=function(h){return h.origin.y};CGRectGetWidth=function(h){return h.size.width};CGRectIsEmpty=function(h){return h.size.width<=0||h.size.height<=0};CGRectIsNull=function(h){return h.size.width<=0||h.size.height<=0};CGRectContainsPoint=function(h,f){return f.x>=h.origin.x&&f.y>=h.origin.y&&f.x<h.origin.x+h.size.width&&f.y<h.origin.y+h.size.height};CGInsetMake=function(h,f,d,c){return{top:h,right:f,bottom:d,left:c}};CGInsetMakeZero=function(){return{top:0,right:0,bottom:0,left:0}};CGInsetMakeCopy=
function(h){return{top:h.top,right:h.right,bottom:h.bottom,left:h.left}};CGInsetIsEmpty=function(h){return h.top===0&&h.right===0&&h.bottom===0&&h.left===0};CGInsetEqualToInset=function(h,f){return h.top===f.top&&h.right===f.right&&h.bottom===f.bottom&&h.left===f.left};CGMinXEdge=0;CGMinYEdge=1;CGMaxXEdge=2;CGMaxYEdge=3;CGRectNull={origin:{x:Infinity,y:Infinity},size:{width:0,height:0}};CGRectDivide=function(h,f,d,c,b){f.origin={x:h.origin.x,y:h.origin.y};f.size={width:h.size.width,height:h.size.height};
d.origin={x:h.origin.x,y:h.origin.y};d.size={width:h.size.width,height:h.size.height};switch(b){case CGMinXEdge:f.size.width=c;d.origin.x+=c;d.size.width-=c;break;case CGMaxXEdge:f.origin.x=f.origin.x+f.size.width-c;f.size.width=c;d.size.width-=c;break;case CGMinYEdge:f.size.height=c;d.origin.y+=c;d.size.height-=c;break;case CGMaxYEdge:f.origin.y=f.origin.y+f.size.height-c,f.size.height=c,d.size.height-=c}};CGRectContainsRect=function(h,f){var d=CGRectUnion(h,f);return d.origin.x==h.origin.x&&d.origin.y==
h.origin.y&&d.size.width==h.size.width&&d.size.height==h.size.height};CGRectIntersectsRect=function(h,f){var d=CGRectIntersection(h,f);return!(d.size.width<=0||d.size.height<=0)};CGRectIntegral=function(h){h=CGRectStandardize(h);var f=FLOOR(h.origin.x),d=FLOOR(h.origin.y);h.size.width=CEIL(h.origin.x+h.size.width)-f;h.size.height=CEIL(h.origin.y+h.size.height)-d;h.origin.x=f;h.origin.y=d;return h};CGRectIntersection=function(h,f){var d={origin:{x:MAX(h.origin.x,f.origin.x),y:MAX(h.origin.y,f.origin.y)},
size:{width:0,height:0}};d.size.width=MIN(h.origin.x+h.size.width,f.origin.x+f.size.width)-d.origin.x;d.size.height=MIN(h.origin.y+h.size.height,f.origin.y+f.size.height)-d.origin.y;return d.size.width<=0||d.size.height<=0?{origin:{x:0,y:0},size:{width:0,height:0}}:d};CGRectStandardize=function(h){var f=h.size.width,d=h.size.height;h={origin:{x:h.origin.x,y:h.origin.y},size:{width:h.size.width,height:h.size.height}};if(f<0)h.origin.x+=f,h.size.width=-f;if(d<0)h.origin.y+=d,h.size.height=-d;return h};
CGRectUnion=function(h,f){var d=!h||h===CGRectNull,c=!f||f===CGRectNull;if(d)return c?CGRectNull:f;if(c)return d?CGRectNull:h;d=MIN(h.origin.x,f.origin.x);c=MIN(h.origin.y,f.origin.y);var b=MAX(h.origin.x+h.size.width,f.origin.x+f.size.width),a=MAX(h.origin.y+h.size.height,f.origin.y+f.size.height);return{origin:{x:d,y:c},size:{width:b-d,height:a-c}}};CGPointFromString=function(h){var f=h.indexOf(",");return{x:parseInt(h.substr(1,f-1)),y:parseInt(h.substring(f+1,h.length))}};CGSizeFromString=function(h){var f=
h.indexOf(",");return{width:parseInt(h.substr(1,f-1)),height:parseInt(h.substring(f+1,h.length))}};CGRectFromString=function(h){var f=h.indexOf(",",h.indexOf(",")+1);return{origin:CGPointFromString(h.substr(1,f-1)),size:CGSizeFromString(h.substring(f+2,h.length))}};CGPointFromEvent=function(h){return{x:h.clientX,y:h.clientY}};CGInsetFromCPString=CGInsetFromString=function(h){h=h.substr(1,h.length-2).split(",");return{top:parseFloat(h[0]),right:parseFloat(h[1]),bottom:parseFloat(h[2]),left:parseFloat(h[3])}};
CPStringFromCGInset=function(h){return"{"+h.top+", "+h.left+", "+h.bottom+", "+h.right+"}"}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPURL.j",baseURL),function(h,f){f("CPObject.j",YES);f("CPString.j",YES);CPURLNameKey="CPURLNameKey";CPURLLocalizedNameKey="CPURLLocalizedNameKey";CPURLIsRegularFileKey="CPURLIsRegularFileKey";CPURLIsDirectoryKey="CPURLIsDirectoryKey";CPURLIsSymbolicLinkKey="CPURLIsSymbolicLinkKey";CPURLIsVolumeKey="CPURLIsVolumeKey";CPURLIsPackageKey="CPURLIsPackageKey";CPURLIsSystemImmutableKey="CPURLIsSystemImmutableKey";CPURLIsUserImmutableKey=
"CPURLIsUserImmutableKey";CPURLIsHiddenKey="CPURLIsHiddenKey";CPURLHasHiddenExtensionKey="CPURLHasHiddenExtensionKey";CPURLCreationDateKey="CPURLCreationDateKey";CPURLContentAccessDateKey="CPURLContentAccessDateKey";CPURLContentModificationDateKey="CPURLContentModificationDateKey";CPURLAttributeModificationDateKey="CPURLAttributeModificationDateKey";CPURLLinkCountKey="CPURLLinkCountKey";CPURLParentDirectoryURLKey="CPURLParentDirectoryURLKey";CPURLTypeIdentifierKey=CPURLVolumeURLKey="CPURLTypeIdentifierKey";
CPURLLocalizedTypeDescriptionKey="CPURLLocalizedTypeDescriptionKey";CPURLLabelNumberKey="CPURLLabelNumberKey";CPURLLabelColorKey="CPURLLabelColorKey";CPURLLocalizedLabelKey="CPURLLocalizedLabelKey";CPURLEffectiveIconKey="CPURLEffectiveIconKey";CPURLCustomIconKey="CPURLCustomIconKey";var d=objj_allocateClassPair(CPObject,"CPURL"),c=d.isa;objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("init"),function(b){with(b)return nil}),new objj_method(sel_getUid("initWithScheme:host:path:"),
function(b,a,c,d,f){with(b)return objj_msgSend(b,"initWithString:",(c?c+":":"")+(d?d+"//":"")+(f||""))}),new objj_method(sel_getUid("initWithString:"),function(b,a,c){with(b)return objj_msgSend(b,"initWithString:relativeToURL:",c,nil)}),new objj_method(sel_getUid("initWithString:relativeToURL:"),function(b,a,c,d){with(b)return a=new CFURL(c,d),a.isa=objj_msgSend(b,"class"),a}),new objj_method(sel_getUid("absoluteURL"),function(b){with(b)return b.absoluteURL()}),new objj_method(sel_getUid("baseURL"),
function(b){with(b)return b.baseURL()}),new objj_method(sel_getUid("absoluteString"),function(b){with(b)return b.absoluteString()}),new objj_method(sel_getUid("relativeString"),function(b){with(b)return b.string()}),new objj_method(sel_getUid("path"),function(b){with(b)return objj_msgSend(b,"absoluteURL").path()}),new objj_method(sel_getUid("pathComponents"),function(b){with(b)return b=b.pathComponents(),objj_msgSend(b,"copy")}),new objj_method(sel_getUid("relativePath"),function(b){with(b)return b.path()}),
new objj_method(sel_getUid("scheme"),function(b){with(b)return b.scheme()}),new objj_method(sel_getUid("user"),function(b){with(b)return objj_msgSend(b,"absoluteURL").user()}),new objj_method(sel_getUid("password"),function(b){with(b)return objj_msgSend(b,"absoluteURL").password()}),new objj_method(sel_getUid("host"),function(b){with(b)return objj_msgSend(b,"absoluteURL").domain()}),new objj_method(sel_getUid("port"),function(b){with(b){b=objj_msgSend(b,"absoluteURL").portNumber();if(b===-1)return nil;
return b}}),new objj_method(sel_getUid("parameterString"),function(b){with(b)return b.queryString()}),new objj_method(sel_getUid("fragment"),function(b){with(b)return b.fragment()}),new objj_method(sel_getUid("isEqual:"),function(b,a,c){with(b){if(b===c)return YES;if(!c||!objj_msgSend(c,"isKindOfClass:",objj_msgSend(CPURL,"class")))return NO;return objj_msgSend(b,"isEqualToURL:",c)}}),new objj_method(sel_getUid("isEqualToURL:"),function(b,a,c){with(b){if(b===c)return YES;return objj_msgSend(b,"relativeString")===
objj_msgSend(c,"relativeString")&&(objj_msgSend(b,"baseURL")===objj_msgSend(c,"baseURL")||objj_msgSend(objj_msgSend(b,"baseURL"),"isEqual:",objj_msgSend(c,"baseURL")))}}),new objj_method(sel_getUid("lastPathComponent"),function(b){with(b)return objj_msgSend(b,"absoluteURL").lastPathComponent()}),new objj_method(sel_getUid("pathExtension"),function(b){with(b)return b.pathExtension()}),new objj_method(sel_getUid("standardizedURL"),function(b){with(b)return b.standardizedURL()}),new objj_method(sel_getUid("isFileURL"),
function(b){with(b)return objj_msgSend(b,"scheme")==="file"}),new objj_method(sel_getUid("description"),function(b){with(b)return objj_msgSend(b,"absoluteString")}),new objj_method(sel_getUid("resourceValueForKey:"),function(b,a,c){with(b)return b.resourcePropertyForKey(c)}),new objj_method(sel_getUid("setResourceValue:forKey:"),function(b,a,c,d){with(b)return b.setResourcePropertyForKey(d,c)}),new objj_method(sel_getUid("staticResourceData"),function(b){with(b)return b.staticResourceData()})]);class_addMethods(c,
[new objj_method(sel_getUid("alloc"),function(b){with(b){var a=new CFURL;a.isa=objj_msgSend(b,"class");return a}}),new objj_method(sel_getUid("URLWithString:"),function(b,a,c){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithString:",c)}),new objj_method(sel_getUid("URLWithString:relativeToURL:"),function(b,a,c,d){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithString:relativeToURL:",c,d)})]);d=objj_getClass("CPURL");if(!d)throw new SyntaxError('*** Could not find definition for class "CPURL"');
c=d.isa;class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(b,a,c){with(b)return objj_msgSend(b,"initWithString:relativeToURL:",objj_msgSend(c,"decodeObjectForKey:","CPURLURLStringKey"),objj_msgSend(c,"decodeObjectForKey:","CPURLBaseURLKey"))}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,a,c){with(b)objj_msgSend(c,"encodeObject:forKey:",_baseURL,"CPURLBaseURLKey"),objj_msgSend(c,"encodeObject:forKey:",_string,"CPURLURLStringKey")})]);CFURL.prototype.isa=objj_msgSend(CPURL,
"class")});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPAnimation.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("Foundation/CPTimer.j",NO);f("CAMediaTimingFunction.j",YES);CPAnimationEaseInOut=0;CPAnimationEaseIn=1;CPAnimationEaseOut=2;CPAnimationLinear=3;ACTUAL_FRAME_RATE=0;var d=objj_allocateClassPair(CPObject,"CPAnimation");class_addIvars(d,[new objj_ivar("_lastTime"),new objj_ivar("_duration"),new objj_ivar("_animationCurve"),new objj_ivar("_timingFunction"),new objj_ivar("_frameRate"),
new objj_ivar("_progress"),new objj_ivar("_delegate"),new objj_ivar("_timer")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithDuration:animationCurve:"),function(b,a,c,d){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPAnimation").super_class},"init"))_progress=0,_duration=MAX(0,c),_frameRate=60,objj_msgSend(b,"setAnimationCurve:",d);return b}}),new objj_method(sel_getUid("setAnimationCurve:"),function(b,a,c){with(b){switch(c){case CPAnimationEaseInOut:timingFunctionName=
kCAMediaTimingFunctionEaseInEaseOut;break;case CPAnimationEaseIn:timingFunctionName=kCAMediaTimingFunctionEaseIn;break;case CPAnimationEaseOut:timingFunctionName=kCAMediaTimingFunctionEaseOut;break;case CPAnimationLinear:timingFunctionName=kCAMediaTimingFunctionLinear;break;default:objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Invalid value provided for animation curve")}_animationCurve=c;_timingFunction=objj_msgSend(CAMediaTimingFunction,"functionWithName:",timingFunctionName)}}),
new objj_method(sel_getUid("animationCurve"),function(b){with(b)return _animationCurve}),new objj_method(sel_getUid("setDuration:"),function(b,a,c){with(b)c<0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"aDuration can't be negative"),_duration=c}),new objj_method(sel_getUid("duration"),function(b){with(b)return _duration}),new objj_method(sel_getUid("setFrameRate:"),function(b,a,c){with(b)c<0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"frameRate can't be negative"),
_frameRate=c}),new objj_method(sel_getUid("frameRate"),function(b){with(b)return _frameRate}),new objj_method(sel_getUid("delegate"),function(b){with(b)return _delegate}),new objj_method(sel_getUid("setDelegate:"),function(b,a,c){with(b)_delegate=c}),new objj_method(sel_getUid("startAnimation"),function(b){with(b){if(_timer||_delegate&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("animationShouldStart:"))&&!objj_msgSend(_delegate,"animationShouldStart:",b))return;_progress===1&&(_progress=
0);ACTUAL_FRAME_RATE=0;_lastTime=new Date;_timer=objj_msgSend(CPTimer,"scheduledTimerWithTimeInterval:target:selector:userInfo:repeats:",0,b,sel_getUid("animationTimerDidFire:"),nil,YES)}}),new objj_method(sel_getUid("animationTimerDidFire:"),function(b){with(b){var a=new Date,c=MIN(1,objj_msgSend(b,"currentProgress")+(a-_lastTime)/(_duration*1E3));_lastTime=a;++ACTUAL_FRAME_RATE;objj_msgSend(b,"setCurrentProgress:",c);c===1&&(objj_msgSend(_timer,"invalidate"),_timer=nil,objj_msgSend(_delegate,"respondsToSelector:",
sel_getUid("animationDidEnd:"))&&objj_msgSend(_delegate,"animationDidEnd:",b))}}),new objj_method(sel_getUid("stopAnimation"),function(b){with(b){if(!_timer)return;objj_msgSend(_timer,"invalidate");_timer=nil;objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("animationDidStop:"))&&objj_msgSend(_delegate,"animationDidStop:",b)}}),new objj_method(sel_getUid("isAnimating"),function(b){with(b)return _timer}),new objj_method(sel_getUid("setCurrentProgress:"),function(b,a,c){with(b)_progress=c}),
new objj_method(sel_getUid("currentProgress"),function(b){with(b)return _progress}),new objj_method(sel_getUid("currentValue"),function(b){with(b){var a=objj_msgSend(b,"currentProgress");if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("animation:valueForProgress:")))return objj_msgSend(_delegate,"animation:valueForProgress:",b,a);b=[];var e=[];objj_msgSend(_timingFunction,"getControlPointAtIndex:values:",1,b);objj_msgSend(_timingFunction,"getControlPointAtIndex:values:",2,e);return c(a,
b[0],b[1],e[0],e[1],_duration)}})]);var c=c=function(b,a,c,d,f,h){var m=0,r=0,o=0,l=0,k=0,j=0;sampleCurveX=function(a){return((m*a+r)*a+o)*a};sampleCurveY=function(a){return((l*a+k)*a+j)*a};sampleCurveDerivativeX=function(a){return(3*m*a+2*r)*a+o};solveEpsilon=function(a){return 1/(200*a)};solve=function(a,b){return sampleCurveY(solveCurveX(a,b))};solveCurveX=function(a,b){var c,e,d=a,g;for(e=0;e<8;e++){g=sampleCurveX(d)-a;if(ABS(g)<b)return d;c=sampleCurveDerivativeX(d);if(ABS(c)<1.0E-6)break;d-=
g/c}c=0;e=1;d=a;if(d<c)return c;if(d>e)return e;for(;c<e;){g=sampleCurveX(d);if(ABS(g-a)<b)break;a>g?c=d:e=d;d=(e-c)*0.5+c}return d};o=3*a;r=3*(d-a)-o;m=1-o-r;j=3*c;k=3*(f-c)-j;l=1-j-k;return solve(b,solveEpsilon(h))}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPViewController.j",baseURL),function(h,f){f("Foundation/CPArray.j",NO);f("CPApplication.j",YES);f("CPCib.j",YES);f("CPResponder.j",YES);var d,c=objj_allocateClassPair(CPResponder,"CPViewController"),b=c.isa;class_addIvars(c,[new objj_ivar("_view"),new objj_ivar("_isLoading"),new objj_ivar("_representedObject"),new objj_ivar("_title"),new objj_ivar("_cibName"),new objj_ivar("_cibBundle"),new objj_ivar("_cibExternalNameTable")]);
objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("view"),function(a){with(a)return _view}),new objj_method(sel_getUid("setView:"),function(a,b,c){with(a)_view=c}),new objj_method(sel_getUid("representedObject"),function(a){with(a)return _representedObject}),new objj_method(sel_getUid("setRepresentedObject:"),function(a,b,c){with(a)_representedObject=c}),new objj_method(sel_getUid("title"),function(a){with(a)return _title}),new objj_method(sel_getUid("setTitle:"),function(a,
b,c){with(a)_title=c}),new objj_method(sel_getUid("cibName"),function(a){with(a)return _cibName}),new objj_method(sel_getUid("cibBundle"),function(a){with(a)return _cibBundle}),new objj_method(sel_getUid("cibExternalNameTable"),function(a){with(a)return _cibExternalNameTable}),new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithCibName:bundle:",nil,nil)}),new objj_method(sel_getUid("initWithCibName:bundle:"),function(a,b,c,d){with(a)return objj_msgSend(a,"initWithCibName:bundle:externalNameTable:",
c,d,nil)}),new objj_method(sel_getUid("initWithCibName:bundle:owner:"),function(a,b,c,d,f){with(a)return objj_msgSend(a,"initWithCibName:bundle:externalNameTable:",c,d,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",f,CPCibOwner))}),new objj_method(sel_getUid("initWithCibName:bundle:externalNameTable:"),function(a,b,c,d,f){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPViewController").super_class},"init"))_cibName=c,_cibBundle=d||objj_msgSend(CPBundle,"mainBundle"),
_cibExternalNameTable=f||objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",a,CPCibOwner),_isLoading=NO;return a}}),new objj_method(sel_getUid("loadView"),function(a){with(a){if(_view)return;a=objj_msgSend(d,"objectForKey:",_cibName);a||(a=objj_msgSend(objj_msgSend(CPCib,"alloc"),"initWithContentsOfURL:",objj_msgSend(_cibBundle,"pathForResource:",_cibName+".cib")),objj_msgSend(d,"setObject:forKey:",a,_cibName));objj_msgSend(a,"instantiateCibWithExternalNameTable:",_cibExternalNameTable)}}),
new objj_method(sel_getUid("view"),function(a){with(a){if(!_view){_isLoading=YES;var b=objj_msgSend(_cibExternalNameTable,"objectForKey:",CPCibOwner);objj_msgSend(b,"respondsToSelector:",sel_getUid("viewControllerWillLoadCib:"))&&objj_msgSend(b,"viewControllerWillLoadCib:",a);objj_msgSend(a,"loadView");_view===nil&&objj_msgSend(b,"isKindOfClass:",objj_msgSend(CPDocument,"class"))&&objj_msgSend(a,"setView:",objj_msgSend(b,"valueForKey:","view"));if(!_view){var c=objj_msgSend(CPString,"stringWithFormat:",
"View for %@ could not be loaded from Cib or no view specified. Override loadView to load the view manually.",a);objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,c)}objj_msgSend(b,"respondsToSelector:",sel_getUid("viewControllerDidLoadCib:"))&&objj_msgSend(b,"viewControllerDidLoadCib:",a);_isLoading=NO;objj_msgSend(a,"viewDidLoad")}return _view}}),new objj_method(sel_getUid("viewDidLoad"),function(a){with(a);}),new objj_method(sel_getUid("setView:"),function(a,b,c){with(a)_view=
c,!_isLoading&&!_view&&objj_msgSend(a,"viewDidLoad")})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(a){with(a)a===CPViewController&&(d=objj_msgSend(CPDictionary,"dictionary"))})]);c=objj_getClass("CPViewController");if(!c)throw new SyntaxError('*** Could not find definition for class "CPViewController"');b=c.isa;class_addMethods(c,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPViewController").super_class},
"initWithCoder:",c))_view=objj_msgSend(c,"decodeObjectForKey:","CPViewControllerViewKey"),_title=objj_msgSend(c,"decodeObjectForKey:","CPViewControllerTitleKey"),_cibName=objj_msgSend(c,"decodeObjectForKey:","CPViewControllerCibNameKey"),_cibBundle=(b=objj_msgSend(c,"decodeObjectForKey:","CPViewControllerBundleKey"))?objj_msgSend(CPBundle,"bundleWithPath:",b):objj_msgSend(CPBundle,"mainBundle"),_cibExternalNameTable=objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",a,CPCibOwner);return a}}),
new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPViewController").super_class},"encodeWithCoder:",c),objj_msgSend(c,"encodeObject:forKey:",_view,"CPViewControllerViewKey"),objj_msgSend(c,"encodeObject:forKey:",_title,"CPViewControllerTitleKey"),objj_msgSend(c,"encodeObject:forKey:",_cibName,"CPViewControllerCibNameKey"),objj_msgSend(c,"encodeObject:forKey:",objj_msgSend(_cibBundle,"bundlePath"),"CPViewControllerBundleKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPPlatformWindow.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);var d=NULL,c=objj_allocateClassPair(CPObject,"CPPlatformWindow"),b=c.isa;class_addIvars(c,[new objj_ivar("_contentRect"),new objj_ivar("_level"),new objj_ivar("_hasShadow"),new objj_ivar("_shadowStyle"),new objj_ivar("_DOMWindow"),new objj_ivar("_DOMBodyElement"),new objj_ivar("_DOMFocusElement"),new objj_ivar("_DOMEventGuard"),new objj_ivar("_DOMScrollingElement"),
new objj_ivar("_hideDOMScrollingElementTimeout"),new objj_ivar("_windowLevels"),new objj_ivar("_windowLayers"),new objj_ivar("_mouseIsDown"),new objj_ivar("_mouseDownIsRightClick"),new objj_ivar("_mouseDownWindow"),new objj_ivar("_lastMouseUp"),new objj_ivar("_lastMouseDown"),new objj_ivar("_charCodes"),new objj_ivar("_keyCode"),new objj_ivar("_lastKey"),new objj_ivar("_capsLockActive"),new objj_ivar("_ignoreNativeCopyOrCutEvent"),new objj_ivar("_ignoreNativePastePreparation"),new objj_ivar("_DOMEventMode"),
new objj_ivar("_DOMPasteboardElement"),new objj_ivar("_pasteboardKeyDownEvent"),new objj_ivar("_overriddenEventType")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithContentRect:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPPlatformWindow").super_class},"init"))_contentRect={origin:{x:c.origin.x,y:c.origin.y},size:{width:c.size.width,height:c.size.height}},_windowLevels=[],_windowLayers=objj_msgSend(CPDictionary,"dictionary"),
_charCodes={};return a}}),new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithContentRect:",{origin:{x:0,y:0},size:{width:400,height:500}})}),new objj_method(sel_getUid("contentRect"),function(a){with(a)return{origin:{x:_contentRect.origin.x,y:_contentRect.origin.y},size:{width:_contentRect.size.width,height:_contentRect.size.height}}}),new objj_method(sel_getUid("contentBounds"),function(a){with(a)return a=objj_msgSend(a,"contentRect"),a.origin={x:0,y:0},a}),new objj_method(sel_getUid("visibleFrame"),
function(a){with(a){var b=objj_msgSend(a,"contentBounds");b.origin=CGPointMakeZero();objj_msgSend(CPMenu,"menuBarVisible")&&objj_msgSend(CPPlatformWindow,"primaryPlatformWindow")===a&&(a=objj_msgSend(objj_msgSend(CPApp,"mainMenu"),"menuBarHeight"),b.origin.y+=a,b.size.height-=a);return b}}),new objj_method(sel_getUid("usableContentFrame"),function(a){with(a)return objj_msgSend(a,"visibleFrame")}),new objj_method(sel_getUid("setContentRect:"),function(a,b,c){with(a){if(!c||_contentRect.origin.x==c.origin.x&&
_contentRect.origin.y==c.origin.y&&_contentRect.size.width==c.size.width&&_contentRect.size.height==c.size.height)return;_contentRect={origin:{x:c.origin.x,y:c.origin.y},size:{width:c.size.width,height:c.size.height}};objj_msgSend(a,"updateNativeContentRect")}}),new objj_method(sel_getUid("updateFromNativeContentRect"),function(a){with(a)objj_msgSend(a,"setContentRect:",objj_msgSend(a,"nativeContentRect"))}),new objj_method(sel_getUid("convertBaseToScreen:"),function(a,b,c){with(a)return a=objj_msgSend(a,
"contentRect"),{x:c.x+a.origin.x,y:c.y+a.origin.y}}),new objj_method(sel_getUid("convertScreenToBase:"),function(a,b,c){with(a)return a=objj_msgSend(a,"contentRect"),{x:c.x-a.origin.x,y:c.y-a.origin.y}}),new objj_method(sel_getUid("isVisible"),function(a){with(a)return _DOMWindow!==NULL}),new objj_method(sel_getUid("deminiaturize:"),function(a){with(a)_DOMWindow&&typeof _DOMWindow.cpDeminiaturize==="function"&&_DOMWindow.cpDeminiaturize()}),new objj_method(sel_getUid("miniaturize:"),function(a){with(a)_DOMWindow&&
typeof _DOMWindow.cpMiniaturize==="function"&&_DOMWindow.cpMiniaturize()}),new objj_method(sel_getUid("moveWindow:fromLevel:toLevel:"),function(a,b,c,d,f){with(a){if(!c._isVisible)return;b=objj_msgSend(a,"layerAtLevel:create:",d,NO);a=objj_msgSend(a,"layerAtLevel:create:",f,YES);objj_msgSend(b,"removeWindow:",c);objj_msgSend(a,"insertWindow:atIndex:",c,CPNotFound)}}),new objj_method(sel_getUid("setLevel:"),function(a,b,c){with(a)_level=c,_DOMWindow&&_DOMWindow.cpSetLevel&&_DOMWindow.cpSetLevel(c)}),
new objj_method(sel_getUid("setHasShadow:"),function(a,b,c){with(a)_hasShadow=c,_DOMWindow&&_DOMWindow.cpSetHasShadow&&_DOMWindow.cpSetHasShadow(c)}),new objj_method(sel_getUid("setShadowStyle:"),function(a,b,c){with(a)_shadowStyle=c,_DOMWindow&&_DOMWindow.cpSetShadowStyle&&_shadowStyle.cpSetShadowStyle(c)}),new objj_method(sel_getUid("supportsFullPlatformWindows"),function(a){with(a)return objj_msgSend(CPPlatform,"isBrowser")})]);class_addMethods(b,[new objj_method(sel_getUid("visiblePlatformWindows"),
function(a){with(a)return objj_msgSend(CPSet,"set")}),new objj_method(sel_getUid("supportsMultipleInstances"),function(a){with(a)return!CPBrowserIsEngine(CPInternetExplorerBrowserEngine)}),new objj_method(sel_getUid("primaryPlatformWindow"),function(a){with(a)return d}),new objj_method(sel_getUid("setPrimaryPlatformWindow:"),function(a,b,c){with(a)d=c})]);f("CPPlatformWindow+DOM.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPValueTransformer.j",baseURL),function(h,f){f("CPData.j",YES);f("CPDictionary.j",YES);f("CPException.j",YES);f("CPKeyedArchiver.j",YES);f("CPKeyedUnarchiver.j",YES);f("CPNumber.j",YES);f("CPObject.j",YES);var d=objj_msgSend(CPDictionary,"dictionary"),c=objj_allocateClassPair(CPObject,"CPValueTransformer"),b=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("reverseTransformedValue:"),function(a,
b,c){with(a)return objj_msgSend(objj_msgSend(a,"class"),"allowsReverseTransformation")||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,a+" is not reversible."),objj_msgSend(a,"transformedValue:",c)}),new objj_method(sel_getUid("transformedValue:"),function(a){with(a)return nil})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==objj_msgSend(CPValueTransformer,"class"))return;objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",
objj_msgSend(objj_msgSend(CPNegateBooleanTransformer,"alloc"),"init"),CPNegateBooleanTransformerName);objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",objj_msgSend(objj_msgSend(CPIsNilTransformer,"alloc"),"init"),CPIsNilTransformerName);objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",objj_msgSend(objj_msgSend(CPIsNotNilTransformer,"alloc"),"init"),CPIsNotNilTransformerName);objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",objj_msgSend(objj_msgSend(CPUnarchiveFromDataTransformer,
"alloc"),"init"),CPUnarchiveFromDataTransformerName)}}),new objj_method(sel_getUid("setValueTransformer:forName:"),function(a,b,c,f){with(a)objj_msgSend(d,"setObject:forKey:",c,f)}),new objj_method(sel_getUid("valueTransformerForName:"),function(a,b,c){with(a)return objj_msgSend(d,"objectForKey:",c)}),new objj_method(sel_getUid("valueTransformerNames"),function(a){with(a)return objj_msgSend(d,"allKeys")}),new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return NO}),new objj_method(sel_getUid("transformedValueClass"),
function(a){with(a)return objj_msgSend(CPObject,"class")})]);c=objj_allocateClassPair(CPValueTransformer,"CPNegateBooleanTransformer");b=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("reverseTransformedValue:"),function(a,b,c){with(a)return!objj_msgSend(c,"boolValue")}),new objj_method(sel_getUid("transformedValue:"),function(a,b,c){with(a)return!objj_msgSend(c,"boolValue")})]);class_addMethods(b,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return YES}),
new objj_method(sel_getUid("transformedValueClass"),function(a){with(a)return objj_msgSend(CPNumber,"class")})]);c=objj_allocateClassPair(CPValueTransformer,"CPIsNilTransformer");b=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("transformedValue:"),function(a,b,c){with(a)return c===nil||c===void 0})]);class_addMethods(b,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return NO}),new objj_method(sel_getUid("transformedValueClass"),function(a){with(a)return objj_msgSend(CPNumber,
"class")})]);c=objj_allocateClassPair(CPValueTransformer,"CPIsNotNilTransformer");b=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("transformedValue:"),function(a,b,c){with(a)return c!==nil&&c!==void 0})]);class_addMethods(b,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return NO}),new objj_method(sel_getUid("transformedValueClass"),function(a){with(a)return objj_msgSend(CPNumber,"class")})]);c=objj_allocateClassPair(CPValueTransformer,
"CPUnarchiveFromDataTransformer");b=c.isa;objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("reverseTransformedValue:"),function(a,b,c){with(a)return objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",c)}),new objj_method(sel_getUid("transformedValue:"),function(a,b,c){with(a)return objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",c)})]);class_addMethods(b,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return YES}),new objj_method(sel_getUid("transformedValueClass"),
function(a){with(a)return objj_msgSend(CPData,"class")})]);CPNegateBooleanTransformerName="CPNegateBoolean";CPIsNilTransformerName="CPIsNil";CPIsNotNilTransformerName="CPIsNotNil";CPUnarchiveFromDataTransformerName="CPUnarchiveFromData";CPKeyedUnarchiveFromDataTransformerName="CPKeyedUnarchiveFromData"});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibWindowTemplate.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("CGGeometry.j",YES);f("CPWindow.j",YES);var d=objj_allocateClassPair(CPObject,"_CPCibWindowTemplate");class_addIvars(d,[new objj_ivar("_minSize"),new objj_ivar("_maxSize"),new objj_ivar("_viewClass"),new objj_ivar("_windowClass"),new objj_ivar("_windowRect"),new objj_ivar("_windowStyleMask"),new objj_ivar("_windowTitle"),new objj_ivar("_windowView"),
new objj_ivar("_windowAutorecalculatesKeyViewLoop"),new objj_ivar("_windowIsFullPlatformWindow")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("init"),function(c){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPCibWindowTemplate").super_class},"init"))_windowClass="CPWindow",_windowRect=CGRectMake(0,0,400,200),_windowStyleMask=CPTitledWindowMask|CPClosableWindowMask|CPMiniaturizableWindowMask|CPResizableWindowMask,_windowTitle="Window",_windowView=
objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,400,200)),_windowIsFullPlatformWindow=NO;return c}}),new objj_method(sel_getUid("initWithCoder:"),function(c,b,a){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPCibWindowTemplate").super_class},"init"))objj_msgSend(a,"containsValueForKey:","_CPCibWindowTemplateMinSizeKey")&&(_minSize=objj_msgSend(a,"decodeSizeForKey:","_CPCibWindowTemplateMinSizeKey")),objj_msgSend(a,"containsValueForKey:","_CPCibWindowTemplateMaxSizeKey")&&
(_maxSize=objj_msgSend(a,"decodeSizeForKey:","_CPCibWindowTemplateMaxSizeKey")),_viewClass=objj_msgSend(a,"decodeObjectForKey:","_CPCibWindowTemplateViewClassKey"),_windowClass=objj_msgSend(a,"decodeObjectForKey:","_CPCibWindowTemplateWindowClassKey"),_windowRect=objj_msgSend(a,"decodeRectForKey:","_CPCibWindowTemplateWindowRectKey"),_windowStyleMask=objj_msgSend(a,"decodeIntForKey:","_CPCibWindowTempatStyleMaskKey"),_windowTitle=objj_msgSend(a,"decodeObjectForKey:","_CPCibWindowTemplateWindowTitleKey"),
_windowView=objj_msgSend(a,"decodeObjectForKey:","_CPCibWindowTemplateWindowViewKey"),_windowAutorecalculatesKeyViewLoop=!!objj_msgSend(a,"decodeObjectForKey:","_CPCibWindowTemplateWindowAutorecalculatesKeyViewLoop"),_windowIsFullPlatformWindow=!!objj_msgSend(a,"decodeObjectForKey:","_CPCibWindowTemplateWindowIsFullPlatformWindowKey");return c}}),new objj_method(sel_getUid("encodeWithCoder:"),function(c,b,a){with(c)_minSize&&objj_msgSend(a,"encodeSize:forKey:",_minSize,"_CPCibWindowTemplateMinSizeKey"),
_maxSize&&objj_msgSend(a,"encodeSize:forKey:",_maxSize,"_CPCibWindowTemplateMaxSizeKey"),objj_msgSend(a,"encodeObject:forKey:",_viewClass,"_CPCibWindowTemplateViewClassKey"),objj_msgSend(a,"encodeObject:forKey:",_windowClass,"_CPCibWindowTemplateWindowClassKey"),objj_msgSend(a,"encodeRect:forKey:",_windowRect,"_CPCibWindowTemplateWindowRectKey"),objj_msgSend(a,"encodeInt:forKey:",_windowStyleMask,"_CPCibWindowTempatStyleMaskKey"),objj_msgSend(a,"encodeObject:forKey:",_windowTitle,"_CPCibWindowTemplateWindowTitleKey"),
objj_msgSend(a,"encodeObject:forKey:",_windowView,"_CPCibWindowTemplateWindowViewKey"),_windowAutorecalculatesKeyViewLoop&&objj_msgSend(a,"encodeObject:forKey:",_windowAutorecalculatesKeyViewLoop,"_CPCibWindowTemplateWindowAutorecalculatesKeyViewLoop"),_windowIsFullPlatformWindow&&objj_msgSend(a,"encodeObject:forKey:",_windowIsFullPlatformWindow,"_CPCibWindowTemplateWindowIsFullPlatformWindowKey")}),new objj_method(sel_getUid("customClassName"),function(c){with(c)return _windowClass}),new objj_method(sel_getUid("setCustomClassName:"),
function(c,b,a){with(c)_windowClass=a}),new objj_method(sel_getUid("windowClass"),function(c){with(c)return _windowClass}),new objj_method(sel_getUid("_cibInstantiate"),function(c){with(c)return c=CPClassFromString(objj_msgSend(c,"windowClass")),c=objj_msgSend(objj_msgSend(c,"alloc"),"initWithContentRect:styleMask:",_windowRect,_windowStyleMask),_minSize&&objj_msgSend(c,"setMinSize:",_minSize),_maxSize&&objj_msgSend(c,"setMaxSize:",_maxSize),objj_msgSend(c,"setTitle:",_windowTitle),objj_msgSend(_windowView,
"setAutoresizesSubviews:",NO),objj_msgSend(c,"setContentView:",_windowView),objj_msgSend(_windowView,"setAutoresizesSubviews:",YES),objj_msgSend(_viewClass,"isKindOfClass:",objj_msgSend(CPToolbar,"class"))&&objj_msgSend(c,"setToolbar:",_viewClass),objj_msgSend(c,"setAutorecalculatesKeyViewLoop:",_windowAutorecalculatesKeyViewLoop),objj_msgSend(c,"setFullBridge:",_windowIsFullPlatformWindow),c})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPException.j",baseURL),function(h,f){f("CPCoder.j",YES);f("CPObject.j",YES);f("CPString.j",YES);CPInvalidArgumentException="CPInvalidArgumentException";CPUnsupportedMethodException="CPUnsupportedMethodException";CPRangeException="CPRangeException";CPInternalInconsistencyException="CPInternalInconsistencyException";var d=objj_allocateClassPair(CPObject,"CPException"),c=d.isa;class_addIvars(d,[new objj_ivar("_userInfo")]);objj_registerClassPair(d);
class_addMethods(d,[new objj_method(sel_getUid("initWithName:reason:userInfo:"),function(b,a,c,d,f){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPException").super_class},"init"))name=c,message=d,_userInfo=f;return b}}),new objj_method(sel_getUid("name"),function(b){with(b)return name}),new objj_method(sel_getUid("reason"),function(b){with(b)return message}),new objj_method(sel_getUid("userInfo"),function(b){with(b)return _userInfo}),new objj_method(sel_getUid("description"),
function(b){with(b)return message}),new objj_method(sel_getUid("raise"),function(b){with(b)throw b;}),new objj_method(sel_getUid("isEqual:"),function(b,a,c){with(b){if(!c||!c.isa)return NO;return objj_msgSend(c,"isKindOfClass:",CPException)&&name===objj_msgSend(c,"name")&&message===objj_msgSend(c,"message")&&(_userInfo===objj_msgSend(c,"userInfo")||objj_msgSend(_userInfo,"isEqual:",objj_msgSend(c,"userInfo")))}})]);class_addMethods(c,[new objj_method(sel_getUid("alloc"),function(b){with(b){var a=
Error();a.isa=objj_msgSend(b,"class");return a}}),new objj_method(sel_getUid("raise:reason:"),function(b,a,c,d){with(b)objj_msgSend(objj_msgSend(b,"exceptionWithName:reason:userInfo:",c,d,nil),"raise")}),new objj_method(sel_getUid("exceptionWithName:reason:userInfo:"),function(b,a,c,d,f){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithName:reason:userInfo:",c,d,f)})]);d=objj_getClass("CPException");if(!d)throw new SyntaxError('*** Could not find definition for class "CPException"');c=
d.isa;class_addMethods(d,[new objj_method(sel_getUid("copy"),function(b){with(b)return objj_msgSend(objj_msgSend(b,"class"),"exceptionWithName:reason:userInfo:",name,message,_userInfo)})]);d=objj_getClass("CPException");if(!d)throw new SyntaxError('*** Could not find definition for class "CPException"');c=d.isa;class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(b,a,c){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPException").super_class},"init"))name=
objj_msgSend(c,"decodeObjectForKey:","CPExceptionNameKey"),message=objj_msgSend(c,"decodeObjectForKey:","CPExceptionReasonKey"),_userInfo=objj_msgSend(c,"decodeObjectForKey:","CPExceptionUserInfoKey");return b}}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,a,c){with(b)objj_msgSend(c,"encodeObject:forKey:",name,"CPExceptionNameKey"),objj_msgSend(c,"encodeObject:forKey:",message,"CPExceptionReasonKey"),objj_msgSend(c,"encodeObject:forKey:",_userInfo,"CPExceptionUserInfoKey")})]);Error.prototype.isa=
CPException;Error.prototype._userInfo=null;objj_msgSend(CPException,"initialize");_CPRaiseInvalidAbstractInvocation=function(b,a){objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"*** -"+sel_getName(a)+" cannot be sent to an abstract object of class "+objj_msgSend(b,"className")+": Create a concrete instance!")};_CPRaiseInvalidArgumentException=function(b,a,c){objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,(class_isMetaClass(b.isa)?"+":"-")+"["+objj_msgSend(b,
"className")+" "+a+"]: "+c)};_CPRaiseRangeException=function(b,a,c,d){objj_msgSend(CPException,"raise:reason:",CPRangeException,(class_isMetaClass(b.isa)?"+":"-")+"["+objj_msgSend(b,"className")+" "+a+"]: index ("+c+") beyond bounds ("+d+")")};_CPReportLenientDeprecation=function(b,a,c){CPLog.warn("["+CPStringFromClass(b)+" "+CPStringFromSelector(a)+"] is deprecated, using "+CPStringFromSelector(c)+" instead.")}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGColorSpace.j",baseURL),function(){kCGColorSpaceModelUnknown=-1;kCGColorSpaceModelMonochrome=0;kCGColorSpaceModelRGB=1;kCGColorSpaceModelCMYK=2;kCGColorSpaceModelLab=3;kCGColorSpaceModelDeviceN=4;kCGColorSpaceModelIndexed=5;kCGColorSpaceModelPattern=6;kCGColorSpaceGenericGray="CGColorSpaceGenericGray";kCGColorSpaceGenericRGB="CGColorSpaceGenericRGB";kCGColorSpaceGenericCMYK="CGColorSpaceGenericCMYK";kCGColorSpaceGenericRGBLinear=
"CGColorSpaceGenericRGBLinear";kCGColorSpaceGenericRGBHDR="CGColorSpaceGenericRGBHDR";kCGColorSpaceAdobeRGB1998="CGColorSpaceAdobeRGB1998";kCGColorSpaceSRGB="CGColorSpaceSRGB";var h={};CGColorSpaceCreateCalibratedGray=function(){return{model:kCGColorSpaceModelMonochrome,count:1,base:NULL}};CGColorSpaceCreateCalibratedRGB=function(){return{model:kCGColorSpaceModelRGB,count:1,base:NULL}};CGColorSpaceCreateICCBased=function(){return NULL};CGColorSpaceCreateLab=function(){return NULL};CGColorSpaceCreateDeviceCMYK=
function(){return CGColorSpaceCreateWithName(kCGColorSpaceGenericCMYK)};CGColorSpaceCreateDeviceGray=function(){return CGColorSpaceCreateWithName(kCGColorSpaceGenericGray)};CGColorSpaceCreateDeviceRGB=function(){return CGColorSpaceCreateWithName(kCGColorSpaceGenericRGB)};CGColorSpaceCreateWithPlatformColorSpace=function(){return NULL};CGColorSpaceCreateIndexed=function(){return NULL};CGColorSpaceCreatePattern=function(f){if(f)return{model:kCGColorSpaceModelPattern,count:f.count,base:f};return{model:kCGColorSpaceModelPattern,
count:0,base:NULL}};CGColorSpaceCreateWithName=function(f){var d=h[f];if(d)return d;switch(f){case kCGColorSpaceGenericGray:return h[f]={model:kCGColorSpaceModelMonochrome,count:1,base:NULL};case kCGColorSpaceGenericRGB:return h[f]={model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceGenericCMYK:return h[f]={model:kCGColorSpaceModelCMYK,count:4,base:NULL};case kCGColorSpaceGenericRGBLinear:return h[f]={model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceGenericRGBHDR:return h[f]=
{model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceAdobeRGB1998:return h[f]={model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceSRGB:return h[f]={model:kCGColorSpaceModelRGB,count:3,base:NULL}}return NULL};CGColorSpaceCopyICCProfile=function(){return NULL};CGColorSpaceGetNumberOfComponents=function(f){return f.count};CGColorSpaceGetTypeID=function(){};CGColorSpaceGetModel=function(f){return f.model};CGColorSpaceGetBaseColorSpace=function(){};CGColorSpaceGetColorTableCount=
function(){};CGColorSpaceGetColorTable=function(){};CGColorSpaceRelease=function(){};CGColorSpaceRetain=function(f){return f};CGColorSpaceStandardizeComponents=function(f,d){var c=f.count;if(c>d.length)d[c]=1;else{var b=d[c];d[c]=b<0?0:b>1?1:ROUND(b*1E3)/1E3;if(f.base)f=f.base;switch(f.model){case kCGColorSpaceModelMonochrome:case kCGColorSpaceModelRGB:case kCGColorSpaceModelCMYK:case kCGColorSpaceModelDeviceN:for(;c--;){if(c>d.length){d[c]=1;break}b=d[c];d[c]=b<0?0:b>1?1:ROUND(b*255)/255}}}}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCheckBox.j",baseURL),function(h,f){f("CPButton.j",YES);CPCheckBoxImageOffset=4;var d=objj_allocateClassPair(CPButton,"CPCheckBox"),c=d.isa;objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithFrame:"),function(b,a,c){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPCheckBox").super_class},"initWithFrame:",c))objj_msgSend(b,"setHighlightsBy:",CPContentsCellMask),objj_msgSend(b,
"setShowsStateBy:",CPContentsCellMask),objj_msgSend(b,"setImagePosition:",CPImageLeft),objj_msgSend(b,"setAlignment:",CPLeftTextAlignment),objj_msgSend(b,"setBordered:",NO);return b}}),new objj_method(sel_getUid("takeStateFromKeyPath:ofObjects:"),function(b,a,c,d){with(b){a=d.length;var f=objj_msgSend(d[0],"valueForKeyPath:",c)?CPOnState:CPOffState;objj_msgSend(b,"setAllowsMixedState:",NO);for(objj_msgSend(b,"setState:",f);a-- >1;)if(f!==(objj_msgSend(d[a],"valueForKeyPath:",c)?CPOnState:CPOffState))objj_msgSend(b,
"setAllowsMixedState:",YES),objj_msgSend(b,"setState:",CPMixedState)}}),new objj_method(sel_getUid("takeValueFromKeyPath:ofObjects:"),function(b,a,c,d){with(b)objj_msgSend(b,"takeStateFromKeyPath:ofObjects:",c,d)})]);class_addMethods(c,[new objj_method(sel_getUid("checkBoxWithTitle:theme:"),function(b,a,c,d){with(b)return objj_msgSend(b,"buttonWithTitle:theme:",c,d)}),new objj_method(sel_getUid("checkBoxWithTitle:"),function(b,a,c){with(b)return objj_msgSend(b,"buttonWithTitle:",c)}),new objj_method(sel_getUid("defaultThemeClass"),
function(b){with(b)return"check-box"}),new objj_method(sel_getUid("_binderClassForBinding:"),function(b,a,c){with(b){if(c===CPValueBinding)return objj_msgSend(_CPCheckBoxValueBinder,"class");return objj_msgSendSuper({receiver:b,super_class:objj_getMetaClass("CPCheckBox").super_class},"_binderClassForBinding:",c)}})]);d=objj_allocateClassPair(CPBinder,"_CPCheckBoxValueBinder");c=d.isa;objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("setValueFor:"),function(b){with(b){var a=
objj_msgSend(_info,"objectForKey:",CPObservedObjectKey),c=objj_msgSend(_info,"objectForKey:",CPObservedKeyPathKey);b=objj_msgSend(_info,"objectForKey:",CPOptionsKey);a=objj_msgSend(a,"valueForKeyPath:",c);if(CPIsControllerMarker(a)){switch(a){case CPMultipleValuesMarker:a=CPMixedState;break;case CPNoSelectionMarker:a=CPOffState;break;case CPNotApplicableMarker:objj_msgSend(b,"objectForKey:",CPRaisesForNotApplicableKeysBindingOption)&&objj_msgSend(CPException,"raise:reason:",CPGenericException,"can't transform non applicable key on: "+
_source+" value: "+a),a=CPOffState}a===CPMixedState?objj_msgSend(_source,"setAllowsMixedState:",YES):objj_msgSend(_source,"setAllowsMixedState:",NO)}objj_msgSend(_source,"setState:",a)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGAffineTransform.j",baseURL),function(h,f){f("CGGeometry.j",YES);CGAffineTransformMake=function(d,c,b,a,e,g){return{a:d,b:c,c:b,d:a,tx:e,ty:g}};CGAffineTransformMakeIdentity=function(){return{a:1,b:0,c:0,d:1,tx:0,ty:0}};CGAffineTransformMakeCopy=function(d){return{a:d.a,b:d.b,c:d.c,d:d.d,tx:d.tx,ty:d.ty}};CGAffineTransformMakeScale=function(d,c){return{a:d,b:0,c:0,d:c,tx:0,ty:0}};CGAffineTransformMakeTranslation=function(d,c){return{a:1,
b:0,c:0,d:1,tx:d,ty:c}};CGAffineTransformTranslate=function(d,c,b){return{a:d.a,b:d.b,c:d.c,d:d.d,tx:d.tx+d.a*c+d.c*b,ty:d.ty+d.b*c+d.d*b}};CGAffineTransformScale=function(d,c,b){return{a:d.a*c,b:d.b*c,c:d.c*b,d:d.d*b,tx:d.tx,ty:d.ty}};CGAffineTransformConcat=function(d,c){return{a:d.a*c.a+d.b*c.c,b:d.a*c.b+d.b*c.d,c:d.c*c.a+d.d*c.c,d:d.c*c.b+d.d*c.d,tx:d.tx*c.a+d.ty*c.c+c.tx,ty:d.tx*c.b+d.ty*c.d+c.ty}};CGPointApplyAffineTransform=function(d,c){return{x:d.x*c.a+d.y*c.c+c.tx,y:d.x*c.b+d.y*c.d+c.ty}};
CGSizeApplyAffineTransform=function(d,c){return{width:d.width*c.a+d.height*c.c,height:d.width*c.b+d.height*c.d}};CGAffineTransformIsIdentity=function(d){return d.a==1&&d.b==0&&d.c==0&&d.d==1&&d.tx==0&&d.ty==0};CGAffineTransformEqualToTransform=function(d,c){return d.a==c.a&&d.b==c.b&&d.c==c.c&&d.d==c.d&&d.tx==c.tx&&d.ty==c.ty};CGStringCreateWithCGAffineTransform=function(d){return" [[ "+d.a+", "+d.b+", 0 ], [ "+d.c+", "+d.d+", 0 ], [ "+d.tx+", "+d.ty+", 1]]"};CGAffineTransformCreateCopy=function(d){return{a:d.a,
b:d.b,c:d.c,d:d.d,tx:d.tx,ty:d.ty}};CGAffineTransformMakeRotation=function(d){var c=SIN(d);d=COS(d);return{a:d,b:c,c:-c,d:d,tx:0,ty:0}};CGAffineTransformRotate=function(d,c){var b=SIN(c),a=COS(c);return{a:d.a*a+d.c*b,b:d.b*a+d.d*b,c:d.c*a-d.a*b,d:d.d*a-d.b*b,tx:d.tx,ty:d.ty}};CGAffineTransformInvert=function(d){var c=1/(d.a*d.d-d.b*d.c);return{a:c*d.d,b:-c*d.b,c:-c*d.c,d:c*d.a,tx:c*(d.c*d.ty-d.d*d.tx),ty:c*(d.b*d.tx-d.a*d.ty)}};CGRectApplyAffineTransform=function(d,c){var b=d.origin.y,a=d.origin.x,
e=d.origin.x+d.size.width,g=d.origin.y+d.size.height,f=CGPointApplyAffineTransform({x:a,y:b},c);b=CGPointApplyAffineTransform({x:e,y:b},c);a=CGPointApplyAffineTransform({x:a,y:g},c);var h=CGPointApplyAffineTransform({x:e,y:g},c);e=MIN(f.x,b.x,a.x,h.x);g=MAX(f.x,b.x,a.x,h.x);var m=MIN(f.y,b.y,a.y,h.y);f=MAX(f.y,b.y,a.y,h.y);return{origin:{x:e,y:m},size:{width:g-e,height:f-m}}};CPStringFromCGAffineTransform=function(d){return"{"+d.a+", "+d.b+", "+d.c+", "+d.d+", "+d.tx+", "+d.ty+"}"}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibCustomView.j",baseURL),function(h,f){f("CPView.j",YES);var d=objj_allocateClassPair(CPView,"_CPCibCustomView");class_addIvars(d,[new objj_ivar("_className")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("customClassName"),function(c){with(c)return _className}),new objj_method(sel_getUid("setCustomClassName:"),function(c,b,a){with(c){if(_className===a)return;_className=a;objj_msgSend(c,"setNeedsDisplay:",
YES);objj_msgSend(c,"setNeedsLayout")}})]);d=objj_getClass("_CPCibCustomView");if(!d)throw new SyntaxError('*** Could not find definition for class "_CPCibCustomView"');class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(c,b,a){with(c)return(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPCibCustomView").super_class},"initWithCoder:",a))&&(_className=objj_msgSend(a,"decodeObjectForKey:","_CPCibCustomViewClassNameKey")),c}),new objj_method(sel_getUid("encodeWithCoder:"),
function(c,b,a){with(c)objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPCibCustomView").super_class},"encodeWithCoder:",a),objj_msgSend(a,"encodeObject:forKey:",_className,"_CPCibCustomViewClassNameKey")}),new objj_method(sel_getUid("customClassName"),function(c){with(c)return _className}),new objj_method(sel_getUid("_cibInstantiate"),function(c){with(c){var b=CPClassFromString(_className);b||(b=objj_msgSend(CPView,"class"));if(b===objj_msgSend(c,"class"))return _className="CPView",c;if(b=
objj_msgSend(objj_msgSend(b,"alloc"),"initWithFrame:",objj_msgSend(c,"frame"))){objj_msgSend(b,"setBounds:",objj_msgSend(c,"bounds"));for(var a=objj_msgSend(c,"subviews"),d=0,g=a.length;d<g;++d)objj_msgSend(b,"addSubview:",a[d]);objj_msgSend(b,"setAutoresizingMask:",objj_msgSend(c,"autoresizingMask"));objj_msgSend(b,"setAutoresizesSubviews:",objj_msgSend(c,"autoresizesSubviews"));objj_msgSend(b,"setHitTests:",objj_msgSend(c,"hitTests"));objj_msgSend(b,"setHidden:",objj_msgSend(c,"isHidden"));objj_msgSend(b,
"setAlphaValue:",objj_msgSend(c,"alphaValue"));objj_msgSend(_superview,"replaceSubview:with:",c,b);objj_msgSend(b,"setBackgroundColor:",objj_msgSend(c,"backgroundColor"))}return b}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CAMediaTimingFunction.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("Foundation/CPDictionary.j",NO);f("Foundation/CPString.j",NO);kCAMediaTimingFunctionLinear="kCAMediaTimingFunctionLinear";kCAMediaTimingFunctionEaseIn="kCAMediaTimingFunctionEaseIn";kCAMediaTimingFunctionEaseOut="kCAMediaTimingFunctionEaseOut";kCAMediaTimingFunctionEaseInEaseOut="kCAMediaTimingFunctionEaseInEaseOut";var d=nil,c=objj_allocateClassPair(CPObject,
"CAMediaTimingFunction"),b=c.isa;class_addIvars(c,[new objj_ivar("_c1x"),new objj_ivar("_c1y"),new objj_ivar("_c2x"),new objj_ivar("_c2y")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("initWithControlPoints::::"),function(a,b,c,d,f,h){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CAMediaTimingFunction").super_class},"init"))_c1x=c,_c1y=d,_c2x=f,_c2y=h;return a}}),new objj_method(sel_getUid("getControlPointAtIndex:values:"),function(a,b,c,d){with(a)c==
0?(d[0]=0,d[1]=0):c==1?(d[0]=_c1x,d[1]=_c1y):c==2?(d[0]=_c2x,d[1]=_c2y):(d[0]=1,d[1]=1)})]);class_addMethods(b,[new objj_method(sel_getUid("functionWithName:"),function(a,b,c){with(a)return d||(d=objj_msgSend(CPDictionary,"dictionary"),objj_msgSend(d,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0,0,1,1),kCAMediaTimingFunctionLinear),objj_msgSend(d,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0.42,0,1,1),kCAMediaTimingFunctionEaseIn),
objj_msgSend(d,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0,0,0.58,1),kCAMediaTimingFunctionEaseOut),objj_msgSend(d,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0.42,0,0.58,1),kCAMediaTimingFunctionEaseInEaseOut)),objj_msgSend(d,"objectForKey:",c)}),new objj_method(sel_getUid("functionWithControlPoints::::"),function(a,b,c,d,f,h){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithControlPoints::::",c,d,
f,h)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPURLRequest.j",baseURL),function(h,f){f("CPDictionary.j",YES);f("CPObject.j",YES);f("CPString.j",YES);f("CPURL.j",YES);var d=objj_allocateClassPair(CPObject,"CPURLRequest"),c=d.isa;class_addIvars(d,[new objj_ivar("_URL"),new objj_ivar("_HTTPBody"),new objj_ivar("_HTTPMethod"),new objj_ivar("_HTTPHeaderFields")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithURL:"),function(b,a,c){with(b){if(b=
objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPURLRequest").super_class},"init"))objj_msgSend(b,"setURL:",c),_HTTPBody="",_HTTPMethod="GET",_HTTPHeaderFields=objj_msgSend(CPDictionary,"dictionary"),objj_msgSend(b,"setValue:forHTTPHeaderField:","Thu, 01 Jan 1970 00:00:00 GMT","If-Modified-Since"),objj_msgSend(b,"setValue:forHTTPHeaderField:","no-cache","Cache-Control"),objj_msgSend(b,"setValue:forHTTPHeaderField:","XMLHttpRequest","X-Requested-With");return b}}),new objj_method(sel_getUid("URL"),
function(b){with(b)return _URL}),new objj_method(sel_getUid("setURL:"),function(b,a,c){with(b)_URL=new CFURL(c)}),new objj_method(sel_getUid("setHTTPBody:"),function(b,a,c){with(b)_HTTPBody=c}),new objj_method(sel_getUid("HTTPBody"),function(b){with(b)return _HTTPBody}),new objj_method(sel_getUid("setHTTPMethod:"),function(b,a,c){with(b)_HTTPMethod=c}),new objj_method(sel_getUid("HTTPMethod"),function(b){with(b)return _HTTPMethod}),new objj_method(sel_getUid("allHTTPHeaderFields"),function(b){with(b)return _HTTPHeaderFields}),
new objj_method(sel_getUid("valueForHTTPHeaderField:"),function(b,a,c){with(b)return objj_msgSend(_HTTPHeaderFields,"objectForKey:",c)}),new objj_method(sel_getUid("setValue:forHTTPHeaderField:"),function(b,a,c,d){with(b)objj_msgSend(_HTTPHeaderFields,"setObject:forKey:",c,d)})]);class_addMethods(c,[new objj_method(sel_getUid("requestWithURL:"),function(b,a,c){with(b)return objj_msgSend(objj_msgSend(CPURLRequest,"alloc"),"initWithURL:",c)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPGraphics.j",baseURL),function(h,f){f("CPColor.j",YES);f("CPGraphicsContext.j",YES);CPDrawTiledRects=function(d,c,b,a){b.length!=a.length&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"sides (length: "+b.length+") and grays (length: "+a.length+") must have the same length.");for(var e=[],g=0;g<a.length;++g)e.push(objj_msgSend(CPColor,"colorWithCalibratedWhite:alpha:",a[g],1));return CPDrawColorTiledRects(d,
c,b,e)};CPDrawColorTiledRects=function(d,c,b,a){b.length!=a.length&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"sides (length: "+b.length+") and colors (length: "+a.length+") must have the same length.");d={origin:{x:d.origin.x,y:d.origin.y},size:{width:d.size.width,height:d.size.height}};var e={origin:{x:0,y:0},size:{width:0,height:0}},g={origin:{x:0,y:0},size:{width:0,height:0}},f=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");CGContextSaveGState(f);
CGContextSetLineWidth(f,1);for(var h=0;h<b.length;++h){var m=b[h];CGRectDivide(d,e,g,1,m);d=g;e=CGRectIntersection(e,c);if(!(e.size.width<=0||e.size.height<=0)){var r,o,l;if(m==CPMinXEdge||m==CPMaxXEdge){if(e.size.width<1)continue;r=m=e.origin.x+0.5;o=e.origin.y;l=e.origin.y+e.size.height}else{if(e.size.height<1)continue;m=e.origin.x;r=e.origin.x+e.size.width;l=o=e.origin.y+0.5}CGContextBeginPath(f);CGContextMoveToPoint(f,m,o);CGContextAddLineToPoint(f,r,l);CGContextSetStrokeColor(f,a[h]);CGContextStrokePath(f)}}CGContextRestoreGState(f);
return d}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPThemeBlend.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("CPTheme.j",YES);f("_CPCibCustomResource.j",YES);f("_CPCibKeyedUnarchiver.j",YES);var d=objj_allocateClassPair(CPObject,"CPThemeBlend");class_addIvars(d,[new objj_ivar("_bundle"),new objj_ivar("_themes"),new objj_ivar("_loadDelegate")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithContentsOfURL:"),function(c,b,a){with(c)return(c=
objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPThemeBlend").super_class},"init"))&&(_bundle=objj_msgSend(objj_msgSend(CPBundle,"alloc"),"initWithPath:",a)),c}),new objj_method(sel_getUid("themes"),function(c){with(c)return _themes}),new objj_method(sel_getUid("themeNames"),function(c){with(c){c=[];for(var b=0;b<_themes.length;++b)c.push(_themes[b].substring(0,_themes[b].indexOf(".keyedtheme")));return c}}),new objj_method(sel_getUid("loadWithDelegate:"),function(c,b,a){with(c)_loadDelegate=
a,objj_msgSend(_bundle,"loadWithDelegate:",c)}),new objj_method(sel_getUid("bundleDidFinishLoading:"),function(c,b,a){with(c){_themes=objj_msgSend(_bundle,"objectForInfoDictionaryKey:","CPKeyedThemes");for(b=_themes.length;b--;){var d=objj_msgSend(a,"pathForResource:",_themes[b]);d=objj_msgSend(objj_msgSend(_CPThemeKeyedUnarchiver,"alloc"),"initForReadingWithData:bundle:",objj_msgSend(objj_msgSend(CPURL,"URLWithString:",d),"staticResourceData"),_bundle);objj_msgSend(d,"decodeObjectForKey:","root");
objj_msgSend(d,"finishDecoding")}objj_msgSend(_loadDelegate,"blendDidFinishLoading:",c)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/views/pattern_list_cell.j",baseURL),function(){var h=objj_allocateClassPair(CPView,"PatternListCell");class_addIvars(h,[new objj_ivar("label"),new objj_ivar("highlightView")]);objj_registerClassPair(h);class_addMethods(h,[new objj_method(sel_getUid("setRepresentedObject:"),function(f,d,c){with(f)label||(label=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectInset(objj_msgSend(f,"bounds"),4,4)),objj_msgSend(label,"setFont:",
objj_msgSend(CPFont,"systemFontOfSize:",14)),objj_msgSend(label,"setTextShadowColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(label,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(f,"addSubview:",label)),objj_msgSend(label,"setStringValue:",c),objj_msgSend(label,"sizeToFit"),objj_msgSend(label,"setFrameOrigin:",CGPointMake(10,CGRectGetHeight(objj_msgSend(label,"bounds"))/2))}),new objj_method(sel_getUid("setSelected:"),function(f,d,c){with(f)highlightView||(highlightView=objj_msgSend(objj_msgSend(CPView,
"alloc"),"initWithFrame:",CGRectCreateCopy(objj_msgSend(f,"bounds"))),objj_msgSend(highlightView,"setBackgroundColor:",objj_msgSend(CPColor,"blueColor"))),c?(objj_msgSend(f,"addSubview:positioned:relativeTo:",highlightView,CPWindowBelow,label),objj_msgSend(label,"setTextColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(label,"setTextShadowColor:",objj_msgSend(CPColor,"blackColor"))):(objj_msgSend(highlightView,"removeFromSuperview"),objj_msgSend(label,"setTextColor:",objj_msgSend(CPColor,"blackColor")),
objj_msgSend(label,"setTextShadowColor:",objj_msgSend(CPColor,"whiteColor")))})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPNotification.j",baseURL),function(h,f){f("CPException.j",YES);f("CPObject.j",YES);var d=objj_allocateClassPair(CPObject,"CPNotification"),c=d.isa;class_addIvars(d,[new objj_ivar("_name"),new objj_ivar("_object"),new objj_ivar("_userInfo")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("init"),function(b){with(b)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"CPNotification's init method should not be used")}),
new objj_method(sel_getUid("initWithName:object:userInfo:"),function(b,a,c,d,f){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPNotification").super_class},"init"))_name=c,_object=d,_userInfo=f;return b}}),new objj_method(sel_getUid("name"),function(b){with(b)return _name}),new objj_method(sel_getUid("object"),function(b){with(b)return _object}),new objj_method(sel_getUid("userInfo"),function(b){with(b)return _userInfo})]);class_addMethods(c,[new objj_method(sel_getUid("notificationWithName:object:userInfo:"),
function(b,a,c,d,f){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithName:object:userInfo:",c,d,f)}),new objj_method(sel_getUid("notificationWithName:object:"),function(b,a,c,d){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithName:object:userInfo:",c,d,nil)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibClassSwapper.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);f("Foundation/CPString.j",NO);var d=objj_allocateClassPair(CPObject,"_CPCibClassSwapper"),c=d.isa;objj_registerClassPair(d);class_addMethods(c,[new objj_method(sel_getUid("allocObjectWithCoder:className:"),function(b,a,c,d){with(b){b=objj_msgSend(c,"classForClassName:",d);if(!b&&(b=objj_lookUpClass(d),!b))return nil;return objj_msgSend(b,"alloc")}}),new objj_method(sel_getUid("allocWithCoder:"),
function(b,a,c){with(b){if(objj_msgSend(c,"respondsToSelector:",sel_getUid("usesOriginalClasses"))&&objj_msgSend(c,"usesOriginalClasses")){a=objj_msgSend(c,"decodeObjectForKey:","_CPCibClassSwapperOriginalClassNameKey");var d=objj_msgSend(b,"allocObjectWithCoder:className:",c,a)}else a=objj_msgSend(c,"decodeObjectForKey:","_CPCibClassSwapperClassNameKey"),d=objj_msgSend(b,"allocObjectWithCoder:className:",c,a),d||(CPLog.error("Unable to find class "+a+" in cib file."),d=objj_msgSend(b,"allocObjectWithCoder:className:",
c,objj_msgSend(c,"decodeObjectForKey:","_CPCibClassSwapperOriginalClassNameKey")));d||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unable to find class "+a+" in cib file.");return d}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPToolbarShowColorsItem.j",baseURL),function(h,f){f("CPApplication.j",YES);f("CPToolbarItem.j",YES);var d=objj_allocateClassPair(CPToolbarItem,"_CPToolbarShowColorsItem");objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithItemIdentifier:"),function(c){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPToolbarShowColorsItem").super_class},"initWithItemIdentifier:",CPToolbarShowColorsItemIdentifier))objj_msgSend(c,
"setMinSize:",CGSizeMake(32,32)),objj_msgSend(c,"setMaxSize:",CGSizeMake(32,32)),objj_msgSend(c,"setLabel:","Colors"),objj_msgSend(c,"setPaletteLabel:","Show Colors"),objj_msgSend(c,"setTarget:",CPApp),objj_msgSend(c,"setAction:",sel_getUid("orderFrontColorPanel:")),objj_msgSend(c,"setImage:",objj_msgSend(CPImage,"imageNamed:",CPImageNameColorPanel)),objj_msgSend(c,"setAlternateImage:",objj_msgSend(CPImage,"imageNamed:",CPImageNameColorPanelHighlighted)),objj_msgSend(c,"setToolTip:","Show the Colors panel.");
return c}}),new objj_method(sel_getUid("initWithCoder:"),function(c){with(c)return objj_msgSend(c,"init")}),new objj_method(sel_getUid("encodeWithCoder:"),function(c){with(c);})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/four.j",baseURL),function(){var h=objj_allocateClassPair(PatternThree,"PatternFour"),f=h.isa;objj_registerClassPair(h);class_addMethods(f,[new objj_method(sel_getUid("defaultConfig"),function(d){with(d)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",6,"number_of_points",0,"recurse_depth",1.22,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",118,"radius",NO,"show_shapes",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",0,0,0,0.2727272727272727),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",31,255,211,0.7272727272727273),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",85,85,85,0.4909090909090909),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",190,73,12,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,0.6909090909090909),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,0.6909090909090909)],"stroke_colors",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",0,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,33,50,0.2545454545454545),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",130,18,120,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",76,156,180,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPPanel.j",baseURL),function(h,f){f("CPWindow.j",YES);CPOKButton=1;CPCancelButton=0;CPDocModalWindowMask=64;var d=objj_allocateClassPair(CPWindow,"CPPanel");class_addIvars(d,[new objj_ivar("_becomesKeyOnlyIfNeeded"),new objj_ivar("_worksWhenModal")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("isFloatingPanel"),function(c){with(c)return objj_msgSend(c,"level")==CPFloatingWindowLevel}),new objj_method(sel_getUid("setFloatingPanel:"),
function(c,b,a){with(c)objj_msgSend(c,"setLevel:",a?CPFloatingWindowLevel:CPNormalWindowLevel)}),new objj_method(sel_getUid("becomesKeyOnlyIfNeeded"),function(c){with(c)return _becomesKeyOnlyIfNeeded}),new objj_method(sel_getUid("setBecomesKeyOnlyIfNeeded:"),function(c,b,a){with(c)_becomesKeyOnlyIfNeeded=a}),new objj_method(sel_getUid("worksWhenModal"),function(c){with(c)return _worksWhenModal}),new objj_method(sel_getUid("setWorksWhenModal:"),function(c,b,a){with(c)_worksWhenModal=a}),new objj_method(sel_getUid("canBecomeMainWindow"),
function(c){with(c)return NO})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPStringDrawing.j",baseURL),function(h,f){f("Foundation/CPString.j",NO);f("CPPlatformString.j",YES);var d={};CPStringSizeCachingEnabled=YES;var c=objj_getClass("CPString");if(!c)throw new SyntaxError('*** Could not find definition for class "CPString"');var b=c.isa;class_addMethods(c,[new objj_method(sel_getUid("cssString"),function(a){with(a)return a}),new objj_method(sel_getUid("sizeWithFont:"),function(a,b,c){with(a)return objj_msgSend(a,
"sizeWithFont:inWidth:",c,NULL)}),new objj_method(sel_getUid("sizeWithFont:inWidth:"),function(a,b,c,f){with(a){if(!CPStringSizeCachingEnabled)return objj_msgSend(CPPlatformString,"sizeOfString:withFont:forWidth:",a,c,f);b=a+objj_msgSend(c,"cssString")+f;var h=d[b];h===void 0&&(h=objj_msgSend(CPPlatformString,"sizeOfString:withFont:forWidth:",a,c,f),d[b]=h);return CGSizeMakeCopy(h)}})]);class_addMethods(b,[new objj_method(sel_getUid("metricsOfFont:"),function(a,b,c){with(a)return objj_msgSend(CPPlatformString,
"metricsOfFont:",c)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPURLResponse.j",baseURL),function(h,f){f("CPObject.j",YES);f("CPURL.j",YES);var d=objj_allocateClassPair(CPObject,"CPURLResponse");class_addIvars(d,[new objj_ivar("_URL")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithURL:"),function(c,b,a){with(c)return(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("CPURLResponse").super_class},"init"))&&(_URL=a),c}),new objj_method(sel_getUid("URL"),
function(c){with(c)return _URL})]);d=objj_allocateClassPair(CPURLResponse,"CPHTTPURLResponse");class_addIvars(d,[new objj_ivar("_statusCode")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("_setStatusCode:"),function(c,b,a){with(c)_statusCode=a}),new objj_method(sel_getUid("statusCode"),function(c){with(c)return _statusCode})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPToolbarSeparatorItem.j",baseURL),function(h,f){f("CPToolbarItem.j",YES);var d=objj_allocateClassPair(CPToolbarItem,"_CPToolbarSeparatorItem");objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithItemIdentifier:"),function(c){with(c){if(c=objj_msgSendSuper({receiver:c,super_class:objj_getClass("_CPToolbarSeparatorItem").super_class},"initWithItemIdentifier:",CPToolbarSeparatorItemIdentifier))objj_msgSend(c,
"setMinSize:",CGSizeMake(2,0)),objj_msgSend(c,"setMaxSize:",CGSizeMake(2,1E5));return c}}),new objj_method(sel_getUid("initWithCoder:"),function(c){with(c)return objj_msgSend(c,"init")}),new objj_method(sel_getUid("encodeWithCoder:"),function(c){with(c);})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/app.j",baseURL),function(h,f){NumberOfColors=6;f("monkeypatch.j",YES);f("pattern_config.j",YES);f("pattern_maker.j",YES);f("patterns/one.j",YES);f("patterns/two.j",YES);f("patterns/three.j",YES);f("patterns/four.j",YES);f("patterns/five.j",YES);f("patterns/six.j",YES);f("patterns/seven.j",YES);f("patterns/eight.j",YES);f("patterns/nine.j",YES);f("patterns/ten.j",YES);f("patterns/eleven.j",YES);f("patterns/twelve.j",YES);f("views/pattern_view.j",
YES);f("views/pattern_list_cell.j",YES);f("controllers/pattern_settings_controller.j",YES)});ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPScreen.j",baseURL),function(h,f){f("Foundation/CPObject.j",NO);var d=objj_allocateClassPair(CPObject,"CPScreen");objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("visibleFrame"),function(c){with(c)return{origin:{x:window.screen.availLeft,y:window.screen.availTop},size:{width:window.screen.availWidth,height:window.screen.availHeight}}})])});
CFHTTPRequest._cacheRequest(new CFURL("Frameworks/GRKit/Info.plist",baseURL),200,{},"280NPLIST;1.0;D;K;29;CPBundleInfoDictionaryVersiond;1;6K;12;CPBundleNameS;5;GRKitK;18;CPBundleIdentifierS;15;es.2monki.GRKitK;15;CPBundleVersionS;3;1.0K;19;CPBundlePackageTypeS;4;FMWKK;20;CPBundleEnvironmentsA;S;7;BrowserS;8;CommonJSE;K;18;CPBundleExecutableS;8;GRKit.sjK;36;CPBundleEnvironmentsWithImageSpritesA;E;E;\n");
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPBorderlessWindowView.j",baseURL),function(h,f){f("_CPWindowView.j",YES);var d=objj_allocateClassPair(_CPWindowView,"_CPBorderlessWindowView");objj_registerClassPair(d)});
