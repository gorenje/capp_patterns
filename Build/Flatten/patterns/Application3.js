ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPWindow.j",baseURL),function(i,g){g("Foundation/CPCountedSet.j",NO);g("Foundation/CPNotificationCenter.j",NO);g("Foundation/CPUndoManager.j",NO);g("CGGeometry.j",YES);g("CPAnimation.j",YES);g("CPPlatformWindow.j",YES);g("CPResponder.j",YES);g("CPScreen.j",YES);CPBorderlessWindowMask=0;CPTitledWindowMask=1;CPClosableWindowMask=2;CPMiniaturizableWindowMask=4;CPResizableWindowMask=8;CPTexturedBackgroundWindowMask=256;CPBorderlessBridgeWindowMask=
1048576;CPHUDBackgroundWindowMask=2097152;CPWindowNotSizable=0;CPWindowMinXMargin=1;CPWindowWidthSizable=2;CPWindowMaxXMargin=4;CPWindowMinYMargin=8;CPWindowHeightSizable=16;CPWindowMaxYMargin=32;CPBackgroundWindowLevel=-1;CPNormalWindowLevel=0;CPTornOffMenuWindowLevel=CPSubmenuWindowLevel=CPFloatingWindowLevel=3;CPMainMenuWindowLevel=24;CPStatusWindowLevel=25;CPModalPanelWindowLevel=8;CPPopUpMenuWindowLevel=101;CPDraggingWindowLevel=500;CPScreenSaverWindowLevel=1E3;CPWindowOut=0;CPWindowAbove=1;
CPWindowBelow=2;CPWindowWillCloseNotification="CPWindowWillCloseNotification";CPWindowDidBecomeMainNotification="CPWindowDidBecomeMainNotification";CPWindowDidResignMainNotification="CPWindowDidResignMainNotification";CPWindowDidBecomeKeyNotification="CPWindowDidBecomeKeyNotification";CPWindowDidResignKeyNotification="CPWindowDidResignKeyNotification";CPWindowDidResizeNotification="CPWindowDidResizeNotification";CPWindowDidMoveNotification="CPWindowDidMoveNotification";CPWindowWillBeginSheetNotification=
"CPWindowWillBeginSheetNotification";CPWindowDidEndSheetNotification="CPWindowDidEndSheetNotification";CPWindowDidMiniaturizeNotification="CPWindowDidMiniaturizeNotification";CPWindowWillMiniaturizeNotification="CPWindowWillMiniaturizeNotification";CPWindowDidDeminiaturizeNotification="CPWindowDidDeminiaturizeNotification";CPWindowShadowStyleStandard=0;CPWindowShadowStyleMenu=1;CPWindowShadowStylePanel=2;var f=nil,d=nil,b=nil,a=[CPLeftArrowFunctionKey,CPRightArrowFunctionKey,CPUpArrowFunctionKey,
CPDownArrowFunctionKey,CPPageUpFunctionKey,CPPageDownFunctionKey,CPHomeFunctionKey,CPEndFunctionKey,CPEscapeFunctionKey],e=objj_allocateClassPair(CPResponder,"CPWindow"),c=e.isa;class_addIvars(e,[new objj_ivar("_platformWindow"),new objj_ivar("_windowNumber"),new objj_ivar("_styleMask"),new objj_ivar("_frame"),new objj_ivar("_level"),new objj_ivar("_isVisible"),new objj_ivar("_isMiniaturized"),new objj_ivar("_isAnimating"),new objj_ivar("_hasShadow"),new objj_ivar("_isMovableByWindowBackground"),
new objj_ivar("_shadowStyle"),new objj_ivar("_showsResizeIndicator"),new objj_ivar("_isDocumentEdited"),new objj_ivar("_isDocumentSaving"),new objj_ivar("_shadowView"),new objj_ivar("_windowView"),new objj_ivar("_contentView"),new objj_ivar("_toolbarView"),new objj_ivar("_mouseEnteredStack"),new objj_ivar("_leftMouseDownView"),new objj_ivar("_rightMouseDownView"),new objj_ivar("_toolbar"),new objj_ivar("_firstResponder"),new objj_ivar("_initialFirstResponder"),new objj_ivar("_delegate"),new objj_ivar("_title"),
new objj_ivar("_acceptsMouseMovedEvents"),new objj_ivar("_ignoresMouseEvents"),new objj_ivar("_windowController"),new objj_ivar("_minSize"),new objj_ivar("_maxSize"),new objj_ivar("_undoManager"),new objj_ivar("_representedURL"),new objj_ivar("_registeredDraggedTypes"),new objj_ivar("_registeredDraggedTypesArray"),new objj_ivar("_inclusiveRegisteredDraggedTypes"),new objj_ivar("_defaultButton"),new objj_ivar("_defaultButtonEnabled"),new objj_ivar("_autorecalculatesKeyViewLoop"),new objj_ivar("_keyViewLoopIsDirty"),
new objj_ivar("_sharesChromeWithPlatformWindow"),new objj_ivar("_DOMElement"),new objj_ivar("_autoresizingMask"),new objj_ivar("_delegateRespondsToWindowWillReturnUndoManagerSelector"),new objj_ivar("_isFullPlatformWindow"),new objj_ivar("_fullPlatformWindowSession"),new objj_ivar("_sheetContext"),new objj_ivar("_parentView"),new objj_ivar("_isSheet"),new objj_ivar("_frameAnimation")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,
"initWithContentRect:styleMask:",{origin:{x:0,y:0},size:{width:0,height:0}},CPTitledWindowMask)}),new objj_method(sel_getUid("initWithContentRect:styleMask:"),function(a,e,c,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPWindow").super_class},"init")){e=objj_msgSend(objj_msgSend(a,"class"),"_windowViewClassForStyleMask:",b);_frame=objj_msgSend(e,"frameRectForContentRect:",c);objj_msgSend(a,"_setSharesChromeWithPlatformWindow:",!objj_msgSend(CPPlatform,"isBrowser"));if(objj_msgSend(CPPlatform,
"isBrowser"))objj_msgSend(a,"setPlatformWindow:",objj_msgSend(CPPlatformWindow,"primaryPlatformWindow"));else{if(b&CPBorderlessBridgeWindowMask&&c.size.width===0&&c.size.height===0)c=objj_msgSend(objj_msgSend(objj_msgSend(CPScreen,"alloc"),"init"),"visibleFrame"),_frame.size.height=MIN(768,c.size.height),_frame.size.width=MIN(1024,c.size.width),_frame.origin.x=(c.size.width-_frame.size.width)/2,_frame.origin.y=(c.size.height-_frame.size.height)/2;objj_msgSend(a,"setPlatformWindow:",objj_msgSend(objj_msgSend(CPPlatformWindow,
"alloc"),"initWithContentRect:",_frame));objj_msgSend(a,"platformWindow")._only=a}_isFullPlatformWindow=NO;_registeredDraggedTypes=objj_msgSend(CPSet,"set");_registeredDraggedTypesArray=[];_isSheet=NO;_acceptsMouseMovedEvents=YES;_windowNumber=objj_msgSend(CPApp._windows,"count");CPApp._windows[_windowNumber]=a;_styleMask=b;objj_msgSend(a,"setLevel:",CPNormalWindowLevel);_minSize=CGSizeMake(0,0);_maxSize=CGSizeMake(1E6,1E6);_windowView=objj_msgSend(objj_msgSend(e,"alloc"),"initWithFrame:styleMask:",
CGRectMake(0,0,CGRectGetWidth(_frame),CGRectGetHeight(_frame)),b);objj_msgSend(_windowView,"_setWindow:",a);objj_msgSend(_windowView,"setNextResponder:",a);objj_msgSend(a,"setMovableByWindowBackground:",b&CPHUDBackgroundWindowMask);objj_msgSend(a,"setContentView:",objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMakeZero()));_firstResponder=a;_DOMElement=document.createElement("div");_DOMElement.style.position="absolute";_DOMElement.style.visibility="visible";_DOMElement.style.zIndex=
0;if(!objj_msgSend(a,"_sharesChromeWithPlatformWindow"))c=NULL?{x:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.a+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.c+NULL.tx,y:CGPointMake(_frame.origin.x,_frame.origin.y).x*NULL.b+CGPointMake(_frame.origin.x,_frame.origin.y).y*NULL.d+NULL.ty}:{x:_frame.origin.x,y:_frame.origin.y},_DOMElement.style.left=ROUND(c.x)+"px",_DOMElement.style.top=ROUND(c.y)+"px";_DOMElement.style.width=MAX(0,ROUND(1))+"px";_DOMElement.style.height=MAX(0,ROUND(1))+
"px";_DOMElement.appendChild(_windowView._DOMElement);objj_msgSend(a,"setNextResponder:",CPApp);objj_msgSend(a,"setHasShadow:",b!==CPBorderlessWindowMask);b&CPBorderlessBridgeWindowMask&&objj_msgSend(a,"setFullPlatformWindow:",YES);_keyViewLoopIsDirty=_defaultButtonEnabled=YES;objj_msgSend(a,"setShowsResizeIndicator:",_styleMask&CPResizableWindowMask)}return a}}),new objj_method(sel_getUid("platformWindow"),function(a){with(a)return _platformWindow}),new objj_method(sel_getUid("setPlatformWindow:"),
function(a,e,c){with(a)_platformWindow=c}),new objj_method(sel_getUid("awakeFromCib"),function(a){with(a)_keyViewLoopIsDirty=!objj_msgSend(a,"_hasKeyViewLoop")}),new objj_method(sel_getUid("_setWindowView:"),function(a,e,c){with(a){if(_windowView===c)return;e=_windowView;_windowView=c;e&&(objj_msgSend(e,"_setWindow:",nil),objj_msgSend(e,"noteToolbarChanged"),_DOMElement.removeChild(e._DOMElement));if(_windowView)_DOMElement.appendChild(_windowView._DOMElement),c=objj_msgSend(_contentView,"convertRect:toView:",
objj_msgSend(_contentView,"bounds"),nil),c.origin=objj_msgSend(a,"convertBaseToGlobal:",c.origin),objj_msgSend(_windowView,"_setWindow:",a),objj_msgSend(_windowView,"setNextResponder:",a),objj_msgSend(_windowView,"addSubview:",_contentView),objj_msgSend(_windowView,"setTitle:",_title),objj_msgSend(_windowView,"noteToolbarChanged"),objj_msgSend(_windowView,"setShowsResizeIndicator:",objj_msgSend(a,"showsResizeIndicator")),objj_msgSend(a,"setFrame:",objj_msgSend(a,"frameRectForContentRect:",c))}}),
new objj_method(sel_getUid("setFullPlatformWindow:"),function(a,e,c){with(a){if(!objj_msgSend(_platformWindow,"supportsFullPlatformWindows"))return;c=!!c;if(_isFullPlatformWindow===c)return;(_isFullPlatformWindow=c)?(_fullPlatformWindowSession=_CPWindowFullPlatformWindowSessionMake(_windowView,objj_msgSend(a,"contentRectForFrameRect:",objj_msgSend(a,"frame")),objj_msgSend(a,"hasShadow"),objj_msgSend(a,"level")),e=objj_msgSend(objj_msgSend(a,"class"),"_windowViewClassForFullPlatformWindowStyleMask:",
_styleMask),e=objj_msgSend(objj_msgSend(e,"alloc"),"initWithFrame:styleMask:",CGRectMakeZero(),_styleMask),objj_msgSend(a,"_setWindowView:",e),objj_msgSend(a,"setLevel:",CPBackgroundWindowLevel),objj_msgSend(a,"setHasShadow:",NO),objj_msgSend(a,"setAutoresizingMask:",CPWindowWidthSizable|CPWindowHeightSizable),objj_msgSend(a,"setFrame:",objj_msgSend(_platformWindow,"visibleFrame"))):(e=_fullPlatformWindowSession.windowView,objj_msgSend(a,"_setWindowView:",e),objj_msgSend(a,"setLevel:",_fullPlatformWindowSession.level),
objj_msgSend(a,"setHasShadow:",_fullPlatformWindowSession.hasShadow),objj_msgSend(a,"setAutoresizingMask:",CPWindowNotSizable),objj_msgSend(a,"setFrame:",objj_msgSend(e,"frameRectForContentRect:",_fullPlatformWindowSession.contentRect)))}}),new objj_method(sel_getUid("isFullPlatformWindow"),function(a){with(a)return _isFullPlatformWindow}),new objj_method(sel_getUid("styleMask"),function(a){with(a)return _styleMask}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(a,e,c){with(a)return objj_msgSend(_windowView,
"contentRectForFrameRect:",c)}),new objj_method(sel_getUid("frameRectForContentRect:"),function(a,e,c){with(a)return objj_msgSend(_windowView,"frameRectForContentRect:",c)}),new objj_method(sel_getUid("frame"),function(a){with(a)return{origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:_frame.size.width,height:_frame.size.height}}}),new objj_method(sel_getUid("_setClippedFrame:display:animate:"),function(a,e,c,b,d){with(a)c.size.width=MIN(MAX(c.size.width,_minSize.width),_maxSize.width),c.size.height=
MIN(MAX(c.size.height,_minSize.height),_maxSize.height),objj_msgSend(a,"setFrame:display:animate:",c,b,d)}),new objj_method(sel_getUid("setFrame:display:animate:"),function(a,e,c,b,d){with(a){c={origin:{x:c.origin.x,y:c.origin.y},size:{width:c.size.width,height:c.size.height}};e=c.origin.x;if(b=e-FLOOR(e))c.origin.x=e>0.879?CEIL(e):FLOOR(e);e=c.origin.y;if(b=e-FLOOR(e))c.origin.y=e>0.879?CEIL(e):FLOOR(e);e=c.size.width;if(b=e-FLOOR(e))c.size.width=e>0.15?CEIL(e):FLOOR(e);e=c.size.height;if(b=e-FLOOR(e))c.size.height=
e>0.15?CEIL(e):FLOOR(e);if(d)objj_msgSend(_frameAnimation,"stopAnimation"),_frameAnimation=objj_msgSend(objj_msgSend(_CPWindowFrameAnimation,"alloc"),"initWithWindow:targetFrame:",a,c),objj_msgSend(_frameAnimation,"startAnimation");else{d=_frame.origin;e=c.origin;if(!(d.x==e.x&&d.y==e.y)){d.x=e.x;d.y=e.y;if(!objj_msgSend(a,"_sharesChromeWithPlatformWindow"))d=NULL?{x:CGPointMake(d.x,d.y).x*NULL.a+CGPointMake(d.x,d.y).y*NULL.c+NULL.tx,y:CGPointMake(d.x,d.y).x*NULL.b+CGPointMake(d.x,d.y).y*NULL.d+NULL.ty}:
{x:d.x,y:d.y},_DOMElement.style.left=ROUND(d.x)+"px",_DOMElement.style.top=ROUND(d.y)+"px";objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidMoveNotification,a)}d=_frame.size;c=c.size;if(!(d.width==c.width&&d.height==c.height))d.width=c.width,d.height=c.height,objj_msgSend(_windowView,"setFrameSize:",d),_hasShadow&&objj_msgSend(_shadowView,"setFrameSize:",{width:20+d.width+19,height:10+d.height+10+5}),_isAnimating||objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPWindowDidResizeNotification,a);objj_msgSend(a,"_sharesChromeWithPlatformWindow")&&objj_msgSend(_platformWindow,"setContentRect:",_frame)}}}),new objj_method(sel_getUid("setFrame:display:"),function(a,e,c,b){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",c,b,NO)}),new objj_method(sel_getUid("setFrame:"),function(a,e,c){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",c,YES,NO)}),new objj_method(sel_getUid("setFrameOrigin:"),function(a,
e,c){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",{origin:{x:c.x,y:c.y},size:{width:_frame.size.width,height:_frame.size.height}},YES,NO)}),new objj_method(sel_getUid("setFrameSize:"),function(a,e,c){with(a)objj_msgSend(a,"_setClippedFrame:display:animate:",{origin:{x:_frame.origin.x,y:_frame.origin.y},size:{width:c.width,height:c.height}},YES,NO)}),new objj_method(sel_getUid("orderFront:"),function(a){with(a)objj_msgSend(_platformWindow,"orderFront:",a),objj_msgSend(_platformWindow,
"order:window:relativeTo:",CPWindowAbove,a,nil),(_firstResponder===a||!_firstResponder)&&objj_msgSend(a,"makeFirstResponder:",objj_msgSend(a,"initialFirstResponder")),CPApp._keyWindow||objj_msgSend(a,"makeKeyWindow"),CPApp._mainWindow||objj_msgSend(a,"makeMainWindow")}),new objj_method(sel_getUid("orderBack:"),function(a){with(a);}),new objj_method(sel_getUid("orderOut:"),function(a){with(a)objj_msgSend(a,"_sharesChromeWithPlatformWindow")&&objj_msgSend(_platformWindow,"orderOut:",a),objj_msgSend(_delegate,
"respondsToSelector:",sel_getUid("windowWillClose:"))&&objj_msgSend(_delegate,"windowWillClose:",a),objj_msgSend(_platformWindow,"order:window:relativeTo:",CPWindowOut,a,nil),objj_msgSend(a,"_updateMainAndKeyWindows")}),new objj_method(sel_getUid("orderWindow:relativeTo:"),function(a,e,c,b){with(a)objj_msgSend(_platformWindow,"order:window:relativeTo:",c,a,CPApp._windows[b])}),new objj_method(sel_getUid("setLevel:"),function(a,e,c){with(a){if(c===_level)return;objj_msgSend(_platformWindow,"moveWindow:fromLevel:toLevel:",
a,_level,c);_level=c;objj_msgSend(a,"_sharesChromeWithPlatformWindow")&&objj_msgSend(_platformWindow,"setLevel:",c)}}),new objj_method(sel_getUid("level"),function(a){with(a)return _level}),new objj_method(sel_getUid("isVisible"),function(a){with(a)return _isVisible}),new objj_method(sel_getUid("showsResizeIndicator"),function(a){with(a)return _showsResizeIndicator}),new objj_method(sel_getUid("setShowsResizeIndicator:"),function(a,e,c){with(a){c=!!c;if(_showsResizeIndicator===c)return;_showsResizeIndicator=
c;objj_msgSend(_windowView,"setShowsResizeIndicator:",objj_msgSend(a,"showsResizeIndicator"))}}),new objj_method(sel_getUid("resizeIndicatorOffset"),function(a){with(a)return objj_msgSend(_windowView,"resizeIndicatorOffset")}),new objj_method(sel_getUid("setResizeIndicatorOffset:"),function(a,e,c){with(a)objj_msgSend(_windowView,"setResizeIndicatorOffset:",c)}),new objj_method(sel_getUid("setContentView:"),function(a,e,c){with(a)_contentView&&objj_msgSend(_contentView,"removeFromSuperview"),e=CGRectMake(0,
0,CGRectGetWidth(_frame),CGRectGetHeight(_frame)),_contentView=c,objj_msgSend(_contentView,"setFrame:",objj_msgSend(a,"contentRectForFrameRect:",e)),objj_msgSend(_contentView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(_windowView,"addSubview:",_contentView)}),new objj_method(sel_getUid("contentView"),function(a){with(a)return _contentView}),new objj_method(sel_getUid("setAlphaValue:"),function(a,e,c){with(a)objj_msgSend(_windowView,"setAlphaValue:",c)}),new objj_method(sel_getUid("alphaValue"),
function(a){with(a)return objj_msgSend(_windowView,"alphaValue")}),new objj_method(sel_getUid("setBackgroundColor:"),function(a,e,c){with(a)objj_msgSend(_windowView,"setBackgroundColor:",c)}),new objj_method(sel_getUid("backgroundColor"),function(a){with(a)return objj_msgSend(_windowView,"backgroundColor")}),new objj_method(sel_getUid("setMinSize:"),function(a,e,c){with(a){if(CGSizeEqualToSize(_minSize,c))return;_minSize=CGSizeCreateCopy(c);e=CGSizeMakeCopy(objj_msgSend(a,"frame").size);c=NO;if(e.width<
_minSize.width)e.width=_minSize.width,c=YES;if(e.height<_minSize.height)e.height=_minSize.height,c=YES;c&&objj_msgSend(a,"setFrameSize:",e)}}),new objj_method(sel_getUid("minSize"),function(a){with(a)return _minSize}),new objj_method(sel_getUid("setMaxSize:"),function(a,e,c){with(a){if(CGSizeEqualToSize(_maxSize,c))return;_maxSize=CGSizeCreateCopy(c);e=CGSizeMakeCopy(objj_msgSend(a,"frame").size);c=NO;if(e.width>_maxSize.width)e.width=_maxSize.width,c=YES;if(e.height>_maxSize.height)e.height=_maxSize.height,
c=YES;c&&objj_msgSend(a,"setFrameSize:",e)}}),new objj_method(sel_getUid("maxSize"),function(a){with(a)return _maxSize}),new objj_method(sel_getUid("hasShadow"),function(a){with(a)return _hasShadow}),new objj_method(sel_getUid("_updateShadow"),function(a){with(a){if(objj_msgSend(a,"_sharesChromeWithPlatformWindow")){_shadowView&&(_DOMElement.removeChild(_shadowView._DOMElement),_shadowView=nil);objj_msgSend(_platformWindow,"setHasShadow:",_hasShadow);return}_hasShadow&&!_shadowView?(a=objj_msgSend(_windowView,
"bounds"),_shadowView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(-20,-5,20+CGRectGetWidth(a)+19,10+CGRectGetHeight(a)+10)),f||(a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class")),f=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow0.png"),CGSizeMake(20,
19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow1.png"),CGSizeMake(1,19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow2.png"),CGSizeMake(19,19)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow3.png"),CGSizeMake(20,1)),objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow4.png"),CGSizeMake(1,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow5.png"),CGSizeMake(19,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow6.png"),CGSizeMake(20,18)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow7.png"),CGSizeMake(1,18)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/CPWindowShadow8.png"),CGSizeMake(19,18))]))),objj_msgSend(_shadowView,"setBackgroundColor:",f),objj_msgSend(_shadowView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),_DOMElement.insertBefore(_shadowView._DOMElement,_windowView._DOMElement)):!_hasShadow&&_shadowView&&(_DOMElement.removeChild(_shadowView._DOMElement),
_shadowView=nil)}}),new objj_method(sel_getUid("setHasShadow:"),function(a,e,c){with(a){if(_hasShadow===c)return;_hasShadow=c;objj_msgSend(a,"_updateShadow")}}),new objj_method(sel_getUid("setShadowStyle:"),function(a,e,c){with(a)_shadowStyle=c,objj_msgSend(objj_msgSend(a,"platformWindow"),"setShadowStyle:",_shadowStyle)}),new objj_method(sel_getUid("setDelegate:"),function(a,e,c){with(a)e=objj_msgSend(CPNotificationCenter,"defaultCenter"),objj_msgSend(e,"removeObserver:name:object:",_delegate,CPWindowDidResignKeyNotification,
a),objj_msgSend(e,"removeObserver:name:object:",_delegate,CPWindowDidBecomeKeyNotification,a),objj_msgSend(e,"removeObserver:name:object:",_delegate,CPWindowDidBecomeMainNotification,a),objj_msgSend(e,"removeObserver:name:object:",_delegate,CPWindowDidResignMainNotification,a),objj_msgSend(e,"removeObserver:name:object:",_delegate,CPWindowDidMoveNotification,a),objj_msgSend(e,"removeObserver:name:object:",_delegate,CPWindowDidResizeNotification,a),_delegate=c,_delegateRespondsToWindowWillReturnUndoManagerSelector=
objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowWillReturnUndoManager:")),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResignKey:"))&&objj_msgSend(e,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResignKey:"),CPWindowDidResignKeyNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidBecomeKey:"))&&objj_msgSend(e,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidBecomeKey:"),CPWindowDidBecomeKeyNotification,
a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidBecomeMain:"))&&objj_msgSend(e,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidBecomeMain:"),CPWindowDidBecomeMainNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResignMain:"))&&objj_msgSend(e,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResignMain:"),CPWindowDidResignMainNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidMove:"))&&
objj_msgSend(e,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidMove:"),CPWindowDidMoveNotification,a),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowDidResize:"))&&objj_msgSend(e,"addObserver:selector:name:object:",_delegate,sel_getUid("windowDidResize:"),CPWindowDidResizeNotification,a)}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("setWindowController:"),function(a,e,c){with(a)_windowController=c}),new objj_method(sel_getUid("windowController"),
function(a){with(a)return _windowController}),new objj_method(sel_getUid("doCommandBySelector:"),function(a,e,c){with(a)objj_msgSend(_delegate,"respondsToSelector:",c)?objj_msgSend(_delegate,"performSelector:",c):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPWindow").super_class},"doCommandBySelector:",c)}),new objj_method(sel_getUid("acceptsFirstResponder"),function(a){with(a)return YES}),new objj_method(sel_getUid("initialFirstResponder"),function(a){with(a)return _initialFirstResponder}),
new objj_method(sel_getUid("setInitialFirstResponder:"),function(a,e,c){with(a)_initialFirstResponder=c}),new objj_method(sel_getUid("makeFirstResponder:"),function(a,e,c){with(a){if(_firstResponder===c)return YES;if(!objj_msgSend(_firstResponder,"resignFirstResponder"))return NO;if(!c||!objj_msgSend(c,"acceptsFirstResponder")||!objj_msgSend(c,"becomeFirstResponder"))return _firstResponder=a,NO;_firstResponder=c;return YES}}),new objj_method(sel_getUid("firstResponder"),function(a){with(a)return _firstResponder}),
new objj_method(sel_getUid("acceptsMouseMovedEvents"),function(a){with(a)return _acceptsMouseMovedEvents}),new objj_method(sel_getUid("setAcceptsMouseMovedEvents:"),function(a,e,c){with(a)_acceptsMouseMovedEvents=c}),new objj_method(sel_getUid("ignoresMouseEvents"),function(a){with(a)return _ignoresMouseEvents}),new objj_method(sel_getUid("setIgnoresMouseEvents:"),function(a,e,c){with(a)_ignoresMouseEvents=c}),new objj_method(sel_getUid("title"),function(a){with(a)return _title}),new objj_method(sel_getUid("setTitle:"),
function(a,e,c){with(a)_title=c,objj_msgSend(_windowView,"setTitle:",c),objj_msgSend(a,"_synchronizeMenuBarTitleWithWindowTitle")}),new objj_method(sel_getUid("setTitleWithRepresentedFilename:"),function(a,e,c){with(a)objj_msgSend(a,"setRepresentedFilename:",c),objj_msgSend(a,"setTitle:",objj_msgSend(c,"lastPathComponent"))}),new objj_method(sel_getUid("setRepresentedFilename:"),function(a,e,c){with(a)objj_msgSend(a,"setRepresentedURL:",c)}),new objj_method(sel_getUid("representedFilename"),function(a){with(a)return _representedURL}),
new objj_method(sel_getUid("setRepresentedURL:"),function(a,e,c){with(a)_representedURL=c}),new objj_method(sel_getUid("representedURL"),function(a){with(a)return _representedURL}),new objj_method(sel_getUid("screen"),function(a){with(a)return objj_msgSend(objj_msgSend(CPScreen,"alloc"),"init")}),new objj_method(sel_getUid("setMovableByWindowBackground:"),function(a,e,c){with(a)_isMovableByWindowBackground=c}),new objj_method(sel_getUid("isMovableByWindowBackground"),function(a){with(a)return _isMovableByWindowBackground}),
new objj_method(sel_getUid("center"),function(a){with(a){if(_isFullPlatformWindow)return;var e=objj_msgSend(a,"frame").size,c=objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(_platformWindow,"contentBounds").size:objj_msgSend(objj_msgSend(a,"screen"),"visibleFrame").size;e=CGPointMake((c.width-e.width)/2,(c.height-e.height)/2);if(e.x<0)e.x=0;if(e.y<0)e.y=0;objj_msgSend(a,"setFrameOrigin:",e)}}),new objj_method(sel_getUid("sendEvent:"),function(a,e,c){with(a){var b=objj_msgSend(c,"type");e=objj_msgSend(c,
"locationInWindow");switch(b){case CPFlagsChanged:return objj_msgSend(objj_msgSend(a,"firstResponder"),"flagsChanged:",c);case CPKeyUp:return objj_msgSend(objj_msgSend(a,"firstResponder"),"keyUp:",c);case CPKeyDown:if(objj_msgSend(c,"charactersIgnoringModifiers")===CPTabCharacter){objj_msgSend(c,"modifierFlags")&CPShiftKeyMask?objj_msgSend(a,"selectPreviousKeyView:",a):objj_msgSend(a,"selectNextKeyView:",a);break}else if(objj_msgSend(c,"charactersIgnoringModifiers")===CPBackTabCharacter)return objj_msgSend(a,
"selectPreviousKeyView:",a);objj_msgSend(objj_msgSend(a,"firstResponder"),"keyDown:",c);if(!objj_msgSend(a,"disableKeyEquivalentForDefaultButton")){var d=objj_msgSend(a,"defaultButton");e=objj_msgSend(d,"keyEquivalent");d=objj_msgSend(d,"keyEquivalentModifierMask");objj_msgSend(c,"_triggersKeyEquivalent:withModifierMask:",e,d)&&objj_msgSend(objj_msgSend(a,"defaultButton"),"performClick:",a)}break;case CPScrollWheel:return objj_msgSend(objj_msgSend(_windowView,"hitTest:",e),"scrollWheel:",c);case CPLeftMouseUp:case CPRightMouseUp:a=
_leftMouseDownView;d=b==CPRightMouseUp?sel_getUid("rightMouseUp:"):sel_getUid("mouseUp:");a||(a=objj_msgSend(_windowView,"hitTest:",e));objj_msgSend(a,"performSelector:withObject:",d,c);_leftMouseDownView=nil;break;case CPLeftMouseDown:case CPRightMouseDown:_leftMouseDownView=objj_msgSend(_windowView,"hitTest:",e);_leftMouseDownView!=_firstResponder&&objj_msgSend(_leftMouseDownView,"acceptsFirstResponder")&&objj_msgSend(a,"makeFirstResponder:",_leftMouseDownView);objj_msgSend(CPApp,"activateIgnoringOtherApps:",
YES);e=objj_msgSend(c,"window");d=b==CPRightMouseDown?sel_getUid("rightMouseDown:"):sel_getUid("mouseDown:");if(objj_msgSend(e,"isKeyWindow")||objj_msgSend(e,"becomesKeyOnlyIfNeeded")&&!objj_msgSend(_leftMouseDownView,"needsPanelToBecomeKey"))return objj_msgSend(_leftMouseDownView,"performSelector:withObject:",d,c);else if(objj_msgSend(a,"makeKeyAndOrderFront:",a),objj_msgSend(_leftMouseDownView,"acceptsFirstMouse:",c))return objj_msgSend(_leftMouseDownView,"performSelector:withObject:",d,c);break;
case CPLeftMouseDragged:case CPRightMouseDragged:if(!_leftMouseDownView)return objj_msgSend(objj_msgSend(_windowView,"hitTest:",e),"mouseDragged:",c);b==CPRightMouseDragged&&(d=sel_getUid("rightMouseDragged:"),objj_msgSend(_leftMouseDownView,"respondsToSelector:",d)||(d=nil));d||(d=sel_getUid("mouseDragged:"));return objj_msgSend(_leftMouseDownView,"performSelector:withObject:",d,c);case CPMouseMoved:if(!_acceptsMouseMovedEvents)break;_mouseEnteredStack||(_mouseEnteredStack=[]);a=objj_msgSend(_windowView,
"hitTest:",e);if(objj_msgSend(_mouseEnteredStack,"count")&&objj_msgSend(_mouseEnteredStack,"lastObject")===a)return objj_msgSend(a,"mouseMoved:",c);b=a;for(d=[];b;)d.unshift(b),b=objj_msgSend(b,"superview");for(b=MIN(_mouseEnteredStack.length,d.length);b--;)if(_mouseEnteredStack[b]===d[b])break;var h=b+1,k=_mouseEnteredStack.length;if(h<k)for(var o=objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",CPMouseExited,e,objj_msgSend(c,
"modifierFlags"),objj_msgSend(c,"timestamp"),_windowNumber,nil,-1,1,0);h<k;++h)objj_msgSend(_mouseEnteredStack[h],"mouseExited:",o);h=b+1;k=d.length;if(h<k)for(o=objj_msgSend(CPEvent,"mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",CPMouseEntered,e,objj_msgSend(c,"modifierFlags"),objj_msgSend(c,"timestamp"),_windowNumber,nil,-1,1,0);h<k;++h)objj_msgSend(d[h],"mouseEntered:",o);_mouseEnteredStack=d;objj_msgSend(a,"mouseMoved:",c)}}}),new objj_method(sel_getUid("windowNumber"),
function(a){with(a)return _windowNumber}),new objj_method(sel_getUid("becomeKeyWindow"),function(a){with(a)CPApp._keyWindow=a,_firstResponder!==a&&objj_msgSend(_firstResponder,"respondsToSelector:",sel_getUid("becomeKeyWindow"))&&objj_msgSend(_firstResponder,"becomeKeyWindow"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidBecomeKeyNotification,a)}),new objj_method(sel_getUid("canBecomeKeyWindow"),function(a){with(a)return YES}),new objj_method(sel_getUid("isKeyWindow"),
function(a){with(a)return objj_msgSend(CPApp,"keyWindow")==a}),new objj_method(sel_getUid("makeKeyAndOrderFront:"),function(a){with(a)objj_msgSend(a,"orderFront:",a),objj_msgSend(a,"makeKeyWindow"),objj_msgSend(a,"makeMainWindow")}),new objj_method(sel_getUid("makeKeyWindow"),function(a){with(a){if(objj_msgSend(CPApp,"keyWindow")===a||!objj_msgSend(a,"canBecomeKeyWindow"))return;objj_msgSend(objj_msgSend(CPApp,"keyWindow"),"resignKeyWindow");objj_msgSend(a,"becomeKeyWindow")}}),new objj_method(sel_getUid("resignKeyWindow"),
function(a){with(a){_firstResponder!==a&&objj_msgSend(_firstResponder,"respondsToSelector:",sel_getUid("resignKeyWindow"))&&objj_msgSend(_firstResponder,"resignKeyWindow");if(CPApp._keyWindow===a)CPApp._keyWindow=nil;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidResignKeyNotification,a)}}),new objj_method(sel_getUid("dragImage:at:offset:event:pasteboard:source:slideBack:"),function(a,e,c,b,d,h,k,o,f){with(a)objj_msgSend(objj_msgSend(CPDragServer,
"sharedDragServer"),"dragImage:fromWindow:at:offset:event:pasteboard:source:slideBack:",c,a,objj_msgSend(a,"convertBaseToGlobal:",b),d,h,k,o,f)}),new objj_method(sel_getUid("_noteRegisteredDraggedTypes:"),function(a,e,c){with(a){if(!c)return;_inclusiveRegisteredDraggedTypes||(_inclusiveRegisteredDraggedTypes=objj_msgSend(CPCountedSet,"set"));objj_msgSend(_inclusiveRegisteredDraggedTypes,"unionSet:",c)}}),new objj_method(sel_getUid("_noteUnregisteredDraggedTypes:"),function(a,e,c){with(a){if(!c)return;
objj_msgSend(_inclusiveRegisteredDraggedTypes,"minusSet:",c);objj_msgSend(_inclusiveRegisteredDraggedTypes,"count")===0&&(_inclusiveRegisteredDraggedTypes=nil)}}),new objj_method(sel_getUid("dragView:at:offset:event:pasteboard:source:slideBack:"),function(a,e,c,b,d,h,k,o,f){with(a)objj_msgSend(objj_msgSend(CPDragServer,"sharedDragServer"),"dragView:fromWindow:at:offset:event:pasteboard:source:slideBack:",c,a,objj_msgSend(a,"convertBaseToGlobal:",b),d,h,k,o,f)}),new objj_method(sel_getUid("registerForDraggedTypes:"),
function(a,e,c){with(a){if(!c)return;objj_msgSend(a,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes);objj_msgSend(_registeredDraggedTypes,"addObjectsFromArray:",c);objj_msgSend(a,"_noteRegisteredDraggedTypes:",_registeredDraggedTypes);_registeredDraggedTypesArray=nil}}),new objj_method(sel_getUid("registeredDraggedTypes"),function(a){with(a)return _registeredDraggedTypesArray||(_registeredDraggedTypesArray=objj_msgSend(_registeredDraggedTypes,"allObjects")),_registeredDraggedTypesArray}),
new objj_method(sel_getUid("unregisterDraggedTypes"),function(a){with(a)objj_msgSend(a,"_noteUnregisteredDraggedTypes:",_registeredDraggedTypes),_registeredDraggedTypes=objj_msgSend(CPSet,"set"),_registeredDraggedTypesArray=[]}),new objj_method(sel_getUid("setDocumentEdited:"),function(a,e,c){with(a){if(_isDocumentEdited==c)return;_isDocumentEdited=c;objj_msgSend(CPMenu,"_setMenuBarIconImageAlphaValue:",_isDocumentEdited?0.5:1);objj_msgSend(_windowView,"setDocumentEdited:",c)}}),new objj_method(sel_getUid("isDocumentEdited"),
function(a){with(a)return _isDocumentEdited}),new objj_method(sel_getUid("setDocumentSaving:"),function(a,e,c){with(a){if(_isDocumentSaving==c)return;_isDocumentSaving=c;objj_msgSend(a,"_synchronizeSaveMenuWithDocumentSaving");objj_msgSend(_windowView,"windowDidChangeDocumentSaving")}}),new objj_method(sel_getUid("isDocumentSaving"),function(a){with(a)return _isDocumentSaving}),new objj_method(sel_getUid("_synchronizeSaveMenuWithDocumentSaving"),function(a){with(a){if(!objj_msgSend(a,"isMainWindow"))return;
a=objj_msgSend(CPApp,"mainMenu");var e=objj_msgSend(a,"indexOfItemWithTitle:",_isDocumentSaving?"Save":"Saving...");if(e==CPNotFound)return;a=objj_msgSend(a,"itemAtIndex:",e);_isDocumentSaving?(d=objj_msgSend(a,"image"),objj_msgSend(a,"setTitle:","Saving..."),objj_msgSend(a,"setImage:",b),objj_msgSend(a,"setEnabled:",NO)):(objj_msgSend(a,"setTitle:","Save"),objj_msgSend(a,"setImage:",d),objj_msgSend(a,"setEnabled:",YES))}}),new objj_method(sel_getUid("performMiniaturize:"),function(a,e,c){with(a)objj_msgSend(a,
"miniaturize:",c)}),new objj_method(sel_getUid("miniaturize:"),function(a,e,c){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowWillMiniaturizeNotification,a),objj_msgSend(objj_msgSend(a,"platformWindow"),"miniaturize:",c),objj_msgSend(a,"_updateMainAndKeyWindows"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidMiniaturizeNotification,a),_isMiniaturized=YES}),new objj_method(sel_getUid("deminiaturize:"),
function(a,e,c){with(a)objj_msgSend(objj_msgSend(a,"platformWindow"),"deminiaturize:",c),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidDeminiaturizeNotification,a),_isMiniaturized=NO}),new objj_method(sel_getUid("isMiniaturized"),function(a){with(a)return _isMiniaturized}),new objj_method(sel_getUid("performClose:"),function(a){with(a){if(!(_styleMask&CPClosableWindowMask))return;if(objj_msgSend(a,"isFullBridge")){var e=objj_msgSend(CPApp,
"currentEvent");if(objj_msgSend(e,"type")===CPKeyDown&&objj_msgSend(e,"characters")==="w"&&objj_msgSend(e,"modifierFlags")&CPPlatformActionKeyMask){objj_msgSend(objj_msgSend(a,"platformWindow"),"_propagateCurrentDOMEvent:",YES);return}}if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("windowShouldClose:"))){if(!objj_msgSend(_delegate,"windowShouldClose:",a))return}else if(objj_msgSend(a,"respondsToSelector:",sel_getUid("windowShouldClose:"))&&!objj_msgSend(a,"windowShouldClose:",a))return;
e=objj_msgSend(_windowController,"documents");if(objj_msgSend(e,"count")){var c=objj_msgSend(e,"indexOfObject:",objj_msgSend(_windowController,"document"));objj_msgSend(e[c],"shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:",_windowController,a,sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),{documents:objj_msgSend(e,"copy"),visited:0,index:c})}else objj_msgSend(a,"close")}}),new objj_method(sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),
function(a,e,c,b,d){with(a)if(b){e=objj_msgSend(a,"windowController");b=d.documents;var h=objj_msgSend(b,"count"),k=++d.visited,o=++d.index%h;objj_msgSend(c,"removeWindowController:",e);k<h?(objj_msgSend(e,"setDocument:",b[o]),objj_msgSend(b[o],"shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:",_windowController,a,sel_getUid("_windowControllerContainingDocument:shouldClose:contextInfo:"),d)):objj_msgSend(a,"close")}}),new objj_method(sel_getUid("close"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPWindowWillCloseNotification,a),objj_msgSend(a,"orderOut:",nil)}),new objj_method(sel_getUid("isMainWindow"),function(a){with(a)return objj_msgSend(CPApp,"mainWindow")==a}),new objj_method(sel_getUid("canBecomeMainWindow"),function(a){with(a){if(objj_msgSend(a,"isVisible"))return YES;return NO}}),new objj_method(sel_getUid("makeMainWindow"),function(a){with(a){if(objj_msgSend(CPApp,"mainWindow")===a||!objj_msgSend(a,"canBecomeMainWindow"))return;objj_msgSend(objj_msgSend(CPApp,
"mainWindow"),"resignMainWindow");objj_msgSend(a,"becomeMainWindow")}}),new objj_method(sel_getUid("becomeMainWindow"),function(a){with(a)CPApp._mainWindow=a,objj_msgSend(a,"_synchronizeMenuBarTitleWithWindowTitle"),objj_msgSend(a,"_synchronizeSaveMenuWithDocumentSaving"),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidBecomeMainNotification,a)}),new objj_method(sel_getUid("resignMainWindow"),function(a){with(a)if(objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPWindowDidResignMainNotification,a),CPApp._mainWindow===a)CPApp._mainWindow=nil}),new objj_method(sel_getUid("_updateMainAndKeyWindows"),function(a){with(a){var e=objj_msgSend(CPApp,"orderedWindows"),c=objj_msgSend(e,"count");if(objj_msgSend(a,"isKeyWindow")){var b=objj_msgSend(CPApp,"keyWindow");objj_msgSend(a,"resignKeyWindow");if(b&&b!==a&&objj_msgSend(b,"canBecomeKeyWindow"))objj_msgSend(b,"makeKeyWindow");else{objj_msgSend(CPApp,"mainMenu");b=
objj_getClass("_CPMenuBarWindow");for(var d,h=0;h<c;h++){var k=e[h];objj_msgSend(k,"isKindOfClass:",b)&&(d=k);if(!(k===a||k===d)&&objj_msgSend(k,"isVisible")&&objj_msgSend(k,"canBecomeKeyWindow")){objj_msgSend(k,"makeKeyWindow");break}}objj_msgSend(CPApp,"keyWindow")||objj_msgSend(d,"makeKeyWindow")}}if(objj_msgSend(a,"isMainWindow"))if(b=objj_msgSend(CPApp,"mainWindow"),objj_msgSend(a,"resignMainWindow"),b&&b!==a&&objj_msgSend(b,"canBecomeMainWindow"))objj_msgSend(b,"makeMainWindow");else{objj_msgSend(CPApp,
"mainMenu");b=objj_getClass("_CPMenuBarWindow");for(h=0;h<c;h++)if(k=e[h],objj_msgSend(k,"isKindOfClass:",b)&&(d=k),!(k===a||k===d)&&objj_msgSend(k,"isVisible")&&objj_msgSend(k,"canBecomeMainWindow")){objj_msgSend(k,"makeMainWindow");break}}}}),new objj_method(sel_getUid("toolbar"),function(a){with(a)return _toolbar}),new objj_method(sel_getUid("setToolbar:"),function(a,e,c){with(a){if(_toolbar===c)return;objj_msgSend(objj_msgSend(c,"_window"),"setToolbar:",nil);objj_msgSend(_toolbar,"_setWindow:",
nil);_toolbar=c;objj_msgSend(_toolbar,"_setWindow:",a);objj_msgSend(a,"_noteToolbarChanged")}}),new objj_method(sel_getUid("toggleToolbarShown:"),function(a){with(a)a=objj_msgSend(a,"toolbar"),objj_msgSend(a,"setVisible:",!objj_msgSend(a,"isVisible"))}),new objj_method(sel_getUid("_noteToolbarChanged"),function(a){with(a){var e=CGRectMakeCopy(objj_msgSend(a,"frame")),c;objj_msgSend(_windowView,"noteToolbarChanged");_isFullPlatformWindow?c=objj_msgSend(_platformWindow,"visibleFrame"):(c=CGRectMakeCopy(objj_msgSend(a,
"frame")),c.origin=e.origin);objj_msgSend(a,"setFrame:",c)}}),new objj_method(sel_getUid("_setFrame:delegate:duration:curve:"),function(a,e,c,b,d,h){with(a)objj_msgSend(_frameAnimation,"stopAnimation"),_frameAnimation=objj_msgSend(objj_msgSend(_CPWindowFrameAnimation,"alloc"),"initWithWindow:targetFrame:",a,c),objj_msgSend(_frameAnimation,"setDelegate:",b),objj_msgSend(_frameAnimation,"setAnimationCurve:",h),objj_msgSend(_frameAnimation,"setDuration:",d),objj_msgSend(_frameAnimation,"startAnimation")}),
new objj_method(sel_getUid("animationResizeTime:"),function(a){with(a)return 0.2}),new objj_method(sel_getUid("_setAttachedSheetFrameOrigin"),function(a){with(a){var e=objj_msgSend(a,"attachedSheet");a=objj_msgSend(objj_msgSend(a,"contentView"),"frame");var c=CGRectMakeCopy(objj_msgSend(e,"frame"));c.origin.y=CGRectGetMinY(_frame)+CGRectGetMinY(a);c.origin.x=CGRectGetMinX(_frame)+FLOOR((CGRectGetWidth(_frame)-CGRectGetWidth(c))/2);objj_msgSend(e,"setFrame:display:animate:",c,YES,NO)}}),new objj_method(sel_getUid("_attachSheet:modalDelegate:didEndSelector:contextInfo:"),
function(a,e,c,b,d,h){with(a)e=objj_msgSend(c,"frame"),_sheetContext={sheet:c,modalDelegate:b,endSelector:d,contextInfo:h,frame:CGRectMakeCopy(e),returnCode:-1,opened:NO},objj_msgSend(a,"_attachSheetWindow:",c)}),new objj_method(sel_getUid("_attachSheetWindow:"),function(a,e,c){with(a){e=objj_msgSend(c,"frame");var b=objj_msgSend(a,"frame"),d=objj_msgSend(c,"contentView");objj_msgSend(a,"_setUpMasksForView:",d);c._isSheet=YES;c._parentView=a;d=b.origin.x+FLOOR((b.size.width-e.size.width)/2);var h=
b.origin.y+objj_msgSend(objj_msgSend(a,"contentView"),"frame").origin.y;b=CGRectMake(d,h,e.size.width,0);e=CGRectMake(d,h,e.size.width,e.size.height);objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowWillBeginSheetNotification,a);objj_msgSend(CPApp,"runModalForWindow:",c);objj_msgSend(c,"orderFront:",a);objj_msgSend(c,"setFrame:display:animate:",b,YES,NO);_sheetContext.opened=YES;objj_msgSend(c,"_setFrame:delegate:duration:curve:",e,a,objj_msgSend(a,
"animationResizeTime:",e),CPAnimationEaseOut);objj_msgSend(c,"becomeKeyWindow")}}),new objj_method(sel_getUid("_detachSheetWindow"),function(a){with(a){var e=objj_msgSend(a,"attachedSheet"),c=objj_msgSend(e,"frame"),b=CGRectMakeCopy(c);b.size.height=0;_sheetContext.frame=c;c=objj_msgSend(e,"contentView");objj_msgSend(a,"_setUpMasksForView:",c);_sheetContext.opened=NO;objj_msgSend(e,"_setFrame:delegate:duration:curve:",b,a,objj_msgSend(a,"animationResizeTime:",b),CPAnimationEaseIn)}}),new objj_method(sel_getUid("animationDidEnd:"),
function(a,e,c){with(a){e=_sheetContext.sheet;if(c._window!=e)return;c=objj_msgSend(e,"contentView");if(_sheetContext.opened===YES){objj_msgSend(a,"_restoreMasksForView:",c);return}objj_msgSend(CPApp,"stopModal");objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPWindowDidEndSheetNotification,a);objj_msgSend(e,"orderOut:",a);objj_msgSend(e,"setFrame:",_sheetContext.frame);objj_msgSend(a,"_restoreMasksForView:",c);a=_sheetContext.modalDelegate;c=_sheetContext.endSelector;
var b=_sheetContext.returnCode,d=_sheetContext.contextInfo;_sheetContext=nil;e._parentView=nil;a!=nil&&c!=nil&&objj_msgSend(a,c,e,b,d)}}),new objj_method(sel_getUid("_setUpMasksForView:"),function(a,e,c){with(a){a=objj_msgSend(c,"subviews");objj_msgSend(a,"addObject:",c);c=0;for(e=objj_msgSend(a,"count");c<e;c++){var b=objj_msgSend(a,"objectAtIndex:",c),d=objj_msgSend(b,"autoresizingMask");objj_msgSend(b,"setAutoresizingMask:",d|(d&CPViewMinYMargin?128:CPViewMinYMargin))}}}),new objj_method(sel_getUid("_restoreMasksForView:"),
function(a,e,c){with(a){a=objj_msgSend(c,"subviews");objj_msgSend(a,"addObject:",c);c=0;for(e=objj_msgSend(a,"count");c<e;c++){var b=objj_msgSend(a,"objectAtIndex:",c),d=objj_msgSend(b,"autoresizingMask");objj_msgSend(b,"setAutoresizingMask:",d&~(d&128?128:CPViewMinYMargin))}}}),new objj_method(sel_getUid("attachedSheet"),function(a){with(a){if(_sheetContext===nil)return nil;return _sheetContext.sheet}}),new objj_method(sel_getUid("isSheet"),function(a){with(a)return _isSheet}),new objj_method(sel_getUid("becomesKeyOnlyIfNeeded"),
function(a){with(a)return NO}),new objj_method(sel_getUid("worksWhenModal"),function(a){with(a)return NO}),new objj_method(sel_getUid("performKeyEquivalent:"),function(a,e,c){with(a)return objj_msgSend(objj_msgSend(a,"contentView"),"performKeyEquivalent:",c)}),new objj_method(sel_getUid("keyDown:"),function(a,e,c){with(a){if(objj_msgSend(c,"_couldBeKeyEquivalent")&&objj_msgSend(a,"performKeyEquivalent:",c))return;objj_msgSend(a,"_processKeyboardUIKey:",c)}}),new objj_method(sel_getUid("_processKeyboardUIKey:"),
function(e,c,b){with(e){c=objj_msgSend(b,"charactersIgnoringModifiers");if(!objj_msgSend(a,"containsObject:",c))return NO;b=objj_msgSend(CPKeyBinding,"selectorsForKey:modifierFlags:",c,0);if(objj_msgSend(b,"count")<=0)return NO;if(c!==CPEscapeFunctionKey)return c=objj_msgSend(b,"objectAtIndex:",0),objj_msgSend(objj_msgSend(e,"firstResponder"),"tryToPerform:with:",c,e);else objj_msgSend(objj_msgSend(e,"firstResponder"),"doCommandBySelector:",sel_getUid("complete:"))}}),new objj_method(sel_getUid("_dirtyKeyViewLoop"),
function(a){with(a)_autorecalculatesKeyViewLoop&&(_keyViewLoopIsDirty=YES)}),new objj_method(sel_getUid("_hasKeyViewLoop"),function(a){with(a){a=h(a);for(var e=objj_msgSend(a,"count");e--;)if(objj_msgSend(a[e],"nextKeyView"))return YES;return NO}}),new objj_method(sel_getUid("recalculateKeyViewLoop"),function(a){with(a){a=h(a);objj_msgSend(a,"sortUsingFunction:context:",k,nil);for(var e=0,c=objj_msgSend(a,"count");e<c;++e)objj_msgSend(a[e],"setNextKeyView:",a[(e+1)%c]);_keyViewLoopIsDirty=NO}}),new objj_method(sel_getUid("setAutorecalculatesKeyViewLoop:"),
function(a,e,c){with(a){if(_autorecalculatesKeyViewLoop===c)return;_autorecalculatesKeyViewLoop=c;_keyViewLoopIsDirty?objj_msgSend(a,"recalculateKeyViewLoop"):_autorecalculatesKeyViewLoop&&objj_msgSend(a,"_dirtyKeyViewLoop")}}),new objj_method(sel_getUid("autorecalculatesKeyViewLoop"),function(a){with(a)return _autorecalculatesKeyViewLoop}),new objj_method(sel_getUid("selectNextKeyView:"),function(a){with(a)objj_msgSend(_firstResponder,"isKindOfClass:",objj_msgSend(CPView,"class"))&&objj_msgSend(a,
"selectKeyViewFollowingView:",_firstResponder)}),new objj_method(sel_getUid("selectPreviousKeyView:"),function(a){with(a)objj_msgSend(_firstResponder,"isKindOfClass:",objj_msgSend(CPView,"class"))&&objj_msgSend(a,"selectKeyViewPrecedingView:",_firstResponder)}),new objj_method(sel_getUid("selectKeyViewFollowingView:"),function(a,e,c){with(a)_keyViewLoopIsDirty&&objj_msgSend(a,"recalculateKeyViewLoop"),objj_msgSend(a,"makeFirstResponder:",objj_msgSend(c,"nextValidKeyView"))}),new objj_method(sel_getUid("selectKeyViewPrecedingView:"),
function(a,e,c){with(a)_keyViewLoopIsDirty&&objj_msgSend(a,"recalculateKeyViewLoop"),objj_msgSend(a,"makeFirstResponder:",objj_msgSend(c,"previousValidKeyView"))}),new objj_method(sel_getUid("setDefaultButtonCell:"),function(a,e,c){with(a)objj_msgSend(a,"setDefaultButton:",c)}),new objj_method(sel_getUid("defaultButtonCell"),function(a){with(a)return objj_msgSend(a,"defaultButton")}),new objj_method(sel_getUid("setDefaultButton:"),function(a,e,c){with(a){if(_defaultButton===c)return;objj_msgSend(_defaultButton,
"keyEquivalent")===CPCarriageReturnCharacter&&objj_msgSend(_defaultButton,"setKeyEquivalent:",nil);_defaultButton=c;objj_msgSend(_defaultButton,"keyEquivalent")!==CPCarriageReturnCharacter&&objj_msgSend(_defaultButton,"setKeyEquivalent:",CPCarriageReturnCharacter)}}),new objj_method(sel_getUid("defaultButton"),function(a){with(a)return _defaultButton}),new objj_method(sel_getUid("enableKeyEquivalentForDefaultButton"),function(a){with(a)_defaultButtonEnabled=YES}),new objj_method(sel_getUid("enableKeyEquivalentForDefaultButtonCell"),
function(a){with(a)objj_msgSend(a,"enableKeyEquivalentForDefaultButton")}),new objj_method(sel_getUid("disableKeyEquivalentForDefaultButton"),function(a){with(a)_defaultButtonEnabled=NO}),new objj_method(sel_getUid("disableKeyEquivalentForDefaultButtonCell"),function(a){with(a)objj_msgSend(a,"disableKeyEquivalentForDefaultButton")})]);class_addMethods(c,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(CPWindow,"class"))return;a=objj_msgSend(CPBundle,"bundleForClass:",
objj_msgSend(CPWindow,"class"));b=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPProgressIndicator/CPProgressIndicatorSpinningStyleRegular.gif"),CGSizeMake(16,16))}}),new objj_method(sel_getUid("_windowViewClassForStyleMask:"),function(a,e,c){with(a){if(c&CPHUDBackgroundWindowMask)return _CPHUDWindowView;else if(c===CPBorderlessWindowMask)return _CPBorderlessWindowView;else if(c&CPDocModalWindowMask)return _CPDocModalWindowView;return _CPStandardWindowView}}),
new objj_method(sel_getUid("_windowViewClassForFullPlatformWindowStyleMask:"),function(a){with(a)return _CPBorderlessBridgeWindowView}),new objj_method(sel_getUid("frameRectForContentRect:styleMask:"),function(a,e,c,b){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"class"),"_windowViewClassForStyleMask:",b),"frameRectForContentRect:",c)})]);var h=function(a){a=objj_msgSend(objj_msgSend(a,"contentView"),"subviews");for(var e=0;e<a.length;++e)a=a.concat(objj_msgSend(a[e],"subviews"));return a},
k=function(a,e){var c=objj_msgSend(a,"convertRect:toView:",objj_msgSend(a,"bounds"),nil),b=objj_msgSend(e,"convertRect:toView:",objj_msgSend(e,"bounds"),nil),d=c.origin.y,h=b.origin.y,k=c.origin.x,o=b.origin.x;if(MIN(c.origin.y+c.size.height,b.origin.y+b.size.height)-MAX(d,h)>0){if(k<o)return CPOrderedAscending;if(k===o)return CPOrderedSame;return CPOrderedDescending}if(d<h)return CPOrderedAscending;if(d===h)return CPOrderedSame;return CPOrderedDescending};e=objj_getClass("CPWindow");if(!e)throw new SyntaxError('*** Could not find definition for class "CPWindow"');
c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("_synchronizeMenuBarTitleWithWindowTitle"),function(a){with(a){if(!objj_msgSend(_windowController,"document")||!objj_msgSend(a,"isMainWindow"))return;objj_msgSend(CPMenu,"setMenuBarTitle:",_title)}})]);e=objj_getClass("CPWindow");if(!e)throw new SyntaxError('*** Could not find definition for class "CPWindow"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("resizeWithOldPlatformWindowSize:"),function(a,e,c){with(a){if(objj_msgSend(a,"isFullPlatformWindow"))return objj_msgSend(a,
"setFrame:",objj_msgSend(_platformWindow,"visibleFrame"));if(_autoresizingMask==CPWindowNotSizable)return;var b=objj_msgSend(_platformWindow,"contentBounds");e=CGRectMakeCopy(_frame);var d=(CGRectGetWidth(b)-c.width)/((_autoresizingMask&CPWindowMinXMargin?1:0)+(_autoresizingMask&CPWindowWidthSizable?1:0)+(_autoresizingMask&CPWindowMaxXMargin?1:0));c=(CGRectGetHeight(b)-c.height)/((_autoresizingMask&CPWindowMinYMargin?1:0)+(_autoresizingMask&CPWindowHeightSizable?1:0)+(_autoresizingMask&CPWindowMaxYMargin?
1:0));_autoresizingMask&CPWindowMinXMargin&&(e.origin.x+=d);_autoresizingMask&CPWindowWidthSizable&&(e.size.width+=d);_autoresizingMask&CPWindowMinYMargin&&(e.origin.y+=c);_autoresizingMask&CPWindowHeightSizable&&(e.size.height+=c);objj_msgSend(a,"setFrame:",e)}}),new objj_method(sel_getUid("setAutoresizingMask:"),function(a,e,c){with(a)_autoresizingMask=c}),new objj_method(sel_getUid("autoresizingMask"),function(a){with(a)return _autoresizingMask}),new objj_method(sel_getUid("convertBaseToGlobal:"),
function(a,e,c){with(a)return objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(a,"convertBaseToPlatformWindow:",c):objj_msgSend(a,"convertBaseToScreen:",c)}),new objj_method(sel_getUid("convertGlobalToBase:"),function(a,e,c){with(a)return objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(a,"convertPlatformWindowToBase:",c):objj_msgSend(a,"convertScreenToBase:",c)}),new objj_method(sel_getUid("convertBaseToPlatformWindow:"),function(a,e,c){with(a){if(objj_msgSend(a,"_sharesChromeWithPlatformWindow"))return c;
a=objj_msgSend(a,"frame").origin;return{x:c.x+a.x,y:c.y+a.y}}}),new objj_method(sel_getUid("convertPlatformWindowToBase:"),function(a,c,e){with(a){if(objj_msgSend(a,"_sharesChromeWithPlatformWindow"))return e;a=objj_msgSend(a,"frame").origin;return{x:e.x-a.x,y:e.y-a.y}}}),new objj_method(sel_getUid("convertScreenToBase:"),function(a,e,c){with(a)return objj_msgSend(a,"convertPlatformWindowToBase:",objj_msgSend(_platformWindow,"convertScreenToBase:",c))}),new objj_method(sel_getUid("convertBaseToScreen:"),
function(a,e,c){with(a)return objj_msgSend(_platformWindow,"convertBaseToScreen:",objj_msgSend(a,"convertBaseToPlatformWindow:",c))}),new objj_method(sel_getUid("_setSharesChromeWithPlatformWindow:"),function(a,c,e){with(a){if(e&&objj_msgSend(CPPlatform,"isBrowser"))return;_sharesChromeWithPlatformWindow=e;objj_msgSend(a,"_updateShadow")}}),new objj_method(sel_getUid("_sharesChromeWithPlatformWindow"),function(a){with(a)return _sharesChromeWithPlatformWindow}),new objj_method(sel_getUid("undoManager"),
function(a){with(a){if(_undoManager)return _undoManager;var e=objj_msgSend(objj_msgSend(_windowController,"document"),"undoManager");if(e)return e;if(_delegateRespondsToWindowWillReturnUndoManagerSelector)return objj_msgSend(_delegate,"windowWillReturnUndoManager:",a);_undoManager||(_undoManager=objj_msgSend(objj_msgSend(CPUndoManager,"alloc"),"init"));return _undoManager}}),new objj_method(sel_getUid("undo:"),function(a){with(a)objj_msgSend(objj_msgSend(a,"undoManager"),"undo")}),new objj_method(sel_getUid("redo:"),
function(a){with(a)objj_msgSend(objj_msgSend(a,"undoManager"),"redo")}),new objj_method(sel_getUid("containsPoint:"),function(a,e,c){with(a)return CGRectContainsPoint(_frame,c)})]);e=objj_getClass("CPWindow");if(!e)throw new SyntaxError('*** Could not find definition for class "CPWindow"');c=e.isa;class_addMethods(e,[new objj_method(sel_getUid("setFullBridge:"),function(a,e,c){with(a)objj_msgSend(a,"setFullPlatformWindow:",c)}),new objj_method(sel_getUid("isFullBridge"),function(a){with(a)return objj_msgSend(a,
"isFullPlatformWindow")}),new objj_method(sel_getUid("convertBaseToBridge:"),function(a,e,c){with(a)return objj_msgSend(a,"convertBaseToPlatformWindow:",c)}),new objj_method(sel_getUid("convertBridgeToBase:"),function(a,e,c){with(a)return objj_msgSend(a,"convertPlatformWindowToBase:",c)})]);var o=function(a,e,c){return a+(e-a)*c};e=objj_allocateClassPair(CPAnimation,"_CPWindowFrameAnimation");c=e.isa;class_addIvars(e,[new objj_ivar("_window"),new objj_ivar("_startFrame"),new objj_ivar("_targetFrame")]);
objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initWithWindow:targetFrame:"),function(a,e,c,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPWindowFrameAnimation").super_class},"initWithDuration:animationCurve:",objj_msgSend(c,"animationResizeTime:",b),CPAnimationLinear))_window=c,_targetFrame=CGRectMakeCopy(b),_startFrame=CGRectMakeCopy(objj_msgSend(_window,"frame"));return a}}),new objj_method(sel_getUid("startAnimation"),function(a){with(a)objj_msgSendSuper({receiver:a,
super_class:objj_getClass("_CPWindowFrameAnimation").super_class},"startAnimation"),_window._isAnimating=YES}),new objj_method(sel_getUid("setCurrentProgress:"),function(a,c,e){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPWindowFrameAnimation").super_class},"setCurrentProgress:",e);a=objj_msgSend(a,"currentValue");if(a==1)_window._isAnimating=NO;a=CGRectMake(o(CGRectGetMinX(_startFrame),CGRectGetMinX(_targetFrame),a),o(CGRectGetMinY(_startFrame),CGRectGetMinY(_targetFrame),
a),o(CGRectGetWidth(_startFrame),CGRectGetWidth(_targetFrame),a),o(CGRectGetHeight(_startFrame),CGRectGetHeight(_targetFrame),a));objj_msgSend(_window,"setFrame:display:animate:",a,YES,NO)}})]);_CPWindowFullPlatformWindowSessionMake=function(a,c,e,b){return{windowView:a,contentRect:c,hasShadow:e,level:b}};CPStandardWindowShadowStyle=0;CPMenuWindowShadowStyle=1;CPPanelWindowShadowStyle=2;CPCustomWindowShadowStyle=3;g("_CPWindowView.j",YES);g("_CPStandardWindowView.j",YES);g("_CPDocModalWindowView.j",
YES);g("_CPHUDWindowView.j",YES);g("_CPBorderlessWindowView.j",YES);g("_CPBorderlessBridgeWindowView.j",YES);g("CPDragServer.j",YES);g("CPView.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPApplication.j",baseURL),function(i,g){g("Foundation/CPBundle.j",NO);g("CPCompatibility.j",YES);g("CPEvent.j",YES);g("CPMenu.j",YES);g("CPResponder.j",YES);g("CPDocumentController.j",YES);g("CPThemeBlend.j",YES);g("CPCibLoading.j",YES);g("CPPlatform.j",YES);CPApp=nil;CPApplicationWillFinishLaunchingNotification="CPApplicationWillFinishLaunchingNotification";CPApplicationDidFinishLaunchingNotification="CPApplicationDidFinishLaunchingNotification";
CPApplicationWillTerminateNotification="CPApplicationWillTerminateNotification";CPApplicationWillBecomeActiveNotification="CPApplicationWillBecomeActiveNotification";CPApplicationDidBecomeActiveNotification="CPApplicationDidBecomeActiveNotification";CPApplicationWillResignActiveNotification="CPApplicationWillResignActiveNotification";CPApplicationDidResignActiveNotification="CPApplicationDidResignActiveNotification";CPTerminateNow=YES;CPTerminateCancel=NO;CPTerminateLater=-1;CPRunStoppedResponse=
-1E3;CPRunAbortedResponse=-1001;CPRunContinuesResponse=-1002;var f=objj_allocateClassPair(CPResponder,"CPApplication"),d=f.isa;class_addIvars(f,[new objj_ivar("_eventListeners"),new objj_ivar("_currentEvent"),new objj_ivar("_windows"),new objj_ivar("_keyWindow"),new objj_ivar("_mainWindow"),new objj_ivar("_previousKeyWindow"),new objj_ivar("_previousMainWindow"),new objj_ivar("_documentController"),new objj_ivar("_currentSession"),new objj_ivar("_delegate"),new objj_ivar("_finishedLaunching"),new objj_ivar("_isActive"),
new objj_ivar("_namedArgs"),new objj_ivar("_args"),new objj_ivar("_fullArgsString"),new objj_ivar("_applicationIconImage"),new objj_ivar("_aboutPanel"),new objj_ivar("_themeBlend")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("themeBlend"),function(a){with(a)return _themeBlend}),new objj_method(sel_getUid("setThemeBlend:"),function(a,e,c){with(a)_themeBlend=c}),new objj_method(sel_getUid("init"),function(a){with(a){if(CPApp=a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},
"init"))_eventListeners=[],_windows=[],objj_msgSend(_windows,"addObject:",nil);return a}}),new objj_method(sel_getUid("setDelegate:"),function(a,e,c){with(a){if(_delegate==c)return;e=objj_msgSend(CPNotificationCenter,"defaultCenter");var b=[CPApplicationWillFinishLaunchingNotification,sel_getUid("applicationWillFinishLaunching:"),CPApplicationDidFinishLaunchingNotification,sel_getUid("applicationDidFinishLaunching:"),CPApplicationWillBecomeActiveNotification,sel_getUid("applicationWillBecomeActive:"),
CPApplicationDidBecomeActiveNotification,sel_getUid("applicationDidBecomeActive:"),CPApplicationWillResignActiveNotification,sel_getUid("applicationWillResignActive:"),CPApplicationDidResignActiveNotification,sel_getUid("applicationDidResignActive:"),CPApplicationWillTerminateNotification,sel_getUid("applicationWillTerminate:")],d=objj_msgSend(b,"count");if(_delegate)for(var o=0;o<d;o+=2){var f=b[o],g=b[o+1];objj_msgSend(_delegate,"respondsToSelector:",g)&&objj_msgSend(e,"removeObserver:name:object:",
_delegate,f,a)}_delegate=c;for(o=0;o<d;o+=2)f=b[o],g=b[o+1],objj_msgSend(_delegate,"respondsToSelector:",g)&&objj_msgSend(e,"addObserver:selector:name:object:",_delegate,g,f,a)}}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("finishLaunching"),function(a){with(a){window.status=" ";objj_msgSend(objj_msgSend(CPCursor,"arrowCursor"),"set");var e=objj_msgSend(CPBundle,"mainBundle"),c=objj_msgSend(e,"objectForInfoDictionaryKey:","CPBundleDocumentTypes");
objj_msgSend(c,"count")>0&&(_documentController=objj_msgSend(CPDocumentController,"sharedDocumentController"));if(e=objj_msgSend(e,"objectForInfoDictionaryKey:","CPApplicationDelegateClass"))(e=objj_getClass(e))&&(objj_msgSend(_documentController,"class")==e?objj_msgSend(a,"setDelegate:",_documentController):objj_msgSend(a,"setDelegate:",objj_msgSend(objj_msgSend(e,"alloc"),"init")));e=objj_msgSend(CPNotificationCenter,"defaultCenter");objj_msgSend(e,"postNotificationName:object:",CPApplicationWillFinishLaunchingNotification,
a);c=!!_documentController;for(var b=window.cpOpeningURLStrings&&window.cpOpeningURLStrings(),d=0,o=objj_msgSend(b,"count");d<o;++d)c=!objj_msgSend(a,"_openURL:",objj_msgSend(CPURL,"URLWithString:",b[d]))||c;c&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("applicationShouldOpenUntitledFile:"))&&(c=objj_msgSend(_delegate,"applicationShouldOpenUntitledFile:",a));c&&objj_msgSend(_documentController,"newDocument:",a);objj_msgSend(_documentController,"_updateRecentDocumentsMenu");objj_msgSend(e,
"postNotificationName:object:",CPApplicationDidFinishLaunchingNotification,a);objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"limitDateForMode:",CPDefaultRunLoopMode);_finishedLaunching=YES}}),new objj_method(sel_getUid("terminate:"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPApplicationWillTerminateNotification,a),objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(objj_msgSend(objj_msgSend(a,"keyWindow"),"platformWindow"),
"_propagateCurrentDOMEvent:",YES):objj_msgSend(objj_msgSend(CPDocumentController,"sharedDocumentController"),"closeAllDocumentsWithDelegate:didCloseAllSelector:contextInfo:",a,sel_getUid("_documentController:didCloseAll:context:"),nil)}),new objj_method(sel_getUid("setApplicationIconImage:"),function(a,e,c){with(a)_applicationIconImage=c}),new objj_method(sel_getUid("applicationIconImage"),function(a){with(a){if(_applicationIconImage)return _applicationIconImage;(a=objj_msgSend(objj_msgSend(CPBundle,
"mainBundle"),"objectForInfoDictionaryKey:","CPApplicationIcon"))&&(_applicationIconImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:",a));return _applicationIconImage}}),new objj_method(sel_getUid("orderFrontStandardAboutPanel:"),function(a){with(a)objj_msgSend(a,"orderFrontStandardAboutPanelWithOptions:",nil)}),new objj_method(sel_getUid("orderFrontStandardAboutPanelWithOptions:"),function(a,e,c){with(a){if(!_aboutPanel){var b=objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),
"infoDictionary");e=objj_msgSend(c,"objectForKey:","ApplicationName")||objj_msgSend(b,"objectForKey:","CPBundleName");var d=objj_msgSend(c,"objectForKey:","ApplicationIcon")||objj_msgSend(a,"applicationIconImage"),o=objj_msgSend(c,"objectForKey:","Version")||objj_msgSend(b,"objectForKey:","CPBundleVersion"),f=objj_msgSend(c,"objectForKey:","ApplicationVersion")||objj_msgSend(b,"objectForKey:","CPBundleShortVersionString");c=objj_msgSend(c,"objectForKey:","Copyright")||objj_msgSend(b,"objectForKey:",
"CPHumanReadableCopyright");b=objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindowController,"class")),"pathForResource:","AboutPanel.cib");var g=objj_msgSend(CPWindowController,"alloc");g=objj_msgSend(g,"initWithWindowCibPath:owner:",b,g);b=objj_msgSend(g,"window");var n=objj_msgSend(b,"contentView");g=objj_msgSend(n,"viewWithTag:",1);var j=objj_msgSend(n,"viewWithTag:",2),l=objj_msgSend(n,"viewWithTag:",3);n=objj_msgSend(n,"viewWithTag:",4);var p=objj_msgSend(objj_msgSend(CPBundle,
"bundleForClass:",objj_msgSend(a,"class")),"pathForResource:","standardApplicationIcon.png");objj_msgSend(j,"setFont:",objj_msgSend(CPFont,"boldSystemFontOfSize:",14));objj_msgSend(j,"setAlignment:",CPCenterTextAlignment);objj_msgSend(l,"setAlignment:",CPCenterTextAlignment);objj_msgSend(n,"setAlignment:",CPCenterTextAlignment);objj_msgSend(g,"setImage:",d||objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",p,CGSizeMake(256,256)));objj_msgSend(j,"setStringValue:",e||"");f&&
o?objj_msgSend(l,"setStringValue:","Version "+f+" ("+o+")"):f||o?objj_msgSend(l,"setStringValue:","Version "+(f||o)):objj_msgSend(l,"setStringValue:","");objj_msgSend(n,"setStringValue:",c||"");objj_msgSend(b,"center");_aboutPanel=b}objj_msgSend(_aboutPanel,"orderFront:",a)}}),new objj_method(sel_getUid("_documentController:didCloseAll:context:"),function(a,e,c,b){with(a)b&&(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("applicationShouldTerminate:"))?objj_msgSend(a,"replyToApplicationShouldTerminate:",
objj_msgSend(_delegate,"applicationShouldTerminate:",a)):objj_msgSend(a,"replyToApplicationShouldTerminate:",YES))}),new objj_method(sel_getUid("replyToApplicationShouldTerminate:"),function(a,e,c){with(a)c==CPTerminateNow&&(objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPApplicationWillTerminateNotification,a),objj_msgSend(CPPlatform,"terminateApplication"))}),new objj_method(sel_getUid("activateIgnoringOtherApps:"),function(a,e,c){with(a)objj_msgSend(a,
"_willBecomeActive"),objj_msgSend(CPPlatform,"activateIgnoringOtherApps:",c),_isActive=YES,objj_msgSend(a,"_willResignActive")}),new objj_method(sel_getUid("deactivate"),function(a){with(a)objj_msgSend(a,"_willResignActive"),objj_msgSend(CPPlatform,"deactivate"),_isActive=NO,objj_msgSend(a,"_didResignActive")}),new objj_method(sel_getUid("isActive"),function(a){with(a)return _isActive}),new objj_method(sel_getUid("hideOtherApplications:"),function(a){with(a)objj_msgSend(CPPlatform,"hideOtherApplications:",
a)}),new objj_method(sel_getUid("run"),function(a){with(a)objj_msgSend(a,"finishLaunching")}),new objj_method(sel_getUid("runModalForWindow:"),function(a,e,c){with(a)objj_msgSend(a,"runModalSession:",objj_msgSend(a,"beginModalSessionForWindow:",c))}),new objj_method(sel_getUid("stopModalWithCode:"),function(a,e,c){with(a){if(!_currentSession)return;_currentSession._state=c;_currentSession=_currentSession._previous;objj_msgSend(a,"_removeRunModalLoop")}}),new objj_method(sel_getUid("_removeRunModalLoop"),
function(a){with(a)for(a=_eventListeners.length;a--;)if(_eventListeners[a]._callback===_CPRunModalLoop){_eventListeners.splice(a,1);break}}),new objj_method(sel_getUid("stopModal"),function(a){with(a)objj_msgSend(a,"stopModalWithCode:",CPRunStoppedResponse)}),new objj_method(sel_getUid("abortModal"),function(a){with(a)objj_msgSend(a,"stopModalWithCode:",CPRunAbortedResponse)}),new objj_method(sel_getUid("beginModalSessionForWindow:"),function(a,e,c){with(a)return{_window:c,_state:CPRunContinuesResponse,
_previous:nil}}),new objj_method(sel_getUid("runModalSession:"),function(a,e,c){with(a)c._previous=_currentSession,_currentSession=c,e=c._window,objj_msgSend(e,"center"),objj_msgSend(e,"makeKeyWindow"),objj_msgSend(e,"orderFront:",a),objj_msgSend(CPApp,"setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:",_CPRunModalLoop,CPAnyEventMask,nil,0,NO)}),new objj_method(sel_getUid("modalWindow"),function(a){with(a){if(!_currentSession)return nil;return _currentSession._window}}),new objj_method(sel_getUid("_handleKeyEquivalent:"),
function(a,e,c){with(a)return objj_msgSend(objj_msgSend(a,"keyWindow"),"performKeyEquivalent:",c)||objj_msgSend(objj_msgSend(a,"mainMenu"),"performKeyEquivalent:",c)}),new objj_method(sel_getUid("sendEvent:"),function(a,e,c){with(a){_currentEvent=c;e=objj_msgSend(objj_msgSend(objj_msgSend(c,"window"),"platformWindow"),"_willPropagateCurrentDOMEvent");objj_msgSend(objj_msgSend(objj_msgSend(c,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",NO);if(objj_msgSend(c,"_couldBeKeyEquivalent")&&objj_msgSend(a,
"_handleKeyEquivalent:",c)){a=objj_msgSend(c,"characters");e=objj_msgSend(c,"modifierFlags");(a=="c"||a=="x"||a=="v")&&e&CPPlatformActionKeyMask&&objj_msgSend(objj_msgSend(objj_msgSend(c,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",YES);return}objj_msgSend(objj_msgSend(objj_msgSend(c,"window"),"platformWindow"),"_propagateCurrentDOMEvent:",e);if(_eventListeners.length){_eventListeners[_eventListeners.length-1]._mask&1<<objj_msgSend(c,"type")&&_eventListeners.pop()._callback(c);return}objj_msgSend(objj_msgSend(c,
"window"),"sendEvent:",c)}}),new objj_method(sel_getUid("doCommandBySelector:"),function(a,e,c){with(a)objj_msgSend(_delegate,"respondsToSelector:",c)?objj_msgSend(_delegate,"performSelector:",c):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},"doCommandBySelector:",c)}),new objj_method(sel_getUid("keyWindow"),function(a){with(a)return _keyWindow}),new objj_method(sel_getUid("mainWindow"),function(a){with(a)return _mainWindow}),new objj_method(sel_getUid("windowWithWindowNumber:"),
function(a,e,c){with(a)return _windows[c]}),new objj_method(sel_getUid("windows"),function(a){with(a)return _windows}),new objj_method(sel_getUid("orderedWindows"),function(a){with(a)return CPWindowObjectList()}),new objj_method(sel_getUid("hide:"),function(a){with(a)objj_msgSend(CPPlatform,"hide:",a)}),new objj_method(sel_getUid("mainMenu"),function(a){with(a)return objj_msgSend(a,"menu")}),new objj_method(sel_getUid("setMainMenu:"),function(a,e,c){with(a)objj_msgSend(a,"setMenu:",c)}),new objj_method(sel_getUid("setMenu:"),
function(a,e,c){with(a)if(objj_msgSend(c,"_menuName")==="CPMainMenu"){if(objj_msgSend(a,"menu")===c)return;objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},"setMenu:",c);objj_msgSend(CPPlatform,"supportsNativeMainMenu")&&window.cpSetMainMenu(objj_msgSend(a,"menu"))}else objj_msgSend(c,"_setMenuName:","CPMainMenu")}),new objj_method(sel_getUid("orderFrontColorPanel:"),function(a){with(a)objj_msgSend(objj_msgSend(CPColorPanel,"sharedColorPanel"),"orderFront:",a)}),
new objj_method(sel_getUid("tryToPerform:with:"),function(a,e,c,b){with(a){if(!c)return NO;if(objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPApplication").super_class},"tryToPerform:with:",c,b))return YES;if(objj_msgSend(_delegate,"respondsToSelector:",c))return objj_msgSend(_delegate,"performSelector:withObject:",c,b),YES;return NO}}),new objj_method(sel_getUid("sendAction:to:from:"),function(a,e,c,b,d){with(a){a=objj_msgSend(a,"targetForAction:to:from:",c,b,d);if(!a)return NO;objj_msgSend(a,
"performSelector:withObject:",c,d);return YES}}),new objj_method(sel_getUid("targetForAction:to:from:"),function(a,e,c,b){with(a){if(!c)return nil;if(b)return b;return objj_msgSend(a,"targetForAction:",c)}}),new objj_method(sel_getUid("_targetForWindow:action:"),function(a,e,c,b){with(a){a=objj_msgSend(c,"firstResponder");for(e=YES;a;){if(objj_msgSend(a,"respondsToSelector:",b))return a;a==c&&(e=NO);a=objj_msgSend(a,"nextResponder")}if(e&&objj_msgSend(c,"respondsToSelector:",b))return c;a=objj_msgSend(c,
"delegate");if(objj_msgSend(a,"respondsToSelector:",b))return a;c=objj_msgSend(c,"windowController");if(objj_msgSend(c,"respondsToSelector:",b))return c;c=objj_msgSend(c,"document");if(c!==a&&objj_msgSend(c,"respondsToSelector:",b))return c;return nil}}),new objj_method(sel_getUid("targetForAction:"),function(a,e,c){with(a){if(!c)return nil;if(e=objj_msgSend(a,"_targetForWindow:action:",objj_msgSend(a,"keyWindow"),c))return e;if(e=objj_msgSend(a,"_targetForWindow:action:",objj_msgSend(a,"mainWindow"),
c))return e;if(objj_msgSend(a,"respondsToSelector:",c))return a;if(objj_msgSend(_delegate,"respondsToSelector:",c))return _delegate;if(objj_msgSend(_documentController,"respondsToSelector:",c))return _documentController;return nil}}),new objj_method(sel_getUid("setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:"),function(a,e,c,b){with(a)_eventListeners.push({_mask:b,_callback:c})}),new objj_method(sel_getUid("setTarget:selector:forNextEventMatchingMask:untilDate:inMode:dequeue:"),function(a,
e,c,b,d){with(a)_eventListeners.push({_mask:d,_callback:function(a){objj_msgSend(c,b,a)}})}),new objj_method(sel_getUid("currentEvent"),function(a){with(a)return _currentEvent}),new objj_method(sel_getUid("beginSheet:modalForWindow:modalDelegate:didEndSelector:contextInfo:"),function(a,e,c,b,d,o,f){with(a){if(!(objj_msgSend(c,"styleMask")&CPDocModalWindowMask)){objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,"Currently only CPDocModalWindowMask style mask is supported for attached sheets");
return}objj_msgSend(b,"orderFront:",a);objj_msgSend(c,"setPlatformWindow:",objj_msgSend(b,"platformWindow"));objj_msgSend(b,"_attachSheet:modalDelegate:didEndSelector:contextInfo:",c,d,o,f)}}),new objj_method(sel_getUid("endSheet:returnCode:"),function(a,e,c,b){with(a)for(a=objj_msgSend(_windows,"count");--a>=0;){e=objj_msgSend(_windows,"objectAtIndex:",a);var d=e._sheetContext;if(d!=nil&&d.sheet===c){d.returnCode=b;objj_msgSend(e,"_detachSheetWindow");break}}}),new objj_method(sel_getUid("endSheet:"),
function(a,e,c){with(a)objj_msgSend(a,"endSheet:returnCode:",c,0)}),new objj_method(sel_getUid("arguments"),function(a){with(a)return _fullArgsString!==window.location.hash&&objj_msgSend(a,"_reloadArguments"),_args}),new objj_method(sel_getUid("setArguments:"),function(a,e,c){with(a){if(!c||c.length==0){_args=[];window.location.hash="#";return}objj_msgSend(c,"isKindOfClass:",CPArray)||(c=objj_msgSend(CPArray,"arrayWithObject:",c));_args=c;a=objj_msgSend(_args,"copy");e=0;for(c=a.length;e<c;e++)a[e]=
encodeURIComponent(a[e]);a=objj_msgSend(a,"componentsJoinedByString:","/");window.location.hash="#"+a}}),new objj_method(sel_getUid("_reloadArguments"),function(a){with(a)if(_fullArgsString=window.location.hash,_fullArgsString.length){a=_fullArgsString.substring(1).split("/");for(var e=0,c=a.length;e<c;e++)a[e]=decodeURIComponent(a[e]);_args=a}else _args=[]}),new objj_method(sel_getUid("namedArguments"),function(a){with(a)return _namedArgs}),new objj_method(sel_getUid("_openURL:"),function(a,e,c){with(a){if(_delegate&&
objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("application:openFile:")))return CPLog.warn("application:openFile: is deprecated, use application:openURL: instead."),objj_msgSend(_delegate,"application:openFile:",a,objj_msgSend(c,"absoluteString"));if(_delegate&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("application:openURL:")))return objj_msgSend(_delegate,"application:openURL:",a,c);return!!objj_msgSend(_documentController,"openDocumentWithContentsOfURL:display:error:",c,YES,
NULL)}}),new objj_method(sel_getUid("_willBecomeActive"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationWillBecomeActiveNotification,a,nil)}),new objj_method(sel_getUid("_didBecomeActive"),function(a){with(a)!objj_msgSend(a,"keyWindow")&&_previousKeyWindow&&objj_msgSend(objj_msgSend(a,"windows"),"indexOfObjectIdenticalTo:",_previousKeyWindow)!==CPNotFound&&objj_msgSend(_previousKeyWindow,"makeKeyWindow"),!objj_msgSend(a,
"mainWindow")&&_previousMainWindow&&objj_msgSend(objj_msgSend(a,"windows"),"indexOfObjectIdenticalTo:",_previousMainWindow)!==CPNotFound&&objj_msgSend(_previousMainWindow,"makeMainWindow"),objj_msgSend(a,"keyWindow")?objj_msgSend(objj_msgSend(a,"keyWindow"),"orderFront:",a):objj_msgSend(a,"mainWindow")?objj_msgSend(objj_msgSend(a,"mainWindow"),"makeKeyAndOrderFront:",a):objj_msgSend(objj_msgSend(a,"mainMenu")._menuWindow,"makeKeyWindow"),_previousMainWindow=_previousKeyWindow=nil,objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationDidBecomeActiveNotification,a,nil)}),new objj_method(sel_getUid("_willResignActive"),function(a){with(a)objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationWillResignActiveNotification,a,nil)}),new objj_method(sel_getUid("_didResignActive"),function(a){with(a)a._activeMenu&&objj_msgSend(a._activeMenu,"cancelTracking"),objj_msgSend(a,"keyWindow")&&(_previousKeyWindow=
objj_msgSend(a,"keyWindow"),objj_msgSend(_previousKeyWindow,"resignKeyWindow")),objj_msgSend(a,"mainWindow")&&(_previousMainWindow=objj_msgSend(a,"mainWindow"),objj_msgSend(_previousMainWindow,"resignMainWindow")),objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:userInfo:",CPApplicationDidResignActiveNotification,a,nil)})]);class_addMethods(d,[new objj_method(sel_getUid("sharedApplication"),function(a){with(a)return CPApp||(CPApp=objj_msgSend(objj_msgSend(CPApplication,
"alloc"),"init")),CPApp}),new objj_method(sel_getUid("defaultThemeName"),function(a){with(a)return objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"objectForInfoDictionaryKey:","CPDefaultTheme")||"Aristo"})]);_CPRunModalLoop=function(a){objj_msgSend(CPApp,"setCallback:forNextEventMatchingMask:untilDate:inMode:dequeue:",_CPRunModalLoop,CPAnyEventMask,nil,0,NO);var e=objj_msgSend(a,"window");(e==CPApp._currentSession._window||objj_msgSend(e,"worksWhenModal"))&&objj_msgSend(e,"sendEvent:",a)};CPApplicationMain=
function(a,e){window.parent!==window&&typeof window.parent._childAppIsStarting==="function"&&window.parent._childAppIsStarting(window);var c=objj_msgSend(CPBundle,"mainBundle");(c=objj_msgSend(c,"principalClass"))||(c=objj_msgSend(CPApplication,"class"));objj_msgSend(c,"sharedApplication");objj_msgSend(a,"containsObject:","debug")&&CPLogRegister(CPLogPopup);CPApp._args=a;CPApp._namedArgs=e;objj_msgSend(_CPAppBootstrapper,"performActions")};var b=nil;f=objj_allocateClassPair(CPObject,"_CPAppBootstrapper");
d=f.isa;objj_registerClassPair(f);class_addMethods(d,[new objj_method(sel_getUid("actions"),function(a){with(a)return[sel_getUid("bootstrapPlatform"),sel_getUid("loadDefaultTheme"),sel_getUid("loadMainCibFile")]}),new objj_method(sel_getUid("performActions"),function(a){with(a){for(b||(b=objj_msgSend(a,"actions"));b.length;){var e=b.shift();if(objj_msgSend(a,e))return}objj_msgSend(CPApp,"run")}}),new objj_method(sel_getUid("bootstrapPlatform"),function(a){with(a)return objj_msgSend(CPPlatform,"bootstrap")}),
new objj_method(sel_getUid("loadDefaultTheme"),function(a){with(a){var e=objj_msgSend(CPApplication,"defaultThemeName"),c=nil;c=e==="Aristo"?objj_msgSend(objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPApplication,"class")),"pathForResource:",e+".blend"):objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",e+".blend");e=objj_msgSend(objj_msgSend(CPThemeBlend,"alloc"),"initWithContentsOfURL:",c);objj_msgSend(e,"loadWithDelegate:",a);return YES}}),new objj_method(sel_getUid("blendDidFinishLoading:"),
function(a,e,c){with(a)objj_msgSend(objj_msgSend(CPApplication,"sharedApplication"),"setThemeBlend:",c),objj_msgSend(CPTheme,"setDefaultTheme:",objj_msgSend(CPTheme,"themeNamed:",objj_msgSend(CPApplication,"defaultThemeName"))),objj_msgSend(a,"performActions")}),new objj_method(sel_getUid("loadMainCibFile"),function(a){with(a){var e=objj_msgSend(CPBundle,"mainBundle"),c=objj_msgSend(e,"objectForInfoDictionaryKey:","CPMainCibFile")||objj_msgSend(e,"objectForInfoDictionaryKey:","Main cib file base name");
if(c)return objj_msgSend(e,"loadCibFile:externalNameTable:loadDelegate:",c,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",CPApp,CPCibOwner),a),YES;else objj_msgSend(a,"loadCiblessBrowserMainMenu");return NO}}),new objj_method(sel_getUid("loadCiblessBrowserMainMenu"),function(a){with(a){a=objj_msgSend(objj_msgSend(CPMenu,"alloc"),"initWithTitle:","MainMenu");objj_msgSend(a,"setAutoenablesItems:",NO);var e=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPApplication,"class")),c=objj_msgSend(objj_msgSend(CPMenuItem,
"alloc"),"initWithTitle:action:keyEquivalent:","New",sel_getUid("newDocument:"),"n");objj_msgSend(c,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(e,"pathForResource:","CPApplication/New.png"),CGSizeMake(16,16)));objj_msgSend(c,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(e,"pathForResource:","CPApplication/NewHighlighted.png"),CGSizeMake(16,16)));objj_msgSend(a,"addItem:",c);c=objj_msgSend(objj_msgSend(CPMenuItem,
"alloc"),"initWithTitle:action:keyEquivalent:","Open",sel_getUid("openDocument:"),"o");objj_msgSend(c,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(e,"pathForResource:","CPApplication/Open.png"),CGSizeMake(16,16)));objj_msgSend(c,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(e,"pathForResource:","CPApplication/OpenHighlighted.png"),CGSizeMake(16,16)));objj_msgSend(a,"addItem:",c);c=objj_msgSend(objj_msgSend(CPMenu,
"alloc"),"initWithTitle:","Save");var b=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save",sel_getUid("saveDocument:"),nil);objj_msgSend(b,"setImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(e,"pathForResource:","CPApplication/Save.png"),CGSizeMake(16,16)));objj_msgSend(b,"setAlternateImage:",objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(e,"pathForResource:","CPApplication/SaveHighlighted.png"),
CGSizeMake(16,16)));objj_msgSend(c,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save",sel_getUid("saveDocument:"),"s"));objj_msgSend(c,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Save As",sel_getUid("saveDocumentAs:"),nil));objj_msgSend(b,"setSubmenu:",c);objj_msgSend(a,"addItem:",b);e=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Edit",nil,nil);c=objj_msgSend(objj_msgSend(CPMenu,
"alloc"),"initWithTitle:","Edit");b=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Undo",sel_getUid("undo:"),CPUndoKeyEquivalent);var d=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Redo",sel_getUid("redo:"),CPRedoKeyEquivalent);objj_msgSend(b,"setKeyEquivalentModifierMask:",CPUndoKeyEquivalentModifierMask);objj_msgSend(d,"setKeyEquivalentModifierMask:",CPRedoKeyEquivalentModifierMask);objj_msgSend(c,"addItem:",b);objj_msgSend(c,
"addItem:",d);objj_msgSend(c,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Cut",sel_getUid("cut:"),"x"));objj_msgSend(c,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Copy",sel_getUid("copy:"),"c"));objj_msgSend(c,"addItem:",objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:","Paste",sel_getUid("paste:"),"v"));objj_msgSend(e,"setSubmenu:",c);objj_msgSend(e,"setHidden:",
YES);objj_msgSend(a,"addItem:",e);objj_msgSend(a,"addItem:",objj_msgSend(CPMenuItem,"separatorItem"));objj_msgSend(CPApp,"setMainMenu:",a)}}),new objj_method(sel_getUid("cibDidFinishLoading:"),function(a){with(a)objj_msgSend(a,"performActions")}),new objj_method(sel_getUid("cibDidFailToLoad:"),function(a){with(a)throw Error("Could not load main cib file (Did you forget to nib2cib it?).");}),new objj_method(sel_getUid("reset"),function(a){with(a)b=nil})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPToolbar.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);g("CPPopUpButton.j",YES);g("CPToolbarItem.j",YES);CPToolbarDisplayModeDefault=0;CPToolbarDisplayModeIconAndLabel=1;CPToolbarDisplayModeIconOnly=2;CPToolbarDisplayModeLabelOnly=3;var f=nil,d=objj_allocateClassPair(CPObject,"CPToolbar"),b=d.isa;class_addIvars(d,[new objj_ivar("_identifier"),new objj_ivar("_displayMode"),new objj_ivar("_showsBaselineSeparator"),new objj_ivar("_allowsUserCustomization"),
new objj_ivar("_isVisible"),new objj_ivar("_delegate"),new objj_ivar("_itemIdentifiers"),new objj_ivar("_identifiedItems"),new objj_ivar("_defaultItems"),new objj_ivar("_allowedItems"),new objj_ivar("_selectableItems"),new objj_ivar("_items"),new objj_ivar("_itemsSortedByVisibilityPriority"),new objj_ivar("_toolbarView"),new objj_ivar("_window")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithIdentifier:","")}),new objj_method(sel_getUid("initWithIdentifier:"),
function(a,c,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPToolbar").super_class},"init"))_items=[],_identifier=e,_isVisible=YES,objj_msgSend(CPToolbar,"_addToolbar:forIdentifier:",a,_identifier);return a}}),new objj_method(sel_getUid("setDisplayMode:"),function(a){with(a);}),new objj_method(sel_getUid("identifier"),function(a){with(a)return _identifier}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("isVisible"),
function(a){with(a)return _isVisible}),new objj_method(sel_getUid("setVisible:"),function(a,e,c){with(a){if(_isVisible===c)return;_isVisible=c;objj_msgSend(_window,"_noteToolbarChanged")}}),new objj_method(sel_getUid("_window"),function(a){with(a)return _window}),new objj_method(sel_getUid("_setWindow:"),function(a,c,e){with(a)_window=e}),new objj_method(sel_getUid("setDelegate:"),function(a,c,e){with(a){if(_delegate===e)return;_delegate=e;objj_msgSend(a,"_reloadToolbarItems")}}),new objj_method(sel_getUid("_loadConfiguration"),
function(a){with(a);}),new objj_method(sel_getUid("_toolbarView"),function(a){with(a)return _toolbarView||(_toolbarView=objj_msgSend(objj_msgSend(_CPToolbarView,"alloc"),"initWithFrame:",CPRectMake(0,0,1200,59)),objj_msgSend(_toolbarView,"setToolbar:",a),objj_msgSend(_toolbarView,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_toolbarView,"reloadToolbarItems")),_toolbarView}),new objj_method(sel_getUid("_reloadToolbarItems"),function(a){with(a){_itemIdentifiers=objj_msgSend(_defaultItems,
"valueForKey:","itemIdentifier")||[];if(_delegate){var e=objj_msgSend(objj_msgSend(_delegate,"toolbarDefaultItemIdentifiers:",a),"mutableCopy");e&&(_itemIdentifiers=objj_msgSend(_itemIdentifiers,"arrayByAddingObjectsFromArray:",e))}e=0;var b=objj_msgSend(_itemIdentifiers,"count");for(_items=[];e<b;++e){var d=_itemIdentifiers[e],f=objj_msgSend(CPToolbarItem,"_standardItemWithItemIdentifier:",d);f||(f=objj_msgSend(_identifiedItems,"objectForKey:",d));!f&&_delegate&&(f=objj_msgSend(_delegate,"toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:",
a,d,YES));f=objj_msgSend(f,"copy");f===nil&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Toolbar delegate "+_delegate+' returned nil toolbar item for identifier "'+d+'"');f._toolbar=a;objj_msgSend(_items,"addObject:",f)}_itemsSortedByVisibilityPriority=objj_msgSend(_items,"sortedArrayUsingFunction:context:",c,NULL);objj_msgSend(_toolbarView,"reloadToolbarItems")}}),new objj_method(sel_getUid("items"),function(a){with(a)return _items}),new objj_method(sel_getUid("visibleItems"),
function(a){with(a)return objj_msgSend(_toolbarView,"visibleItems")}),new objj_method(sel_getUid("itemsSortedByVisibilityPriority"),function(a){with(a)return _itemsSortedByVisibilityPriority}),new objj_method(sel_getUid("validateVisibleItems"),function(a){with(a){a=objj_msgSend(a,"visibleItems");for(var e=objj_msgSend(a,"count");e--;)objj_msgSend(a[e],"validate")}}),new objj_method(sel_getUid("_itemForItemIdentifier:willBeInsertedIntoToolbar:"),function(a,e,c,b){with(a)return e=objj_msgSend(_identifiedItems,
"objectForKey:",c),e||(e=objj_msgSend(CPToolbarItem,"_standardItemWithItemIdentifier:",c),_delegate&&!e&&((e=objj_msgSend(objj_msgSend(_delegate,"toolbar:itemForItemIdentifier:willBeInsertedIntoToolbar:",a,c,b),"copy"))||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Toolbar delegate "+_delegate+" returned nil toolbar item for identifier "+c)),objj_msgSend(_identifiedItems,"setObject:forKey:",e,c)),e}),new objj_method(sel_getUid("_itemsWithIdentifiers:"),function(a,e,c){with(a){e=
[];for(var b=0;b<c.length;b++)objj_msgSend(e,"addObject:",objj_msgSend(a,"_itemForItemIdentifier:willBeInsertedIntoToolbar:",c[b],NO));return e}}),new objj_method(sel_getUid("_defaultToolbarItems"),function(a){with(a){if(!_defaultItems&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("toolbarDefaultItemIdentifiers:"))){_defaultItems=[];for(var e=objj_msgSend(_delegate,"toolbarDefaultItemIdentifiers:",a),c=0,b=objj_msgSend(e,"count");c<b;++c)objj_msgSend(_defaultItems,"addObject:",objj_msgSend(a,
"_itemForItemIdentifier:willBeInsertedIntoToolbar:",e[c],NO))}return _defaultItems}}),new objj_method(sel_getUid("toolbarItemDidChange:"),function(a,e,b){with(a){objj_msgSend(_identifiedItems,"objectForKey:",objj_msgSend(b,"itemIdentifier"))&&objj_msgSend(_identifiedItems,"setObject:forKey:",b,objj_msgSend(b,"itemIdentifier"));a=0;for(e=objj_msgSend(_items,"count");a<=e;++a)objj_msgSend(_items[a],"itemIdentifier")===objj_msgSend(b,"itemIdentifier")&&(_items[a]=b,_itemsSortedByVisibilityPriority=objj_msgSend(_items,
"sortedArrayUsingFunction:context:",c,NULL),objj_msgSend(_toolbarView,"reloadToolbarItems"))}})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(CPToolbar,"class"))return;f=objj_msgSend(CPDictionary,"dictionary");objj_msgSend(CPDictionary,"dictionary")}}),new objj_method(sel_getUid("_addToolbar:forIdentifier:"),function(a,e,c,b){with(a)a=objj_msgSend(f,"objectForKey:",b),a||(a=[],objj_msgSend(f,"setObject:forKey:",a,b)),objj_msgSend(a,"addObject:",
c)})]);d=objj_getClass("CPToolbar");if(!d)throw new SyntaxError('*** Could not find definition for class "CPToolbar"');b=d.isa;class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(a,e,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPToolbar").super_class},"init"))_identifier=objj_msgSend(c,"decodeObjectForKey:","CPToolbarIdentifierKey"),_displayMode=objj_msgSend(c,"decodeIntForKey:","CPToolbarDisplayModeKey"),_showsBaselineSeparator=objj_msgSend(c,"decodeBoolForKey:",
"CPToolbarShowsBaselineSeparatorKey"),_allowsUserCustomization=objj_msgSend(c,"decodeBoolForKey:","CPToolbarAllowsUserCustomizationKey"),_isVisible=objj_msgSend(c,"decodeBoolForKey:","CPToolbarIsVisibleKey"),_identifiedItems=objj_msgSend(c,"decodeObjectForKey:","CPToolbarIdentifiedItemsKey"),_defaultItems=objj_msgSend(c,"decodeObjectForKey:","CPToolbarDefaultItemsKey"),_allowedItems=objj_msgSend(c,"decodeObjectForKey:","CPToolbarAllowedItemsKey"),_selectableItems=objj_msgSend(c,"decodeObjectForKey:",
"CPToolbarSelectableItemsKey"),objj_msgSend(objj_msgSend(_identifiedItems,"allValues"),"makeObjectsPerformSelector:withObject:",sel_getUid("_setToolbar:"),a),_items=[],objj_msgSend(CPToolbar,"_addToolbar:forIdentifier:",a,_identifier),objj_msgSend(a,"setDelegate:",objj_msgSend(c,"decodeObjectForKey:","CPToolbarDelegateKey")),objj_msgSend(objj_msgSend(CPRunLoop,"currentRunLoop"),"performSelector:target:argument:order:modes:",sel_getUid("_reloadToolbarItems"),a,nil,0,[CPDefaultRunLoopMode]);return a}}),
new objj_method(sel_getUid("encodeWithCoder:"),function(a,e,c){with(a)objj_msgSend(c,"encodeObject:forKey:",_identifier,"CPToolbarIdentifierKey"),objj_msgSend(c,"encodeInt:forKey:",_displayMode,"CPToolbarDisplayModeKey"),objj_msgSend(c,"encodeBool:forKey:",_showsBaselineSeparator,"CPToolbarShowsBaselineSeparatorKey"),objj_msgSend(c,"encodeBool:forKey:",_allowsUserCustomization,"CPToolbarAllowsUserCustomizationKey"),objj_msgSend(c,"encodeBool:forKey:",_isVisible,"CPToolbarIsVisibleKey"),objj_msgSend(c,
"encodeObject:forKey:",_identifiedItems,"CPToolbarIdentifiedItemsKey"),objj_msgSend(c,"encodeObject:forKey:",_defaultItems,"CPToolbarDefaultItemsKey"),objj_msgSend(c,"encodeObject:forKey:",_allowedItems,"CPToolbarAllowedItemsKey"),objj_msgSend(c,"encodeObject:forKey:",_selectableItems,"CPToolbarSelectableItemsKey"),objj_msgSend(c,"encodeConditionalObject:forKey:",_delegate,"CPToolbarDelegateKey")})]);var a=nil,e=nil;d=objj_allocateClassPair(CPView,"_CPToolbarView");b=d.isa;class_addIvars(d,[new objj_ivar("_toolbar"),
new objj_ivar("_flexibleWidthIndexes"),new objj_ivar("_visibleFlexibleWidthIndexes"),new objj_ivar("_itemInfos"),new objj_ivar("_viewsForToolbarItems"),new objj_ivar("_visibleItems"),new objj_ivar("_invisibleItems"),new objj_ivar("_additionalItemsButton"),new objj_ivar("_labelColor"),new objj_ivar("_labelShadowColor"),new objj_ivar("_minWidth"),new objj_ivar("_FIXME_isHUD")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("visibleItems"),function(a){with(a)return _visibleItems}),
new objj_method(sel_getUid("initWithFrame:"),function(a,c,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPToolbarView").super_class},"initWithFrame:",b))_minWidth=0,_labelColor=objj_msgSend(CPColor,"blackColor"),_labelShadowColor=objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.75),_additionalItemsButton=objj_msgSend(objj_msgSend(CPPopUpButton,"alloc"),"initWithFrame:pullsDown:",CGRectMake(0,0,10,15),YES),objj_msgSend(_additionalItemsButton,"setBordered:",NO),objj_msgSend(_additionalItemsButton,
"setImagePosition:",CPImageOnly),objj_msgSend(objj_msgSend(_additionalItemsButton,"menu"),"setShowsStateColumn:",NO),objj_msgSend(objj_msgSend(_additionalItemsButton,"menu"),"setAutoenablesItems:",NO),objj_msgSend(_additionalItemsButton,"setAlternateImage:",e);return a}}),new objj_method(sel_getUid("setToolbar:"),function(a,c,e){with(a)_toolbar=e}),new objj_method(sel_getUid("toolbar"),function(a){with(a)return _toolbar}),new objj_method(sel_getUid("FIXME_setIsHUD:"),function(a,c,e){with(a){if(_FIXME_isHUD===
e)return;_FIXME_isHUD=e;c=objj_msgSend(_toolbar,"items");for(var b=objj_msgSend(c,"count");b--;)objj_msgSend(objj_msgSend(a,"viewForItem:",c[b]),"FIXME_setIsHUD:",e)}}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(a){with(a)objj_msgSend(a,"tile")}),new objj_method(sel_getUid("viewForItem:"),function(a,c,e){with(a)return _viewsForToolbarItems[objj_msgSend(e,"UID")]||nil}),new objj_method(sel_getUid("tile"),function(c){with(c){var e=objj_msgSend(_toolbar,"items"),b=CGRectGetWidth(objj_msgSend(c,
"bounds")),d=_minWidth,f=[];_visibleItems=e;if(b<d){b-=20;_visibleItems=objj_msgSend(_visibleItems,"copy");for(var g=objj_msgSend(_toolbar,"itemsSortedByVisibilityPriority"),j=g.length;d>b&&j;){var l=g[--j],p=objj_msgSend(c,"viewForItem:",l);d-=objj_msgSend(p,"minSize").width+10;objj_msgSend(_visibleItems,"removeObjectIdenticalTo:",l);objj_msgSend(f,"addObject:",l);objj_msgSend(p,"setHidden:",YES);objj_msgSend(p,"FIXME_setIsHUD:",_FIXME_isHUD)}}j=objj_msgSend(e,"count");for(g=0;j--;)if(p=objj_msgSend(c,
"viewForItem:",e[j]),l=objj_msgSend(p,"minSize"),g<l.height)g=l.height;j=_visibleItems.length;for(var r=objj_msgSend(CPIndexSet,"indexSet");j--;)l=_visibleItems[j],p=objj_msgSend(c,"viewForItem:",l),l=objj_msgSend(p,"minSize"),l.width!==objj_msgSend(p,"maxSize").width?objj_msgSend(r,"addIndex:",j):objj_msgSend(p,"setFrameSize:",CGSizeMake(l.width,g)),objj_msgSend(p,"setHidden:",NO);j=b-d;for(var i=0;j&&objj_msgSend(r,"count");){i+=j/objj_msgSend(r,"count");j=0;for(d=CPNotFound;(d=objj_msgSend(r,"indexGreaterThanIndex:",
d))!==CPNotFound;){l=_visibleItems[d];p=objj_msgSend(c,"viewForItem:",l);l=objj_msgSend(p,"minSize").width+i;var t=MIN(l,objj_msgSend(p,"maxSize").width);t<l&&(objj_msgSend(r,"removeIndex:",d),j+=l-t);objj_msgSend(p,"setFrameSize:",CGSizeMake(t,g))}}d=0;j=_visibleItems.length;for(l=10;d<j;++d)p=objj_msgSend(c,"viewForItem:",_visibleItems[d]),r=CGRectGetWidth(objj_msgSend(p,"frame")),objj_msgSend(p,"setFrame:",CGRectMake(l,0,r,g)),l+=r+10;g=NO;if(objj_msgSend(f,"count")){d=0;j=objj_msgSend(e,"count");
for(_invisibleItems=[];d<j;++d)l=e[d],objj_msgSend(f,"indexOfObjectIdenticalTo:",l)!==CPNotFound&&(objj_msgSend(_invisibleItems,"addObject:",l),p=objj_msgSend(l,"itemIdentifier"),p!==CPToolbarSpaceItemIdentifier&&p!==CPToolbarFlexibleSpaceItemIdentifier&&p!==CPToolbarSeparatorItemIdentifier&&(g=YES))}if(g){objj_msgSend(_additionalItemsButton,"setFrameOrigin:",CGPointMake(b+5,(CGRectGetHeight(objj_msgSend(c,"bounds"))-CGRectGetHeight(objj_msgSend(_additionalItemsButton,"frame")))/2));objj_msgSend(c,
"addSubview:",_additionalItemsButton);objj_msgSend(_additionalItemsButton,"removeAllItems");objj_msgSend(_additionalItemsButton,"addItemWithTitle:","Additional Items");objj_msgSend(objj_msgSend(_additionalItemsButton,"itemArray")[0],"setImage:",a);d=0;j=objj_msgSend(_invisibleItems,"count");for(e=NO;d<j;++d)l=_invisibleItems[d],p=objj_msgSend(l,"itemIdentifier"),p===CPToolbarSpaceItemIdentifier||p===CPToolbarFlexibleSpaceItemIdentifier||(p===CPToolbarSeparatorItemIdentifier?e&&objj_msgSend(_additionalItemsButton,
"addItem:",objj_msgSend(CPMenuItem,"separatorItem")):(e=YES,b=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"initWithTitle:action:keyEquivalent:",objj_msgSend(l,"label"),sel_getUid("didSelectMenuItem:"),nil),objj_msgSend(b,"setRepresentedObject:",l),objj_msgSend(b,"setImage:",objj_msgSend(l,"image")),objj_msgSend(b,"setTarget:",c),objj_msgSend(b,"setEnabled:",objj_msgSend(l,"isEnabled")),objj_msgSend(_additionalItemsButton,"addItem:",b)))}else objj_msgSend(_additionalItemsButton,"removeFromSuperview")}}),
new objj_method(sel_getUid("didSelectMenuItem:"),function(a,c,e){with(a)a=objj_msgSend(e,"representedObject"),objj_msgSend(CPApp,"sendAction:to:from:",objj_msgSend(a,"action"),objj_msgSend(a,"target"),a)}),new objj_method(sel_getUid("reloadToolbarItems"),function(a){with(a){for(var c=objj_msgSend(a,"subviews"),e=c.length;e--;)objj_msgSend(c[e],"removeFromSuperview");c=objj_msgSend(_toolbar,"items");var b=0;e=c.length;_minWidth=10;for(_viewsForToolbarItems={};b<e;++b){var d=c[b],f=objj_msgSend(objj_msgSend(_CPToolbarItemView,
"alloc"),"initWithToolbarItem:toolbar:",d,a);_viewsForToolbarItems[objj_msgSend(d,"UID")]=f;objj_msgSend(a,"addSubview:",f);_minWidth+=objj_msgSend(f,"minSize").width+10}objj_msgSend(a,"tile")}})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(c){with(c){if(c!==objj_msgSend(_CPToolbarView,"class"))return;c=objj_msgSend(CPBundle,"bundleForClass:",c);a=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(c,"pathForResource:","_CPToolbarView/_CPToolbarViewExtraItemsImage.png"),
CPSizeMake(10,15));e=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(c,"pathForResource:","_CPToolbarView/_CPToolbarViewExtraItemsAlternateImage.png"),CGSizeMake(10,15))}})]);var c=function(a,c){var e=objj_msgSend(a,"visibilityPriority"),b=objj_msgSend(c,"visibilityPriority");if(e==b)return CPOrderedSame;if(e>b)return CPOrderedAscending;return CPOrderedDescending};d=objj_allocateClassPair(CPControl,"_CPToolbarItemView");b=d.isa;class_addIvars(d,[new objj_ivar("_minSize"),
new objj_ivar("_maxSize"),new objj_ivar("_labelSize"),new objj_ivar("_toolbarItem"),new objj_ivar("_toolbar"),new objj_ivar("_imageView"),new objj_ivar("_view"),new objj_ivar("_labelField"),new objj_ivar("_FIXME_isHUD")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("minSize"),function(a){with(a)return _minSize}),new objj_method(sel_getUid("maxSize"),function(a){with(a)return _maxSize}),new objj_method(sel_getUid("initWithToolbarItem:toolbar:"),function(a,c,e,b){with(a){if(a=
objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPToolbarItemView").super_class},"init")){_toolbarItem=e;_labelField=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero());objj_msgSend(_labelField,"setFont:",objj_msgSend(CPFont,"systemFontOfSize:",11));objj_msgSend(_labelField,"setTextColor:",objj_msgSend(a,"FIXME_labelColor"));objj_msgSend(_labelField,"setTextShadowColor:",objj_msgSend(a,"FIXME_labelShadowColor"));objj_msgSend(_labelField,"setTextShadowOffset:",
CGSizeMake(0,1));objj_msgSend(_labelField,"setAutoresizingMask:",CPViewWidthSizable|CPViewMinXMargin);objj_msgSend(a,"addSubview:",_labelField);objj_msgSend(a,"updateFromItem");_toolbar=b;c=["label","image","alternateImage","minSize","maxSize","target","action","enabled"];e=0;for(b=objj_msgSend(c,"count");e<b;++e)objj_msgSend(_toolbarItem,"addObserver:forKeyPath:options:context:",a,c[e],0,NULL)}return a}}),new objj_method(sel_getUid("FIXME_setIsHUD:"),function(a,c,e){with(a)_FIXME_isHUD=e,objj_msgSend(_labelField,
"setTextColor:",objj_msgSend(a,"FIXME_labelColor")),objj_msgSend(_labelField,"setTextShadowColor:",objj_msgSend(a,"FIXME_labelShadowColor"))}),new objj_method(sel_getUid("updateFromItem"),function(a){with(a){var c=objj_msgSend(_toolbarItem,"itemIdentifier");if(c===CPToolbarSpaceItemIdentifier||c===CPToolbarFlexibleSpaceItemIdentifier||c===CPToolbarSeparatorItemIdentifier){objj_msgSend(_view,"removeFromSuperview");objj_msgSend(_imageView,"removeFromSuperview");_minSize=objj_msgSend(_toolbarItem,"minSize");
_maxSize=objj_msgSend(_toolbarItem,"maxSize");if(c===CPToolbarSeparatorItemIdentifier)_view=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,2,32)),sizes={},sizes.CPToolbarItemSeparator=[CGSizeMake(2,26),CGSizeMake(2,1),CGSizeMake(2,26)],objj_msgSend(_view,"setBackgroundColor:",_CPControlThreePartImagePattern(YES,sizes,"CPToolbarItem","Separator")),objj_msgSend(a,"addSubview:",_view);return}objj_msgSend(a,"setTarget:",objj_msgSend(_toolbarItem,"target"));objj_msgSend(a,"setAction:",
objj_msgSend(_toolbarItem,"action"));c=objj_msgSend(_toolbarItem,"view")||nil;c!==_view&&(c?(objj_msgSend(a,"addSubview:",c),objj_msgSend(_imageView,"removeFromSuperview")):objj_msgSend(_view,"removeFromSuperview"),_view=c);_view||(_imageView||(_imageView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",objj_msgSend(a,"bounds")),objj_msgSend(_imageView,"setImageScaling:",CPScaleProportionally),objj_msgSend(a,"addSubview:",_imageView)),objj_msgSend(_imageView,"setImage:",objj_msgSend(_toolbarItem,
"image")));c=objj_msgSend(_toolbarItem,"minSize");objj_msgSend(_toolbarItem,"maxSize");objj_msgSend(_labelField,"setStringValue:",objj_msgSend(_toolbarItem,"label"));objj_msgSend(_labelField,"sizeToFit");objj_msgSend(a,"setEnabled:",objj_msgSend(_toolbarItem,"isEnabled"));_labelSize=objj_msgSend(_labelField,"frame").size;_minSize=CGSizeMake(MAX(_labelSize.width,c.width),_labelSize.height+c.height+2+5);_maxSize=CGSizeMake(MAX(_labelSize.width,c.width),1E8);objj_msgSend(_toolbar,"tile")}}),new objj_method(sel_getUid("layoutSubviews"),
function(a){with(a){var c=objj_msgSend(_toolbarItem,"itemIdentifier");if(c===CPToolbarSpaceItemIdentifier||c===CPToolbarFlexibleSpaceItemIdentifier)return;var e=objj_msgSend(a,"bounds");a=e.size.width;if(c===CPToolbarSeparatorItemIdentifier)return objj_msgSend(_view,"setFrame:",CGRectMake(ROUND((a-2)/2),0,2,e.size.height));c=_view||_imageView;var b=objj_msgSend(_toolbarItem,"maxSize");e=e.size.height-_labelSize.height-2-5;var d=MIN(b.width,a);b=MIN(b.height,e);objj_msgSend(c,"setFrame:",CGRectMake(ROUND((a-
d)/2),5+ROUND((e-b)/2),d,b));objj_msgSend(_labelField,"setFrameOrigin:",CGPointMake(ROUND((a-_labelSize.width)/2),5+e+2))}}),new objj_method(sel_getUid("mouseDown:"),function(a,c,e){with(a){if(objj_msgSend(_toolbarItem,"view"))return objj_msgSend(objj_msgSend(a,"nextResponder"),"mouseDown:",e);c=objj_msgSend(_toolbarItem,"itemIdentifier");if(c===CPToolbarSpaceItemIdentifier||c===CPToolbarFlexibleSpaceItemIdentifier||c===CPToolbarSeparatorItemIdentifier)return objj_msgSend(objj_msgSend(a,"nextResponder"),
"mouseDown:",e);objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPToolbarItemView").super_class},"mouseDown:",e)}}),new objj_method(sel_getUid("setEnabled:"),function(a,c,e){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPToolbarItemView").super_class},"setEnabled:",e),e?(objj_msgSend(_imageView,"setAlphaValue:",1),objj_msgSend(_labelField,"setAlphaValue:",1)):(objj_msgSend(_imageView,"setAlphaValue:",0.5),objj_msgSend(_labelField,"setAlphaValue:",0.5)),objj_msgSend(_toolbar,
"tile")}),new objj_method(sel_getUid("FIXME_labelColor"),function(a){with(a){if(_FIXME_isHUD)return objj_msgSend(CPColor,"whiteColor");return objj_msgSend(CPColor,"blackColor")}}),new objj_method(sel_getUid("FIXME_labelShadowColor"),function(a){with(a){if(_FIXME_isHUD)return objj_msgSend(a,"isHighlighted")?objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.5):objj_msgSend(CPColor,"clearColor");return objj_msgSend(a,"isHighlighted")?objj_msgSend(CPColor,"colorWithWhite:alpha:",0,0.3):objj_msgSend(CPColor,
"colorWithWhite:alpha:",1,0.75)}}),new objj_method(sel_getUid("setHighlighted:"),function(a,c,e){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPToolbarItemView").super_class},"setHighlighted:",e),e?((c=objj_msgSend(_toolbarItem,"alternateImage"))&&objj_msgSend(_imageView,"setImage:",c),objj_msgSend(_labelField,"setTextShadowOffset:",CGSizeMakeZero())):((c=objj_msgSend(_toolbarItem,"image"))&&objj_msgSend(_imageView,"setImage:",c),objj_msgSend(_labelField,"setTextShadowOffset:",
CGSizeMake(0,1))),objj_msgSend(_labelField,"setTextShadowColor:",objj_msgSend(a,"FIXME_labelShadowColor"))}),new objj_method(sel_getUid("sendAction:to:"),function(a,c,e,b){with(a)objj_msgSend(CPApp,"sendAction:to:from:",e,b,_toolbarItem)}),new objj_method(sel_getUid("observeValueForKeyPath:ofObject:change:context:"),function(a,c,e,b){with(a)e==="enabled"?objj_msgSend(a,"setEnabled:",objj_msgSend(b,"isEnabled")):e==="target"?objj_msgSend(a,"setTarget:",objj_msgSend(b,"target")):e==="action"?objj_msgSend(a,
"setAction:",objj_msgSend(b,"action")):objj_msgSend(a,"updateFromItem")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCollectionView.j",baseURL),function(i,g){g("Foundation/CPArray.j",NO);g("Foundation/CPData.j",NO);g("Foundation/CPIndexSet.j",NO);g("Foundation/CPKeyedArchiver.j",NO);g("Foundation/CPKeyedUnarchiver.j",NO);g("CPView.j",YES);g("CPCollectionViewItem.j",YES);var f=objj_allocateClassPair(CPView,"CPCollectionView");class_addIvars(f,[new objj_ivar("_content"),new objj_ivar("_items"),new objj_ivar("_itemData"),new objj_ivar("_itemPrototype"),
new objj_ivar("_itemForDragging"),new objj_ivar("_cachedItems"),new objj_ivar("_maxNumberOfRows"),new objj_ivar("_maxNumberOfColumns"),new objj_ivar("_minItemSize"),new objj_ivar("_maxItemSize"),new objj_ivar("_backgroundColors"),new objj_ivar("_tileWidth"),new objj_ivar("_isSelectable"),new objj_ivar("_allowsMultipleSelection"),new objj_ivar("_allowsEmptySelection"),new objj_ivar("_selectionIndexes"),new objj_ivar("_itemSize"),new objj_ivar("_horizontalMargin"),new objj_ivar("_verticalMargin"),new objj_ivar("_numberOfRows"),
new objj_ivar("_numberOfColumns"),new objj_ivar("_delegate"),new objj_ivar("_mouseDownEvent")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:"),function(d,b,a){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPCollectionView").super_class},"initWithFrame:",a))_items=[],_content=[],_cachedItems=[],_itemSize=CGSizeMakeZero(),_minItemSize=CGSizeMakeZero(),_maxItemSize=CGSizeMakeZero(),objj_msgSend(d,"setBackgroundColors:",nil),_verticalMargin=
5,_tileWidth=-1,_selectionIndexes=objj_msgSend(CPIndexSet,"indexSet"),_isSelectable=_allowsEmptySelection=YES;return d}}),new objj_method(sel_getUid("setItemPrototype:"),function(d,b,a){with(d)_cachedItems=[],_itemForDragging=_itemData=nil,_itemPrototype=a,objj_msgSend(d,"reloadContent")}),new objj_method(sel_getUid("itemPrototype"),function(d){with(d)return _itemPrototype}),new objj_method(sel_getUid("newItemForRepresentedObject:"),function(d,b,a){with(d)return d=nil,_cachedItems.length?d=_cachedItems.pop():
(_itemData||_itemPrototype&&(_itemData=objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",_itemPrototype)),d=objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",_itemData)),objj_msgSend(d,"setRepresentedObject:",a),objj_msgSend(objj_msgSend(d,"view"),"setFrameSize:",_itemSize),d}),new objj_method(sel_getUid("acceptsFirstResponder"),function(d){with(d)return YES}),new objj_method(sel_getUid("isFirstResponder"),function(d){with(d)return objj_msgSend(objj_msgSend(d,"window"),"firstResponder")===
d}),new objj_method(sel_getUid("setContent:"),function(d,b,a){with(d)objj_msgSend(d,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSet")),_content=a,objj_msgSend(d,"reloadContent")}),new objj_method(sel_getUid("content"),function(d){with(d)return _content}),new objj_method(sel_getUid("items"),function(d){with(d)return _items}),new objj_method(sel_getUid("setSelectable:"),function(d,b,a){with(d){if(_isSelectable==a)return;_isSelectable=a;if(!_isSelectable)for(d=CPNotFound;(d=objj_msgSend(_selectionIndexes,
"indexGreaterThanIndex:",d))!=CPNotFound;)objj_msgSend(_items[d],"setSelected:",NO)}}),new objj_method(sel_getUid("isSelectable"),function(d){with(d)return _isSelectable}),new objj_method(sel_getUid("setAllowsEmptySelection:"),function(d,b,a){with(d)_allowsEmptySelection=a}),new objj_method(sel_getUid("allowsEmptySelection"),function(d){with(d)return _allowsEmptySelection}),new objj_method(sel_getUid("setAllowsMultipleSelection:"),function(d,b,a){with(d)_allowsMultipleSelection=a}),new objj_method(sel_getUid("allowsMultipleSelection"),
function(d){with(d)return _allowsMultipleSelection}),new objj_method(sel_getUid("setSelectionIndexes:"),function(d,b,a){with(d){if(objj_msgSend(_selectionIndexes,"isEqual:",a)||!_isSelectable)return;for(b=CPNotFound;(b=objj_msgSend(_selectionIndexes,"indexGreaterThanIndex:",b))!=CPNotFound;)objj_msgSend(_items[b],"setSelected:",NO);_selectionIndexes=a;for(b=CPNotFound;(b=objj_msgSend(_selectionIndexes,"indexGreaterThanIndex:",b))!=CPNotFound;)objj_msgSend(_items[b],"setSelected:",YES);a=objj_msgSend(objj_msgSend(d,
"class"),"_binderClassForBinding:","selectionIndexes");objj_msgSend(objj_msgSend(a,"getBinding:forObject:","selectionIndexes",d),"reverseSetValueFor:","selectionIndexes");objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionViewDidChangeSelection:"))&&objj_msgSend(_delegate,"collectionViewDidChangeSelection:",d)}}),new objj_method(sel_getUid("selectionIndexes"),function(d){with(d)return objj_msgSend(_selectionIndexes,"copy")}),new objj_method(sel_getUid("reloadContent"),function(d){with(d){for(var b=
_items.length;b--;)objj_msgSend(objj_msgSend(_items[b],"view"),"removeFromSuperview"),objj_msgSend(_items[b],"setSelected:",NO),_cachedItems.push(_items[b]);_items=[];if(!_itemPrototype||!_content)return;var a=0;for(b=_content.length;a<b;++a)_items.push(objj_msgSend(d,"newItemForRepresentedObject:",_content[a])),objj_msgSend(d,"addSubview:",objj_msgSend(_items[a],"view"));for(a=CPNotFound;(a=objj_msgSend(_selectionIndexes,"indexGreaterThanIndex:",a))!=CPNotFound;)objj_msgSend(_items[a],"setSelected:",
YES);objj_msgSend(d,"tile")}}),new objj_method(sel_getUid("tile"),function(d){with(d){var b=CGRectGetWidth(objj_msgSend(d,"bounds"));if(!objj_msgSend(_content,"count")||b==_tileWidth)return;var a=CGSizeMakeCopy(_minItemSize);_numberOfColumns=MAX(1,FLOOR(b/a.width));_maxNumberOfColumns>0&&(_numberOfColumns=MIN(_maxNumberOfColumns,_numberOfColumns));var e=b-_numberOfColumns*a.width,c=NO;if(e>0&&a.width<_maxItemSize.width)a.width=MIN(_maxItemSize.width,a.width+FLOOR(e/_numberOfColumns));if(_maxNumberOfColumns==
1&&a.width<_maxItemSize.width&&a.width<b)a.width=MIN(_maxItemSize.width,b);CGSizeEqualToSize(_itemSize,a)||(_itemSize=a,c=YES);var h=0,k=_items.length;_maxNumberOfColumns>0&&_maxNumberOfRows>0&&(k=MIN(k,_maxNumberOfColumns*_maxNumberOfRows));_numberOfRows=CEIL(k/_numberOfColumns);var f=_horizontalMargin=FLOOR((b-_numberOfColumns*a.width)/(_numberOfColumns+1));for(e=-a.height;h<k;++h){h%_numberOfColumns==0&&(f=_horizontalMargin,e+=_verticalMargin+a.height);var g=objj_msgSend(_items[h],"view");objj_msgSend(g,
"setFrameOrigin:",CGPointMake(f,e));c&&objj_msgSend(g,"setFrameSize:",_itemSize);f+=a.width+_horizontalMargin}c=objj_msgSend(d,"superview");a=e+a.height+_verticalMargin;if(objj_msgSend(c,"isKindOfClass:",objj_msgSend(CPClipView,"class")))c=objj_msgSend(c,"bounds").size,a=MAX(c.height,a);_tileWidth=b;objj_msgSend(d,"setFrameSize:",CGSizeMake(b,a));_tileWidth=-1}}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(d){with(d)objj_msgSend(d,"tile")}),new objj_method(sel_getUid("setMaxNumberOfRows:"),
function(d,b,a){with(d){if(_maxNumberOfRows==a)return;_maxNumberOfRows=a;objj_msgSend(d,"tile")}}),new objj_method(sel_getUid("maxNumberOfRows"),function(d){with(d)return _maxNumberOfRows}),new objj_method(sel_getUid("setMaxNumberOfColumns:"),function(d,b,a){with(d){if(_maxNumberOfColumns==a)return;_maxNumberOfColumns=a;objj_msgSend(d,"tile")}}),new objj_method(sel_getUid("maxNumberOfColumns"),function(d){with(d)return _maxNumberOfColumns}),new objj_method(sel_getUid("numberOfRows"),function(d){with(d)return _numberOfRows}),
new objj_method(sel_getUid("numberOfColumns"),function(d){with(d)return _numberOfColumns}),new objj_method(sel_getUid("setMinItemSize:"),function(d,b,a){with(d){if(CGSizeEqualToSize(_minItemSize,a))return;_minItemSize=CGSizeMakeCopy(a);objj_msgSend(d,"tile")}}),new objj_method(sel_getUid("minItemSize"),function(d){with(d)return _minItemSize}),new objj_method(sel_getUid("setMaxItemSize:"),function(d,b,a){with(d){if(CGSizeEqualToSize(_maxItemSize,a))return;_maxItemSize=CGSizeMakeCopy(a);objj_msgSend(d,
"tile")}}),new objj_method(sel_getUid("maxItemSize"),function(d){with(d)return _maxItemSize}),new objj_method(sel_getUid("setBackgroundColors:"),function(d,b,a){with(d){if(_backgroundColors===a)return;(_backgroundColors=a)||(_backgroundColors=objj_msgSend(CPColor,"whiteColor"));objj_msgSend(_backgroundColors,"count")===1?objj_msgSend(d,"setBackgroundColor:",_backgroundColors[0]):objj_msgSend(d,"setBackgroundColor:",nil);objj_msgSend(d,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("backgroundColors"),
function(d){with(d)return _backgroundColors}),new objj_method(sel_getUid("mouseUp:"),function(d,b,a){with(d)objj_msgSend(_selectionIndexes,"count")&&objj_msgSend(a,"clickCount")==2&&objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionView:didDoubleClickOnItemAtIndex:"))&&objj_msgSend(_delegate,"collectionView:didDoubleClickOnItemAtIndex:",d,objj_msgSend(_selectionIndexes,"firstIndex"))}),new objj_method(sel_getUid("mouseDown:"),function(d,b,a){with(d){_mouseDownEvent=a;var e=objj_msgSend(d,
"convertPoint:fromView:",objj_msgSend(a,"locationInWindow"),nil);b=FLOOR(e.y/(_itemSize.height+_verticalMargin));e=FLOOR(e.x/(_itemSize.width+_horizontalMargin));b=b*_numberOfColumns+e;if(b>=0&&b<_items.length){if(_allowsMultipleSelection&&(objj_msgSend(a,"modifierFlags")&CPCommandKeyMask||objj_msgSend(a,"modifierFlags")&CPShiftKeyMask))if(objj_msgSend(a,"modifierFlags")&CPCommandKeyMask){var c=objj_msgSend(_selectionIndexes,"copy");objj_msgSend(c,"containsIndex:",b)?objj_msgSend(c,"removeIndex:",
b):objj_msgSend(c,"addIndex:",b)}else objj_msgSend(a,"modifierFlags")&CPShiftKeyMask&&(c=objj_msgSend(objj_msgSend(d,"selectionIndexes"),"firstIndex"),a=nil,a=b<c?CPMakeRange(b,c-b+1):CPMakeRange(c,b-c+1),c=objj_msgSend(objj_msgSend(d,"selectionIndexes"),"copy"),objj_msgSend(c,"addIndexesInRange:",a));else c=objj_msgSend(CPIndexSet,"indexSetWithIndex:",b);objj_msgSend(d,"setSelectionIndexes:",c)}else _allowsEmptySelection&&objj_msgSend(d,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSet"))}}),
new objj_method(sel_getUid("mouseDragged:"),function(d,b,a){with(d){b=objj_msgSend(a,"locationInWindow");a=objj_msgSend(_mouseDownEvent,"locationInWindow");if(ABS(b.x-a.x)<3&&ABS(b.y-a.y)<3)return;if(!objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionView:dragTypesForItemsAtIndexes:")))return;if(!objj_msgSend(_selectionIndexes,"count"))return;if(objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("collectionView:canDragItemsAtIndexes:withEvent:"))&&!objj_msgSend(_delegate,"collectionView:canDragItemsAtIndexes:withEvent:",
d,_selectionIndexes,_mouseDownEvent))return;b=objj_msgSend(_delegate,"collectionView:dragTypesForItemsAtIndexes:",d,_selectionIndexes);objj_msgSend(objj_msgSend(CPPasteboard,"pasteboardWithName:",CPDragPboard),"declareTypes:owner:",b,d);_itemForDragging?objj_msgSend(_itemForDragging,"setRepresentedObject:",_content[objj_msgSend(_selectionIndexes,"firstIndex")]):_itemForDragging=objj_msgSend(d,"newItemForRepresentedObject:",_content[objj_msgSend(_selectionIndexes,"firstIndex")]);b=objj_msgSend(_itemForDragging,
"view");objj_msgSend(b,"setFrameSize:",_itemSize);objj_msgSend(b,"setAlphaValue:",0.7);objj_msgSend(d,"dragView:at:offset:event:pasteboard:source:slideBack:",b,objj_msgSend(objj_msgSend(_items[objj_msgSend(_selectionIndexes,"firstIndex")],"view"),"frame").origin,CGSizeMakeZero(),_mouseDownEvent,nil,d,YES)}}),new objj_method(sel_getUid("pasteboard:provideDataForType:"),function(d,b,a,e){with(d)objj_msgSend(a,"setData:forType:",objj_msgSend(_delegate,"collectionView:dataForItemsAtIndexes:forType:",
d,_selectionIndexes,e),e)}),new objj_method(sel_getUid("setVerticalMargin:"),function(d,b,a){with(d){if(_verticalMargin==a)return;_verticalMargin=a;objj_msgSend(d,"tile")}}),new objj_method(sel_getUid("verticalMargin"),function(d){with(d)return _verticalMargin}),new objj_method(sel_getUid("setDelegate:"),function(d,b,a){with(d)_delegate=a}),new objj_method(sel_getUid("delegate"),function(d){with(d)return _delegate}),new objj_method(sel_getUid("itemAtIndex:"),function(d,b,a){with(d)return objj_msgSend(_items,
"objectAtIndex:",a)}),new objj_method(sel_getUid("frameForItemAtIndex:"),function(d,b,a){with(d)return objj_msgSend(objj_msgSend(objj_msgSend(d,"itemAtIndex:",a),"view"),"frame")}),new objj_method(sel_getUid("frameForItemsAtIndexes:"),function(d,b,a){with(d){b=[];var e=CGRectNull;objj_msgSend(a,"getIndexes:maxCount:inIndexRange:",b,-1,nil);a=0;for(var c=objj_msgSend(b,"count");a<c;++a)e=CGRectUnion(e,objj_msgSend(d,"frameForItemAtIndex:",b[a]));return e}})]);f=objj_getClass("CPCollectionView");if(!f)throw new SyntaxError('*** Could not find definition for class "CPCollectionView"');
class_addMethods(f,[new objj_method(sel_getUid("_modifySelectionWithNewIndex:direction:expand:"),function(d,b,a,e,c){with(d){a=MIN(MAX(a,0),objj_msgSend(objj_msgSend(d,"items"),"count")-1);if(_allowsMultipleSelection&&c){b=objj_msgSend(_selectionIndexes,"copy");c=objj_msgSend(b,"firstIndex");var h=objj_msgSend(b,"lastIndex");e===-1?objj_msgSend(b,"addIndexesInRange:",CPMakeRange(a,c-a+1)):objj_msgSend(b,"addIndexesInRange:",CPMakeRange(h,a-h+1))}else b=objj_msgSend(CPIndexSet,"indexSetWithIndex:",
a);objj_msgSend(d,"setSelectionIndexes:",b);objj_msgSend(d,"_scrollToSelection")}}),new objj_method(sel_getUid("_scrollToSelection"),function(d){with(d){var b=objj_msgSend(d,"frameForItemsAtIndexes:",objj_msgSend(d,"selectionIndexes"));CGRectIsNull(b)||objj_msgSend(d,"scrollRectToVisible:",b)}}),new objj_method(sel_getUid("moveLeft:"),function(d){with(d){var b=objj_msgSend(objj_msgSend(d,"selectionIndexes"),"firstIndex");b===CPNotFound&&(b=objj_msgSend(objj_msgSend(d,"items"),"count"));objj_msgSend(d,
"_modifySelectionWithNewIndex:direction:expand:",b-1,-1,NO)}}),new objj_method(sel_getUid("moveLeftAndModifySelection:"),function(d){with(d){var b=objj_msgSend(objj_msgSend(d,"selectionIndexes"),"firstIndex");b===CPNotFound&&(b=objj_msgSend(objj_msgSend(d,"items"),"count"));objj_msgSend(d,"_modifySelectionWithNewIndex:direction:expand:",b-1,-1,YES)}}),new objj_method(sel_getUid("moveRight:"),function(d){with(d)objj_msgSend(d,"_modifySelectionWithNewIndex:direction:expand:",objj_msgSend(objj_msgSend(d,
"selectionIndexes"),"lastIndex")+1,1,NO)}),new objj_method(sel_getUid("moveRightAndModifySelection:"),function(d){with(d)objj_msgSend(d,"_modifySelectionWithNewIndex:direction:expand:",objj_msgSend(objj_msgSend(d,"selectionIndexes"),"lastIndex")+1,1,YES)}),new objj_method(sel_getUid("moveDown:"),function(d){with(d)objj_msgSend(d,"_modifySelectionWithNewIndex:direction:expand:",objj_msgSend(objj_msgSend(d,"selectionIndexes"),"lastIndex")+objj_msgSend(d,"numberOfColumns"),1,NO)}),new objj_method(sel_getUid("moveDownAndModifySelection:"),
function(d){with(d)objj_msgSend(d,"_modifySelectionWithNewIndex:direction:expand:",objj_msgSend(objj_msgSend(d,"selectionIndexes"),"lastIndex")+objj_msgSend(d,"numberOfColumns"),1,YES)}),new objj_method(sel_getUid("moveUp:"),function(d){with(d){var b=objj_msgSend(objj_msgSend(d,"selectionIndexes"),"firstIndex");b==CPNotFound&&(b=objj_msgSend(objj_msgSend(d,"items"),"count"));objj_msgSend(d,"_modifySelectionWithNewIndex:direction:expand:",b-objj_msgSend(d,"numberOfColumns"),-1,NO)}}),new objj_method(sel_getUid("moveUpAndModifySelection:"),
function(d){with(d){var b=objj_msgSend(objj_msgSend(d,"selectionIndexes"),"firstIndex");b==CPNotFound&&(b=objj_msgSend(objj_msgSend(d,"items"),"count"));objj_msgSend(d,"_modifySelectionWithNewIndex:direction:expand:",b-objj_msgSend(d,"numberOfColumns"),-1,YES)}}),new objj_method(sel_getUid("deleteBackward:"),function(d){with(d)objj_msgSend(objj_msgSend(d,"delegate"),"respondsToSelector:",sel_getUid("collectionView:shouldDeleteItemsAtIndexes:"))&&(objj_msgSend(objj_msgSend(d,"delegate"),"collectionView:shouldDeleteItemsAtIndexes:",
d,objj_msgSend(d,"selectionIndexes")),objj_msgSend(objj_msgSend(d,"selectionIndexes"),"firstIndex")>objj_msgSend(objj_msgSend(d,"content"),"count")-1&&objj_msgSend(d,"setSelectionIndexes:",objj_msgSend(CPIndexSet,"indexSetWithIndex:",objj_msgSend(objj_msgSend(d,"content"),"count")-1)),objj_msgSend(d,"_scrollToSelection"),objj_msgSend(d,"setNeedsDisplay:",YES))}),new objj_method(sel_getUid("keyDown:"),function(d,b,a){with(d)objj_msgSend(d,"interpretKeyEvents:",[a])})]);f=objj_getClass("CPCollectionView");
if(!f)throw new SyntaxError('*** Could not find definition for class "CPCollectionView"');class_addMethods(f,[new objj_method(sel_getUid("rectForItemAtIndex:"),function(d,b,a){with(d)return _CPReportLenientDeprecation(objj_msgSend(d,"class"),b,sel_getUid("frameForItemAtIndex:")),objj_msgSend(d,"frameForItemAtIndex:",a)}),new objj_method(sel_getUid("rectForItemsAtIndexes:"),function(d,b,a){with(d)return _CPReportLenientDeprecation(objj_msgSend(d,"class"),b,sel_getUid("frameForItemsAtIndexes:")),objj_msgSend(d,
"frameForItemsAtIndexes:",a)})]);f=objj_getClass("CPCollectionView");if(!f)throw new SyntaxError('*** Could not find definition for class "CPCollectionView"');class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(d,b,a){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPCollectionView").super_class},"initWithCoder:",a))_items=[],_content=[],_cachedItems=[],_itemSize=CGSizeMakeZero(),_minItemSize=objj_msgSend(a,"decodeSizeForKey:","CPCollectionViewMinItemSizeKey")||
CGSizeMakeZero(),_maxItemSize=objj_msgSend(a,"decodeSizeForKey:","CPCollectionViewMaxItemSizeKey")||CGSizeMakeZero(),_maxNumberOfRows=objj_msgSend(a,"decodeIntForKey:","CPCollectionViewMaxNumberOfRowsKey")||0,_maxNumberOfColumns=objj_msgSend(a,"decodeIntForKey:","CPCollectionViewMaxNumberOfColumnsKey")||0,_verticalMargin=objj_msgSend(a,"decodeFloatForKey:","CPCollectionViewVerticalMarginKey"),_isSelectable=objj_msgSend(a,"decodeBoolForKey:","CPCollectionViewSelectableKey"),_allowsMultipleSelection=
objj_msgSend(a,"decodeBoolForKey:","CPCollectionViewAllowsMultipleSelectionKey"),objj_msgSend(d,"setBackgroundColors:",objj_msgSend(a,"decodeObjectForKey:","CPCollectionViewBackgroundColorsKey")),_tileWidth=-1,_selectionIndexes=objj_msgSend(CPIndexSet,"indexSet"),_allowsEmptySelection=YES;return d}}),new objj_method(sel_getUid("encodeWithCoder:"),function(d,b,a){with(d)objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPCollectionView").super_class},"encodeWithCoder:",a),CGSizeEqualToSize(_minItemSize,
CGSizeMakeZero())||objj_msgSend(a,"encodeSize:forKey:",_minItemSize,"CPCollectionViewMinItemSizeKey"),CGSizeEqualToSize(_maxItemSize,CGSizeMakeZero())||objj_msgSend(a,"encodeSize:forKey:",_maxItemSize,"CPCollectionViewMaxItemSizeKey"),objj_msgSend(a,"encodeInt:forKey:",_maxNumberOfRows,"CPCollectionViewMaxNumberOfRowsKey"),objj_msgSend(a,"encodeInt:forKey:",_maxNumberOfColumns,"CPCollectionViewMaxNumberOfColumnsKey"),objj_msgSend(a,"encodeBool:forKey:",_isSelectable,"CPCollectionViewSelectableKey"),
objj_msgSend(a,"encodeBool:forKey:",_allowsMultipleSelection,"CPCollectionViewAllowsMultipleSelectionKey"),objj_msgSend(a,"encodeFloat:forKey:",_verticalMargin,"CPCollectionViewVerticalMarginKey"),objj_msgSend(a,"encodeObject:forKey:",_backgroundColors,"CPCollectionViewBackgroundColorsKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPDocument.j",baseURL),function(i,g){g("Foundation/CPString.j",NO);g("Foundation/CPArray.j",NO);g("CPApplication.j",YES);g("CPResponder.j",YES);g("CPSavePanel.j",YES);g("CPViewController.j",YES);g("CPWindowController.j",YES);CPSaveOperation=0;CPSaveAsOperation=1;CPSaveToOperation=2;CPAutosaveOperation=3;CPChangeDone=0;CPChangeUndone=1;CPChangeCleared=2;CPChangeReadOtherContents=3;CPChangeAutosaved=4;CPDocumentWillSaveNotification=
"CPDocumentWillSaveNotification";CPDocumentDidSaveNotification="CPDocumentDidSaveNotification";CPDocumentDidFailToSaveNotification="CPDocumentDidFailToSaveNotification";var f=0,d=objj_allocateClassPair(CPResponder,"CPDocument");class_addIvars(d,[new objj_ivar("_window"),new objj_ivar("_view"),new objj_ivar("_viewControllersForWindowControllers"),new objj_ivar("_fileURL"),new objj_ivar("_fileType"),new objj_ivar("_windowControllers"),new objj_ivar("_untitledDocumentIndex"),new objj_ivar("_hasUndoManager"),
new objj_ivar("_undoManager"),new objj_ivar("_changeCount"),new objj_ivar("_readConnection"),new objj_ivar("_writeRequest"),new objj_ivar("_canCloseAlert")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("init"),function(b){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPDocument").super_class},"init"))_windowControllers=[],_viewControllersForWindowControllers=objj_msgSend(CPDictionary,"dictionary"),_hasUndoManager=YES,_changeCount=0,objj_msgSend(b,
"setNextResponder:",CPApp);return b}}),new objj_method(sel_getUid("initWithType:error:"),function(b,a,e){with(b)return(b=objj_msgSend(b,"init"))&&objj_msgSend(b,"setFileType:",e),b}),new objj_method(sel_getUid("initWithContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(b,a,e,c,d,k,f){with(b){if(b=objj_msgSend(b,"init"))objj_msgSend(b,"setFileURL:",e),objj_msgSend(b,"setFileType:",c),objj_msgSend(b,"readFromURL:ofType:delegate:didReadSelector:contextInfo:",e,c,d,k,f);return b}}),
new objj_method(sel_getUid("initForURL:withContentsOfURL:ofType:delegate:didReadSelector:contextInfo:"),function(b,a,e,c,d,k,f,g){with(b){if(b=objj_msgSend(b,"init"))objj_msgSend(b,"setFileURL:",e),objj_msgSend(b,"setFileType:",d),objj_msgSend(b,"readFromURL:ofType:delegate:didReadSelector:contextInfo:",c,d,k,f,g);return b}}),new objj_method(sel_getUid("dataOfType:error:"),function(b){with(b)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"dataOfType:error: must be overridden by the document subclass.")}),
new objj_method(sel_getUid("readFromData:ofType:error:"),function(b){with(b)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"readFromData:ofType: must be overridden by the document subclass.")}),new objj_method(sel_getUid("viewControllerWillLoadCib:"),function(b){with(b);}),new objj_method(sel_getUid("viewControllerDidLoadCib:"),function(b){with(b);}),new objj_method(sel_getUid("firstEligibleExistingWindowController"),function(b){with(b)return nil}),new objj_method(sel_getUid("makeWindowControllers"),
function(b){with(b)objj_msgSend(b,"makeViewAndWindowControllers")}),new objj_method(sel_getUid("makeViewAndWindowControllers"),function(b){with(b){var a=objj_msgSend(b,"viewCibName"),e=nil,c=nil;objj_msgSend(a,"length")&&(e=objj_msgSend(objj_msgSend(CPViewController,"alloc"),"initWithCibName:bundle:owner:",a,nil,b));e&&(c=objj_msgSend(b,"firstEligibleExistingWindowController"));if(!c)if(a=objj_msgSend(b,"windowCibName"),objj_msgSend(a,"length"))c=objj_msgSend(objj_msgSend(CPWindowController,"alloc"),
"initWithWindowCibName:owner:",a,b);else if(e)c=objj_msgSend(e,"view"),c=objj_msgSend(c,"frame"),c.origin=CGPointMake(50,50),c=objj_msgSend(objj_msgSend(CPWindow,"alloc"),"initWithContentRect:styleMask:",c,CPTitledWindowMask|CPClosableWindowMask|CPMiniaturizableWindowMask|CPResizableWindowMask),c=objj_msgSend(objj_msgSend(CPWindowController,"alloc"),"initWithWindow:",c);c&&e&&objj_msgSend(c,"setSupportsMultipleDocuments:",YES);c&&objj_msgSend(b,"addWindowController:",c);e&&objj_msgSend(b,"addViewController:forWindowController:",
e,c)}}),new objj_method(sel_getUid("windowControllers"),function(b){with(b)return _windowControllers}),new objj_method(sel_getUid("addWindowController:"),function(b,a,e){with(b)objj_msgSend(_windowControllers,"addObject:",e),objj_msgSend(e,"document")!==b&&objj_msgSend(e,"setDocument:",b)}),new objj_method(sel_getUid("removeWindowController:"),function(b,a,e){with(b)e&&objj_msgSend(_windowControllers,"removeObject:",e),objj_msgSend(e,"document")===b&&objj_msgSend(e,"setDocument:",nil)}),new objj_method(sel_getUid("view"),
function(b){with(b)return _view}),new objj_method(sel_getUid("viewControllers"),function(b){with(b)return objj_msgSend(_viewControllersForWindowControllers,"allValues")}),new objj_method(sel_getUid("addViewController:forWindowController:"),function(b,a,e,c){with(b)objj_msgSend(_viewControllersForWindowControllers,"setObject:forKey:",e,objj_msgSend(c,"UID")),objj_msgSend(c,"document")===b&&objj_msgSend(c,"setViewController:",e)}),new objj_method(sel_getUid("removeViewController:"),function(b,a,e){with(b)objj_msgSend(_viewControllersForWindowControllers,
"removeObject:",e)}),new objj_method(sel_getUid("viewControllerForWindowController:"),function(b,a,e){with(b)return objj_msgSend(_viewControllersForWindowControllers,"objectForKey:",objj_msgSend(e,"UID"))}),new objj_method(sel_getUid("showWindows"),function(b){with(b)objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocument:"),b),objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("showWindow:"),b)}),new objj_method(sel_getUid("displayName"),
function(b){with(b){if(_fileURL)return objj_msgSend(_fileURL,"lastPathComponent");_untitledDocumentIndex||(_untitledDocumentIndex=++f);if(_untitledDocumentIndex==1)return"Untitled";return"Untitled "+_untitledDocumentIndex}}),new objj_method(sel_getUid("viewCibName"),function(b){with(b)return nil}),new objj_method(sel_getUid("windowCibName"),function(b){with(b)return nil}),new objj_method(sel_getUid("windowControllerDidLoadCib:"),function(b){with(b);}),new objj_method(sel_getUid("windowControllerWillLoadCib:"),
function(b){with(b);}),new objj_method(sel_getUid("readFromURL:ofType:delegate:didReadSelector:contextInfo:"),function(b,a,e,c,d,k,f){with(b)objj_msgSend(_readConnection,"cancel"),_readConnection=objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",objj_msgSend(CPURLRequest,"requestWithURL:",e),b),_readConnection.session={fileType:c,delegate:d,didReadSelector:k,contextInfo:f}}),new objj_method(sel_getUid("fileURL"),function(b){with(b)return _fileURL}),new objj_method(sel_getUid("setFileURL:"),
function(b,a,e){with(b){if(_fileURL===e)return;_fileURL=e;objj_msgSend(_windowControllers,"makeObjectsPerformSelector:",sel_getUid("synchronizeWindowTitleWithDocumentName"))}}),new objj_method(sel_getUid("saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:"),function(b,a,e,c,d,k,f,g){with(b)c=objj_msgSend(b,"dataOfType:error:",objj_msgSend(b,"fileType"),nil),a=_changeCount,_writeRequest=objj_msgSend(CPURLRequest,"requestWithURL:",e),objj_msgSend(CPPlatform,"isBrowser")?objj_msgSend(_writeRequest,
"setHTTPMethod:","POST"):objj_msgSend(_writeRequest,"setHTTPMethod:","PUT"),objj_msgSend(_writeRequest,"setHTTPBody:",objj_msgSend(c,"rawString")),objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","close","Connection"),d===CPSaveOperation&&objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","true","x-cappuccino-overwrite"),d!==CPSaveToOperation&&objj_msgSend(b,"updateChangeCount:",CPChangeCleared),b=objj_msgSend(CPURLConnection,"connectionWithRequest:delegate:",_writeRequest,b),b.session=
{absoluteURL:e,saveOperation:d,changeCount:a,delegate:k,didSaveSelector:f,contextInfo:g,connection:b}}),new objj_method(sel_getUid("connection:didReceiveResponse:"),function(b,a,e,c){with(b){if(!objj_msgSend(c,"isKindOfClass:",objj_msgSend(CPHTTPURLResponse,"class")))return;a=objj_msgSend(c,"statusCode");if(a===200)return;c=e.session;e==_readConnection?(objj_msgSend(e,"cancel"),alert("There was an error retrieving the document."),objj_msgSend(c.delegate,c.didReadSelector,b,NO,c.contextInfo)):a==409&&
(objj_msgSend(e,"cancel"),confirm("There already exists a file with that name, would you like to overwrite it?")?(objj_msgSend(_writeRequest,"setValue:forHTTPHeaderField:","true","x-cappuccino-overwrite"),objj_msgSend(e,"start")):(c.saveOperation!=CPSaveToOperation&&(_changeCount+=c.changeCount,objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(b,"isDocumentEdited"))),_writeRequest=nil,objj_msgSend(c.delegate,c.didSaveSelector,b,
NO,c.contextInfo),objj_msgSend(b,"_sendDocumentSavedNotification:",NO)))}}),new objj_method(sel_getUid("connection:didReceiveData:"),function(b,a,e,c){with(b)a=e.session,e==_readConnection?(objj_msgSend(b,"readFromData:ofType:error:",objj_msgSend(CPData,"dataWithRawString:",c),a.fileType,nil),objj_msgSend(a.delegate,a.didReadSelector,b,YES,a.contextInfo)):(a.saveOperation!=CPSaveToOperation&&objj_msgSend(b,"setFileURL:",a.absoluteURL),_writeRequest=nil,objj_msgSend(a.delegate,a.didSaveSelector,b,
YES,a.contextInfo),objj_msgSend(b,"_sendDocumentSavedNotification:",YES))}),new objj_method(sel_getUid("connection:didFailWithError:"),function(b,a,e){with(b)a=e.session,_readConnection==e?objj_msgSend(a.delegate,a.didReadSelector,b,NO,a.contextInfo):(a.saveOperation!=CPSaveToOperation&&(_changeCount+=a.changeCount,objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(b,"isDocumentEdited"))),_writeRequest=nil,alert("There was an error saving the document."),
objj_msgSend(a.delegate,a.didSaveSelector,b,NO,a.contextInfo),objj_msgSend(b,"_sendDocumentSavedNotification:",NO))}),new objj_method(sel_getUid("connectionDidFinishLoading:"),function(b,a,e){with(b)_readConnection==e&&(_readConnection=nil)}),new objj_method(sel_getUid("isDocumentEdited"),function(b){with(b)return _changeCount!=0}),new objj_method(sel_getUid("updateChangeCount:"),function(b,a,e){with(b)e==CPChangeDone?++_changeCount:e==CPChangeUndone?--_changeCount:e==CPChangeCleared&&(_changeCount=
0),objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("setDocumentEdited:"),objj_msgSend(b,"isDocumentEdited"))}),new objj_method(sel_getUid("setFileType:"),function(b,a,e){with(b)_fileType=e}),new objj_method(sel_getUid("fileType"),function(b){with(b)return _fileType}),new objj_method(sel_getUid("hasUndoManager"),function(b){with(b)return _hasUndoManager}),new objj_method(sel_getUid("setHasUndoManager:"),function(b,a,e){with(b){if(_hasUndoManager==e)return;(_hasUndoManager=
e)||objj_msgSend(b,"setUndoManager:",nil)}}),new objj_method(sel_getUid("_undoManagerWillCloseGroup:"),function(b,a,e){with(b){a=objj_msgSend(e,"object");if(objj_msgSend(a,"isUndoing")||objj_msgSend(a,"isRedoing"))return;objj_msgSend(b,"updateChangeCount:",CPChangeDone)}}),new objj_method(sel_getUid("_undoManagerDidUndoChange:"),function(b){with(b)objj_msgSend(b,"updateChangeCount:",CPChangeUndone)}),new objj_method(sel_getUid("_undoManagerDidRedoChange:"),function(b){with(b)objj_msgSend(b,"updateChangeCount:",
CPChangeDone)}),new objj_method(sel_getUid("setUndoManager:"),function(b,a,e){with(b)if(a=objj_msgSend(CPNotificationCenter,"defaultCenter"),_undoManager&&(objj_msgSend(a,"removeObserver:name:object:",b,CPUndoManagerDidUndoChangeNotification,_undoManager),objj_msgSend(a,"removeObserver:name:object:",b,CPUndoManagerDidRedoChangeNotification,_undoManager),objj_msgSend(a,"removeObserver:name:object:",b,CPUndoManagerWillCloseUndoGroupNotification,_undoManager)),_undoManager=e)objj_msgSend(a,"addObserver:selector:name:object:",
b,sel_getUid("_undoManagerDidUndoChange:"),CPUndoManagerDidUndoChangeNotification,_undoManager),objj_msgSend(a,"addObserver:selector:name:object:",b,sel_getUid("_undoManagerDidRedoChange:"),CPUndoManagerDidRedoChangeNotification,_undoManager),objj_msgSend(a,"addObserver:selector:name:object:",b,sel_getUid("_undoManagerWillCloseGroup:"),CPUndoManagerWillCloseUndoGroupNotification,_undoManager)}),new objj_method(sel_getUid("undoManager"),function(b){with(b)return _hasUndoManager&&!_undoManager&&objj_msgSend(b,
"setUndoManager:",objj_msgSend(objj_msgSend(CPUndoManager,"alloc"),"init")),_undoManager}),new objj_method(sel_getUid("windowWillReturnUndoManager:"),function(b){with(b)return objj_msgSend(b,"undoManager")}),new objj_method(sel_getUid("saveDocument:"),function(b){with(b)objj_msgSend(b,"saveDocumentWithDelegate:didSaveSelector:contextInfo:",nil,nil,nil)}),new objj_method(sel_getUid("saveDocumentWithDelegate:didSaveSelector:contextInfo:"),function(b,a,e,c,d){with(b)_fileURL?(objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPDocumentWillSaveNotification,b),objj_msgSend(b,"saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:",_fileURL,objj_msgSend(b,"fileType"),CPSaveOperation,e,c,d)):objj_msgSend(b,"_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:",e,c,d)}),new objj_method(sel_getUid("saveDocumentAs:"),function(b){with(b)objj_msgSend(b,"_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:",nil,nil,nil)}),new objj_method(sel_getUid("_saveDocumentAsWithDelegate:didSaveSelector:contextInfo:"),
function(b,a,e,c,d){with(b){a=objj_msgSend(CPSavePanel,"savePanel");if(!objj_msgSend(a,"runModal"))return;a=objj_msgSend(a,"URL");objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPDocumentWillSaveNotification,b);objj_msgSend(b,"saveToURL:ofType:forSaveOperation:delegate:didSaveSelector:contextInfo:",a,objj_msgSend(b,"fileType"),CPSaveAsOperation,e,c,d)}}),new objj_method(sel_getUid("_sendDocumentSavedNotification:"),function(b,a,e){with(b)e?objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"postNotificationName:object:",CPDocumentDidSaveNotification,b):objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"postNotificationName:object:",CPDocumentDidFailToSaveNotification,b)})]);d=objj_getClass("CPDocument");if(!d)throw new SyntaxError('*** Could not find definition for class "CPDocument"');class_addMethods(d,[new objj_method(sel_getUid("close"),function(b){with(b)objj_msgSend(_windowControllers,"makeObjectsPerformSelector:withObject:",sel_getUid("removeDocumentAndCloseIfNecessary:"),
b),objj_msgSend(objj_msgSend(CPDocumentController,"sharedDocumentController"),"removeDocument:",b)}),new objj_method(sel_getUid("shouldCloseWindowController:delegate:shouldCloseSelector:contextInfo:"),function(b,a,e,c,d,k){with(b)objj_msgSend(e,"shouldCloseDocument")||objj_msgSend(_windowControllers,"count")<2&&objj_msgSend(_windowControllers,"indexOfObject:",e)!==CPNotFound?objj_msgSend(b,"canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:",b,sel_getUid("_document:shouldClose:context:"),
{delegate:c,selector:d,context:k}):objj_msgSend(c,"respondsToSelector:",d)&&objj_msgSend(c,d,b,YES,k)}),new objj_method(sel_getUid("_document:shouldClose:context:"),function(b,a,e,c,d){with(b)e===b&&c&&objj_msgSend(b,"close"),objj_msgSend(d.delegate,d.selector,e,c,d.context)}),new objj_method(sel_getUid("canCloseDocumentWithDelegate:shouldCloseSelector:contextInfo:"),function(b,a,e,c,d){with(b){if(!objj_msgSend(b,"isDocumentEdited"))return objj_msgSend(e,"respondsToSelector:",c)&&objj_msgSend(e,c,
b,YES,d);_canCloseAlert=objj_msgSend(objj_msgSend(CPAlert,"alloc"),"init");objj_msgSend(_canCloseAlert,"setDelegate:",b);objj_msgSend(_canCloseAlert,"setAlertStyle:",CPWarningAlertStyle);objj_msgSend(_canCloseAlert,"setTitle:","Unsaved Document");objj_msgSend(_canCloseAlert,"setMessageText:","Do you want to save the changes you've made to the document \""+(objj_msgSend(b,"displayName")||objj_msgSend(b,"fileName"))+'"?');objj_msgSend(_canCloseAlert,"addButtonWithTitle:","Save");objj_msgSend(_canCloseAlert,
"addButtonWithTitle:","Cancel");objj_msgSend(_canCloseAlert,"addButtonWithTitle:","Don't Save");_canCloseAlert._context={delegate:e,selector:c,context:d};objj_msgSend(_canCloseAlert,"runModal")}}),new objj_method(sel_getUid("alertDidEnd:returnCode:"),function(b,a,e,c){with(b){if(e!==_canCloseAlert)return;a=e._context.delegate;var d=e._context.selector;e=e._context.context;c===0?objj_msgSend(b,"saveDocumentWithDelegate:didSaveSelector:contextInfo:",a,d,e):objj_msgSend(a,d,b,c===2,e);_canCloseAlert=
nil}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPMenuItem.j",baseURL),function(i,g){g("Foundation/CPCoder.j",NO);g("Foundation/CPObject.j",NO);g("Foundation/CPString.j",NO);g("CPImage.j",YES);g("CPMenu.j",YES);g("CPView.j",YES);g("_CPMenuItemView.j",YES);var f=objj_allocateClassPair(CPObject,"CPMenuItem"),d=f.isa;class_addIvars(f,[new objj_ivar("_isSeparator"),new objj_ivar("_title"),new objj_ivar("_font"),new objj_ivar("_target"),new objj_ivar("_action"),new objj_ivar("_isEnabled"),new objj_ivar("_isHidden"),
new objj_ivar("_tag"),new objj_ivar("_state"),new objj_ivar("_image"),new objj_ivar("_alternateImage"),new objj_ivar("_onStateImage"),new objj_ivar("_offStateImage"),new objj_ivar("_mixedStateImage"),new objj_ivar("_submenu"),new objj_ivar("_menu"),new objj_ivar("_keyEquivalent"),new objj_ivar("_keyEquivalentModifierMask"),new objj_ivar("_mnemonicLocation"),new objj_ivar("_isAlternate"),new objj_ivar("_indentationLevel"),new objj_ivar("_toolTip"),new objj_ivar("_representedObject"),new objj_ivar("_view"),
new objj_ivar("_changeCount"),new objj_ivar("_menuItemView")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("init"),function(b){with(b)return objj_msgSend(b,"initWithTitle:action:keyEquivalent:","",nil,nil)}),new objj_method(sel_getUid("initWithTitle:action:keyEquivalent:"),function(b,a,e,c,d){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPMenuItem").super_class},"init"))_changeCount=0,_isSeparator=NO,_title=e,_action=c,_isEnabled=YES,_isHidden=
NO,_tag=0,_state=CPOffState,_keyEquivalent=d||"",_keyEquivalentModifierMask=CPPlatformActionKeyMask,_indentationLevel=0,_mnemonicLocation=CPNotFound;return b}}),new objj_method(sel_getUid("setEnabled:"),function(b,a,e){with(b){if(objj_msgSend(_menu,"autoenablesItems"))return;_isEnabled=e;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("isEnabled"),function(b){with(b)return _isEnabled}),new objj_method(sel_getUid("setHidden:"),function(b,a,
e){with(b){if(_isHidden==e)return;_isHidden=e;objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("isHidden"),function(b){with(b)return _isHidden}),new objj_method(sel_getUid("isHiddenOrHasHiddenAncestor"),function(b){with(b){if(_isHidden)return YES;b=objj_msgSend(_menu,"supermenu");if(objj_msgSend(objj_msgSend(b,"itemAtIndex:",objj_msgSend(b,"indexOfItemWithSubmenu:",_menu)),"isHiddenOrHasHiddenAncestor"))return YES;return NO}}),new objj_method(sel_getUid("setTarget:"),function(b,
a,e){with(b)_target=e}),new objj_method(sel_getUid("target"),function(b){with(b)return _target}),new objj_method(sel_getUid("setAction:"),function(b,a,e){with(b)_action=e}),new objj_method(sel_getUid("action"),function(b){with(b)return _action}),new objj_method(sel_getUid("setTitle:"),function(b,a,e){with(b){_mnemonicLocation=CPNotFound;if(_title==e)return;_title=e;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("title"),function(b){with(b)return _title}),
new objj_method(sel_getUid("setTextColor:"),function(b){with(b);}),new objj_method(sel_getUid("setFont:"),function(b,a,e){with(b){if(_font==e)return;_font=e;objj_msgSend(_menu,"itemChanged:",b);objj_msgSend(_menuItemView,"setDirty")}}),new objj_method(sel_getUid("font"),function(b){with(b)return _font}),new objj_method(sel_getUid("setTag:"),function(b,a,e){with(b)_tag=e}),new objj_method(sel_getUid("tag"),function(b){with(b)return _tag}),new objj_method(sel_getUid("setState:"),function(b,a,e){with(b){if(_state==
e)return;_state=e;objj_msgSend(_menu,"itemChanged:",b);objj_msgSend(_menuItemView,"setDirty")}}),new objj_method(sel_getUid("state"),function(b){with(b)return _state}),new objj_method(sel_getUid("setImage:"),function(b,a,e){with(b){if(_image==e)return;_image=e;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("image"),function(b){with(b)return _image}),new objj_method(sel_getUid("setAlternateImage:"),function(b,a,e){with(b)_alternateImage=e}),
new objj_method(sel_getUid("alternateImage"),function(b){with(b)return _alternateImage}),new objj_method(sel_getUid("setOnStateImage:"),function(b,a,e){with(b){if(_onStateImage==e)return;_onStateImage=e;objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("onStateImage"),function(b){with(b)return _onStateImage}),new objj_method(sel_getUid("setOffStateImage:"),function(b,a,e){with(b){if(_offStateImage==e)return;_offStateImage=e;objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("offStateImage"),
function(b){with(b)return _offStateImage}),new objj_method(sel_getUid("setMixedStateImage:"),function(b,a,e){with(b){if(_mixedStateImage==e)return;_mixedStateImage=e;objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("mixedStateImage"),function(b){with(b)return _mixedStateImage}),new objj_method(sel_getUid("setSubmenu:"),function(b,a,e){with(b){if(_submenu===e)return;objj_msgSend(_submenu,"supermenu")&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Can't add submenu \""+
objj_msgSend(e,"title")+'" to item "'+objj_msgSend(b,"title")+'", because it is already submenu of "'+objj_msgSend(objj_msgSend(e,"supermenu"),"title")+'"');(_submenu=e)?(objj_msgSend(_submenu,"setSupermenu:",_menu),objj_msgSend(b,"setTarget:",_menu),objj_msgSend(b,"setAction:",sel_getUid("submenuAction:"))):(objj_msgSend(b,"setTarget:",nil),objj_msgSend(b,"setAction:",NULL));objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("submenu"),function(b){with(b)return _submenu}),
new objj_method(sel_getUid("hasSubmenu"),function(b){with(b)return _submenu?YES:NO}),new objj_method(sel_getUid("isSeparatorItem"),function(b){with(b)return _isSeparator}),new objj_method(sel_getUid("setMenu:"),function(b,a,e){with(b)_menu=e}),new objj_method(sel_getUid("menu"),function(b){with(b)return _menu}),new objj_method(sel_getUid("setKeyEquivalent:"),function(b,a,e){with(b)_keyEquivalent=e||""}),new objj_method(sel_getUid("keyEquivalent"),function(b){with(b)return _keyEquivalent}),new objj_method(sel_getUid("setKeyEquivalentModifierMask:"),
function(b,a,e){with(b)_keyEquivalentModifierMask=e}),new objj_method(sel_getUid("keyEquivalentModifierMask"),function(b){with(b)return _keyEquivalentModifierMask}),new objj_method(sel_getUid("keyEquivalentStringRepresentation"),function(b){with(b){if(!objj_msgSend(_keyEquivalent,"length"))return"";b=_keyEquivalent.toUpperCase();var a=_keyEquivalentModifierMask&CPShiftKeyMask||b===_keyEquivalent&&_keyEquivalent.toLowerCase()!==_keyEquivalent.toUpperCase();if(CPBrowserIsOperatingSystem(CPMacOperatingSystem))_keyEquivalentModifierMask&
CPCommandKeyMask&&(b="⌘"+b),a&&(b="⇧"+b),_keyEquivalentModifierMask&CPAlternateKeyMask&&(b="⌥"+b),_keyEquivalentModifierMask&CPControlKeyMask&&(b="^"+b);else if(a&&(b="Shift-"+b),_keyEquivalentModifierMask&CPAlternateKeyMask&&(b="Alt-"+b),_keyEquivalentModifierMask&CPControlKeyMask||_keyEquivalentModifierMask&CPCommandKeyMask)b="Ctrl-"+b;return b}}),new objj_method(sel_getUid("setMnemonicLocation:"),function(b,a,e){with(b)_mnemonicLocation=e}),new objj_method(sel_getUid("mnemonicLocation"),function(b){with(b)return _mnemonicLocation}),
new objj_method(sel_getUid("setTitleWithMnemonicLocation:"),function(b,a,e){with(b)a=objj_msgSend(e,"rangeOfString:","&").location,a==CPNotFound?objj_msgSend(b,"setTitle:",e):(objj_msgSend(b,"setTitle:",objj_msgSend(e,"substringToIndex:",a)+objj_msgSend(e,"substringFromIndex:",a+1)),objj_msgSend(b,"setMnemonicLocation:",a))}),new objj_method(sel_getUid("mnemonic"),function(b){with(b)return _mnemonicLocation==CPNotFound?"":objj_msgSend(_title,"characterAtIndex:",_mnemonicLocation)}),new objj_method(sel_getUid("setAlternate:"),
function(b,a,e){with(b)_isAlternate=e}),new objj_method(sel_getUid("isAlternate"),function(b){with(b)return _isAlternate}),new objj_method(sel_getUid("setIndentationLevel:"),function(b,a,e){with(b)e<0&&objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"setIndentationLevel: argument must be greater than or equal to 0."),_indentationLevel=MIN(15,e)}),new objj_method(sel_getUid("indentationLevel"),function(b){with(b)return _indentationLevel}),new objj_method(sel_getUid("setToolTip:"),
function(b,a,e){with(b)_toolTip=e}),new objj_method(sel_getUid("toolTip"),function(b){with(b)return _toolTip}),new objj_method(sel_getUid("setRepresentedObject:"),function(b,a,e){with(b)_representedObject=e}),new objj_method(sel_getUid("representedObject"),function(b){with(b)return _representedObject}),new objj_method(sel_getUid("setView:"),function(b,a,e){with(b){if(_view===e)return;_view=e;objj_msgSend(_menuItemView,"setDirty");objj_msgSend(_menu,"itemChanged:",b)}}),new objj_method(sel_getUid("view"),
function(b){with(b)return _view}),new objj_method(sel_getUid("isHighlighted"),function(b){with(b)return objj_msgSend(objj_msgSend(b,"menu"),"highlightedItem")==b}),new objj_method(sel_getUid("copy"),function(b){with(b)return b=objj_msgSend(objj_msgSend(CPMenuItem,"alloc"),"init"),b._isSeparator=_isSeparator,objj_msgSend(b,"setTitle:",_title),objj_msgSend(b,"setFont:",_font),objj_msgSend(b,"setTarget:",_target),objj_msgSend(b,"setAction:",_action),objj_msgSend(b,"setEnabled:",_isEnabled),objj_msgSend(b,
"setHidden:",_isHidden),objj_msgSend(b,"setTag:",_tag),objj_msgSend(b,"setState:",_state),objj_msgSend(b,"setImage:",_image),objj_msgSend(b,"setAlternateImage:",_alternateImage),objj_msgSend(b,"setOnStateImage:",_onStateImage),objj_msgSend(b,"setOffStateImage:",_offStateImage),objj_msgSend(b,"setMixedStateImage:",_mixedStateImage),objj_msgSend(b,"setKeyEquivalent:",_keyEquivalent),objj_msgSend(b,"setKeyEquivalentModifierMask:",_keyEquivalentModifierMask),objj_msgSend(b,"setMnemonicLocation:",_mnemonicLocation),
objj_msgSend(b,"setAlternate:",_isAlternate),objj_msgSend(b,"setIndentationLevel:",_indentationLevel),objj_msgSend(b,"setToolTip:",_toolTip),objj_msgSend(b,"setRepresentedObject:",_representedObject),b}),new objj_method(sel_getUid("mutableCopy"),function(b){with(b)return objj_msgSend(b,"copy")}),new objj_method(sel_getUid("_menuItemView"),function(b){with(b)return _menuItemView||(_menuItemView=objj_msgSend(objj_msgSend(_CPMenuItemView,"alloc"),"initWithFrame:forMenuItem:",CGRectMakeZero(),b)),_menuItemView}),
new objj_method(sel_getUid("_isSelectable"),function(b){with(b)return!objj_msgSend(b,"submenu")||objj_msgSend(b,"action")!==sel_getUid("submenuAction:")||objj_msgSend(b,"target")!==objj_msgSend(b,"menu")}),new objj_method(sel_getUid("_isMenuBarButton"),function(b){with(b)return!objj_msgSend(b,"submenu")&&objj_msgSend(b,"menu")===objj_msgSend(CPApp,"mainMenu")})]);class_addMethods(d,[new objj_method(sel_getUid("separatorItem"),function(b){with(b)return b=objj_msgSend(objj_msgSend(b,"alloc"),"initWithTitle:action:keyEquivalent:",
"",nil,nil),b._isSeparator=YES,b})]);f=objj_getClass("CPMenuItem");if(!f)throw new SyntaxError('*** Could not find definition for class "CPMenuItem"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(b,a,e){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPMenuItem").super_class},"init"))_changeCount=0,_isSeparator=objj_msgSend(e,"containsValueForKey:","CPMenuItemIsSeparatorKey")&&objj_msgSend(e,"decodeBoolForKey:","CPMenuItemIsSeparatorKey"),
_title=objj_msgSend(e,"decodeObjectForKey:","CPMenuItemTitleKey"),_target=objj_msgSend(e,"decodeObjectForKey:","CPMenuItemTargetKey"),_action=objj_msgSend(e,"decodeObjectForKey:","CPMenuItemActionKey"),_isEnabled=objj_msgSend(e,"containsValueForKey:","CPMenuItemIsEnabledKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemIsEnabledKey"):YES,_isHidden=objj_msgSend(e,"containsValueForKey:","CPMenuItemIsHiddenKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemIsHiddenKey"):NO,_tag=objj_msgSend(e,
"containsValueForKey:","CPMenuItemTagKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemTagKey"):0,_state=objj_msgSend(e,"containsValueForKey:","CPMenuItemStateKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemStateKey"):CPOffState,_image=objj_msgSend(e,"containsValueForKey:","CPMenuItemImageKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemImageKey"):nil,_alternateImage=objj_msgSend(e,"containsValueForKey:","CPMenuItemAlternateImageKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemAlternateImageKey"):
nil,_menu=objj_msgSend(e,"containsValueForKey:","CPMenuItemMenuKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemMenuKey"):nil,objj_msgSend(b,"setSubmenu:",objj_msgSend(e,"containsValueForKey:","CPMenuItemSubmenuKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemSubmenuKey"):nil),_keyEquivalent=objj_msgSend(e,"decodeObjectForKey:","CPMenuItemKeyEquivalentKey")||"",_keyEquivalentModifierMask=objj_msgSend(e,"decodeObjectForKey:","CPMenuItemKeyEquivalentModifierMaskKey")||0,objj_msgSend(b,"setIndentationLevel:",
objj_msgSend(e,"decodeIntForKey:","CPMenuItemIndentationLevelKey")||0),_representedObject=objj_msgSend(e,"containsValueForKey:","CPMenuItemRepresentedObjectKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemRepresentedObjectKey"):nil,_view=objj_msgSend(e,"containsValueForKey:","CPMenuItemViewKey")?objj_msgSend(e,"decodeObjectForKey:","CPMenuItemViewKey"):nil;return b}}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,a,e){with(b)_isSeparator&&objj_msgSend(e,"encodeBool:forKey:",_isSeparator,
"CPMenuItemIsSeparatorKey"),objj_msgSend(e,"encodeObject:forKey:",_title,"CPMenuItemTitleKey"),objj_msgSend(e,"encodeObject:forKey:",_target,"CPMenuItemTargetKey"),objj_msgSend(e,"encodeObject:forKey:",_action,"CPMenuItemActionKey"),_isEnabled!==YES&&objj_msgSend(e,"encodeObject:forKey:",_isEnabled,"CPMenuItemIsEnabledKey"),_isHidden!==NO&&objj_msgSend(e,"encodeObject:forKey:",_isHidden,"CPMenuItemIsHiddenKey"),_tag!==0&&objj_msgSend(e,"encodeObject:forKey:",_tag,"CPMenuItemTagKey"),_state!==CPOffState&&
objj_msgSend(e,"encodeObject:forKey:",_state,"CPMenuItemStateKey"),_image!==nil&&objj_msgSend(e,"encodeObject:forKey:",_image,"CPMenuItemImageKey"),_alternateImage!==nil&&objj_msgSend(e,"encodeObject:forKey:",_alternateImage,"CPMenuItemAlternateImageKey"),_submenu!==nil&&objj_msgSend(e,"encodeObject:forKey:",_submenu,"CPMenuItemSubmenuKey"),_menu!==nil&&objj_msgSend(e,"encodeObject:forKey:",_menu,"CPMenuItemMenuKey"),_keyEquivalent&&_keyEquivalent.length&&objj_msgSend(e,"encodeObject:forKey:",_keyEquivalent,
"CPMenuItemKeyEquivalentKey"),_keyEquivalentModifierMask&&objj_msgSend(e,"encodeObject:forKey:",_keyEquivalentModifierMask,"CPMenuItemKeyEquivalentModifierMaskKey"),_indentationLevel>0&&objj_msgSend(e,"encodeInt:forKey:",_indentationLevel,"CPMenuItemIndentationLevelKey"),_representedObject!==nil&&objj_msgSend(e,"encodeObject:forKey:",_representedObject,"CPMenuItemRepresentedObjectKey"),_view!==nil&&objj_msgSend(e,"encodeObject:forKey:",_view,"CPMenuItemViewKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuWindow.j",baseURL),function(i,g){g("CPWindow.j",YES);var f=[],d=[];_CPMenuWindowMenuBarBackgroundStyle=0;_CPMenuWindowPopUpBackgroundStyle=1;_CPMenuWindowAttachedMenuBackgroundStyle=2;var b=objj_allocateClassPair(CPWindow,"_CPMenuWindow"),a=b.isa;class_addIvars(b,[new objj_ivar("_menuView"),new objj_ivar("_menuClipView"),new objj_ivar("_moreAboveView"),new objj_ivar("_moreBelowView"),new objj_ivar("_unconstrainedFrame"),
new objj_ivar("_constraintRect")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("initWithContentRect:styleMask:"),function(a,c,b){with(a){_constraintRect={origin:{x:0,y:0},size:{width:0,height:0}};_unconstrainedFrame={origin:{x:0,y:0},size:{width:0,height:0}};if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"initWithContentRect:styleMask:",b,CPBorderlessWindowMask))objj_msgSend(a,"setLevel:",CPPopUpMenuWindowLevel),objj_msgSend(a,
"setHasShadow:",YES),objj_msgSend(a,"setShadowStyle:",CPMenuWindowShadowStyle),objj_msgSend(a,"setAcceptsMouseMovedEvents:",YES),c=objj_msgSend(a,"contentView"),_menuView=objj_msgSend(objj_msgSend(_CPMenuView,"alloc"),"initWithFrame:",CGRectMakeZero()),_menuClipView=objj_msgSend(objj_msgSend(CPClipView,"alloc"),"initWithFrame:",CGRectMake(1,5,0,0)),objj_msgSend(_menuClipView,"setDocumentView:",_menuView),objj_msgSend(c,"addSubview:",_menuClipView),_moreAboveView=objj_msgSend(objj_msgSend(CPImageView,
"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_moreAboveView,"setImage:",_CPMenuWindowMoreAboveImage),objj_msgSend(_moreAboveView,"setFrameSize:",objj_msgSend(_CPMenuWindowMoreAboveImage,"size")),objj_msgSend(c,"addSubview:",_moreAboveView),_moreBelowView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_moreBelowView,"setImage:",_CPMenuWindowMoreBelowImage),objj_msgSend(_moreBelowView,"setFrameSize:",objj_msgSend(_CPMenuWindowMoreBelowImage,
"size")),objj_msgSend(c,"addSubview:",_moreBelowView),objj_msgSend(a,"setShadowStyle:",CPWindowShadowStyleMenu);return a}}),new objj_method(sel_getUid("setFont:"),function(a,c,b){with(a)objj_msgSend(_menuView,"setFont:",b)}),new objj_method(sel_getUid("font"),function(a){with(a)return objj_msgSend(_menuView,"font")}),new objj_method(sel_getUid("setBackgroundStyle:"),function(a,c,b){with(a)objj_msgSend(a,"setBackgroundColor:",objj_msgSend(objj_msgSend(a,"class"),"backgroundColorForBackgroundStyle:",
b))}),new objj_method(sel_getUid("setMenu:"),function(a,c,b){with(a)objj_msgSend(b,"_setMenuWindow:",a),objj_msgSend(_menuView,"setMenu:",b),c=objj_msgSend(_menuView,"frame").size,objj_msgSend(a,"setFrameSize:",CGSizeMake(1+c.width+1,5+c.height+5)),objj_msgSend(_menuView,"scrollPoint:",CGPointMake(0,0)),objj_msgSend(_menuClipView,"setFrame:",CGRectMake(1,5,c.width,c.height))}),new objj_method(sel_getUid("setMinWidth:"),function(a,c,b){with(a)c=objj_msgSend(a,"unconstrainedFrame").size,objj_msgSend(a,
"setFrameSize:",CGSizeMake(MAX(c.width,b),c.height))}),new objj_method(sel_getUid("menu"),function(a){with(a)return objj_msgSend(_menuView,"menu")}),new objj_method(sel_getUid("orderFront:"),function(a,c,b){with(a)objj_msgSend(a,"setFrame:",_unconstrainedFrame),objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"orderFront:",b)}),new objj_method(sel_getUid("setConstraintRect:"),function(a,c,b){with(a)_constraintRect=b,objj_msgSend(a,"setFrame:",_unconstrainedFrame)}),
new objj_method(sel_getUid("unconstrainedFrame"),function(a){with(a)return{origin:{x:_unconstrainedFrame.origin.x,y:_unconstrainedFrame.origin.y},size:{width:_unconstrainedFrame.size.width,height:_unconstrainedFrame.size.height}}}),new objj_method(sel_getUid("setFrameOrigin:"),function(a,c,b){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"setFrame:",{origin:{x:b.x,y:b.y},size:{width:_unconstrainedFrame.size.width,height:_unconstrainedFrame.size.height}})}),
new objj_method(sel_getUid("setFrameSize:"),function(a,c,b){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"setFrame:",{origin:{x:_unconstrainedFrame.origin.x,y:_unconstrainedFrame.origin.y},size:{width:b.width,height:b.height}})}),new objj_method(sel_getUid("setFrame:display:animate:"),function(a,c,b,d,f){with(a){_unconstrainedFrame={origin:{x:b.origin.x,y:b.origin.y},size:{width:b.size.width,height:b.size.height}};c=CGRectIntersection(_unconstrainedFrame,
_constraintRect);c.origin.x=CGRectGetMinX(_unconstrainedFrame);c.size.width=CGRectGetWidth(_unconstrainedFrame);if(CGRectGetWidth(c)>CGRectGetWidth(_constraintRect))c.size.width=CGRectGetWidth(_constraintRect);CGRectGetMaxX(c)>CGRectGetMaxX(_constraintRect)&&(c.origin.x-=CGRectGetMaxX(c)-CGRectGetMaxX(_constraintRect));if(CGRectGetMinX(c)<CGRectGetMinX(_constraintRect))c.origin.x=CGRectGetMinX(_constraintRect);objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuWindow").super_class},"setFrame:display:animate:",
c,d,f);b=CGPointMake(CGRectGetMinX(b)+1,CGRectGetMinY(b)+5);var g=b.y<CGRectGetMinY(c)+5,m=b.y+CGRectGetHeight(objj_msgSend(_menuView,"frame"))>CGRectGetMaxY(c)-5;f=d=5;var n=objj_msgSend(a,"contentView");n=objj_msgSend(n,"bounds");if(g){d+=16;var j=objj_msgSend(_moreAboveView,"frame");objj_msgSend(_moreAboveView,"setFrameOrigin:",CGPointMake((CGRectGetWidth(n)-CGRectGetWidth(j))/2,(21-CGRectGetHeight(j))/2))}objj_msgSend(_moreAboveView,"setHidden:",!g);m&&(f+=16,objj_msgSend(_moreBelowView,"setFrameOrigin:",
CGPointMake((CGRectGetWidth(n)-CGRectGetWidth(objj_msgSend(_moreBelowView,"frame")))/2,CGRectGetHeight(n)-16-5)));objj_msgSend(_moreBelowView,"setHidden:",!m);g=CGRectMakeZero();g.origin.x=1;g.origin.y=d;g.size.width=CGRectGetWidth(c)-1-1;g.size.height=CGRectGetHeight(c)-d-f;objj_msgSend(_menuClipView,"setFrame:",g);objj_msgSend(_menuView,"setFrameSize:",CGSizeMake(CGRectGetWidth(g),CGRectGetHeight(objj_msgSend(_menuView,"frame"))));objj_msgSend(_menuView,"scrollPoint:",CGPointMake(0,objj_msgSend(a,
"convertBaseToGlobal:",g.origin).y-b.y))}}),new objj_method(sel_getUid("hasMinimumNumberOfVisibleItems"),function(a){with(a){a=objj_msgSend(_menuView,"visibleRect");if(CGRectIsEmpty(a))return NO;for(var c=objj_msgSend(_menuView,"numberOfUnhiddenItems"),b=MIN(c,3),d=0,f=objj_msgSend(_menuView,"itemIndexAtPoint:",objj_msgSend(_menuView,"convertPoint:fromView:",objj_msgSend(_menuClipView,"frame").origin,nil));f<c&&d<b;++f){var g=objj_msgSend(_menuView,"rectForUnhiddenItemAtIndex:",f),m=CGRectIntersection(a,
g);if(CGRectIsEmpty(m))break;CGRectEqualToRect(m,g)&&++d}return d>=b}}),new objj_method(sel_getUid("canScrollUp"),function(a){with(a)return!objj_msgSend(_moreAboveView,"isHidden")}),new objj_method(sel_getUid("canScrollDown"),function(a){with(a)return!objj_msgSend(_moreBelowView,"isHidden")}),new objj_method(sel_getUid("canScroll"),function(a){with(a)return objj_msgSend(a,"canScrollUp")||objj_msgSend(a,"canScrollDown")}),new objj_method(sel_getUid("scrollByDelta:"),function(a,c,b){with(a){if(b===
0)return;if(b>0&&!objj_msgSend(a,"canScrollDown"))return;if(b<0&&!objj_msgSend(a,"canScrollUp"))return;_unconstrainedFrame.origin.y-=b;objj_msgSend(a,"setFrame:",_unconstrainedFrame)}}),new objj_method(sel_getUid("scrollUp"),function(a){with(a)objj_msgSend(a,"scrollByDelta:",-10)}),new objj_method(sel_getUid("scrollDown"),function(a){with(a)objj_msgSend(a,"scrollByDelta:",10)})]);class_addMethods(a,[new objj_method(sel_getUid("menuWindowWithMenu:font:"),function(a,c,b,d){with(a)return a=nil,f.length?
(a=f.pop(),objj_msgSend(a,"setFrameOrigin:",CGPointMakeZero())):a=objj_msgSend(objj_msgSend(_CPMenuWindow,"alloc"),"init"),objj_msgSend(a,"setFont:",d),objj_msgSend(a,"setMenu:",b),objj_msgSend(a,"setMinWidth:",objj_msgSend(b,"minimumWidth")),a}),new objj_method(sel_getUid("poolMenuWindow:"),function(a,c,b){with(a){if(!b||f.length>=5)return;f.push(b)}}),new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(_CPMenuWindow,"class"))return;a=objj_msgSend(CPBundle,"bundleForClass:",
a);_CPMenuWindowMoreAboveImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowMoreAbove.png"),CGSizeMake(38,18));_CPMenuWindowMoreBelowImage=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowMoreBelow.png"),CGSizeMake(38,18))}}),new objj_method(sel_getUid("_standardLeftMargin"),function(a){with(a)return 1}),new objj_method(sel_getUid("backgroundColorForBackgroundStyle:"),
function(a,c,b){with(a)return c=d[b],c||(a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(a,"class")),b==_CPMenuWindowPopUpBackgroundStyle?c=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded0.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow1.png"),CGSizeMake(1,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded2.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow3.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,
"pathForResource:","_CPMenuWindow/_CPMenuWindow4.png"),CGSizeMake(1,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow5.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded6.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:",
"_CPMenuWindow/_CPMenuWindow7.png"),CGSizeMake(1,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded8.png"),CGSizeMake(4,4))])):b==_CPMenuWindowMenuBarBackgroundStyle&&(c=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPNinePartImage,"alloc"),"initWithImageSlices:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow3.png"),
CGSizeMake(4,0)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow4.png"),CGSizeMake(1,0)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow5.png"),CGSizeMake(4,0)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow3.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,
"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow4.png"),CGSizeMake(1,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow5.png"),CGSizeMake(4,1)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded6.png"),CGSizeMake(4,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindow7.png"),CGSizeMake(1,4)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","_CPMenuWindow/_CPMenuWindowRounded8.png"),CGSizeMake(4,4))]))),d[b]=c),c})]);b=objj_getClass("_CPMenuWindow");if(!b)throw new SyntaxError('*** Could not find definition for class "_CPMenuWindow"');a=b.isa;class_addMethods(b,[new objj_method(sel_getUid("globalFrame"),function(a){with(a)return objj_msgSend(a,
"frame")}),new objj_method(sel_getUid("isMenuBar"),function(a){with(a)return NO}),new objj_method(sel_getUid("scrollingStateForPoint:"),function(a,c,b){with(a){c=objj_msgSend(a,"frame");if(!CPRectContainsPoint(c,b)||!objj_msgSend(a,"canScroll"))return _CPMenuManagerScrollingStateNone;if(b.y<CGRectGetMinY(c)+5+16&&!objj_msgSend(_moreAboveView,"isHidden"))return _CPMenuManagerScrollingStateUp;if(b.y>CGRectGetMaxY(c)-5-16&&!objj_msgSend(_moreBelowView,"isHidden"))return _CPMenuManagerScrollingStateDown;
return _CPMenuManagerScrollingStateNone}}),new objj_method(sel_getUid("deltaYForItemAtIndex:"),function(a,c,b){with(a)return 5+CGRectGetMinY(objj_msgSend(_menuView,"rectForItemAtIndex:",b))}),new objj_method(sel_getUid("rectForItemAtIndex:"),function(a,c,b){with(a)return objj_msgSend(_menuView,"convertRect:toView:",objj_msgSend(_menuView,"rectForItemAtIndex:",b),nil)}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(a,c,b){with(a){if(!CGRectContainsPoint(objj_msgSend(_menuClipView,"bounds"),
objj_msgSend(_menuClipView,"convertPoint:fromView:",b,nil)))return NO;return objj_msgSend(_menuView,"itemIndexAtPoint:",objj_msgSend(_menuView,"convertPoint:fromView:",b,nil))}})]);b=objj_allocateClassPair(CPView,"_CPMenuView");a=b.isa;class_addIvars(b,[new objj_ivar("_menuItemViews"),new objj_ivar("_visibleMenuItemInfos"),new objj_ivar("_font")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("font"),function(a){with(a)return _font}),new objj_method(sel_getUid("setFont:"),
function(a,c,b){with(a)_font=b}),new objj_method(sel_getUid("numberOfUnhiddenItems"),function(a){with(a)return _visibleMenuItemInfos.length}),new objj_method(sel_getUid("rectForUnhiddenItemAtIndex:"),function(a,c,b){with(a)return objj_msgSend(a,"rectForItemAtIndex:",_visibleMenuItemInfos[b].index)}),new objj_method(sel_getUid("rectForItemAtIndex:"),function(a,c,b){with(a)return objj_msgSend(_menuItemViews[b===CPNotFound?0:b],"frame")}),new objj_method(sel_getUid("itemIndexAtPoint:"),function(a,c,
b){with(a){c=b.x;a=objj_msgSend(a,"bounds");if(c<CGRectGetMinX(a)||c>CGRectGetMaxX(a))return CPNotFound;b=b.y;a=0;for(c=_visibleMenuItemInfos.length-1;a<=c;){var d=FLOOR(a+(c-a)/2),f=_visibleMenuItemInfos[d],g=objj_msgSend(f.view,"frame");if(b<CGRectGetMinY(g))c=d-1;else if(b>CGRectGetMaxY(g))a=d+1;else return f.index}return CPNotFound}}),new objj_method(sel_getUid("tile"),function(a){with(a){objj_msgSend(_menuItemViews,"makeObjectsPerformSelector:",sel_getUid("removeFromSuperview"));_menuItemViews=
[];_visibleMenuItemInfos=[];var c=objj_msgSend(a,"menu");if(!c)return;var b=objj_msgSend(c,"itemArray"),d=0,f=objj_msgSend(b,"count"),g=0,m=0;for(c=objj_msgSend(c,"showsStateColumn");d<f;++d){var n=b[d],j=objj_msgSend(n,"_menuItemView");_menuItemViews.push(j);if(!objj_msgSend(n,"isHidden"))_visibleMenuItemInfos.push({view:j,index:d}),objj_msgSend(j,"setFont:",_font),objj_msgSend(j,"setShowsStateColumn:",c),objj_msgSend(j,"synchronizeWithMenuItem"),objj_msgSend(j,"setFrameOrigin:",CGPointMake(0,m)),
objj_msgSend(a,"addSubview:",j),n=objj_msgSend(j,"minSize"),j=n.width,g<j&&(g=j),m+=n.height}for(d=0;d<f;++d)j=_menuItemViews[d],objj_msgSend(j,"setFrameSize:",CGSizeMake(g,CGRectGetHeight(objj_msgSend(j,"frame"))));objj_msgSend(a,"setAutoresizesSubviews:",NO);objj_msgSend(a,"setFrameSize:",CGSizeMake(g,m));objj_msgSend(a,"setAutoresizesSubviews:",YES)}}),new objj_method(sel_getUid("setMenu:"),function(a,c,b){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuView").super_class},
"setMenu:",b),objj_msgSend(a,"tile")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPIndexSet.j",baseURL),function(i,g){g("CPArray.j",YES);g("CPObject.j",YES);g("CPRange.j",YES);var f=objj_allocateClassPair(CPObject,"CPIndexSet"),d=f.isa;class_addIvars(f,[new objj_ivar("_count"),new objj_ivar("_ranges")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithIndexesInRange:",{location:0,length:0})}),new objj_method(sel_getUid("initWithIndex:"),
function(a,c,b){with(a)return objj_msgSend(a,"initWithIndexesInRange:",{location:b,length:1})}),new objj_method(sel_getUid("initWithIndexesInRange:"),function(a,c,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init"))_count=MAX(0,b.length),_ranges=_count>0?[b]:[];return a}}),new objj_method(sel_getUid("initWithIndexSet:"),function(a,c,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init")){_count=
objj_msgSend(b,"count");_ranges=[];c=b._ranges;for(b=c.length;b--;)_ranges[b]={location:c[b].location,length:c[b].length}}return a}}),new objj_method(sel_getUid("isEqual:"),function(a,c,b){with(a){if(a===b)return YES;if(!b||!objj_msgSend(b,"isKindOfClass:",objj_msgSend(CPIndexSet,"class")))return NO;return objj_msgSend(a,"isEqualToIndexSet:",b)}}),new objj_method(sel_getUid("isEqualToIndexSet:"),function(a,c,b){with(a){if(!b)return NO;if(a===b)return YES;a=_ranges.length;c=b._ranges;if(a!==c.length||
_count!==b._count)return NO;for(;a--;)if(!CPEqualRanges(_ranges[a],c[a]))return NO;return YES}}),new objj_method(sel_getUid("isEqual:"),function(a,c,b){with(a)return a===b||objj_msgSend(b,"isKindOfClass:",objj_msgSend(a,"class"))&&objj_msgSend(a,"isEqualToIndexSet:",b)}),new objj_method(sel_getUid("containsIndex:"),function(a,c,d){with(a)return b(_ranges,d)!==CPNotFound}),new objj_method(sel_getUid("containsIndexesInRange:"),function(a,c,d){with(a){if(d.length<=0)return NO;if(_count<d.length)return NO;
a=b(_ranges,d.location);if(a===CPNotFound)return NO;return CPIntersectionRange(_ranges[a],d).length===d.length}}),new objj_method(sel_getUid("containsIndexes:"),function(a,c,b){with(a){c=b._count;if(c<=0)return YES;if(_count<c)return NO;b=b._ranges;for(c=b.length;c--;)if(!objj_msgSend(a,"containsIndexesInRange:",b[c]))return NO;return YES}}),new objj_method(sel_getUid("intersectsIndexesInRange:"),function(b,c,d){with(b){if(_count<=0)return NO;b=a(_ranges,d.location);if(FLOOR(b)===b)return YES;d=a(_ranges,
d.location+d.length-1);if(FLOOR(d)===d)return YES;return b!==d}}),new objj_method(sel_getUid("count"),function(a){with(a)return _count}),new objj_method(sel_getUid("firstIndex"),function(a){with(a){if(_count>0)return _ranges[0].location;return CPNotFound}}),new objj_method(sel_getUid("lastIndex"),function(a){with(a){if(_count>0)return _ranges[_ranges.length-1].location+_ranges[_ranges.length-1].length-1;return CPNotFound}}),new objj_method(sel_getUid("indexGreaterThanIndex:"),function(b,c,d){with(b){++d;
b=a(_ranges,d);if(b===CPNotFound)return CPNotFound;b=CEIL(b);if(b>=_ranges.length)return CPNotFound;b=_ranges[b];if(CPLocationInRange(d,b))return d;return b.location}}),new objj_method(sel_getUid("indexLessThanIndex:"),function(b,c,d){with(b){--d;b=a(_ranges,d);if(b===CPNotFound)return CPNotFound;b=FLOOR(b);if(b<0)return CPNotFound;b=_ranges[b];if(CPLocationInRange(d,b))return d;return b.location+b.length-1}}),new objj_method(sel_getUid("indexGreaterThanOrEqualToIndex:"),function(a,c,b){with(a)return objj_msgSend(a,
"indexGreaterThanIndex:",b-1)}),new objj_method(sel_getUid("indexLessThanOrEqualToIndex:"),function(a,c,b){with(a)return objj_msgSend(a,"indexLessThanIndex:",b+1)}),new objj_method(sel_getUid("getIndexes:maxCount:inIndexRange:"),function(b,c,d,f,g){with(b){if(!_count||f===0||g&&!g.length){if(g)g.length=0;return 0}c=0;if(g){var q=g.location;b=g.location+g.length-1;var m=CEIL(a(_ranges,q)),n=FLOOR(a(_ranges,b))}else q=objj_msgSend(b,"firstIndex"),b=objj_msgSend(b,"lastIndex"),m=0,n=_ranges.length-1;
for(;m<=n;){var j=_ranges[m],l=MAX(q,j.location);for(j=MIN(b+1,j.location+j.length);l<j;++l)if(d[c++]=l,c===f){if(g)g.location=l+1,g.length=b+1-l-1;return f}++m}if(g)g.location=CPNotFound,g.length=0;return c}}),new objj_method(sel_getUid("description"),function(a){with(a){a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"description");if(_count){var c=0,b=_ranges.length;a+="[number of indexes: "+_count+" (in "+b;for(a+=b===1?" range), indexes: (":" ranges), indexes: (";c<
b;++c){var d=_ranges[c];a+=d.location;d.length>1&&(a+="-"+(CPMaxRange(d)-1));c+1<b&&(a+=" ")}a+=")]"}else a+="(no indexes)";return a}})]);class_addMethods(d,[new objj_method(sel_getUid("indexSet"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")}),new objj_method(sel_getUid("indexSetWithIndex:"),function(a,c,b){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithIndex:",b)}),new objj_method(sel_getUid("indexSetWithIndexesInRange:"),function(a,c,b){with(a)return objj_msgSend(objj_msgSend(a,
"alloc"),"initWithIndexesInRange:",b)})]);f=objj_getClass("CPIndexSet");if(!f)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("addIndex:"),function(a,c,b){with(a)objj_msgSend(a,"addIndexesInRange:",{location:b,length:1})}),new objj_method(sel_getUid("addIndexes:"),function(a,c,b){with(a){c=b._ranges;for(b=c.length;b--;)objj_msgSend(a,"addIndexesInRange:",c[b])}}),new objj_method(sel_getUid("addIndexesInRange:"),function(b,
c,d){with(b){if(d.length<=0)return;if(_count<=0){_count=d.length;_ranges=[d];return}c=_ranges.length;var f=a(_ranges,d.location-1);b=CEIL(f);b===f&&b<c&&(d=CPUnionRange(d,_ranges[b]));c=a(_ranges,CPMaxRange(d));f=FLOOR(c);f===c&&f>=0&&(d=CPUnionRange(d,_ranges[f]));c=f-b+1;if(c===_ranges.length)_ranges=[d],_count=d.length;else if(c===1)b<_ranges.length&&(_count-=_ranges[b].length),_count+=d.length,_ranges[b]=d;else{if(c>0){f=b;for(var g=b+c-1;f<=g;++f)_count-=_ranges[f].length;objj_msgSend(_ranges,
"removeObjectsInRange:",{location:b,length:c})}objj_msgSend(_ranges,"insertObject:atIndex:",d,b);_count+=d.length}}}),new objj_method(sel_getUid("removeIndex:"),function(a,c,b){with(a)objj_msgSend(a,"removeIndexesInRange:",{location:b,length:1})}),new objj_method(sel_getUid("removeIndexes:"),function(a,c,b){with(a){c=b._ranges;for(b=c.length;b--;)objj_msgSend(a,"removeIndexesInRange:",c[b])}}),new objj_method(sel_getUid("removeAllIndexes"),function(a){with(a)_ranges=[],_count=0}),new objj_method(sel_getUid("removeIndexesInRange:"),
function(b,c,d){with(b){if(d.length<=0)return;if(_count<=0)return;c=_ranges.length;var f=a(_ranges,d.location);b=CEIL(f);if(f===b&&b<c&&(f=_ranges[b],d.location!==f.location)){var g=CPMaxRange(d),q=CPMaxRange(f);f.length=d.location-f.location;if(g<q){_count-=d.length;objj_msgSend(_ranges,"insertObject:atIndex:",{location:g,length:q-g},b+1);return}else _count-=q-d.location,b+=1}f=a(_ranges,CPMaxRange(d)-1);c=FLOOR(f);if(f===c&&c>=0&&(g=CPMaxRange(d),f=_ranges[c],q=CPMaxRange(f),g!==q))_count-=g-f.location,
c-=1,f.location=g,f.length=q-g;d=c-b+1;if(d>0){c=b;for(f=b+d-1;c<=f;++c)_count-=_ranges[c].length;objj_msgSend(_ranges,"removeObjectsInRange:",{location:b,length:d})}}}),new objj_method(sel_getUid("shiftIndexesStartingAtIndex:by:"),function(a,c,b,d){with(a){if(!_count||d==0)return;c=_ranges.length-1;for(var f=CPMakeRange(CPNotFound,0);c>=0;--c){var g=_ranges[c],m=CPMaxRange(g);if(b>=m)break;if(b>g.location){f=CPMakeRange(b+d,m-b);g.length=b-g.location;if(d>0)objj_msgSend(_ranges,"insertObject:atIndex:",
f,c+1);else if(f.location<0)f.length=CPMaxRange(f),f.location=0;break}if((g.location+=d)<0)_count-=g.length-CPMaxRange(g),g.length=CPMaxRange(g),g.location=0}if(d<0){b=c+1;d=_ranges.length;for(g=[];b<d;++b)objj_msgSend(g,"addObject:",_ranges[b]),_count-=_ranges[b].length;if((b=c+1)<d){objj_msgSend(_ranges,"removeObjectsInRange:",CPMakeRange(b,d-b));b=0;for(d=g.length;b<d;++b)objj_msgSend(a,"addIndexesInRange:",g[b])}f.location!=CPNotFound&&objj_msgSend(a,"addIndexesInRange:",f)}}})]);f=objj_getClass("CPIndexSet");
if(!f)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(a,c,b){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPIndexSet").super_class},"init")){_count=objj_msgSend(b,"decodeIntForKey:","CPIndexSetCountKey");_ranges=[];c=objj_msgSend(b,"decodeObjectForKey:","CPIndexSetRangeStringsKey");b=0;for(var d=c.length;b<d;++b)_ranges.push(CPRangeFromString(c[b]))}return a}}),
new objj_method(sel_getUid("encodeWithCoder:"),function(a,c,b){with(a){objj_msgSend(b,"encodeInt:forKey:",_count,"CPIndexSetCountKey");a=0;c=_ranges.length;for(var d=[];a<c;++a)d[a]=CPStringFromRange(_ranges[a]);objj_msgSend(b,"encodeObject:forKey:",d,"CPIndexSetRangeStringsKey")}})]);f=objj_getClass("CPIndexSet");if(!f)throw new SyntaxError('*** Could not find definition for class "CPIndexSet"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("copy"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,
"class"),"alloc"),"initWithIndexSet:",a)}),new objj_method(sel_getUid("mutableCopy"),function(a){with(a)return objj_msgSend(objj_msgSend(objj_msgSend(a,"class"),"alloc"),"initWithIndexSet:",a)})]);f=objj_allocateClassPair(CPIndexSet,"CPMutableIndexSet");d=f.isa;objj_registerClassPair(f);var b=function(a,c){for(var b=0,d=a.length-1;b<=d;){var f=FLOOR(b+(d-b)/2),g=a[f];if(c<g.location)d=f-1;else if(c>=CPMaxRange(g))b=f+1;else return f}return CPNotFound},a=function(a,c){var b=a.length;if(b<=0)return CPNotFound;
for(var d=0,f=b*2;d<=f;){var g=FLOOR(d+(f-d)/2),m=g/2,n=FLOOR(m);if(m===n)if(n-1>=0&&c<CPMaxRange(a[n-1]))f=g-1;else if(n<b&&c>=a[n].location)d=g+1;else return n-0.5;else if(m=a[n],c<m.location)f=g-1;else if(c>=CPMaxRange(m))d=g+1;else return n}return CPNotFound}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPSet+KVO.j",baseURL),function(i,g){g("CPException.j",YES);g("CPObject.j",YES);g("CPSet.j",YES);var f=objj_getClass("CPObject");if(!f)throw new SyntaxError('*** Could not find definition for class "CPObject"');var d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("mutableSetValueForKey:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(_CPKVCSet,"alloc"),"initWithKey:forProxyObject:",c,a)}),new objj_method(sel_getUid("mutableSetValueForKeyPath:"),
function(a,b,c){with(a){var d=c.indexOf(".");if(d<0)return objj_msgSend(a,"mutableSetValueForKey:",c);b=c.substring(0,d);c=c.substring(d+1);return objj_msgSend(objj_msgSend(a,"valueForKeyPath:",b),"mutableSetValueForKeyPath:",c)}})]);f=objj_allocateClassPair(CPMutableSet,"_CPKVCSet");d=f.isa;class_addIvars(f,[new objj_ivar("_proxyObject"),new objj_ivar("_key"),new objj_ivar("_accessSEL"),new objj_ivar("_access"),new objj_ivar("_setSEL"),new objj_ivar("_set"),new objj_ivar("_countSEL"),new objj_ivar("_count"),
new objj_ivar("_enumeratorSEL"),new objj_ivar("_enumerator"),new objj_ivar("_memberSEL"),new objj_ivar("_member"),new objj_ivar("_addSEL"),new objj_ivar("_add"),new objj_ivar("_addManySEL"),new objj_ivar("_addMany"),new objj_ivar("_removeSEL"),new objj_ivar("_remove"),new objj_ivar("_removeManySEL"),new objj_ivar("_removeMany"),new objj_ivar("_intersectSEL"),new objj_ivar("_intersect")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithKey:forProxyObject:"),function(a,
b,c,d){with(a)return a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPKVCSet").super_class},"init"),_key=c,_proxyObject=d,b=_key.charAt(0).toUpperCase()+_key.substring(1),_accessSEL=sel_getName(_key),objj_msgSend(_proxyObject,"respondsToSelector:",_accessSEL)&&(_access=objj_msgSend(_proxyObject,"methodForSelector:",_accessSEL)),_setSEL=sel_getName("set"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_setSEL)&&(_set=objj_msgSend(_proxyObject,"methodForSelector:",_setSEL)),_countSEL=
sel_getName("countOf"+b),objj_msgSend(_proxyObject,"respondsToSelector:",_countSEL)&&(_count=objj_msgSend(_proxyObject,"methodForSelector:",_countSEL)),_enumeratorSEL=sel_getName("enumeratorOf"+b),objj_msgSend(_proxyObject,"respondsToSelector:",_enumeratorSEL)&&(_enumerator=objj_msgSend(_proxyObject,"methodForSelector:",_enumeratorSEL)),_memberSEL=sel_getName("memberOf"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_memberSEL)&&(_member=objj_msgSend(_proxyObject,"methodForSelector:",_memberSEL)),
_addSEL=sel_getName("add"+b+"Object:"),objj_msgSend(_proxyObject,"respondsToSelector:",_addSEL)&&(_add=objj_msgSend(_proxyObject,"methodForSelector:",_addSEL)),_addManySEL=sel_getName("add"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_addManySEL)&&(_addMany=objj_msgSend(_proxyObject,"methodForSelector:",_addManySEL)),_removeSEL=sel_getName("remove"+b+"Object:"),objj_msgSend(_proxyObject,"respondsToSelector:",_removeSEL)&&(_remove=objj_msgSend(_proxyObject,"methodForSelector:",_removeSEL)),
_removeManySEL=sel_getName("remove"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_removeManySEL)&&(_removeMany=objj_msgSend(_proxyObject,"methodForSelector:",_removeManySEL)),_intersectSEL=sel_getName("intersect"+b+":"),objj_msgSend(_proxyObject,"respondsToSelector:",_intersectSEL)&&(_intersect=objj_msgSend(_proxyObject,"methodForSelector:",_intersectSEL)),a}),new objj_method(sel_getUid("_representedObject"),function(a){with(a){if(_access)return _access(_proxyObject,_accessSEL);return objj_msgSend(_proxyObject,
"valueForKey:",_key)}}),new objj_method(sel_getUid("_setRepresentedObject:"),function(a,b,c){with(a){if(_set)return _set(_proxyObject,_setSEL,c);objj_msgSend(_proxyObject,"setValue:forKey:",c,_key)}}),new objj_method(sel_getUid("count"),function(a){with(a){if(_count)return _count(_proxyObject,_countSEL);return objj_msgSend(objj_msgSend(a,"_representedObject"),"count")}}),new objj_method(sel_getUid("objectEnumerator"),function(a){with(a){if(_enumerator)return _enumerator(_proxyObject,_enumeratorSEL);
return objj_msgSend(objj_msgSend(a,"_representedObject"),"objectEnumerator")}}),new objj_method(sel_getUid("member:"),function(a,b,c){with(a){if(_member)return _member(_proxyObject,_memberSEL,c);return objj_msgSend(objj_msgSend(a,"_representedObject"),"member:",c)}}),new objj_method(sel_getUid("addObject:"),function(a,b,c){with(a)_add?_add(_proxyObject,_addSEL,c):_addMany?(a=objj_msgSend(CPSet,"setWithObject:",c),_addMany(_proxyObject,_addManySEL,a)):(b=objj_msgSend(objj_msgSend(a,"_representedObject"),
"copy"),objj_msgSend(b,"addObject:",c),objj_msgSend(a,"_setRepresentedObject:",b))}),new objj_method(sel_getUid("addObjectsFromArray:"),function(a,b,c){with(a)if(_addMany)a=objj_msgSend(CPSet,"setWithArray:",c),_addMany(_proxyObject,_addManySEL,a);else if(_add)for(c=objj_msgSend(c,"objectEnumerator");a=objj_msgSend(c,"nextObject");)_add(_proxyObject,_addSEL,a);else b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"addObjectsFromArray:",c),objj_msgSend(a,"_setRepresentedObject:",
b)}),new objj_method(sel_getUid("unionSet:"),function(a,b,c){with(a)if(_addMany)_addMany(_proxyObject,_addManySEL,c);else if(_add)for(c=objj_msgSend(c,"objectEnumerator");a=objj_msgSend(c,"nextObject");)_add(_proxyObject,_addSEL,a);else b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"unionSet:",c),objj_msgSend(a,"_setRepresentedObject:",b)}),new objj_method(sel_getUid("removeObject:"),function(a,b,c){with(a)_remove?_remove(_proxyObject,_removeSEL,c):_removeMany?(a=objj_msgSend(CPSet,
"setWithObject:",c),_removeMany(_proxyObject,_removeManySEL,a)):(b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"removeObject:",c),objj_msgSend(a,"_setRepresentedObject:",b))}),new objj_method(sel_getUid("minusSet:"),function(a,b,c){with(a)if(_removeMany)_removeMany(_proxyObject,_removeManySEL,c);else if(_remove)for(c=objj_msgSend(c,"objectEnumerator");a=objj_msgSend(c,"nextObject");)_remove(_proxyObject,_removeSEL,a);else b=objj_msgSend(objj_msgSend(a,"_representedObject"),
"copy"),objj_msgSend(b,"minusSet:",c),objj_msgSend(a,"_setRepresentedObject:",b)}),new objj_method(sel_getUid("removeObjectsInArray:"),function(a,b,c){with(a)if(_removeMany)a=objj_msgSend(CPSet,"setWithArray:",c),_removeMany(_proxyObject,_removeManySEL,a);else if(_remove)for(c=objj_msgSend(c,"objectEnumerator");a=objj_msgSend(c,"nextObject");)_remove(_proxyObject,_removeSEL,a);else b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"removeObjectsInArray:",c),objj_msgSend(a,
"_setRepresentedObject:",b)}),new objj_method(sel_getUid("removeAllObjects"),function(a){with(a)if(_removeMany)a=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),_removeMany(_proxyObject,_removeManySEL,a);else if(_remove)for(var b=objj_msgSend(objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),"objectEnumerator");a=objj_msgSend(b,"nextObject");)_remove(_proxyObject,_removeSEL,a);else b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"removeAllObjects"),objj_msgSend(a,
"_setRepresentedObject:",b)}),new objj_method(sel_getUid("intersectSet:"),function(a,b,c){with(a)_intersect?_intersect(_proxyObject,_intersectSEL,c):(b=objj_msgSend(objj_msgSend(a,"_representedObject"),"copy"),objj_msgSend(b,"intersectSet:",c),objj_msgSend(a,"_setRepresentedObject:",b))}),new objj_method(sel_getUid("setSet:"),function(a,b,c){with(a)objj_msgSend(a,"_setRepresentedObject:",c)}),new objj_method(sel_getUid("allObjects"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),
"allObjects")}),new objj_method(sel_getUid("anyObject"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),"anyObject")}),new objj_method(sel_getUid("containsObject:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),"containsObject:",c)}),new objj_method(sel_getUid("intersectsSet:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),"intersectsSet:",c)}),new objj_method(sel_getUid("isEqualToSet:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,
"_representedObject"),"isEqualToSet:",c)}),new objj_method(sel_getUid("copy"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"_representedObject"),"copy")})]);class_addMethods(d,[new objj_method(sel_getUid("alloc"),function(a){with(a){var b=objj_msgSend(CPMutableSet,"set");b.isa=a;a=class_copyIvarList(a);for(var c=a.length;c--;)b[ivar_getName(a[c])]=nil;return b}})]);f=objj_getClass("CPSet");if(!f)throw new SyntaxError('*** Could not find definition for class "CPSet"');d=f.isa;class_addMethods(f,
[new objj_method(sel_getUid("valueForKeyPath:"),function(a,d,c){with(a)if(c.indexOf("@")===0){var f=c.indexOf("."),g,o;f!==-1?(g=c.substring(1,f),o=c.substring(f+1)):g=c.substring(1);if(b[g])return b[g](a,d,o);return nil}else{d=objj_msgSend(CPSet,"set");for(a=objj_msgSend(a,"objectEnumerator");f=objj_msgSend(a,"nextObject");)(f=objj_msgSend(f,"valueForKeyPath:",c))&&objj_msgSend(d,"addObject:",f);return d}}),new objj_method(sel_getUid("setValue:forKey:"),function(a,b,c,d){with(a)for(b=objj_msgSend(a,
"objectEnumerator");a=objj_msgSend(b,"nextObject");)objj_msgSend(a,"setValue:forKey:",c,d)})]);var b=[];b.avg=function(a,b,c){a=objj_msgSend(objj_msgSend(a,"valueForKeyPath:",c),"allObjects");c=b=objj_msgSend(a,"count");var d=0;if(!b)return 0;for(;c--;)d+=objj_msgSend(a[c],"doubleValue");return d/b};b.max=function(a,b,c){a=objj_msgSend(objj_msgSend(a,"valueForKeyPath:",c),"allObjects");b=objj_msgSend(a,"count")-1;for(c=objj_msgSend(a,"lastObject");b--;){var d=a[b];objj_msgSend(c,"compare:",d)<0&&
(c=d)}return c};b.min=function(a,b,c){a=objj_msgSend(objj_msgSend(a,"valueForKeyPath:",c),"allObjects");b=objj_msgSend(a,"count")-1;for(c=objj_msgSend(a,"lastObject");b--;){var d=a[b];objj_msgSend(c,"compare:",d)>0&&(c=d)}return c};b.count=function(a){return objj_msgSend(a,"count")};b.sum=function(a,b,c){a=objj_msgSend(objj_msgSend(a,"valueForKeyPath:",c),"allObjects");b=objj_msgSend(a,"count");for(c=0;b--;)c+=objj_msgSend(a[b],"doubleValue");return c};f=objj_getClass("CPSet");if(!f)throw new SyntaxError('*** Could not find definition for class "CPSet"');
d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("addObserver:forKeyPath:options:context:"),function(a,b,c,d,f,g){with(a)objj_msgSend(isa,"instanceMethodForSelector:",b)===objj_msgSend(CPSet,"instanceMethodForSelector:",b)?objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unsupported method on CPSet"):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPSet").super_class},"addObserver:forKeyPath:options:context:",c,d,f,g)}),new objj_method(sel_getUid("removeObserver:forKeyPath:"),
function(a,b,c,d){with(a)objj_msgSend(isa,"instanceMethodForSelector:",b)===objj_msgSend(CPSet,"instanceMethodForSelector:",b)?objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unsupported method on CPSet"):objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPSet").super_class},"removeObserver:forKeyPath:",c,d)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPEvent.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);g("CPText.j",YES);CPLeftMouseDown=1;CPLeftMouseUp=2;CPRightMouseDown=3;CPRightMouseUp=4;CPMouseMoved=5;CPLeftMouseDragged=6;CPRightMouseDragged=7;CPMouseEntered=8;CPMouseExited=9;CPKeyDown=10;CPKeyUp=11;CPFlagsChanged=12;CPAppKitDefined=13;CPSystemDefined=14;CPApplicationDefined=15;CPPeriodic=16;CPCursorUpdate=17;CPScrollWheel=22;CPOtherMouseDown=25;CPOtherMouseUp=
26;CPOtherMouseDragged=27;CPTouchStart=28;CPTouchMove=29;CPTouchEnd=30;CPTouchCancel=31;CPAlphaShiftKeyMask=65536;CPShiftKeyMask=131072;CPControlKeyMask=262144;CPAlternateKeyMask=524288;CPCommandKeyMask=1048576;CPNumericPadKeyMask=2097152;CPHelpKeyMask=4194304;CPFunctionKeyMask=8388608;CPDeviceIndependentModifierFlagsMask=4294901760;CPLeftMouseDownMask=1<<CPLeftMouseDown;CPLeftMouseUpMask=1<<CPLeftMouseUp;CPRightMouseDownMask=1<<CPRightMouseDown;CPRightMouseUpMask=1<<CPRightMouseUp;CPOtherMouseDownMask=
1<<CPOtherMouseDown;CPOtherMouseUpMask=1<<CPOtherMouseUp;CPMouseMovedMask=1<<CPMouseMoved;CPLeftMouseDraggedMask=1<<CPLeftMouseDragged;CPRightMouseDraggedMask=1<<CPRightMouseDragged;CPOtherMouseDragged=1<<CPOtherMouseDragged;CPMouseEnteredMask=1<<CPMouseEntered;CPMouseExitedMask=1<<CPMouseExited;CPCursorUpdateMask=1<<CPCursorUpdate;CPKeyDownMask=1<<CPKeyDown;CPKeyUpMask=1<<CPKeyUp;CPFlagsChangedMask=1<<CPFlagsChanged;CPAppKitDefinedMask=1<<CPAppKitDefined;CPSystemDefinedMask=1<<CPSystemDefined;CPApplicationDefinedMask=
1<<CPApplicationDefined;CPPeriodicMask=1<<CPPeriodic;CPScrollWheelMask=1<<CPScrollWheel;CPAnyEventMask=4294967295;CPUpArrowFunctionKey="";CPDownArrowFunctionKey="";CPLeftArrowFunctionKey="";CPRightArrowFunctionKey="";CPF1FunctionKey="";CPF2FunctionKey="";CPF3FunctionKey="";CPF4FunctionKey="";CPF5FunctionKey="";CPF6FunctionKey="";CPF7FunctionKey="";CPF8FunctionKey="";CPF9FunctionKey="";CPF10FunctionKey="";CPF11FunctionKey="";CPF12FunctionKey="";CPF13FunctionKey="";CPF14FunctionKey=
"";CPF15FunctionKey="";CPF16FunctionKey="";CPF17FunctionKey="";CPF18FunctionKey="";CPF19FunctionKey="";CPF20FunctionKey="";CPF21FunctionKey="";CPF22FunctionKey="";CPF23FunctionKey="";CPF24FunctionKey="";CPF25FunctionKey="";CPF26FunctionKey="";CPF27FunctionKey="";CPF28FunctionKey="";CPF29FunctionKey="";CPF30FunctionKey="";CPF31FunctionKey="";CPF32FunctionKey="";CPF33FunctionKey="";CPF34FunctionKey="";CPF35FunctionKey="";CPInsertFunctionKey="";CPDeleteFunctionKey="";CPHomeFunctionKey=
"";CPBeginFunctionKey="";CPEndFunctionKey="";CPPageUpFunctionKey="";CPPageDownFunctionKey="";CPPrintScreenFunctionKey="";CPScrollLockFunctionKey="";CPPauseFunctionKey="";CPSysReqFunctionKey="";CPBreakFunctionKey="";CPResetFunctionKey="";CPStopFunctionKey="";CPMenuFunctionKey="";CPUserFunctionKey="";CPSystemFunctionKey="";CPPrintFunctionKey="";CPClearLineFunctionKey="";CPClearDisplayFunctionKey="";CPInsertLineFunctionKey="";CPDeleteLineFunctionKey="";CPInsertCharFunctionKey="";
CPDeleteCharFunctionKey="";CPPrevFunctionKey="";CPNextFunctionKey="";CPSelectFunctionKey="";CPExecuteFunctionKey="";CPUndoFunctionKey="";CPRedoFunctionKey="";CPFindFunctionKey="";CPHelpFunctionKey="";CPModeSwitchFunctionKey="";CPEscapeFunctionKey="";CPSpaceFunctionKey=" ";CPDOMEventDoubleClick="dblclick";CPDOMEventMouseDown="mousedown";CPDOMEventMouseUp="mouseup";CPDOMEventMouseMoved="mousemove";CPDOMEventMouseDragged="mousedrag";CPDOMEventKeyUp="keyup";CPDOMEventKeyDown="keydown";CPDOMEventKeyPress=
"keypress";CPDOMEventCopy="copy";CPDOMEventPaste="paste";CPDOMEventScrollWheel="mousewheel";CPDOMEventTouchStart="touchstart";CPDOMEventTouchMove="touchmove";CPDOMEventTouchEnd="touchend";CPDOMEventTouchCancel="touchcancel";var f=nil,d=/[A-Z]/,b=objj_allocateClassPair(CPObject,"CPEvent"),a=b.isa;class_addIvars(b,[new objj_ivar("_type"),new objj_ivar("_location"),new objj_ivar("_modifierFlags"),new objj_ivar("_timestamp"),new objj_ivar("_context"),new objj_ivar("_eventNumber"),new objj_ivar("_clickCount"),
new objj_ivar("_pressure"),new objj_ivar("_window"),new objj_ivar("_windowNumber"),new objj_ivar("_characters"),new objj_ivar("_isARepeat"),new objj_ivar("_keyCode"),new objj_ivar("_DOMEvent"),new objj_ivar("_deltaX"),new objj_ivar("_deltaY"),new objj_ivar("_deltaZ")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("_initMouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:"),function(a,b,d,e,f,g,n,j,l,p,i){with(a){if(a=
objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPEvent").super_class},"init"))_type=d,_location=CPPointCreateCopy(e),_modifierFlags=f,_timestamp=g,_context=j,_eventNumber=l,_clickCount=p,_pressure=i,_window=objj_msgSend(CPApp,"windowWithWindowNumber:",n);return a}}),new objj_method(sel_getUid("_initKeyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:"),function(a,b,d,e,f,g,n,j,l,p,i,s){with(a){if(a=objj_msgSendSuper({receiver:a,
super_class:objj_getClass("CPEvent").super_class},"init"))_type=d,_location=CPPointCreateCopy(e),_modifierFlags=f,_timestamp=g,_context=j,_characters=l,_charactersIgnoringModifiers=p,_isARepeat=i,_keyCode=s,_windowNumber=n;return a}}),new objj_method(sel_getUid("_initOtherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:"),function(a,b,d,e,f,g,n,j,l,p,i){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPEvent").super_class},"init"))_type=
d,_location=CPPointCreateCopy(e),_modifierFlags=f,_timestamp=g,_context=j,_subtype=l,_data1=p,_data2=i;return a}}),new objj_method(sel_getUid("locationInWindow"),function(a){with(a)return{x:_location.x,y:_location.y}}),new objj_method(sel_getUid("globalLocation"),function(a){with(a){var b=objj_msgSend(a,"window");a=objj_msgSend(a,"locationInWindow");if(b)return objj_msgSend(b,"convertBaseToGlobal:",a);return a}}),new objj_method(sel_getUid("modifierFlags"),function(a){with(a)return _modifierFlags}),
new objj_method(sel_getUid("timestamp"),function(a){with(a)return _timestamp}),new objj_method(sel_getUid("type"),function(a){with(a)return _type}),new objj_method(sel_getUid("window"),function(a){with(a)return _window||(_window=objj_msgSend(CPApp,"windowWithWindowNumber:",_windowNumber)),_window}),new objj_method(sel_getUid("windowNumber"),function(a){with(a)return _windowNumber}),new objj_method(sel_getUid("buttonNumber"),function(a){with(a){if(_type===CPRightMouseDown||_type===CPRightMouseUp||
_type===CPRightMouseDragged)return 1;return 0}}),new objj_method(sel_getUid("clickCount"),function(a){with(a)return _clickCount}),new objj_method(sel_getUid("characters"),function(a){with(a)return _characters}),new objj_method(sel_getUid("charactersIgnoringModifiers"),function(a){with(a)return _charactersIgnoringModifiers}),new objj_method(sel_getUid("isARepeat"),function(a){with(a)return _isARepeat}),new objj_method(sel_getUid("keyCode"),function(a){with(a)return _keyCode}),new objj_method(sel_getUid("pressure"),
function(a){with(a)return _pressure}),new objj_method(sel_getUid("_DOMEvent"),function(a){with(a)return _DOMEvent}),new objj_method(sel_getUid("deltaX"),function(a){with(a)return _deltaX}),new objj_method(sel_getUid("deltaY"),function(a){with(a)return _deltaY}),new objj_method(sel_getUid("deltaZ"),function(a){with(a)return _deltaZ}),new objj_method(sel_getUid("_triggersKeyEquivalent:withModifierMask:"),function(a,b,e,f){with(a){if(!e)return NO;d.test(e)&&(f|=CPShiftKeyMask);!CPBrowserIsOperatingSystem(CPMacOperatingSystem)&&
f&CPCommandKeyMask&&(f|=CPControlKeyMask,f&=~CPCommandKeyMask);if((_modifierFlags&(CPShiftKeyMask|CPAlternateKeyMask|CPCommandKeyMask|CPControlKeyMask))!==f)return NO;if(_characters===CPNewlineCharacter||_characters===CPCarriageReturnCharacter)return CPNewlineCharacter===e||CPCarriageReturnCharacter===e;return objj_msgSend(_characters,"caseInsensitiveCompare:",e)===CPOrderedSame}}),new objj_method(sel_getUid("_couldBeKeyEquivalent"),function(a){with(a){if(_type!==CPKeyDown)return NO;a=_characters.length;
if(!a)return NO;if(_modifierFlags&(CPCommandKeyMask|CPControlKeyMask))return YES;for(var b=0;b<a;b++)switch(_characters.charAt(b)){case CPBackspaceCharacter:case CPDeleteCharacter:case CPDeleteFunctionKey:case CPTabCharacter:case CPCarriageReturnCharacter:case CPNewlineCharacter:case CPSpaceFunctionKey:case CPEscapeFunctionKey:case CPPageUpFunctionKey:case CPPageDownFunctionKey:case CPLeftArrowFunctionKey:case CPUpArrowFunctionKey:case CPRightArrowFunctionKey:case CPDownArrowFunctionKey:case CPEndFunctionKey:case CPHomeFunctionKey:return YES}return NO}})]);
class_addMethods(a,[new objj_method(sel_getUid("keyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:"),function(a,b,d,e,f,g,n,j,l,p,i,s){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initKeyEventWithType:location:modifierFlags:timestamp:windowNumber:context:characters:charactersIgnoringModifiers:isARepeat:keyCode:",d,e,f,g,n,j,l,p,i,s)}),new objj_method(sel_getUid("mouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:"),
function(a,b,d,e,f,g,n,j,l,p,i){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initMouseEventWithType:location:modifierFlags:timestamp:windowNumber:context:eventNumber:clickCount:pressure:",d,e,f,g,n,j,l,p,i)}),new objj_method(sel_getUid("otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:"),function(a,b,d,e,f,g,n,j,l,p,i){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"_initOtherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",
d,e,f,g,n,j,l,p,i)}),new objj_method(sel_getUid("mouseLocation"),function(a){with(a){a=objj_msgSend(CPApp,"currentEvent");var b=objj_msgSend(a,"window");if(b)return objj_msgSend(b,"convertBaseToGlobal:",objj_msgSend(a,"locationInWindow"));return objj_msgSend(a,"locationInWindow")}}),new objj_method(sel_getUid("startPeriodicEventsAfterDelay:withPeriod:"),function(a,b,d,e){with(a)f=window.setTimeout(function(){f=window.setInterval(_CPEventFirePeriodEvent,e*1E3)},d*1E3)}),new objj_method(sel_getUid("stopPeriodicEvents"),
function(a){with(a){if(f===nil)return;window.clearTimeout(f);f=nil}})]);_CPEventFirePeriodEvent=function(){objj_msgSend(CPApp,"sendEvent:",objj_msgSend(CPEvent,"otherEventWithType:location:modifierFlags:timestamp:windowNumber:context:subtype:data1:data2:",CPPeriodic,{x:0,y:0},0,0,0,nil,0,0,0))};var e=objj_msgSend(CPEvent,"class");_CPEventFromNativeMouseEvent=function(a,b,d,f,g,m,n,j,l,p){a.isa=e;a._type=b;a._location=d;a._modifierFlags=f;a._timestamp=g;a._windowNumber=m;a._window=nil;a._context=n;
a._eventNumber=j;a._clickCount=l;a._pressure=p;return a}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPStandardWindowView.j",baseURL),function(i,g){g("CPTextField.j",YES);g("_CPWindowView.j",YES);var f=nil,d=nil,b=objj_allocateClassPair(CPView,"_CPTexturedWindowHeadView"),a=b.isa;class_addIvars(b,[new objj_ivar("_gradientView"),new objj_ivar("_solidView"),new objj_ivar("_dividerView")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("initWithFrame:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,
super_class:objj_getClass("_CPTexturedWindowHeadView").super_class},"initWithFrame:",c))b=objj_msgSend(a,"class"),c=objj_msgSend(a,"bounds"),_gradientView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,CGRectGetWidth(c),41)),objj_msgSend(_gradientView,"setBackgroundColor:",objj_msgSend(b,"gradientColor")),objj_msgSend(a,"addSubview:",_gradientView),_solidView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,41,CGRectGetWidth(c),CGRectGetHeight(c)-
41)),objj_msgSend(_solidView,"setBackgroundColor:",objj_msgSend(b,"solidColor")),objj_msgSend(a,"addSubview:",_solidView);return a}}),new objj_method(sel_getUid("resizeSubviewsWithOldSize:"),function(a){with(a)a=objj_msgSend(a,"bounds"),objj_msgSend(_gradientView,"setFrameSize:",CGSizeMake(CGRectGetWidth(a),41)),objj_msgSend(_solidView,"setFrameSize:",CGSizeMake(CGRectGetWidth(a),CGRectGetHeight(a)-41))})]);class_addMethods(a,[new objj_method(sel_getUid("gradientColor"),function(a){with(a)return f||
(a=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(_CPWindowView,"class")),f=objj_msgSend(CPColor,"colorWithPatternImage:",objj_msgSend(objj_msgSend(CPThreePartImage,"alloc"),"initWithImageSlices:isVertical:",[objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/Standard/CPWindowStandardTop0.png"),CGSizeMake(6,41)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/Standard/CPWindowStandardTop1.png"),
CGSizeMake(1,41)),objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(a,"pathForResource:","CPWindow/Standard/CPWindowStandardTop2.png"),CGSizeMake(6,41))],NO))),f}),new objj_method(sel_getUid("solidColor"),function(a){with(a)return d||(d=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",195/255,195/255,195/255,1)),d})]);var e=nil,c=nil,h=nil,k=nil,o=nil,q=nil,m=nil,n=nil,j=nil;b=objj_allocateClassPair(_CPWindowView,"_CPStandardWindowView");a=b.isa;
class_addIvars(b,[new objj_ivar("_headView"),new objj_ivar("_dividerView"),new objj_ivar("_bodyView"),new objj_ivar("_toolbarView"),new objj_ivar("_titleField"),new objj_ivar("_closeButton"),new objj_ivar("_minimizeButton"),new objj_ivar("_isDocumentEdited")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("contentRectForFrameRect:"),function(a,b,c){with(a)return b=objj_msgSend(objj_msgSend(a,"class"),"contentRectForFrameRect:",c),a=objj_msgSend(objj_msgSend(a,"window"),
"toolbar"),objj_msgSend(a,"isVisible")&&(toolbarHeight=CGRectGetHeight(objj_msgSend(objj_msgSend(a,"_toolbarView"),"frame")),b.origin.y+=toolbarHeight,b.size.height-=toolbarHeight),b}),new objj_method(sel_getUid("frameRectForContentRect:"),function(a,b,c){with(a)return b=objj_msgSend(objj_msgSend(a,"class"),"frameRectForContentRect:",c),a=objj_msgSend(objj_msgSend(a,"window"),"toolbar"),objj_msgSend(a,"isVisible")&&(toolbarHeight=CGRectGetHeight(objj_msgSend(objj_msgSend(a,"_toolbarView"),"frame")),
b.origin.y-=toolbarHeight,b.size.height+=toolbarHeight),b}),new objj_method(sel_getUid("initWithFrame:styleMask:"),function(a,b,c,d){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPStandardWindowView").super_class},"initWithFrame:styleMask:",c,d))b=objj_msgSend(a,"class"),c=objj_msgSend(a,"bounds"),_headView=objj_msgSend(objj_msgSend(_CPTexturedWindowHeadView,"alloc"),"initWithFrame:",CGRectMake(0,0,CGRectGetWidth(c),objj_msgSend(objj_msgSend(a,"class"),"titleBarHeight"))),
objj_msgSend(_headView,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_headView,"setHitTests:",NO),objj_msgSend(a,"addSubview:",_headView),_dividerView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,CGRectGetMaxY(objj_msgSend(_headView,"frame")),CGRectGetWidth(c),1)),objj_msgSend(_dividerView,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_dividerView,"setBackgroundColor:",objj_msgSend(b,"dividerBackgroundColor")),objj_msgSend(_dividerView,"setHitTests:",
NO),objj_msgSend(a,"addSubview:",_dividerView),d=CGRectGetMaxY(objj_msgSend(_dividerView,"frame")),_bodyView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,d,CGRectGetWidth(c),CGRectGetHeight(c)-d)),objj_msgSend(_bodyView,"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(_bodyView,"setBackgroundColor:",objj_msgSend(b,"bodyBackgroundColor")),objj_msgSend(_bodyView,"setHitTests:",NO),objj_msgSend(a,"addSubview:",_bodyView),objj_msgSend(a,"setResizeIndicatorOffset:",
CGSizeMake(2,2)),_titleField=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectMakeZero()),objj_msgSend(_titleField,"setFont:",objj_msgSend(CPFont,"boldSystemFontOfSize:",12)),objj_msgSend(_titleField,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_titleField,"setLineBreakMode:",CPLineBreakByTruncatingTail),objj_msgSend(_titleField,"setAlignment:",CPCenterTextAlignment),objj_msgSend(_titleField,"setTextShadowColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_titleField,
"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(_titleField,"setStringValue:","Untitled"),objj_msgSend(_titleField,"sizeToFit"),objj_msgSend(_titleField,"setAutoresizingMask:",CPViewWidthSizable),objj_msgSend(_titleField,"setStringValue:",""),objj_msgSend(a,"addSubview:",_titleField),_styleMask&CPClosableWindowMask&&(k||(b=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class")),k=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:",
"CPWindow/Standard/CPWindowStandardCloseButton.png"),CGSizeMake(16,16)),o=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardCloseButtonHighlighted.png"),CGSizeMake(16,16)),q=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardCloseButtonUnsaved.png"),CGSizeMake(16,16)),m=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",
objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardCloseButtonUnsavedHighlighted.png"),CGSizeMake(16,16))),_closeButton=objj_msgSend(objj_msgSend(CPButton,"alloc"),"initWithFrame:",CGRectMake(8,7,16,16)),objj_msgSend(_closeButton,"setBordered:",NO),objj_msgSend(a,"_updateCloseButton"),objj_msgSend(a,"addSubview:",_closeButton)),_styleMask&CPMiniaturizableWindowMask&&!objj_msgSend(CPPlatform,"isBrowser")&&(n||(b=objj_msgSend(CPBundle,"bundleForClass:",objj_msgSend(CPWindow,"class")),
n=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardMinimizeButton.png"),CGSizeMake(16,16)),j=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(b,"pathForResource:","CPWindow/Standard/CPWindowStandardMinimizeButtonHighlighted.png"),CGSizeMake(16,16))),_minimizeButton=objj_msgSend(objj_msgSend(CPButton,"alloc"),"initWithFrame:",CGRectMake(27,7,16,16)),objj_msgSend(_minimizeButton,
"setBordered:",NO),objj_msgSend(_minimizeButton,"setImage:",n),objj_msgSend(_minimizeButton,"setAlternateImage:",j),objj_msgSend(a,"addSubview:",_minimizeButton)),objj_msgSend(a,"tile");return a}}),new objj_method(sel_getUid("viewDidMoveToWindow"),function(a){with(a)objj_msgSend(_closeButton,"setTarget:",objj_msgSend(a,"window")),objj_msgSend(_closeButton,"setAction:",sel_getUid("performClose:")),objj_msgSend(_minimizeButton,"setTarget:",objj_msgSend(a,"window")),objj_msgSend(_minimizeButton,"setAction:",
sel_getUid("performMiniaturize:"))}),new objj_method(sel_getUid("toolbarOffset"),function(a){with(a)return CGSizeMake(0,objj_msgSend(objj_msgSend(a,"class"),"titleBarHeight"))}),new objj_method(sel_getUid("tile"),function(a){with(a){objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPStandardWindowView").super_class},"tile");var b=objj_msgSend(a,"window"),c=objj_msgSend(a,"bounds"),d=CGRectGetWidth(c);objj_msgSend(_headView,"setFrameSize:",CGSizeMake(d,objj_msgSend(a,"toolbarMaxY")));objj_msgSend(_dividerView,
"setFrame:",CGRectMake(0,CGRectGetMaxY(objj_msgSend(_headView,"frame")),d,1));a=CGRectGetMaxY(objj_msgSend(_dividerView,"frame"));objj_msgSend(_bodyView,"setFrame:",CGRectMake(0,a,d,CGRectGetHeight(c)-a));c=8;_closeButton&&(c+=19);_minimizeButton&&(c+=19);objj_msgSend(_titleField,"setFrame:",CGRectMake(c,5,d-c*2,CGRectGetHeight(objj_msgSend(_titleField,"frame"))));objj_msgSend(objj_msgSend(b,"contentView"),"setFrameOrigin:",CGPointMake(0,CGRectGetMaxY(objj_msgSend(_dividerView,"frame"))))}}),new objj_method(sel_getUid("_updateCloseButton"),
function(a){with(a)_isDocumentEdited?(objj_msgSend(_closeButton,"setImage:",q),objj_msgSend(_closeButton,"setAlternateImage:",m)):(objj_msgSend(_closeButton,"setImage:",k),objj_msgSend(_closeButton,"setAlternateImage:",o))}),new objj_method(sel_getUid("setDocumentEdited:"),function(a,b,c){with(a)_isDocumentEdited=c,objj_msgSend(a,"_updateCloseButton")}),new objj_method(sel_getUid("setTitle:"),function(a,b,c){with(a)objj_msgSend(_titleField,"setStringValue:",c)}),new objj_method(sel_getUid("mouseDown:"),
function(a,b,c){with(a){if(CGRectContainsPoint(objj_msgSend(_headView,"frame"),objj_msgSend(a,"convertPoint:fromView:",objj_msgSend(c,"locationInWindow"),nil)))return objj_msgSend(a,"trackMoveWithEvent:",c);objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPStandardWindowView").super_class},"mouseDown:",c)}})]);class_addMethods(a,[new objj_method(sel_getUid("bodyBackgroundColor"),function(a){with(a)return e||(e=objj_msgSend(CPColor,"colorWithWhite:alpha:",0.96,1)),e}),new objj_method(sel_getUid("dividerBackgroundColor"),
function(a){with(a)return c||(c=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",125/255,125/255,125/255,1)),c}),new objj_method(sel_getUid("titleColor"),function(a){with(a)return h||(h=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",44/255,44/255,44/255,1)),h}),new objj_method(sel_getUid("contentRectForFrameRect:"),function(a,b,c){with(a)return b=CGRectMakeCopy(c),a=objj_msgSend(a,"titleBarHeight")+1,b.origin.y+=a,b.size.height-=a,b}),new objj_method(sel_getUid("frameRectForContentRect:"),
function(a,b,c){with(a)return b=CGRectMakeCopy(c),a=objj_msgSend(a,"titleBarHeight")+1,b.origin.y-=a,b.size.height+=a,b}),new objj_method(sel_getUid("titleBarHeight"),function(a){with(a)return 25})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPKeyedArchiver.j",baseURL),function(i,g){g("CPArray.j",YES);g("CPCoder.j",YES);g("CPData.j",YES);g("CPDictionary.j",YES);g("CPNumber.j",YES);g("CPString.j",YES);g("CPValue.j",YES);var f=nil,d=nil,b=Nil,a=Nil,e=objj_allocateClassPair(CPValue,"_CPKeyedArchiverValue"),c=e.isa;objj_registerClassPair(e);e=objj_allocateClassPair(CPCoder,"CPKeyedArchiver");c=e.isa;class_addIvars(e,[new objj_ivar("_delegate"),new objj_ivar("_delegateSelectors"),
new objj_ivar("_data"),new objj_ivar("_objects"),new objj_ivar("_UIDs"),new objj_ivar("_conditionalUIDs"),new objj_ivar("_replacementObjects"),new objj_ivar("_replacementClassNames"),new objj_ivar("_plistObject"),new objj_ivar("_plistObjects"),new objj_ivar("_outputFormat")]);objj_registerClassPair(e);class_addMethods(e,[new objj_method(sel_getUid("initForWritingWithMutableData:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPKeyedArchiver").super_class},
"init"))_data=c,_objects=[],_UIDs=objj_msgSend(CPDictionary,"dictionary"),_conditionalUIDs=objj_msgSend(CPDictionary,"dictionary"),_replacementObjects=objj_msgSend(CPDictionary,"dictionary"),_data=c,_plistObject=objj_msgSend(CPDictionary,"dictionary"),_plistObjects=objj_msgSend(CPArray,"arrayWithObject:","$null");return a}}),new objj_method(sel_getUid("finishEncoding"),function(a){with(a){_delegate&&_delegateSelectors&16&&objj_msgSend(_delegate,"archiverWillFinish:",a);for(var b=0,c=_plistObject;b<
_objects.length;++b){var d=_objects[b];objj_msgSend(d,"classForKeyedArchiver");_plistObject=_plistObjects[objj_msgSend(_UIDs,"objectForKey:",objj_msgSend(d,"UID"))];objj_msgSend(d,"encodeWithCoder:",a);_delegate&&_delegateSelectors&1&&objj_msgSend(_delegate,"archiver:didEncodeObject:",a,d)}_plistObject=objj_msgSend(CPDictionary,"dictionary");objj_msgSend(_plistObject,"setObject:forKey:",c,"$top");objj_msgSend(_plistObject,"setObject:forKey:",_plistObjects,"$objects");objj_msgSend(_plistObject,"setObject:forKey:",
objj_msgSend(a,"className"),"$archiver");objj_msgSend(_plistObject,"setObject:forKey:","100000","$version");objj_msgSend(_data,"setPlistObject:",_plistObject);_delegate&&_delegateSelectors&8&&objj_msgSend(_delegate,"archiverDidFinish:",a)}}),new objj_method(sel_getUid("outputFormat"),function(a){with(a)return _outputFormat}),new objj_method(sel_getUid("setOutputFormat:"),function(a,b,c){with(a)_outputFormat=c}),new objj_method(sel_getUid("encodeBool:forKey:"),function(a,b,c,d){with(a)objj_msgSend(_plistObject,
"setObject:forKey:",h(a,c,NO),d)}),new objj_method(sel_getUid("encodeDouble:forKey:"),function(a,b,c,d){with(a)objj_msgSend(_plistObject,"setObject:forKey:",h(a,c,NO),d)}),new objj_method(sel_getUid("encodeFloat:forKey:"),function(a,b,c,d){with(a)objj_msgSend(_plistObject,"setObject:forKey:",h(a,c,NO),d)}),new objj_method(sel_getUid("encodeInt:forKey:"),function(a,b,c,d){with(a)objj_msgSend(_plistObject,"setObject:forKey:",h(a,c,NO),d)}),new objj_method(sel_getUid("setDelegate:"),function(a,b,c){with(a)_delegate=
c,objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:didEncodeObject:"))&&(_delegateSelectors|=1),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:willEncodeObject:"))&&(_delegateSelectors|=2),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:willReplaceObject:withObject:"))&&(_delegateSelectors|=4),objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:didFinishEncoding:"))&&(_delegateSelectors|=_CPKeyedArchiverDidFinishEncodingSelector),
objj_msgSend(_delegate,"respondsToSelector:",sel_getUid("archiver:willFinishEncoding:"))&&(_delegateSelectors|=_CPKeyedArchiverWillFinishEncodingSelector)}),new objj_method(sel_getUid("delegate"),function(a){with(a)return _delegate}),new objj_method(sel_getUid("encodePoint:forKey:"),function(a,b,c,d){with(a)objj_msgSend(_plistObject,"setObject:forKey:",h(a,CPStringFromPoint(c),NO),d)}),new objj_method(sel_getUid("encodeRect:forKey:"),function(a,b,c,d){with(a)objj_msgSend(_plistObject,"setObject:forKey:",
h(a,CPStringFromRect(c),NO),d)}),new objj_method(sel_getUid("encodeSize:forKey:"),function(a,b,c,d){with(a)objj_msgSend(_plistObject,"setObject:forKey:",h(a,CPStringFromSize(c),NO),d)}),new objj_method(sel_getUid("encodeConditionalObject:forKey:"),function(a,b,c,d){with(a)objj_msgSend(_plistObject,"setObject:forKey:",h(a,c,YES),d)}),new objj_method(sel_getUid("encodeNumber:forKey:"),function(a,b,c,d){with(a)objj_msgSend(_plistObject,"setObject:forKey:",h(a,c,NO),d)}),new objj_method(sel_getUid("encodeObject:forKey:"),
function(a,b,c,d){with(a)objj_msgSend(_plistObject,"setObject:forKey:",h(a,c,NO),d)}),new objj_method(sel_getUid("_encodeArrayOfObjects:forKey:"),function(a,b,c,d){with(a){b=0;for(var e=c.length,f=[];b<e;++b)objj_msgSend(f,"addObject:",h(a,c[b],NO));objj_msgSend(_plistObject,"setObject:forKey:",f,d)}}),new objj_method(sel_getUid("_encodeDictionaryOfObjects:forKey:"),function(a,b,c,d){with(a){for(var e=objj_msgSend(c,"keyEnumerator"),f=objj_msgSend(CPDictionary,"dictionary");b=objj_msgSend(e,"nextObject");)objj_msgSend(f,
"setObject:forKey:",h(a,objj_msgSend(c,"objectForKey:",b),NO),b);objj_msgSend(_plistObject,"setObject:forKey:",f,d)}}),new objj_method(sel_getUid("setClassName:forClass:"),function(a,b,c,d){with(a)_replacementClassNames||(_replacementClassNames=objj_msgSend(CPDictionary,"dictionary")),objj_msgSend(_replacementClassNames,"setObject:forKey:",c,CPStringFromClass(d))}),new objj_method(sel_getUid("classNameForClass:"),function(a,b,c){with(a){if(!_replacementClassNames)return c.name;return(a=objj_msgSend(_replacementClassNames,
"objectForKey:",CPStringFromClass(aClassName)))?a:c.name}})]);class_addMethods(c,[new objj_method(sel_getUid("initialize"),function(c){with(c){if(c!=objj_msgSend(CPKeyedArchiver,"class"))return;b=objj_msgSend(CPString,"class");a=objj_msgSend(CPNumber,"class");d=objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",0,"CP$UID")}}),new objj_method(sel_getUid("allowsKeyedCoding"),function(a){with(a)return YES}),new objj_method(sel_getUid("archivedDataWithRootObject:"),function(a,b,c){with(a)return b=
objj_msgSend(CPData,"dataWithPlistObject:",nil),a=objj_msgSend(objj_msgSend(a,"alloc"),"initForWritingWithMutableData:",b),objj_msgSend(a,"encodeObject:forKey:",c,"root"),objj_msgSend(a,"finishEncoding"),b}),new objj_method(sel_getUid("setClassName:forClass:"),function(a,b,c,d){with(a)f||(f=objj_msgSend(CPDictionary,"dictionary")),objj_msgSend(f,"setObject:forKey:",c,CPStringFromClass(d))}),new objj_method(sel_getUid("classNameForClass:"),function(a,b,c){with(a){if(!f)return c.name;return(a=objj_msgSend(f,
"objectForKey:",CPStringFromClass(c)))?a:c.name}})]);var h=function(c,e,f){e!==nil&&e!==void 0&&!e.isa&&(e=objj_msgSend(_CPKeyedArchiverValue,"valueWithJSObject:",e));var g=objj_msgSend(e,"UID"),h=objj_msgSend(c._replacementObjects,"objectForKey:",g);h===nil&&(h=objj_msgSend(e,"replacementObjectForKeyedArchiver:",c),c._delegate&&(h!==e&&c._delegateSelectors&4&&objj_msgSend(c._delegate,"archiver:willReplaceObject:withObject:",c,e,h),c._delegateSelectors&2&&(e=objj_msgSend(c._delegate,"archiver:willEncodeObject:",
c,h),e!==h&&c._delegateSelectors&4&&objj_msgSend(c._delegate,"archiver:willReplaceObject:withObject:",c,h,e),h=e)),objj_msgSend(c._replacementObjects,"setObject:forKey:",h,g));if(h===nil)return d;e=objj_msgSend(c._UIDs,"objectForKey:",g=objj_msgSend(h,"UID"));if(e===nil)if(f){if((e=objj_msgSend(c._conditionalUIDs,"objectForKey:",g))===nil)objj_msgSend(c._conditionalUIDs,"setObject:forKey:",e=objj_msgSend(c._plistObjects,"count"),g),objj_msgSend(c._plistObjects,"addObject:","$null")}else{e=objj_msgSend(h,
"classForKeyedArchiver");f=nil;if(e===b||e===a)f=h;else{f=objj_msgSend(CPDictionary,"dictionary");objj_msgSend(c._objects,"addObject:",h);(h=objj_msgSend(c,"classNameForClass:",e))||(h=objj_msgSend(objj_msgSend(c,"class"),"classNameForClass:",e));h?e=CPClassFromString(h):h=e.name;var j=objj_msgSend(c._UIDs,"objectForKey:",h);if(!j){var i=objj_msgSend(CPDictionary,"dictionary");j=[];objj_msgSend(i,"setObject:forKey:",h,"$classname");do objj_msgSend(j,"addObject:",CPStringFromClass(e));while(e=objj_msgSend(e,
"superclass"));objj_msgSend(i,"setObject:forKey:",j,"$classes");j=objj_msgSend(c._plistObjects,"count");objj_msgSend(c._plistObjects,"addObject:",i);objj_msgSend(c._UIDs,"setObject:forKey:",j,h)}objj_msgSend(f,"setObject:forKey:",objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",j,"CP$UID"),"$class")}e=objj_msgSend(c._conditionalUIDs,"objectForKey:",g);e!==nil?(objj_msgSend(c._UIDs,"setObject:forKey:",e,g),objj_msgSend(c._plistObjects,"replaceObjectAtIndex:withObject:",e,f)):(objj_msgSend(c._UIDs,
"setObject:forKey:",e=objj_msgSend(c._plistObjects,"count"),g),objj_msgSend(c._plistObjects,"addObject:",f))}return objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",e,"CP$UID")}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuItemStandardView.j",baseURL),function(i,g){g("CPControl.j",YES);var f=nil,d=nil,b=nil,a=[],e=[],c=objj_allocateClassPair(CPView,"_CPMenuItemStandardView"),h=c.isa;class_addIvars(c,[new objj_ivar("_menuItem"),new objj_ivar("_font"),new objj_ivar("_textColor"),new objj_ivar("_textShadowColor"),new objj_ivar("_minSize"),new objj_ivar("_isDirty"),new objj_ivar("_stateView"),new objj_ivar("_imageAndTextView"),new objj_ivar("_keyEquivalentView"),
new objj_ivar("_submenuIndicatorView")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("menuItem"),function(a){with(a)return _menuItem}),new objj_method(sel_getUid("setMenuItem:"),function(a,b,c){with(a)_menuItem=c}),new objj_method(sel_getUid("minSize"),function(a){with(a)return _minSize}),new objj_method(sel_getUid("initWithFrame:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPMenuItemStandardView").super_class},"initWithFrame:",
c))_stateView=objj_msgSend(objj_msgSend(CPImageView,"alloc"),"initWithFrame:",CGRectMake(0,0,0,0)),objj_msgSend(_stateView,"setImageScaling:",CPScaleNone),objj_msgSend(a,"addSubview:",_stateView),_imageAndTextView=objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",CGRectMake(0,0,0,0)),objj_msgSend(_imageAndTextView,"setImagePosition:",CPImageLeft),objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(a,"addSubview:",_imageAndTextView),_keyEquivalentView=
objj_msgSend(objj_msgSend(_CPImageAndTextView,"alloc"),"initWithFrame:",CGRectMake(0,0,0,0)),objj_msgSend(_keyEquivalentView,"setImagePosition:",CPNoImage),objj_msgSend(_keyEquivalentView,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(_keyEquivalentView,"setAutoresizingMask:",CPViewMinXMargin),objj_msgSend(a,"addSubview:",_keyEquivalentView),_submenuIndicatorView=objj_msgSend(objj_msgSend(_CPMenuItemSubmenuIndicatorView,"alloc"),"initWithFrame:",CGRectMake(0,0,8,10)),objj_msgSend(_submenuIndicatorView,
"setColor:",f),objj_msgSend(_submenuIndicatorView,"setAutoresizingMask:",CPViewMinXMargin),objj_msgSend(a,"addSubview:",_submenuIndicatorView),objj_msgSend(a,"setAutoresizingMask:",CPViewWidthSizable);return a}}),new objj_method(sel_getUid("textColor"),function(a){with(a){if(!objj_msgSend(_menuItem,"isEnabled"))return objj_msgSend(CPColor,"lightGrayColor");return _textColor||objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",70/255,69/255,69/255,1)}}),new objj_method(sel_getUid("textShadowColor"),
function(a){with(a){if(!objj_msgSend(_menuItem,"isEnabled"))return nil;return _textShadowColor||objj_msgSend(CPColor,"colorWithWhite:alpha:",1,0.8)}}),new objj_method(sel_getUid("setFont:"),function(a,b,c){with(a)_font=c}),new objj_method(sel_getUid("update"),function(b){with(b){var c=3+objj_msgSend(_menuItem,"indentationLevel")*17,d=0,e=objj_msgSend(objj_msgSend(_menuItem,"menu"),"showsStateColumn");e?(objj_msgSend(_stateView,"setHidden:",NO),objj_msgSend(_stateView,"setImage:",a[objj_msgSend(_menuItem,
"state")]||nil),c+=14):objj_msgSend(_stateView,"setHidden:",YES);objj_msgSend(_imageAndTextView,"setFont:",objj_msgSend(_menuItem,"font")||_font);objj_msgSend(_imageAndTextView,"setVerticalAlignment:",CPCenterVerticalTextAlignment);objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image"));objj_msgSend(_imageAndTextView,"setText:",objj_msgSend(_menuItem,"title"));objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(b,"textColor"));objj_msgSend(_imageAndTextView,"setTextShadowColor:",
objj_msgSend(b,"textShadowColor"));objj_msgSend(_imageAndTextView,"setTextShadowOffset:",CGSizeMake(0,1));objj_msgSend(_imageAndTextView,"sizeToFit");var f=objj_msgSend(_imageAndTextView,"frame");f.origin.x=c;c+=CGRectGetWidth(f);d=MAX(d,CGRectGetHeight(f));var g=!!objj_msgSend(_menuItem,"keyEquivalent"),h=objj_msgSend(_menuItem,"hasSubmenu");if(g||h)c+=30;if(g){objj_msgSend(_keyEquivalentView,"setFont:",objj_msgSend(_menuItem,"font")||_font);objj_msgSend(_keyEquivalentView,"setVerticalAlignment:",
CPCenterVerticalTextAlignment);objj_msgSend(_keyEquivalentView,"setImage:",objj_msgSend(_menuItem,"image"));objj_msgSend(_keyEquivalentView,"setText:",objj_msgSend(_menuItem,"keyEquivalentStringRepresentation"));objj_msgSend(_keyEquivalentView,"setTextColor:",objj_msgSend(b,"textColor"));objj_msgSend(_keyEquivalentView,"setTextShadowColor:",objj_msgSend(b,"textShadowColor"));objj_msgSend(_keyEquivalentView,"setTextShadowOffset:",CGSizeMake(0,1));objj_msgSend(_keyEquivalentView,"setFrameOrigin:",CGPointMake(c,
4));objj_msgSend(_keyEquivalentView,"sizeToFit");var i=objj_msgSend(_keyEquivalentView,"frame");i.origin.x=c;c+=CGRectGetWidth(i);d=MAX(d,CGRectGetHeight(i));h&&(c+=30)}else objj_msgSend(_keyEquivalentView,"setHidden:",YES);if(h){objj_msgSend(_submenuIndicatorView,"setHidden:",NO);var r=objj_msgSend(_submenuIndicatorView,"frame");r.origin.x=c;c+=CGRectGetWidth(r);d=MAX(d,CGRectGetHeight(r))}else objj_msgSend(_submenuIndicatorView,"setHidden:",YES);d+=8;f.origin.y=FLOOR((d-CGRectGetHeight(f))/2);objj_msgSend(_imageAndTextView,
"setFrame:",f);e&&objj_msgSend(_stateView,"setFrameSize:",CGSizeMake(14,d));if(g)i.origin.y=FLOOR((d-CGRectGetHeight(i))/2),objj_msgSend(_keyEquivalentView,"setFrame:",i);if(h)r.origin.y=FLOOR((d-CGRectGetHeight(r))/2),objj_msgSend(_submenuIndicatorView,"setFrame:",r);_minSize=CGSizeMake(c+17,d);objj_msgSend(b,"setAutoresizesSubviews:",NO);objj_msgSend(b,"setFrameSize:",_minSize);objj_msgSend(b,"setAutoresizesSubviews:",YES)}}),new objj_method(sel_getUid("highlight:"),function(c,g,h){with(c){if(!objj_msgSend(_menuItem,
"isEnabled"))return;h?(objj_msgSend(c,"setBackgroundColor:",d),objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"alternateImage")||objj_msgSend(_menuItem,"image")),objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_keyEquivalentView,"setTextColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_submenuIndicatorView,"setColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(_imageAndTextView,"setTextShadowColor:",b),objj_msgSend(_keyEquivalentView,
"setTextShadowColor:",b)):(objj_msgSend(c,"setBackgroundColor:",nil),objj_msgSend(_imageAndTextView,"setImage:",objj_msgSend(_menuItem,"image")),objj_msgSend(_imageAndTextView,"setTextColor:",objj_msgSend(c,"textColor")),objj_msgSend(_keyEquivalentView,"setTextColor:",objj_msgSend(c,"textColor")),objj_msgSend(_submenuIndicatorView,"setColor:",f),objj_msgSend(_imageAndTextView,"setTextShadowColor:",objj_msgSend(c,"textShadowColor")),objj_msgSend(_keyEquivalentView,"setTextShadowColor:",objj_msgSend(c,
"textShadowColor")));objj_msgSend(objj_msgSend(_menuItem,"menu"),"showsStateColumn")&&(h?objj_msgSend(_stateView,"setImage:",e[objj_msgSend(_menuItem,"state")]||nil):objj_msgSend(_stateView,"setImage:",a[objj_msgSend(_menuItem,"state")]||nil))}})]);class_addMethods(h,[new objj_method(sel_getUid("initialize"),function(c){with(c){if(c!==objj_msgSend(_CPMenuItemStandardView,"class"))return;f=objj_msgSend(CPColor,"grayColor");d=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",95/255,131/
255,185/255,1);b=objj_msgSend(CPColor,"colorWithCalibratedRed:green:blue:alpha:",26/255,73/255,109/255,1);c=objj_msgSend(CPBundle,"bundleForClass:",c);a[CPOffState]=nil;e[CPOffState]=nil;a[CPOnState]=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(c,"pathForResource:","CPMenuItem/CPMenuItemOnState.png"),CGSizeMake(14,14));e[CPOnState]=objj_msgSend(objj_msgSend(CPImage,"alloc"),"initWithContentsOfFile:size:",objj_msgSend(c,"pathForResource:","CPMenuItem/CPMenuItemOnStateHighlighted.png"),
CGSizeMake(14,14));a[CPMixedState]=nil;e[CPMixedState]=nil}}),new objj_method(sel_getUid("view"),function(a){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"init")}),new objj_method(sel_getUid("_standardLeftMargin"),function(a){with(a)return 17})]);c=objj_allocateClassPair(CPView,"_CPMenuItemSubmenuIndicatorView");h=c.isa;class_addIvars(c,[new objj_ivar("_color")]);objj_registerClassPair(c);class_addMethods(c,[new objj_method(sel_getUid("setColor:"),function(a,b,c){with(a){if(_color===c)return;
_color=c;objj_msgSend(a,"setNeedsDisplay:",YES)}}),new objj_method(sel_getUid("drawRect:"),function(a){with(a){var b=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");a=objj_msgSend(a,"bounds");CGContextBeginPath(b);CGContextMoveToPoint(b,CGRectGetMinX(a),CGRectGetMinY(a));CGContextAddLineToPoint(b,CGRectGetMaxX(a),CGRectGetMidY(a));CGContextAddLineToPoint(b,CGRectGetMinX(a),CGRectGetMaxY(a));CGContextClosePath(b);CGContextSetFillColor(b,_color);CGContextFillPath(b)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPWindowController.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);g("Foundation/CPString.j",NO);g("CPResponder.j",YES);g("CPWindow.j",YES);g("CPDocument.j",YES);var f=objj_allocateClassPair(CPResponder,"CPWindowController");class_addIvars(f,[new objj_ivar("_window"),new objj_ivar("_documents"),new objj_ivar("_document"),new objj_ivar("_shouldCloseDocument"),new objj_ivar("_supportsMultipleDocuments"),new objj_ivar("_cibOwner"),
new objj_ivar("_windowCibName"),new objj_ivar("_windowCibPath"),new objj_ivar("_viewController"),new objj_ivar("_viewControllerContainerView")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("init"),function(d){with(d)return objj_msgSend(d,"initWithWindow:",nil)}),new objj_method(sel_getUid("initWithWindow:"),function(d,b,a){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPWindowController").super_class},"init"))objj_msgSend(d,"setWindow:",a),objj_msgSend(d,
"setShouldCloseDocument:",NO),objj_msgSend(d,"setNextResponder:",CPApp),_documents=[];return d}}),new objj_method(sel_getUid("initWithWindowCibName:"),function(d,b,a){with(d)return objj_msgSend(d,"initWithWindowCibName:owner:",a,d)}),new objj_method(sel_getUid("initWithWindowCibName:owner:"),function(d,b,a,e){with(d){if(d=objj_msgSend(d,"initWithWindow:",nil))_cibOwner=e,_windowCibName=a;return d}}),new objj_method(sel_getUid("initWithWindowCibPath:owner:"),function(d,b,a,e){with(d){if(d=objj_msgSend(d,
"initWithWindow:",nil))_cibOwner=e,_windowCibPath=a;return d}}),new objj_method(sel_getUid("loadWindow"),function(d){with(d){if(_window)return;objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"loadCibFile:externalNameTable:",objj_msgSend(d,"windowCibPath"),objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",_cibOwner,CPCibOwner))}}),new objj_method(sel_getUid("showWindow:"),function(d,b,a){with(d)d=objj_msgSend(d,"window"),objj_msgSend(d,"respondsToSelector:",sel_getUid("becomesKeyOnlyIfNeeded"))&&
objj_msgSend(d,"becomesKeyOnlyIfNeeded")?objj_msgSend(d,"orderFront:",a):objj_msgSend(d,"makeKeyAndOrderFront:",a)}),new objj_method(sel_getUid("isWindowLoaded"),function(d){with(d)return _window!==nil}),new objj_method(sel_getUid("window"),function(d){with(d){if(!_window){objj_msgSend(d,"windowWillLoad");objj_msgSend(_document,"windowControllerWillLoadCib:",d);objj_msgSend(d,"loadWindow");_window===nil&&objj_msgSend(_cibOwner,"isKindOfClass:",objj_msgSend(CPDocument,"class"))&&objj_msgSend(d,"setWindow:",
objj_msgSend(_cibOwner,"valueForKey:","window"));if(!_window){var b=objj_msgSend(CPString,"stringWithFormat:","Window for %@ could not be loaded from Cib or no window specified.                                                         Override loadWindow to load the window manually.",d);objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,b)}objj_msgSend(d,"windowDidLoad");objj_msgSend(_document,"windowControllerDidLoadCib:",d);objj_msgSend(d,"synchronizeWindowTitleWithDocumentName")}return _window}}),
new objj_method(sel_getUid("setWindow:"),function(d,b,a){with(d)objj_msgSend(_window,"setWindowController:",nil),_window=a,objj_msgSend(_window,"setWindowController:",d),objj_msgSend(_window,"setNextResponder:",d)}),new objj_method(sel_getUid("windowDidLoad"),function(d){with(d);}),new objj_method(sel_getUid("windowWillLoad"),function(d){with(d);}),new objj_method(sel_getUid("setDocument:"),function(d,b,a){with(d){if(_document===a)return;b=objj_msgSend(CPNotificationCenter,"defaultCenter");_document&&
(objj_msgSend(d,"supportsMultipleDocuments")||objj_msgSend(d,"removeDocument:",_document),objj_msgSend(b,"removeObserver:name:object:",d,CPDocumentWillSaveNotification,_document),objj_msgSend(b,"removeObserver:name:object:",d,CPDocumentDidSaveNotification,_document),objj_msgSend(b,"removeObserver:name:object:",d,CPDocumentDidFailToSaveNotification,_document));if(_document=a)objj_msgSend(d,"addDocument:",_document),objj_msgSend(b,"addObserver:selector:name:object:",d,sel_getUid("_documentWillSave:"),
CPDocumentWillSaveNotification,_document),objj_msgSend(b,"addObserver:selector:name:object:",d,sel_getUid("_documentDidSave:"),CPDocumentDidSaveNotification,_document),objj_msgSend(b,"addObserver:selector:name:object:",d,sel_getUid("_documentDidFailToSave:"),CPDocumentDidFailToSaveNotification,_document),objj_msgSend(d,"setDocumentEdited:",objj_msgSend(_document,"isDocumentEdited"));(a=objj_msgSend(_document,"viewControllerForWindowController:",d))&&objj_msgSend(d,"setViewController:",a);objj_msgSend(d,
"synchronizeWindowTitleWithDocumentName");objj_msgSend(objj_msgSend(objj_msgSend(d,"window"),"toolbar"),"validateVisibleItems")}}),new objj_method(sel_getUid("setSupportsMultipleDocuments:"),function(d,b,a){with(d)_supportsMultipleDocuments=a}),new objj_method(sel_getUid("supportsMultipleDocuments"),function(d){with(d)return _supportsMultipleDocuments}),new objj_method(sel_getUid("addDocument:"),function(d,b,a){with(d)a&&!objj_msgSend(_documents,"containsObject:",a)&&objj_msgSend(_documents,"addObject:",
a)}),new objj_method(sel_getUid("removeDocument:"),function(d,b,a){with(d){b=objj_msgSend(_documents,"indexOfObjectIdenticalTo:",a);if(b===CPNotFound)return;objj_msgSend(_documents,"removeObjectAtIndex:",b);_document===a&&objj_msgSend(_documents,"count")&&objj_msgSend(d,"setDocument:",objj_msgSend(_documents,"objectAtIndex:",MIN(b,objj_msgSend(_documents,"count")-1)))}}),new objj_method(sel_getUid("removeDocumentAndCloseIfNecessary:"),function(d,b,a){with(d)objj_msgSend(d,"removeDocument:",a),objj_msgSend(_documents,
"count")||objj_msgSend(d,"close")}),new objj_method(sel_getUid("documents"),function(d){with(d)return _documents}),new objj_method(sel_getUid("setViewControllerContainerView:"),function(d,b,a){with(d)_viewControllerContainerView=a}),new objj_method(sel_getUid("viewControllerContainerView"),function(d){with(d)return _viewControllerContainerView}),new objj_method(sel_getUid("setViewController:"),function(d,b,a){with(d){d=objj_msgSend(d,"viewControllerContainerView")||objj_msgSend(objj_msgSend(d,"window"),
"contentView");var e=(b=objj_msgSend(_viewController,"view"))?objj_msgSend(b,"frame"):objj_msgSend(d,"bounds");objj_msgSend(b,"removeFromSuperview");_viewController=a;if(b=objj_msgSend(_viewController,"view"))objj_msgSend(b,"setFrame:",e),objj_msgSend(d,"addSubview:",b)}}),new objj_method(sel_getUid("viewController"),function(d){with(d)return _viewController}),new objj_method(sel_getUid("_documentWillSave:"),function(d){with(d)objj_msgSend(objj_msgSend(d,"window"),"setDocumentSaving:",YES)}),new objj_method(sel_getUid("_documentDidSave:"),
function(d){with(d)objj_msgSend(objj_msgSend(d,"window"),"setDocumentSaving:",NO)}),new objj_method(sel_getUid("_documentDidFailToSave:"),function(d){with(d)objj_msgSend(objj_msgSend(d,"window"),"setDocumentSaving:",NO)}),new objj_method(sel_getUid("document"),function(d){with(d)return _document}),new objj_method(sel_getUid("setDocumentEdited:"),function(d,b,a){with(d)objj_msgSend(objj_msgSend(d,"window"),"setDocumentEdited:",a)}),new objj_method(sel_getUid("close"),function(d){with(d)objj_msgSend(objj_msgSend(d,
"window"),"close")}),new objj_method(sel_getUid("setShouldCloseDocument:"),function(d,b,a){with(d)_shouldCloseDocument=a}),new objj_method(sel_getUid("shouldCloseDocument"),function(d){with(d)return _shouldCloseDocument}),new objj_method(sel_getUid("owner"),function(d){with(d)return _cibOwner}),new objj_method(sel_getUid("windowCibName"),function(d){with(d){if(_windowCibName)return _windowCibName;return objj_msgSend(objj_msgSend(_windowCibPath,"lastPathComponent"),"stringByDeletingPathExtension")}}),
new objj_method(sel_getUid("windowCibPath"),function(d){with(d){if(_windowCibPath)return _windowCibPath;return objj_msgSend(objj_msgSend(CPBundle,"mainBundle"),"pathForResource:",_windowCibName+".cib")}}),new objj_method(sel_getUid("synchronizeWindowTitleWithDocumentName"),function(d){with(d){if(!_document||!_window)return;objj_msgSend(_window,"setTitle:",objj_msgSend(d,"windowTitleForDocumentDisplayName:",objj_msgSend(_document,"displayName")))}}),new objj_method(sel_getUid("windowTitleForDocumentDisplayName:"),
function(d,b,a){with(d)return a})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPPasteboard.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);g("Foundation/CPArray.j",NO);g("Foundation/CPDictionary.j",NO);g("Foundation/CPPropertyListSerialization.j",NO);CPGeneralPboard="CPGeneralPboard";CPFontPboard="CPFontPboard";CPRulerPboard="CPRulerPboard";CPFindPboard="CPFindPboard";CPDragPboard="CPDragPboard";CPColorPboardType="CPColorPboardType";CPFilenamesPboardType="CPFilenamesPboardType";CPFontPboardType="CPFontPboardType";
CPHTMLPboardType="CPHTMLPboardType";CPStringPboardType="CPStringPboardType";CPURLPboardType="CPURLPboardType";CPImagesPboardType="CPImagesPboardType";CPVideosPboardType="CPVideosPboardType";UTF8PboardType="public.utf8-plain-text";CPImagePboardType="CPImagePboardType";var f=nil,d=NO,b=objj_allocateClassPair(CPObject,"CPPasteboard"),a=b.isa;class_addIvars(b,[new objj_ivar("_types"),new objj_ivar("_owners"),new objj_ivar("_provided"),new objj_ivar("_changeCount"),new objj_ivar("_stateUID"),new objj_ivar("_nativePasteboard")]);
objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("_initWithName:"),function(a,b,e){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPPasteboard").super_class},"init"))_name=e,_types=[],_owners=objj_msgSend(CPDictionary,"dictionary"),_provided=objj_msgSend(CPDictionary,"dictionary"),_changeCount=0,d&&(_nativePasteboard=window.cpPasteboardWithName(e),objj_msgSend(a,"_synchronizePasteboard"));return a}}),new objj_method(sel_getUid("addTypes:owner:"),function(a,
b,d,e){with(a){a=0;for(b=d.length;a<b;++a){var f=d[a];objj_msgSend(_owners,"objectForKey:",f)||(objj_msgSend(_types,"addObject:",f),objj_msgSend(_provided,"removeObjectForKey:",f));objj_msgSend(_owners,"setObject:forKey:",e,f)}_nativePasteboard&&(e=objj_msgSend(d,"copy"),objj_msgSend(d,"containsObject:",CPStringPboardType)&&e.push(UTF8PboardType),_nativePasteboard.addTypes_(e));return++_changeCount}}),new objj_method(sel_getUid("declareTypes:owner:"),function(a,b,d,e){with(a)objj_msgSend(a,"_declareTypes:owner:updateNativePasteboard:",
d,e,YES)}),new objj_method(sel_getUid("_declareTypes:owner:updateNativePasteboard:"),function(a,b,d,e,f){with(a){objj_msgSend(_types,"setArray:",d);_owners=objj_msgSend(CPDictionary,"dictionary");_provided=objj_msgSend(CPDictionary,"dictionary");for(a=_types.length;a--;)objj_msgSend(_owners,"setObject:forKey:",e,_types[a]);_nativePasteboard&&f&&(e=objj_msgSend(d,"copy"),objj_msgSend(d,"containsObject:",CPStringPboardType)&&e.push(UTF8PboardType),_nativePasteboard.declareTypes_(e),_changeCount=_nativePasteboard.changeCount());
return++_changeCount}}),new objj_method(sel_getUid("setData:forType:"),function(a,b,d,e){with(a)return objj_msgSend(_provided,"setObject:forKey:",d,e),e===CPStringPboardType&&objj_msgSend(a,"setData:forType:",d,UTF8PboardType),YES}),new objj_method(sel_getUid("setPropertyList:forType:"),function(a,b,d,e){with(a)return objj_msgSend(a,"setData:forType:",objj_msgSend(CPPropertyListSerialization,"dataFromPropertyList:format:",d,CPPropertyList280NorthFormat_v1_0),e)}),new objj_method(sel_getUid("setString:forType:"),
function(a,b,d,e){with(a)objj_msgSend(a,"setPropertyList:forType:",d,e)}),new objj_method(sel_getUid("availableTypeFromArray:"),function(a,b,d){with(a)return objj_msgSend(objj_msgSend(a,"types"),"firstObjectCommonWithArray:",d)}),new objj_method(sel_getUid("types"),function(a){with(a)return objj_msgSend(a,"_synchronizePasteboard"),_types}),new objj_method(sel_getUid("changeCount"),function(a){with(a)return _changeCount}),new objj_method(sel_getUid("dataForType:"),function(a,b,d){with(a){if(b=objj_msgSend(_provided,
"objectForKey:",d))return b;if(b=objj_msgSend(_owners,"objectForKey:",d))return objj_msgSend(b,"pasteboard:provideDataForType:",a,d),objj_msgSend(_provided,"objectForKey:",d);if(d===CPStringPboardType)return objj_msgSend(a,"dataForType:",UTF8PboardType);return nil}}),new objj_method(sel_getUid("_synchronizePasteboard"),function(a){with(a)if(_nativePasteboard&&_nativePasteboard.changeCount()>_changeCount){var b=objj_msgSend(_nativePasteboard.types(),"copy");objj_msgSend(b,"containsObject:",UTF8PboardType)&&
b.push(CPStringPboardType);objj_msgSend(a,"_declareTypes:owner:updateNativePasteboard:",b,a,NO);_changeCount=_nativePasteboard.changeCount()}}),new objj_method(sel_getUid("pasteboard:provideDataForType:"),function(a,b,d,e){with(a)e===CPStringPboardType?(b=_nativePasteboard.stringForType_(UTF8PboardType),objj_msgSend(a,"setString:forType:",b,CPStringPboardType),objj_msgSend(a,"setString:forType:",b,UTF8PboardType)):objj_msgSend(a,"setString:forType:",_nativePasteboard.stringForType_(e),e)}),new objj_method(sel_getUid("propertyListForType:"),
function(a,b,d){with(a){if(a=objj_msgSend(a,"dataForType:",d))return objj_msgSend(CPPropertyListSerialization,"propertyListFromData:format:",a,CPPropertyList280NorthFormat_v1_0);return nil}}),new objj_method(sel_getUid("stringForType:"),function(a,b,d){with(a)return objj_msgSend(a,"propertyListForType:",d)}),new objj_method(sel_getUid("_generateStateUID"),function(a){with(a){a=32;for(_stateUID="";a--;)_stateUID+=FLOOR(RAND()*16).toString(16).toUpperCase();return _stateUID}}),new objj_method(sel_getUid("_stateUID"),
function(a){with(a)return _stateUID})]);class_addMethods(a,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(CPPasteboard,"class"))return;objj_msgSend(a,"setVersion:",1);f=objj_msgSend(CPDictionary,"dictionary");typeof window.cpPasteboardWithName!=="undefined"&&(d=YES)}}),new objj_method(sel_getUid("generalPasteboard"),function(a){with(a)return objj_msgSend(CPPasteboard,"pasteboardWithName:",CPGeneralPboard)}),new objj_method(sel_getUid("pasteboardWithName:"),function(a,
b,d){with(a){if(a=objj_msgSend(f,"objectForKey:",d))return a;a=objj_msgSend(objj_msgSend(CPPasteboard,"alloc"),"_initWithName:",d);objj_msgSend(f,"setObject:forKey:",a,d);return a}})]);var e=nil;b=objj_allocateClassPair(CPPasteboard,"_CPDOMDataTransferPasteboard");a=b.isa;class_addIvars(b,[new objj_ivar("_dataTransfer")]);objj_registerClassPair(b);class_addMethods(b,[new objj_method(sel_getUid("_setDataTransfer:"),function(a,b,d){with(a)_dataTransfer=d}),new objj_method(sel_getUid("_setPasteboard:"),
function(a,b,d){with(a){_dataTransfer.clearData();a=objj_msgSend(d,"types");for(b=a.length;b--;){var e=a[b];e===CPStringPboardType?_dataTransfer.setData(e,objj_msgSend(d,"stringForType:",e)):_dataTransfer.setData(e,objj_msgSend(objj_msgSend(d,"dataForType:",e),"rawString"))}}}),new objj_method(sel_getUid("types"),function(a){with(a)return Array.prototype.slice.apply(_dataTransfer.types)}),new objj_method(sel_getUid("dataForType:"),function(a,b,d){with(a){a=_dataTransfer.getData(d);if(d===CPStringPboardType)return objj_msgSend(CPData,
"dataFromPropertyList:format:",a,kCFPropertyList280NorthFormat_v1_0);return objj_msgSend(CPData,"dataWithRawString:",a)}}),new objj_method(sel_getUid("propertyListForType:"),function(a,b,d){with(a){if(d===CPStringPboardType)return _dataTransfer.getData(d);return objj_msgSend(CPPropertyListSerialization,"propertyListFromData:format:",objj_msgSend(a,"dataForType:",d),CPPropertyListUnknownFormat)}})]);class_addMethods(a,[new objj_method(sel_getUid("DOMDataTransferPasteboard"),function(a){with(a)return e||
(e=objj_msgSend(objj_msgSend(_CPDOMDataTransferPasteboard,"alloc"),"init")),e})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPRunLoop.j",baseURL),function(i,g){g("CPArray.j",YES);g("CPDate.j",YES);g("CPObject.j",YES);g("CPString.j",YES);CPDefaultRunLoopMode="CPDefaultRunLoopMode";_CPRunLoopPerformCompare=function(a,b){return objj_msgSend(b,"order")-objj_msgSend(a,"order")};var f=[],d=objj_allocateClassPair(CPObject,"_CPRunLoopPerform"),b=d.isa;class_addIvars(d,[new objj_ivar("_target"),new objj_ivar("_selector"),new objj_ivar("_argument"),new objj_ivar("_order"),
new objj_ivar("_runLoopModes"),new objj_ivar("_isValid")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithSelector:target:argument:order:modes:"),function(a,b,d,f,g,q,m){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPRunLoopPerform").super_class},"init"))_selector=d,_target=f,_argument=g,_order=q,_runLoopModes=m,_isValid=YES;return a}}),new objj_method(sel_getUid("selector"),function(a){with(a)return _selector}),new objj_method(sel_getUid("target"),
function(a){with(a)return _target}),new objj_method(sel_getUid("argument"),function(a){with(a)return _argument}),new objj_method(sel_getUid("order"),function(a){with(a)return _order}),new objj_method(sel_getUid("fireInMode:"),function(a,b,d){with(a){if(!_isValid)return YES;if(objj_msgSend(_runLoopModes,"containsObject:",d))return objj_msgSend(_target,"performSelector:withObject:",_selector,_argument),YES;return NO}}),new objj_method(sel_getUid("invalidate"),function(a){with(a)_isValid=NO})]);class_addMethods(b,
[new objj_method(sel_getUid("_poolPerform:"),function(a,b,d){with(a){if(!d||f.length>=5)return;f.push(d)}}),new objj_method(sel_getUid("performWithSelector:target:argument:order:modes:"),function(a,b,d,g,i,q,m){with(a){if(f.length)return a=f.pop(),a._target=g,a._selector=d,a._argument=i,a._order=q,a._runLoopModes=m,a._isValid=YES,a;return objj_msgSend(objj_msgSend(a,"alloc"),"initWithSelector:target:argument:order:modes:",d,g,i,q,m)}})]);var a=0;d=objj_allocateClassPair(CPObject,"CPRunLoop");b=d.isa;
class_addIvars(d,[new objj_ivar("_runLoopLock"),new objj_ivar("_timersForModes"),new objj_ivar("_nativeTimersForModes"),new objj_ivar("_nextTimerFireDatesForModes"),new objj_ivar("_didAddTimer"),new objj_ivar("_effectiveDate"),new objj_ivar("_orderedPerforms"),new objj_ivar("_runLoopInsuranceTimer")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("init"),function(a){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPRunLoop").super_class},"init"))_orderedPerforms=
[],_timersForModes={},_nativeTimersForModes={},_nextTimerFireDatesForModes={};return a}}),new objj_method(sel_getUid("performSelector:target:argument:order:modes:"),function(a,b,d,f,g,q,m){with(a){a=objj_msgSend(_CPRunLoopPerform,"performWithSelector:target:argument:order:modes:",d,f,g,q,m);for(b=_orderedPerforms.length;b--;)if(q<objj_msgSend(_orderedPerforms[b],"order"))break;_orderedPerforms.splice(b+1,0,a)}}),new objj_method(sel_getUid("cancelPerformSelector:target:argument:"),function(a,b,d,f,
g){with(a)for(a=_orderedPerforms.length;a--;)b=_orderedPerforms[a],objj_msgSend(b,"selector")===d&&objj_msgSend(b,"target")==f&&objj_msgSend(b,"argument")==g&&objj_msgSend(_orderedPerforms[a],"invalidate")}),new objj_method(sel_getUid("performSelectors"),function(a){with(a)objj_msgSend(a,"limitDateForMode:",CPDefaultRunLoopMode)}),new objj_method(sel_getUid("addTimer:forMode:"),function(b,c,d,f){with(b){_timersForModes[f]?_timersForModes[f].push(d):_timersForModes[f]=[d];_didAddTimer=YES;if(!d._lastNativeRunLoopsForModes)d._lastNativeRunLoopsForModes=
{};d._lastNativeRunLoopsForModes[f]=a;objj_msgSend(CFBundle.environments(),"indexOfObject:","Browser")!==CPNotFound&&(_runLoopInsuranceTimer||(_runLoopInsuranceTimer=window.setNativeTimeout(function(){objj_msgSend(b,"limitDateForMode:",CPDefaultRunLoopMode)},0)))}}),new objj_method(sel_getUid("limitDateForMode:"),function(b,c,d){with(b){if(_runLoopLock)return;_runLoopLock=YES;objj_msgSend(CFBundle.environments(),"indexOfObject:","Browser")!==CPNotFound&&_runLoopInsuranceTimer&&(window.clearNativeTimeout(_runLoopInsuranceTimer),
_runLoopInsuranceTimer=nil);var f=_effectiveDate?objj_msgSend(_effectiveDate,"laterDate:",objj_msgSend(CPDate,"date")):objj_msgSend(CPDate,"date"),g=nil;c=_nextTimerFireDatesForModes[d];if(_didAddTimer||c&&c<=f){_didAddTimer=NO;_nativeTimersForModes[d]!==nil&&(window.clearNativeTimeout(_nativeTimersForModes[d]),_nativeTimersForModes[d]=nil);var q=_timersForModes[d];c=q.length;for(_timersForModes[d]=nil;c--;){var m=q[c];m._lastNativeRunLoopsForModes[d]<a&&m._isValid&&m._fireDate<=f&&objj_msgSend(m,
"fire");m._isValid?g=g===nil?m._fireDate:objj_msgSend(g,"earlierDate:",m._fireDate):(m._lastNativeRunLoopsForModes[d]=0,q.splice(c,1))}if((f=_timersForModes[d])&&f.length){for(c=f.length;c--;)m=f[c],objj_msgSend(m,"isValid")?g=g===nil?m._fireDate:objj_msgSend(g,"earlierDate:",m._fireDate):f.splice(c,1);_timersForModes[d]=f.concat(q)}else _timersForModes[d]=q;_nextTimerFireDatesForModes[d]=g;_nextTimerFireDatesForModes[d]!==nil&&(_nativeTimersForModes[d]=window.setNativeTimeout(function(){_effectiveDate=
g;_nativeTimersForModes[d]=nil;++a;objj_msgSend(b,"limitDateForMode:",d);_effectiveDate=nil},MAX(0,objj_msgSend(g,"timeIntervalSinceNow")*1E3)))}f=_orderedPerforms;c=f.length;for(_orderedPerforms=[];c--;)q=f[c],objj_msgSend(q,"fireInMode:",CPDefaultRunLoopMode)&&(objj_msgSend(_CPRunLoopPerform,"_poolPerform:",q),f.splice(c,1));_orderedPerforms.length?(_orderedPerforms=_orderedPerforms.concat(f),_orderedPerforms.sort(_CPRunLoopPerformCompare)):_orderedPerforms=f;_runLoopLock=NO;return g}})]);class_addMethods(b,
[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!=objj_msgSend(CPRunLoop,"class"))return;CPMainRunLoop=objj_msgSend(objj_msgSend(CPRunLoop,"alloc"),"init")}}),new objj_method(sel_getUid("currentRunLoop"),function(a){with(a)return CPMainRunLoop}),new objj_method(sel_getUid("mainRunLoop"),function(a){with(a)return CPMainRunLoop})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/_CPJavaScriptArray.j",baseURL),function(i,g){g("CPMutableArray.j",YES);var f=Array.prototype.concat,d=Array.prototype.indexOf,b=Array.prototype.join,a=Array.prototype.pop,e=Array.prototype.push,c=Array.prototype.slice,h=Array.prototype.splice,k=objj_allocateClassPair(CPMutableArray,"_CPJavaScriptArray"),o=k.isa;objj_registerClassPair(k);class_addMethods(k,[new objj_method(sel_getUid("initWithArray:"),function(a,b,c){with(a)return objj_msgSend(a,
"initWithArray:copyItems:",c,NO)}),new objj_method(sel_getUid("initWithArray:copyItems:"),function(a,b,d,e){with(a){if(!e&&objj_msgSend(d,"isKindOfClass:",_CPJavaScriptArray))return c.call(d,0);a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPJavaScriptArray").super_class},"init");b=0;if(objj_msgSend(d,"isKindOfClass:",_CPJavaScriptArray)){for(var f=d.length;b<f;++b){var g=d[b];a[b]=g&&g.isa?objj_msgSend(g,"copy"):g}return a}for(f=objj_msgSend(d,"count");b<f;++b)g=objj_msgSend(d,"objectAtIndex:",
b),a[b]=e&&g&&g.isa?objj_msgSend(g,"copy"):g;return a}}),new objj_method(sel_getUid("initWithObjects:"),function(a){with(a){for(var b=2,d=arguments.length;b<d;++b)if(arguments[b]===nil)break;return c.call(arguments,2,b)}}),new objj_method(sel_getUid("initWithObjects:count:"),function(a,b,d,f){with(a){if(objj_msgSend(d,"isKindOfClass:",_CPJavaScriptArray))return c.call(d,0);a=[];for(b=0;b<f;++b)e.call(a,objj_msgSend(d,"objectAtIndex:",b));return a}}),new objj_method(sel_getUid("initWithCapacity:"),
function(a){with(a)return a}),new objj_method(sel_getUid("count"),function(a){with(a)return a.length}),new objj_method(sel_getUid("objectAtIndex:"),function(a,b,c){with(a)return(c>=a.length||c<0)&&_CPRaiseRangeException(a,b,c,a.length),a[c]}),new objj_method(sel_getUid("indexOfObject:inRange:"),function(a,b,c,d){with(a){if(c&&c.isa){b=d?d.location:0;for(d=d?CPMaxRange(d):a.length;b<d;++b)if(objj_msgSend(a[b],"isEqual:",c))return b;return CPNotFound}return objj_msgSend(a,"indexOfObjectIdenticalTo:inRange:",
c,d)}}),new objj_method(sel_getUid("indexOfObjectIdenticalTo:inRange:"),function(a,b,c,e){with(a){if(d&&!e)return d.call(a,c);b=e?e.location:0;for(e=e?CPMaxRange(e):a.length;b<e;++b)if(a[b]===c)return b;return CPNotFound}}),new objj_method(sel_getUid("makeObjectsPerformSelector:withObjects:"),function(a,b,c,d){with(a){c||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"makeObjectsPerformSelector:withObjects: 'aSelector' can't be nil");b=0;var e=a.length;if(objj_msgSend(d,"count"))for(argumentsArray=
objj_msgSend([nil,c],"arrayByAddingObjectsFromArray:",d);b<e;++b)argumentsArray[0]=a[b],objj_msgSend.apply(this,argumentsArray);else for(;b<e;++b)objj_msgSend(a[b],c)}}),new objj_method(sel_getUid("arrayByAddingObject:"),function(a,b,c){with(a){if(c&&c.isa&&objj_msgSend(c,"isKindOfClass:",_CPJavaScriptArray))return f.call(a,[c]);return f.call(a,c)}}),new objj_method(sel_getUid("arrayByAddingObjectsFromArray:"),function(a,b,c){with(a){if(!c)return objj_msgSend(a,"copy");return f.call(a,objj_msgSend(c,
"isKindOfClass:",_CPJavaScriptArray)?c:objj_msgSend(c,"_javaScriptArrayCopy"))}}),new objj_method(sel_getUid("subarrayWithRange:"),function(a,b,d){with(a)return(d.location<0||CPMaxRange(d)>a.length)&&objj_msgSend(CPException,"raise:reason:",CPRangeException,"subarrayWithRange: aRange out of bounds"),c.call(a,d.location,CPMaxRange(d))}),new objj_method(sel_getUid("componentsJoinedByString:"),function(a,c,d){with(a)return b.call(a,d)}),new objj_method(sel_getUid("insertObject:atIndex:"),function(a,
b,c,d){with(a)h.call(a,d,0,c)}),new objj_method(sel_getUid("removeObjectAtIndex:"),function(a,b,c){with(a)h.call(a,c,1)}),new objj_method(sel_getUid("addObject:"),function(a,b,c){with(a)e.call(a,c)}),new objj_method(sel_getUid("removeAllObjects"),function(a){with(a)h.call(a,0,a.length)}),new objj_method(sel_getUid("removeLastObject"),function(b){with(b)a.call(b)}),new objj_method(sel_getUid("removeObjectsInRange:"),function(a,b,c){with(a)h.call(a,c.location,c.length)}),new objj_method(sel_getUid("replaceObjectAtIndex:withObject:"),
function(a,b,c,d){with(a)a[c]=d}),new objj_method(sel_getUid("replaceObjectsInRange:withObjectsFromArray:range:"),function(a,b,c,d,e){with(a){if(e&&(e.location!==0||e.length!==objj_msgSend(d,"count")))d=objj_msgSend(d,"subarrayWithRange:",e);d.isa!==_CPJavaScriptArray&&(d=objj_msgSend(d,"_javaScriptArrayCopy"));h.apply(a,[c.location,c.length].concat(d))}}),new objj_method(sel_getUid("setArray:"),function(a,b,c){with(a)objj_msgSend(c,"isKindOfClass:",_CPJavaScriptArray)?h.apply(a,[0,a.length].concat(c)):
objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPJavaScriptArray").super_class},"setArray:",c)}),new objj_method(sel_getUid("addObjectsFromArray:"),function(a,b,c){with(a)objj_msgSend(c,"isKindOfClass:",_CPJavaScriptArray)?h.apply(a,[a.length,0].concat(c)):objj_msgSendSuper({receiver:a,super_class:objj_getClass("_CPJavaScriptArray").super_class},"addObjectsFromArray:",c)}),new objj_method(sel_getUid("copy"),function(a){with(a)return c.call(a,0)}),new objj_method(sel_getUid("classForCoder"),
function(a){with(a)return CPArray})]);class_addMethods(o,[new objj_method(sel_getUid("alloc"),function(a){with(a)return[]}),new objj_method(sel_getUid("array"),function(a){with(a)return[]}),new objj_method(sel_getUid("arrayWithArray:"),function(a,b,c){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithArray:",c)}),new objj_method(sel_getUid("arrayWithObject:"),function(a,b,c){with(a)return[c]})]);Array.prototype.isa=_CPJavaScriptArray});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPNumber.j",baseURL),function(i,g){g("CPObject.j",YES);g("CPObjJRuntime.j",YES);var f=new CFMutableDictionary,d=objj_allocateClassPair(CPObject,"CPNumber"),b=d.isa;objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithBool:"),function(a,b,c){with(a)return c}),new objj_method(sel_getUid("initWithChar:"),function(a,b,c){with(a){if(c.charCodeAt)return c.charCodeAt(0);return c}}),new objj_method(sel_getUid("initWithDouble:"),
function(a,b,c){with(a)return c}),new objj_method(sel_getUid("initWithFloat:"),function(a,b,c){with(a)return c}),new objj_method(sel_getUid("initWithInt:"),function(a,b,c){with(a)return c}),new objj_method(sel_getUid("initWithLong:"),function(a,b,c){with(a)return c}),new objj_method(sel_getUid("initWithLongLong:"),function(a,b,c){with(a)return c}),new objj_method(sel_getUid("initWithShort:"),function(a,b,c){with(a)return c}),new objj_method(sel_getUid("initWithUnsignedChar:"),function(a,b,c){with(a){if(c.charCodeAt)return c.charCodeAt(0);
return c}}),new objj_method(sel_getUid("initWithUnsignedInt:"),function(a,b,c){with(a)return c}),new objj_method(sel_getUid("initWithUnsignedLong:"),function(a,b,c){with(a)return c}),new objj_method(sel_getUid("initWithUnsignedShort:"),function(a,b,c){with(a)return c}),new objj_method(sel_getUid("UID"),function(a){with(a){var b=f.valueForKey(a);b||(b=objj_generateObjectUID(),f.setValueForKey(a,b));return b+""}}),new objj_method(sel_getUid("boolValue"),function(a){with(a)return a?!0:!1}),new objj_method(sel_getUid("charValue"),
function(a){with(a)return String.fromCharCode(a)}),new objj_method(sel_getUid("decimalValue"),function(a){with(a)throw Error("decimalValue: NOT YET IMPLEMENTED");}),new objj_method(sel_getUid("descriptionWithLocale:"),function(a,b,c){with(a){if(!c)return toString();throw Error("descriptionWithLocale: NOT YET IMPLEMENTED");}}),new objj_method(sel_getUid("description"),function(a){with(a)return objj_msgSend(a,"descriptionWithLocale:",nil)}),new objj_method(sel_getUid("doubleValue"),function(a){with(a){if(typeof a==
"boolean")return a?1:0;return a}}),new objj_method(sel_getUid("floatValue"),function(a){with(a){if(typeof a=="boolean")return a?1:0;return a}}),new objj_method(sel_getUid("intValue"),function(a){with(a){if(typeof a=="boolean")return a?1:0;return a}}),new objj_method(sel_getUid("longLongValue"),function(a){with(a){if(typeof a=="boolean")return a?1:0;return a}}),new objj_method(sel_getUid("longValue"),function(a){with(a){if(typeof a=="boolean")return a?1:0;return a}}),new objj_method(sel_getUid("shortValue"),
function(a){with(a){if(typeof a=="boolean")return a?1:0;return a}}),new objj_method(sel_getUid("stringValue"),function(a){with(a)return toString()}),new objj_method(sel_getUid("unsignedCharValue"),function(a){with(a)return String.fromCharCode(a)}),new objj_method(sel_getUid("unsignedIntValue"),function(a){with(a){if(typeof a=="boolean")return a?1:0;return a}}),new objj_method(sel_getUid("unsignedLongValue"),function(a){with(a){if(typeof a=="boolean")return a?1:0;return a}}),new objj_method(sel_getUid("unsignedShortValue"),
function(a){with(a){if(typeof a=="boolean")return a?1:0;return a}}),new objj_method(sel_getUid("compare:"),function(a,b,c){with(a){if(a>c)return CPOrderedDescending;else if(a<c)return CPOrderedAscending;return CPOrderedSame}}),new objj_method(sel_getUid("isEqualToNumber:"),function(a,b,c){with(a)return a==c})]);class_addMethods(b,[new objj_method(sel_getUid("alloc"),function(a){with(a){var b=new Number;b.isa=objj_msgSend(a,"class");return b}}),new objj_method(sel_getUid("numberWithBool:"),function(a,
b,c){with(a)return c}),new objj_method(sel_getUid("numberWithChar:"),function(a,b,c){with(a){if(c.charCodeAt)return c.charCodeAt(0);return c}}),new objj_method(sel_getUid("numberWithDouble:"),function(a,b,c){with(a)return c}),new objj_method(sel_getUid("numberWithFloat:"),function(a,b,c){with(a)return c}),new objj_method(sel_getUid("numberWithInt:"),function(a,b,c){with(a)return c}),new objj_method(sel_getUid("numberWithLong:"),function(a,b,c){with(a)return c}),new objj_method(sel_getUid("numberWithLongLong:"),
function(a,b,c){with(a)return c}),new objj_method(sel_getUid("numberWithShort:"),function(a,b,c){with(a)return c}),new objj_method(sel_getUid("numberWithUnsignedChar:"),function(a,b,c){with(a){if(c.charCodeAt)return c.charCodeAt(0);return c}}),new objj_method(sel_getUid("numberWithUnsignedInt:"),function(a,b,c){with(a)return c}),new objj_method(sel_getUid("numberWithUnsignedLong:"),function(a,b,c){with(a)return c}),new objj_method(sel_getUid("numberWithUnsignedShort:"),function(a,b,c){with(a)return c})]);
d=objj_getClass("CPNumber");if(!d)throw new SyntaxError('*** Could not find definition for class "CPNumber"');b=d.isa;class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a)return objj_msgSend(c,"decodeNumber")}),new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a)objj_msgSend(c,"encodeNumber:forKey:",a,"self")})]);Number.prototype.isa=CPNumber;Boolean.prototype.isa=CPNumber;objj_msgSend(CPNumber,"initialize")});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/pattern_config.j",baseURL),function(){var i=objj_allocateClassPair(CPObject,"PatternConfig");class_addIvars(i,[new objj_ivar("m_number_of_points"),new objj_ivar("m_factor_larger"),new objj_ivar("m_circle"),new objj_ivar("m_show_shapes"),new objj_ivar("m_stroke_colors"),new objj_ivar("m_fill_colors"),new objj_ivar("m_recurse_depth"),new objj_ivar("m_sub_patterns")]);objj_registerClassPair(i);class_addMethods(i,[new objj_method(sel_getUid("numPoints"),
function(g){with(g)return m_number_of_points}),new objj_method(sel_getUid("setNumPoints:"),function(g,f,d){with(g)m_number_of_points=d}),new objj_method(sel_getUid("factorLarger"),function(g){with(g)return m_factor_larger}),new objj_method(sel_getUid("setFactorLarger:"),function(g,f,d){with(g)m_factor_larger=d}),new objj_method(sel_getUid("circle"),function(g){with(g)return m_circle}),new objj_method(sel_getUid("showShapes"),function(g){with(g)return m_show_shapes}),new objj_method(sel_getUid("setShowShapes:"),
function(g,f,d){with(g)m_show_shapes=d}),new objj_method(sel_getUid("strokeColors"),function(g){with(g)return m_stroke_colors}),new objj_method(sel_getUid("fillColors"),function(g){with(g)return m_fill_colors}),new objj_method(sel_getUid("recurseDepth"),function(g){with(g)return m_recurse_depth}),new objj_method(sel_getUid("setRecurseDepth:"),function(g,f,d){with(g)m_recurse_depth=d}),new objj_method(sel_getUid("initWithConfig:"),function(g,f,d){with(g){if(g=objj_msgSendSuper({receiver:g,super_class:objj_getClass("PatternConfig").super_class},
"init"))if(m_number_of_points=objj_msgSend(d,"objectForKey:","number_of_points"),m_factor_larger=objj_msgSend(d,"objectForKey:","factor_larger"),m_show_shapes=objj_msgSend(d,"objectForKey:","show_shapes"),m_stroke_colors=objj_msgSend(d,"objectForKey:","stroke_colors"),m_fill_colors=objj_msgSend(d,"objectForKey:","fill_colors"),m_recurse_depth=objj_msgSend(d,"objectForKey:","recurse_depth"),m_circle=objj_msgSend(GRLinkedCircle,"circleWithCenter:radius:",objj_msgSend(d,"objectForKey:","center_point"),
objj_msgSend(d,"objectForKey:","radius")),m_sub_patterns=[],m_recurse_depth>0){f=objj_msgSend(g,"sub_circles");for(var b=0;b<objj_msgSend(g,"numPoints");b++){var a=objj_msgSend(d,"copy");objj_msgSend(a,"setObject:forKey:",objj_msgSend(f[b],"cpt"),"center_point");objj_msgSend(a,"setObject:forKey:",m_recurse_depth-1,"recurse_depth");m_sub_patterns.push(objj_msgSend(objj_msgSend(objj_msgSend(g,"class"),"alloc"),"initWithConfig:",a))}}return g}}),new objj_method(sel_getUid("setFillColorAt:color:"),function(g,
f,d,b){with(g){m_fill_colors[d%NumberOfColors]=b;for(g=0;g<objj_msgSend(m_sub_patterns,"count");g++)objj_msgSend(m_sub_patterns[g],"setFillColorAt:color:",d,b)}}),new objj_method(sel_getUid("setStrokeColorAt:color:"),function(g,f,d,b){with(g){m_stroke_colors[d%NumberOfColors]=b;for(g=0;g<objj_msgSend(m_sub_patterns,"count");g++)objj_msgSend(m_sub_patterns[g],"setStrokeColorAt:color:",d,b)}}),new objj_method(sel_getUid("setShowShapes:"),function(g,f,d){with(g){m_show_shapes=d;for(g=0;g<objj_msgSend(m_sub_patterns,
"count");g++)objj_msgSend(m_sub_patterns[g],"setShowShapes:",d)}}),new objj_method(sel_getUid("setNumPoints:"),function(g,f,d){with(g)return objj_msgSend(g,"compareValue:forConfig:",d,"number_of_points")}),new objj_method(sel_getUid("setRadius:"),function(g,f,d){with(g)return objj_msgSend(g,"compareValue:forConfig:",d,"radius")}),new objj_method(sel_getUid("setFactorLarger:"),function(g,f,d){with(g)return objj_msgSend(g,"compareValue:forConfig:",d,"factor_larger")}),new objj_method(sel_getUid("setRecurseDepth:"),
function(g,f,d){with(g)return objj_msgSend(g,"compareValue:forConfig:",d,"recurse_depth")}),new objj_method(sel_getUid("radius"),function(g){with(g)return objj_msgSend(objj_msgSend(g,"circle"),"radius")}),new objj_method(sel_getUid("fillColorAt:"),function(g,f,d){with(g)return m_fill_colors[d%NumberOfColors]}),new objj_method(sel_getUid("strokeColorAt:"),function(g,f,d){with(g)return m_stroke_colors[d%NumberOfColors]}),new objj_method(sel_getUid("newPattern"),function(g){with(g)return"\n@implementation NewPattern : "+
objj_msgSend(g,"class")+"\n+ (CPDict) defaultConfig\n{\n return "+objj_msgSend(g,"dumpConfig")+"\n}\n@end\n"}),new objj_method(sel_getUid("dumpConfig"),function(g){with(g){for(var f=[],d=[],b=0;b<objj_msgSend(m_stroke_colors,"count");b++){var a=m_stroke_colors[b];f[b]=objj_msgSend(CPString,"stringWithFormat:","[CPColor colorWith8BitRed:%d green:%d blue:%d alpha:%f]",objj_msgSend(a,"redComponent")*255,objj_msgSend(a,"greenComponent")*255,objj_msgSend(a,"blueComponent")*255,objj_msgSend(a,"alphaComponent"))}for(b=
0;b<objj_msgSend(m_fill_colors,"count");b++)a=m_fill_colors[b],d[b]=objj_msgSend(CPString,"stringWithFormat:","[CPColor colorWith8BitRed:%d green:%d blue:%d alpha:%f]",objj_msgSend(a,"redComponent")*255,objj_msgSend(a,"greenComponent")*255,objj_msgSend(a,"blueComponent")*255,objj_msgSend(a,"alphaComponent"));return"[CPDictionary dictionaryWithObjectsAndKeys:"+objj_msgSend(g,"numPoints")+', "number_of_points", '+objj_msgSend(g,"recurseDepth")+', "recurse_depth", '+objj_msgSend(g,"factorLarger")+', "factor_larger", [GRPoint pointWithX:'+
objj_msgSend(objj_msgSend(objj_msgSend(g,"circle"),"cpt"),"x")+" Y:"+objj_msgSend(objj_msgSend(objj_msgSend(g,"circle"),"cpt"),"y")+'], "center_point", '+objj_msgSend(g,"radius")+', "radius", '+(objj_msgSend(g,"showShapes")?"YES":"NO")+', "show_shapes", ['+objj_msgSend(f,"componentsJoinedByString:",",")+'], "stroke_colors", ['+objj_msgSend(d,"componentsJoinedByString:",",")+'], "fill_colors"];'}}),new objj_method(sel_getUid("config"),function(g){with(g)return objj_eval(objj_msgSend(g,"dumpConfig"))}),
new objj_method(sel_getUid("compareValue:forConfig:"),function(g,f,d,b){with(g){f=objj_msgSend(g,"config");if(objj_msgSend(f,"objectForKey:",b)!==d)return objj_msgSend(f,"setObject:forKey:",d,b),objj_msgSend(objj_msgSend(objj_msgSend(g,"class"),"alloc"),"initWithConfig:",f);return g}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPColorWell.j",baseURL),function(i,g){g("Foundation/CPString.j",NO);g("CPView.j",YES);g("CPColor.j",YES);g("CPColorPanel.j",YES);var f=objj_allocateClassPair(CPControl,"CPColorWell");class_addIvars(f,[new objj_ivar("_active"),new objj_ivar("_bordered"),new objj_ivar("_color"),new objj_ivar("_wellView")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:"),function(d,b,a){with(d){if(d=objj_msgSendSuper({receiver:d,
super_class:objj_getClass("CPColorWell").super_class},"initWithFrame:",a))_active=NO,_bordered=YES,_color=objj_msgSend(CPColor,"whiteColor"),objj_msgSend(d,"drawBezelWithHighlight:",NO),objj_msgSend(d,"drawWellInside:",CGRectInset(objj_msgSend(d,"bounds"),3,3)),objj_msgSend(d,"_registerForNotifications");return d}}),new objj_method(sel_getUid("_registerForNotifications"),function(d){with(d){var b=objj_msgSend(CPNotificationCenter,"defaultCenter");objj_msgSend(b,"addObserver:selector:name:object:",
d,sel_getUid("colorWellDidBecomeExclusive:"),"_CPColorWellDidBecomeExclusiveNotification",nil);objj_msgSend(b,"addObserver:selector:name:object:",d,sel_getUid("colorPanelWillClose:"),CPWindowWillCloseNotification,objj_msgSend(CPColorPanel,"sharedColorPanel"))}}),new objj_method(sel_getUid("isBordered"),function(d){with(d)return _bordered}),new objj_method(sel_getUid("setBordered:"),function(d,b,a){with(d){if(_bordered==a)return;_bordered=a;objj_msgSend(d,"drawWellInside:",CGRectInset(objj_msgSend(d,
"bounds"),3,3))}}),new objj_method(sel_getUid("color"),function(d){with(d)return _color}),new objj_method(sel_getUid("setColor:"),function(d,b,a){with(d){if(_color==a)return;_color=a;objj_msgSend(d,"drawWellInside:",CGRectInset(objj_msgSend(d,"bounds"),3,3))}}),new objj_method(sel_getUid("takeColorFrom:"),function(d,b,a){with(d)objj_msgSend(d,"setColor:",objj_msgSend(a,"color"))}),new objj_method(sel_getUid("activate:"),function(d,b,a){with(d){a&&objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),
"postNotificationName:object:","_CPColorWellDidBecomeExclusiveNotification",d);if(objj_msgSend(d,"isActive"))return;_active=YES;objj_msgSend(objj_msgSend(CPNotificationCenter,"defaultCenter"),"addObserver:selector:name:object:",d,sel_getUid("colorPanelDidChangeColor:"),CPColorPanelColorDidChangeNotification,objj_msgSend(CPColorPanel,"sharedColorPanel"))}}),new objj_method(sel_getUid("deactivate"),function(d){with(d){if(!objj_msgSend(d,"isActive"))return;_active=NO;objj_msgSend(objj_msgSend(CPNotificationCenter,
"defaultCenter"),"removeObserver:name:object:",d,CPColorPanelColorDidChangeNotification,objj_msgSend(CPColorPanel,"sharedColorPanel"))}}),new objj_method(sel_getUid("isActive"),function(d){with(d)return _active}),new objj_method(sel_getUid("drawBezelWithHighlight:"),function(d){with(d);}),new objj_method(sel_getUid("drawWellInside:"),function(d,b,a){with(d)_wellView?objj_msgSend(_wellView,"setFrame:",a):(_wellView=objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",a),objj_msgSend(_wellView,
"setAutoresizingMask:",CPViewWidthSizable|CPViewHeightSizable),objj_msgSend(d,"addSubview:",_wellView)),objj_msgSend(_wellView,"setBackgroundColor:",_color)}),new objj_method(sel_getUid("colorPanelDidChangeColor:"),function(d,b,a){with(d)objj_msgSend(d,"takeColorFrom:",objj_msgSend(a,"object")),objj_msgSend(d,"sendAction:to:",objj_msgSend(d,"action"),objj_msgSend(d,"target"))}),new objj_method(sel_getUid("colorWellDidBecomeExclusive:"),function(d,b,a){with(d)d!=objj_msgSend(a,"object")&&objj_msgSend(d,
"deactivate")}),new objj_method(sel_getUid("colorPanelWillClose:"),function(d){with(d)objj_msgSend(d,"deactivate")}),new objj_method(sel_getUid("mouseDown:"),function(d){with(d){if(!objj_msgSend(d,"isEnabled"))return;objj_msgSend(d,"drawBezelWithHighlight:",YES)}}),new objj_method(sel_getUid("mouseDragged:"),function(d,b,a){with(d){if(!objj_msgSend(d,"isEnabled"))return;objj_msgSend(d,"drawBezelWithHighlight:",CGRectContainsPoint(objj_msgSend(d,"bounds"),objj_msgSend(d,"convertPoint:fromView:",objj_msgSend(a,
"locationInWindow"),nil)))}}),new objj_method(sel_getUid("mouseUp:"),function(d,b,a){with(d){objj_msgSend(d,"drawBezelWithHighlight:",NO);if(!CGRectContainsPoint(objj_msgSend(d,"bounds"),objj_msgSend(d,"convertPoint:fromView:",objj_msgSend(a,"locationInWindow"),nil))||!objj_msgSend(d,"isEnabled"))return;objj_msgSend(d,"activate:",YES);b=objj_msgSend(CPColorPanel,"sharedColorPanel");objj_msgSend(b,"setColor:",_color);objj_msgSend(b,"orderFront:",d)}})]);f=objj_getClass("CPColorWell");if(!f)throw new SyntaxError('*** Could not find definition for class "CPColorWell"');
class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(d,b,a){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPColorWell").super_class},"initWithCoder:",a))_active=NO,_bordered=objj_msgSend(a,"decodeBoolForKey:","CPColorWellBorderedKey"),_color=objj_msgSend(a,"decodeObjectForKey:","CPColorWellColorKey"),objj_msgSend(d,"drawBezelWithHighlight:",NO),objj_msgSend(d,"drawWellInside:",CGRectInset(objj_msgSend(d,"bounds"),3,3)),objj_msgSend(d,"_registerForNotifications");
return d}}),new objj_method(sel_getUid("encodeWithCoder:"),function(d,b,a){with(d)b=_subviews,_subviews=objj_msgSend(_subviews,"copy"),objj_msgSend(_subviews,"removeObjectIdenticalTo:",_wellView),objj_msgSendSuper({receiver:d,super_class:objj_getClass("CPColorWell").super_class},"encodeWithCoder:",a),_subviews=b,objj_msgSend(a,"encodeObject:forKey:",_color,"CPColorWellColorKey"),objj_msgSend(a,"encodeObject:forKey:",_bordered,"CPColorWellBorderedKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPViewController.j",baseURL),function(i,g){g("Foundation/CPArray.j",NO);g("CPApplication.j",YES);g("CPCib.j",YES);g("CPResponder.j",YES);var f,d=objj_allocateClassPair(CPResponder,"CPViewController"),b=d.isa;class_addIvars(d,[new objj_ivar("_view"),new objj_ivar("_isLoading"),new objj_ivar("_representedObject"),new objj_ivar("_title"),new objj_ivar("_cibName"),new objj_ivar("_cibBundle"),new objj_ivar("_cibExternalNameTable")]);
objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("view"),function(a){with(a)return _view}),new objj_method(sel_getUid("setView:"),function(a,b,c){with(a)_view=c}),new objj_method(sel_getUid("representedObject"),function(a){with(a)return _representedObject}),new objj_method(sel_getUid("setRepresentedObject:"),function(a,b,c){with(a)_representedObject=c}),new objj_method(sel_getUid("title"),function(a){with(a)return _title}),new objj_method(sel_getUid("setTitle:"),function(a,
b,c){with(a)_title=c}),new objj_method(sel_getUid("cibName"),function(a){with(a)return _cibName}),new objj_method(sel_getUid("cibBundle"),function(a){with(a)return _cibBundle}),new objj_method(sel_getUid("cibExternalNameTable"),function(a){with(a)return _cibExternalNameTable}),new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithCibName:bundle:",nil,nil)}),new objj_method(sel_getUid("initWithCibName:bundle:"),function(a,b,c,d){with(a)return objj_msgSend(a,"initWithCibName:bundle:externalNameTable:",
c,d,nil)}),new objj_method(sel_getUid("initWithCibName:bundle:owner:"),function(a,b,c,d,f){with(a)return objj_msgSend(a,"initWithCibName:bundle:externalNameTable:",c,d,objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",f,CPCibOwner))}),new objj_method(sel_getUid("initWithCibName:bundle:externalNameTable:"),function(a,b,c,d,f){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPViewController").super_class},"init"))_cibName=c,_cibBundle=d||objj_msgSend(CPBundle,"mainBundle"),
_cibExternalNameTable=f||objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",a,CPCibOwner),_isLoading=NO;return a}}),new objj_method(sel_getUid("loadView"),function(a){with(a){if(_view)return;a=objj_msgSend(f,"objectForKey:",_cibName);a||(a=objj_msgSend(objj_msgSend(CPCib,"alloc"),"initWithContentsOfURL:",objj_msgSend(_cibBundle,"pathForResource:",_cibName+".cib")),objj_msgSend(f,"setObject:forKey:",a,_cibName));objj_msgSend(a,"instantiateCibWithExternalNameTable:",_cibExternalNameTable)}}),
new objj_method(sel_getUid("view"),function(a){with(a){if(!_view){_isLoading=YES;var b=objj_msgSend(_cibExternalNameTable,"objectForKey:",CPCibOwner);objj_msgSend(b,"respondsToSelector:",sel_getUid("viewControllerWillLoadCib:"))&&objj_msgSend(b,"viewControllerWillLoadCib:",a);objj_msgSend(a,"loadView");_view===nil&&objj_msgSend(b,"isKindOfClass:",objj_msgSend(CPDocument,"class"))&&objj_msgSend(a,"setView:",objj_msgSend(b,"valueForKey:","view"));if(!_view){var c=objj_msgSend(CPString,"stringWithFormat:",
"View for %@ could not be loaded from Cib or no view specified. Override loadView to load the view manually.",a);objj_msgSend(CPException,"raise:reason:",CPInternalInconsistencyException,c)}objj_msgSend(b,"respondsToSelector:",sel_getUid("viewControllerDidLoadCib:"))&&objj_msgSend(b,"viewControllerDidLoadCib:",a);_isLoading=NO;objj_msgSend(a,"viewDidLoad")}return _view}}),new objj_method(sel_getUid("viewDidLoad"),function(a){with(a);}),new objj_method(sel_getUid("setView:"),function(a,b,c){with(a)_view=
c,!_isLoading&&!_view&&objj_msgSend(a,"viewDidLoad")})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(a){with(a)a===CPViewController&&(f=objj_msgSend(CPDictionary,"dictionary"))})]);d=objj_getClass("CPViewController");if(!d)throw new SyntaxError('*** Could not find definition for class "CPViewController"');b=d.isa;class_addMethods(d,[new objj_method(sel_getUid("initWithCoder:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPViewController").super_class},
"initWithCoder:",c))_view=objj_msgSend(c,"decodeObjectForKey:","CPViewControllerViewKey"),_title=objj_msgSend(c,"decodeObjectForKey:","CPViewControllerTitleKey"),_cibName=objj_msgSend(c,"decodeObjectForKey:","CPViewControllerCibNameKey"),_cibBundle=(b=objj_msgSend(c,"decodeObjectForKey:","CPViewControllerBundleKey"))?objj_msgSend(CPBundle,"bundleWithPath:",b):objj_msgSend(CPBundle,"mainBundle"),_cibExternalNameTable=objj_msgSend(CPDictionary,"dictionaryWithObject:forKey:",a,CPCibOwner);return a}}),
new objj_method(sel_getUid("encodeWithCoder:"),function(a,b,c){with(a)objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPViewController").super_class},"encodeWithCoder:",c),objj_msgSend(c,"encodeObject:forKey:",_view,"CPViewControllerViewKey"),objj_msgSend(c,"encodeObject:forKey:",_title,"CPViewControllerTitleKey"),objj_msgSend(c,"encodeObject:forKey:",_cibName,"CPViewControllerCibNameKey"),objj_msgSend(c,"encodeObject:forKey:",objj_msgSend(_cibBundle,"bundlePath"),"CPViewControllerBundleKey")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPPlatformWindow.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);var f=NULL,d=objj_allocateClassPair(CPObject,"CPPlatformWindow"),b=d.isa;class_addIvars(d,[new objj_ivar("_contentRect"),new objj_ivar("_level"),new objj_ivar("_hasShadow"),new objj_ivar("_shadowStyle"),new objj_ivar("_DOMWindow"),new objj_ivar("_DOMBodyElement"),new objj_ivar("_DOMFocusElement"),new objj_ivar("_DOMEventGuard"),new objj_ivar("_DOMScrollingElement"),
new objj_ivar("_hideDOMScrollingElementTimeout"),new objj_ivar("_windowLevels"),new objj_ivar("_windowLayers"),new objj_ivar("_mouseIsDown"),new objj_ivar("_mouseDownIsRightClick"),new objj_ivar("_mouseDownWindow"),new objj_ivar("_lastMouseUp"),new objj_ivar("_lastMouseDown"),new objj_ivar("_charCodes"),new objj_ivar("_keyCode"),new objj_ivar("_lastKey"),new objj_ivar("_capsLockActive"),new objj_ivar("_ignoreNativeCopyOrCutEvent"),new objj_ivar("_ignoreNativePastePreparation"),new objj_ivar("_DOMEventMode"),
new objj_ivar("_DOMPasteboardElement"),new objj_ivar("_pasteboardKeyDownEvent"),new objj_ivar("_overriddenEventType")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithContentRect:"),function(a,b,c){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CPPlatformWindow").super_class},"init"))_contentRect={origin:{x:c.origin.x,y:c.origin.y},size:{width:c.size.width,height:c.size.height}},_windowLevels=[],_windowLayers=objj_msgSend(CPDictionary,"dictionary"),
_charCodes={};return a}}),new objj_method(sel_getUid("init"),function(a){with(a)return objj_msgSend(a,"initWithContentRect:",{origin:{x:0,y:0},size:{width:400,height:500}})}),new objj_method(sel_getUid("contentRect"),function(a){with(a)return{origin:{x:_contentRect.origin.x,y:_contentRect.origin.y},size:{width:_contentRect.size.width,height:_contentRect.size.height}}}),new objj_method(sel_getUid("contentBounds"),function(a){with(a)return a=objj_msgSend(a,"contentRect"),a.origin={x:0,y:0},a}),new objj_method(sel_getUid("visibleFrame"),
function(a){with(a){var b=objj_msgSend(a,"contentBounds");b.origin=CGPointMakeZero();objj_msgSend(CPMenu,"menuBarVisible")&&objj_msgSend(CPPlatformWindow,"primaryPlatformWindow")===a&&(a=objj_msgSend(objj_msgSend(CPApp,"mainMenu"),"menuBarHeight"),b.origin.y+=a,b.size.height-=a);return b}}),new objj_method(sel_getUid("usableContentFrame"),function(a){with(a)return objj_msgSend(a,"visibleFrame")}),new objj_method(sel_getUid("setContentRect:"),function(a,b,c){with(a){if(!c||_contentRect.origin.x==c.origin.x&&
_contentRect.origin.y==c.origin.y&&_contentRect.size.width==c.size.width&&_contentRect.size.height==c.size.height)return;_contentRect={origin:{x:c.origin.x,y:c.origin.y},size:{width:c.size.width,height:c.size.height}};objj_msgSend(a,"updateNativeContentRect")}}),new objj_method(sel_getUid("updateFromNativeContentRect"),function(a){with(a)objj_msgSend(a,"setContentRect:",objj_msgSend(a,"nativeContentRect"))}),new objj_method(sel_getUid("convertBaseToScreen:"),function(a,b,c){with(a)return a=objj_msgSend(a,
"contentRect"),{x:c.x+a.origin.x,y:c.y+a.origin.y}}),new objj_method(sel_getUid("convertScreenToBase:"),function(a,b,c){with(a)return a=objj_msgSend(a,"contentRect"),{x:c.x-a.origin.x,y:c.y-a.origin.y}}),new objj_method(sel_getUid("isVisible"),function(a){with(a)return _DOMWindow!==NULL}),new objj_method(sel_getUid("deminiaturize:"),function(a){with(a)_DOMWindow&&typeof _DOMWindow.cpDeminiaturize==="function"&&_DOMWindow.cpDeminiaturize()}),new objj_method(sel_getUid("miniaturize:"),function(a){with(a)_DOMWindow&&
typeof _DOMWindow.cpMiniaturize==="function"&&_DOMWindow.cpMiniaturize()}),new objj_method(sel_getUid("moveWindow:fromLevel:toLevel:"),function(a,b,c,d,f){with(a){if(!c._isVisible)return;b=objj_msgSend(a,"layerAtLevel:create:",d,NO);a=objj_msgSend(a,"layerAtLevel:create:",f,YES);objj_msgSend(b,"removeWindow:",c);objj_msgSend(a,"insertWindow:atIndex:",c,CPNotFound)}}),new objj_method(sel_getUid("setLevel:"),function(a,b,c){with(a)_level=c,_DOMWindow&&_DOMWindow.cpSetLevel&&_DOMWindow.cpSetLevel(c)}),
new objj_method(sel_getUid("setHasShadow:"),function(a,b,c){with(a)_hasShadow=c,_DOMWindow&&_DOMWindow.cpSetHasShadow&&_DOMWindow.cpSetHasShadow(c)}),new objj_method(sel_getUid("setShadowStyle:"),function(a,b,c){with(a)_shadowStyle=c,_DOMWindow&&_DOMWindow.cpSetShadowStyle&&_shadowStyle.cpSetShadowStyle(c)}),new objj_method(sel_getUid("supportsFullPlatformWindows"),function(a){with(a)return objj_msgSend(CPPlatform,"isBrowser")})]);class_addMethods(b,[new objj_method(sel_getUid("visiblePlatformWindows"),
function(a){with(a)return objj_msgSend(CPSet,"set")}),new objj_method(sel_getUid("supportsMultipleInstances"),function(a){with(a)return!CPBrowserIsEngine(CPInternetExplorerBrowserEngine)}),new objj_method(sel_getUid("primaryPlatformWindow"),function(a){with(a)return f}),new objj_method(sel_getUid("setPrimaryPlatformWindow:"),function(a,b,c){with(a)f=c})]);g("CPPlatformWindow+DOM.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPValueTransformer.j",baseURL),function(i,g){g("CPData.j",YES);g("CPDictionary.j",YES);g("CPException.j",YES);g("CPKeyedArchiver.j",YES);g("CPKeyedUnarchiver.j",YES);g("CPNumber.j",YES);g("CPObject.j",YES);var f=objj_msgSend(CPDictionary,"dictionary"),d=objj_allocateClassPair(CPObject,"CPValueTransformer"),b=d.isa;objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("reverseTransformedValue:"),function(a,
b,c){with(a)return objj_msgSend(objj_msgSend(a,"class"),"allowsReverseTransformation")||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,a+" is not reversible."),objj_msgSend(a,"transformedValue:",c)}),new objj_method(sel_getUid("transformedValue:"),function(a){with(a)return nil})]);class_addMethods(b,[new objj_method(sel_getUid("initialize"),function(a){with(a){if(a!==objj_msgSend(CPValueTransformer,"class"))return;objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",
objj_msgSend(objj_msgSend(CPNegateBooleanTransformer,"alloc"),"init"),CPNegateBooleanTransformerName);objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",objj_msgSend(objj_msgSend(CPIsNilTransformer,"alloc"),"init"),CPIsNilTransformerName);objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",objj_msgSend(objj_msgSend(CPIsNotNilTransformer,"alloc"),"init"),CPIsNotNilTransformerName);objj_msgSend(CPValueTransformer,"setValueTransformer:forName:",objj_msgSend(objj_msgSend(CPUnarchiveFromDataTransformer,
"alloc"),"init"),CPUnarchiveFromDataTransformerName)}}),new objj_method(sel_getUid("setValueTransformer:forName:"),function(a,b,c,d){with(a)objj_msgSend(f,"setObject:forKey:",c,d)}),new objj_method(sel_getUid("valueTransformerForName:"),function(a,b,c){with(a)return objj_msgSend(f,"objectForKey:",c)}),new objj_method(sel_getUid("valueTransformerNames"),function(a){with(a)return objj_msgSend(f,"allKeys")}),new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return NO}),new objj_method(sel_getUid("transformedValueClass"),
function(a){with(a)return objj_msgSend(CPObject,"class")})]);d=objj_allocateClassPair(CPValueTransformer,"CPNegateBooleanTransformer");b=d.isa;objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("reverseTransformedValue:"),function(a,b,c){with(a)return!objj_msgSend(c,"boolValue")}),new objj_method(sel_getUid("transformedValue:"),function(a,b,c){with(a)return!objj_msgSend(c,"boolValue")})]);class_addMethods(b,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return YES}),
new objj_method(sel_getUid("transformedValueClass"),function(a){with(a)return objj_msgSend(CPNumber,"class")})]);d=objj_allocateClassPair(CPValueTransformer,"CPIsNilTransformer");b=d.isa;objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("transformedValue:"),function(a,b,c){with(a)return c===nil||c===void 0})]);class_addMethods(b,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return NO}),new objj_method(sel_getUid("transformedValueClass"),function(a){with(a)return objj_msgSend(CPNumber,
"class")})]);d=objj_allocateClassPair(CPValueTransformer,"CPIsNotNilTransformer");b=d.isa;objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("transformedValue:"),function(a,b,c){with(a)return c!==nil&&c!==void 0})]);class_addMethods(b,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return NO}),new objj_method(sel_getUid("transformedValueClass"),function(a){with(a)return objj_msgSend(CPNumber,"class")})]);d=objj_allocateClassPair(CPValueTransformer,
"CPUnarchiveFromDataTransformer");b=d.isa;objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("reverseTransformedValue:"),function(a,b,c){with(a)return objj_msgSend(CPKeyedArchiver,"archivedDataWithRootObject:",c)}),new objj_method(sel_getUid("transformedValue:"),function(a,b,c){with(a)return objj_msgSend(CPKeyedUnarchiver,"unarchiveObjectWithData:",c)})]);class_addMethods(b,[new objj_method(sel_getUid("allowsReverseTransformation"),function(a){with(a)return YES}),new objj_method(sel_getUid("transformedValueClass"),
function(a){with(a)return objj_msgSend(CPData,"class")})]);CPNegateBooleanTransformerName="CPNegateBoolean";CPIsNilTransformerName="CPIsNil";CPIsNotNilTransformerName="CPIsNotNil";CPUnarchiveFromDataTransformerName="CPUnarchiveFromData";CPKeyedUnarchiveFromDataTransformerName="CPKeyedUnarchiveFromData"});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibWindowTemplate.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);g("CGGeometry.j",YES);g("CPWindow.j",YES);var f=objj_allocateClassPair(CPObject,"_CPCibWindowTemplate");class_addIvars(f,[new objj_ivar("_minSize"),new objj_ivar("_maxSize"),new objj_ivar("_viewClass"),new objj_ivar("_windowClass"),new objj_ivar("_windowRect"),new objj_ivar("_windowStyleMask"),new objj_ivar("_windowTitle"),new objj_ivar("_windowView"),
new objj_ivar("_windowAutorecalculatesKeyViewLoop"),new objj_ivar("_windowIsFullPlatformWindow")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("init"),function(d){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("_CPCibWindowTemplate").super_class},"init"))_windowClass="CPWindow",_windowRect=CGRectMake(0,0,400,200),_windowStyleMask=CPTitledWindowMask|CPClosableWindowMask|CPMiniaturizableWindowMask|CPResizableWindowMask,_windowTitle="Window",_windowView=
objj_msgSend(objj_msgSend(CPView,"alloc"),"initWithFrame:",CGRectMake(0,0,400,200)),_windowIsFullPlatformWindow=NO;return d}}),new objj_method(sel_getUid("initWithCoder:"),function(d,b,a){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("_CPCibWindowTemplate").super_class},"init"))objj_msgSend(a,"containsValueForKey:","_CPCibWindowTemplateMinSizeKey")&&(_minSize=objj_msgSend(a,"decodeSizeForKey:","_CPCibWindowTemplateMinSizeKey")),objj_msgSend(a,"containsValueForKey:","_CPCibWindowTemplateMaxSizeKey")&&
(_maxSize=objj_msgSend(a,"decodeSizeForKey:","_CPCibWindowTemplateMaxSizeKey")),_viewClass=objj_msgSend(a,"decodeObjectForKey:","_CPCibWindowTemplateViewClassKey"),_windowClass=objj_msgSend(a,"decodeObjectForKey:","_CPCibWindowTemplateWindowClassKey"),_windowRect=objj_msgSend(a,"decodeRectForKey:","_CPCibWindowTemplateWindowRectKey"),_windowStyleMask=objj_msgSend(a,"decodeIntForKey:","_CPCibWindowTempatStyleMaskKey"),_windowTitle=objj_msgSend(a,"decodeObjectForKey:","_CPCibWindowTemplateWindowTitleKey"),
_windowView=objj_msgSend(a,"decodeObjectForKey:","_CPCibWindowTemplateWindowViewKey"),_windowAutorecalculatesKeyViewLoop=!!objj_msgSend(a,"decodeObjectForKey:","_CPCibWindowTemplateWindowAutorecalculatesKeyViewLoop"),_windowIsFullPlatformWindow=!!objj_msgSend(a,"decodeObjectForKey:","_CPCibWindowTemplateWindowIsFullPlatformWindowKey");return d}}),new objj_method(sel_getUid("encodeWithCoder:"),function(d,b,a){with(d)_minSize&&objj_msgSend(a,"encodeSize:forKey:",_minSize,"_CPCibWindowTemplateMinSizeKey"),
_maxSize&&objj_msgSend(a,"encodeSize:forKey:",_maxSize,"_CPCibWindowTemplateMaxSizeKey"),objj_msgSend(a,"encodeObject:forKey:",_viewClass,"_CPCibWindowTemplateViewClassKey"),objj_msgSend(a,"encodeObject:forKey:",_windowClass,"_CPCibWindowTemplateWindowClassKey"),objj_msgSend(a,"encodeRect:forKey:",_windowRect,"_CPCibWindowTemplateWindowRectKey"),objj_msgSend(a,"encodeInt:forKey:",_windowStyleMask,"_CPCibWindowTempatStyleMaskKey"),objj_msgSend(a,"encodeObject:forKey:",_windowTitle,"_CPCibWindowTemplateWindowTitleKey"),
objj_msgSend(a,"encodeObject:forKey:",_windowView,"_CPCibWindowTemplateWindowViewKey"),_windowAutorecalculatesKeyViewLoop&&objj_msgSend(a,"encodeObject:forKey:",_windowAutorecalculatesKeyViewLoop,"_CPCibWindowTemplateWindowAutorecalculatesKeyViewLoop"),_windowIsFullPlatformWindow&&objj_msgSend(a,"encodeObject:forKey:",_windowIsFullPlatformWindow,"_CPCibWindowTemplateWindowIsFullPlatformWindowKey")}),new objj_method(sel_getUid("customClassName"),function(d){with(d)return _windowClass}),new objj_method(sel_getUid("setCustomClassName:"),
function(d,b,a){with(d)_windowClass=a}),new objj_method(sel_getUid("windowClass"),function(d){with(d)return _windowClass}),new objj_method(sel_getUid("_cibInstantiate"),function(d){with(d)return d=CPClassFromString(objj_msgSend(d,"windowClass")),d=objj_msgSend(objj_msgSend(d,"alloc"),"initWithContentRect:styleMask:",_windowRect,_windowStyleMask),_minSize&&objj_msgSend(d,"setMinSize:",_minSize),_maxSize&&objj_msgSend(d,"setMaxSize:",_maxSize),objj_msgSend(d,"setTitle:",_windowTitle),objj_msgSend(_windowView,
"setAutoresizesSubviews:",NO),objj_msgSend(d,"setContentView:",_windowView),objj_msgSend(_windowView,"setAutoresizesSubviews:",YES),objj_msgSend(_viewClass,"isKindOfClass:",objj_msgSend(CPToolbar,"class"))&&objj_msgSend(d,"setToolbar:",_viewClass),objj_msgSend(d,"setAutorecalculatesKeyViewLoop:",_windowAutorecalculatesKeyViewLoop),objj_msgSend(d,"setFullBridge:",_windowIsFullPlatformWindow),d})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPException.j",baseURL),function(i,g){g("CPCoder.j",YES);g("CPObject.j",YES);g("CPString.j",YES);CPInvalidArgumentException="CPInvalidArgumentException";CPUnsupportedMethodException="CPUnsupportedMethodException";CPRangeException="CPRangeException";CPInternalInconsistencyException="CPInternalInconsistencyException";var f=objj_allocateClassPair(CPObject,"CPException"),d=f.isa;class_addIvars(f,[new objj_ivar("_userInfo")]);objj_registerClassPair(f);
class_addMethods(f,[new objj_method(sel_getUid("initWithName:reason:userInfo:"),function(b,a,d,c,f){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPException").super_class},"init"))name=d,message=c,_userInfo=f;return b}}),new objj_method(sel_getUid("name"),function(b){with(b)return name}),new objj_method(sel_getUid("reason"),function(b){with(b)return message}),new objj_method(sel_getUid("userInfo"),function(b){with(b)return _userInfo}),new objj_method(sel_getUid("description"),
function(b){with(b)return message}),new objj_method(sel_getUid("raise"),function(b){with(b)throw b;}),new objj_method(sel_getUid("isEqual:"),function(b,a,d){with(b){if(!d||!d.isa)return NO;return objj_msgSend(d,"isKindOfClass:",CPException)&&name===objj_msgSend(d,"name")&&message===objj_msgSend(d,"message")&&(_userInfo===objj_msgSend(d,"userInfo")||objj_msgSend(_userInfo,"isEqual:",objj_msgSend(d,"userInfo")))}})]);class_addMethods(d,[new objj_method(sel_getUid("alloc"),function(b){with(b){var a=
Error();a.isa=objj_msgSend(b,"class");return a}}),new objj_method(sel_getUid("raise:reason:"),function(b,a,d,c){with(b)objj_msgSend(objj_msgSend(b,"exceptionWithName:reason:userInfo:",d,c,nil),"raise")}),new objj_method(sel_getUid("exceptionWithName:reason:userInfo:"),function(b,a,d,c,f){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithName:reason:userInfo:",d,c,f)})]);f=objj_getClass("CPException");if(!f)throw new SyntaxError('*** Could not find definition for class "CPException"');d=
f.isa;class_addMethods(f,[new objj_method(sel_getUid("copy"),function(b){with(b)return objj_msgSend(objj_msgSend(b,"class"),"exceptionWithName:reason:userInfo:",name,message,_userInfo)})]);f=objj_getClass("CPException");if(!f)throw new SyntaxError('*** Could not find definition for class "CPException"');d=f.isa;class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(b,a,d){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPException").super_class},"init"))name=
objj_msgSend(d,"decodeObjectForKey:","CPExceptionNameKey"),message=objj_msgSend(d,"decodeObjectForKey:","CPExceptionReasonKey"),_userInfo=objj_msgSend(d,"decodeObjectForKey:","CPExceptionUserInfoKey");return b}}),new objj_method(sel_getUid("encodeWithCoder:"),function(b,a,d){with(b)objj_msgSend(d,"encodeObject:forKey:",name,"CPExceptionNameKey"),objj_msgSend(d,"encodeObject:forKey:",message,"CPExceptionReasonKey"),objj_msgSend(d,"encodeObject:forKey:",_userInfo,"CPExceptionUserInfoKey")})]);Error.prototype.isa=
CPException;Error.prototype._userInfo=null;objj_msgSend(CPException,"initialize");_CPRaiseInvalidAbstractInvocation=function(b,a){objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"*** -"+sel_getName(a)+" cannot be sent to an abstract object of class "+objj_msgSend(b,"className")+": Create a concrete instance!")};_CPRaiseInvalidArgumentException=function(b,a,d){objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,(class_isMetaClass(b.isa)?"+":"-")+"["+objj_msgSend(b,
"className")+" "+a+"]: "+d)};_CPRaiseRangeException=function(b,a,d,c){objj_msgSend(CPException,"raise:reason:",CPRangeException,(class_isMetaClass(b.isa)?"+":"-")+"["+objj_msgSend(b,"className")+" "+a+"]: index ("+d+") beyond bounds ("+c+")")};_CPReportLenientDeprecation=function(b,a,d){CPLog.warn("["+CPStringFromClass(b)+" "+CPStringFromSelector(a)+"] is deprecated, using "+CPStringFromSelector(d)+" instead.")}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGColorSpace.j",baseURL),function(){kCGColorSpaceModelUnknown=-1;kCGColorSpaceModelMonochrome=0;kCGColorSpaceModelRGB=1;kCGColorSpaceModelCMYK=2;kCGColorSpaceModelLab=3;kCGColorSpaceModelDeviceN=4;kCGColorSpaceModelIndexed=5;kCGColorSpaceModelPattern=6;kCGColorSpaceGenericGray="CGColorSpaceGenericGray";kCGColorSpaceGenericRGB="CGColorSpaceGenericRGB";kCGColorSpaceGenericCMYK="CGColorSpaceGenericCMYK";kCGColorSpaceGenericRGBLinear=
"CGColorSpaceGenericRGBLinear";kCGColorSpaceGenericRGBHDR="CGColorSpaceGenericRGBHDR";kCGColorSpaceAdobeRGB1998="CGColorSpaceAdobeRGB1998";kCGColorSpaceSRGB="CGColorSpaceSRGB";var i={};CGColorSpaceCreateCalibratedGray=function(){return{model:kCGColorSpaceModelMonochrome,count:1,base:NULL}};CGColorSpaceCreateCalibratedRGB=function(){return{model:kCGColorSpaceModelRGB,count:1,base:NULL}};CGColorSpaceCreateICCBased=function(){return NULL};CGColorSpaceCreateLab=function(){return NULL};CGColorSpaceCreateDeviceCMYK=
function(){return CGColorSpaceCreateWithName(kCGColorSpaceGenericCMYK)};CGColorSpaceCreateDeviceGray=function(){return CGColorSpaceCreateWithName(kCGColorSpaceGenericGray)};CGColorSpaceCreateDeviceRGB=function(){return CGColorSpaceCreateWithName(kCGColorSpaceGenericRGB)};CGColorSpaceCreateWithPlatformColorSpace=function(){return NULL};CGColorSpaceCreateIndexed=function(){return NULL};CGColorSpaceCreatePattern=function(g){if(g)return{model:kCGColorSpaceModelPattern,count:g.count,base:g};return{model:kCGColorSpaceModelPattern,
count:0,base:NULL}};CGColorSpaceCreateWithName=function(g){var f=i[g];if(f)return f;switch(g){case kCGColorSpaceGenericGray:return i[g]={model:kCGColorSpaceModelMonochrome,count:1,base:NULL};case kCGColorSpaceGenericRGB:return i[g]={model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceGenericCMYK:return i[g]={model:kCGColorSpaceModelCMYK,count:4,base:NULL};case kCGColorSpaceGenericRGBLinear:return i[g]={model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceGenericRGBHDR:return i[g]=
{model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceAdobeRGB1998:return i[g]={model:kCGColorSpaceModelRGB,count:3,base:NULL};case kCGColorSpaceSRGB:return i[g]={model:kCGColorSpaceModelRGB,count:3,base:NULL}}return NULL};CGColorSpaceCopyICCProfile=function(){return NULL};CGColorSpaceGetNumberOfComponents=function(g){return g.count};CGColorSpaceGetTypeID=function(){};CGColorSpaceGetModel=function(g){return g.model};CGColorSpaceGetBaseColorSpace=function(){};CGColorSpaceGetColorTableCount=
function(){};CGColorSpaceGetColorTable=function(){};CGColorSpaceRelease=function(){};CGColorSpaceRetain=function(g){return g};CGColorSpaceStandardizeComponents=function(g,f){var d=g.count;if(d>f.length)f[d]=1;else{var b=f[d];f[d]=b<0?0:b>1?1:ROUND(b*1E3)/1E3;if(g.base)g=g.base;switch(g.model){case kCGColorSpaceModelMonochrome:case kCGColorSpaceModelRGB:case kCGColorSpaceModelCMYK:case kCGColorSpaceModelDeviceN:for(;d--;){if(d>f.length){f[d]=1;break}b=f[d];f[d]=b<0?0:b>1?1:ROUND(b*255)/255}}}}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPCheckBox.j",baseURL),function(i,g){g("CPButton.j",YES);CPCheckBoxImageOffset=4;var f=objj_allocateClassPair(CPButton,"CPCheckBox"),d=f.isa;objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:"),function(b,a,d){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPCheckBox").super_class},"initWithFrame:",d))objj_msgSend(b,"setHighlightsBy:",CPContentsCellMask),objj_msgSend(b,
"setShowsStateBy:",CPContentsCellMask),objj_msgSend(b,"setImagePosition:",CPImageLeft),objj_msgSend(b,"setAlignment:",CPLeftTextAlignment),objj_msgSend(b,"setBordered:",NO);return b}}),new objj_method(sel_getUid("takeStateFromKeyPath:ofObjects:"),function(b,a,d,c){with(b){a=c.length;var f=objj_msgSend(c[0],"valueForKeyPath:",d)?CPOnState:CPOffState;objj_msgSend(b,"setAllowsMixedState:",NO);for(objj_msgSend(b,"setState:",f);a-- >1;)if(f!==(objj_msgSend(c[a],"valueForKeyPath:",d)?CPOnState:CPOffState))objj_msgSend(b,
"setAllowsMixedState:",YES),objj_msgSend(b,"setState:",CPMixedState)}}),new objj_method(sel_getUid("takeValueFromKeyPath:ofObjects:"),function(b,a,d,c){with(b)objj_msgSend(b,"takeStateFromKeyPath:ofObjects:",d,c)})]);class_addMethods(d,[new objj_method(sel_getUid("checkBoxWithTitle:theme:"),function(b,a,d,c){with(b)return objj_msgSend(b,"buttonWithTitle:theme:",d,c)}),new objj_method(sel_getUid("checkBoxWithTitle:"),function(b,a,d){with(b)return objj_msgSend(b,"buttonWithTitle:",d)}),new objj_method(sel_getUid("defaultThemeClass"),
function(b){with(b)return"check-box"}),new objj_method(sel_getUid("_binderClassForBinding:"),function(b,a,d){with(b){if(d===CPValueBinding)return objj_msgSend(_CPCheckBoxValueBinder,"class");return objj_msgSendSuper({receiver:b,super_class:objj_getMetaClass("CPCheckBox").super_class},"_binderClassForBinding:",d)}})]);f=objj_allocateClassPair(CPBinder,"_CPCheckBoxValueBinder");d=f.isa;objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("setValueFor:"),function(b){with(b){var a=
objj_msgSend(_info,"objectForKey:",CPObservedObjectKey),d=objj_msgSend(_info,"objectForKey:",CPObservedKeyPathKey);b=objj_msgSend(_info,"objectForKey:",CPOptionsKey);a=objj_msgSend(a,"valueForKeyPath:",d);if(CPIsControllerMarker(a)){switch(a){case CPMultipleValuesMarker:a=CPMixedState;break;case CPNoSelectionMarker:a=CPOffState;break;case CPNotApplicableMarker:objj_msgSend(b,"objectForKey:",CPRaisesForNotApplicableKeysBindingOption)&&objj_msgSend(CPException,"raise:reason:",CPGenericException,"can't transform non applicable key on: "+
_source+" value: "+a),a=CPOffState}a===CPMixedState?objj_msgSend(_source,"setAllowsMixedState:",YES):objj_msgSend(_source,"setAllowsMixedState:",NO)}objj_msgSend(_source,"setState:",a)}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CGAffineTransform.j",baseURL),function(i,g){g("CGGeometry.j",YES);CGAffineTransformMake=function(f,d,b,a,e,c){return{a:f,b:d,c:b,d:a,tx:e,ty:c}};CGAffineTransformMakeIdentity=function(){return{a:1,b:0,c:0,d:1,tx:0,ty:0}};CGAffineTransformMakeCopy=function(f){return{a:f.a,b:f.b,c:f.c,d:f.d,tx:f.tx,ty:f.ty}};CGAffineTransformMakeScale=function(f,d){return{a:f,b:0,c:0,d:d,tx:0,ty:0}};CGAffineTransformMakeTranslation=function(f,d){return{a:1,
b:0,c:0,d:1,tx:f,ty:d}};CGAffineTransformTranslate=function(f,d,b){return{a:f.a,b:f.b,c:f.c,d:f.d,tx:f.tx+f.a*d+f.c*b,ty:f.ty+f.b*d+f.d*b}};CGAffineTransformScale=function(f,d,b){return{a:f.a*d,b:f.b*d,c:f.c*b,d:f.d*b,tx:f.tx,ty:f.ty}};CGAffineTransformConcat=function(f,d){return{a:f.a*d.a+f.b*d.c,b:f.a*d.b+f.b*d.d,c:f.c*d.a+f.d*d.c,d:f.c*d.b+f.d*d.d,tx:f.tx*d.a+f.ty*d.c+d.tx,ty:f.tx*d.b+f.ty*d.d+d.ty}};CGPointApplyAffineTransform=function(f,d){return{x:f.x*d.a+f.y*d.c+d.tx,y:f.x*d.b+f.y*d.d+d.ty}};
CGSizeApplyAffineTransform=function(f,d){return{width:f.width*d.a+f.height*d.c,height:f.width*d.b+f.height*d.d}};CGAffineTransformIsIdentity=function(f){return f.a==1&&f.b==0&&f.c==0&&f.d==1&&f.tx==0&&f.ty==0};CGAffineTransformEqualToTransform=function(f,d){return f.a==d.a&&f.b==d.b&&f.c==d.c&&f.d==d.d&&f.tx==d.tx&&f.ty==d.ty};CGStringCreateWithCGAffineTransform=function(f){return" [[ "+f.a+", "+f.b+", 0 ], [ "+f.c+", "+f.d+", 0 ], [ "+f.tx+", "+f.ty+", 1]]"};CGAffineTransformCreateCopy=function(f){return{a:f.a,
b:f.b,c:f.c,d:f.d,tx:f.tx,ty:f.ty}};CGAffineTransformMakeRotation=function(f){var d=SIN(f);f=COS(f);return{a:f,b:d,c:-d,d:f,tx:0,ty:0}};CGAffineTransformRotate=function(f,d){var b=SIN(d),a=COS(d);return{a:f.a*a+f.c*b,b:f.b*a+f.d*b,c:f.c*a-f.a*b,d:f.d*a-f.b*b,tx:f.tx,ty:f.ty}};CGAffineTransformInvert=function(f){var d=1/(f.a*f.d-f.b*f.c);return{a:d*f.d,b:-d*f.b,c:-d*f.c,d:d*f.a,tx:d*(f.c*f.ty-f.d*f.tx),ty:d*(f.b*f.tx-f.a*f.ty)}};CGRectApplyAffineTransform=function(f,d){var b=f.origin.y,a=f.origin.x,
e=f.origin.x+f.size.width,c=f.origin.y+f.size.height,g=CGPointApplyAffineTransform({x:a,y:b},d);b=CGPointApplyAffineTransform({x:e,y:b},d);a=CGPointApplyAffineTransform({x:a,y:c},d);var i=CGPointApplyAffineTransform({x:e,y:c},d);e=MIN(g.x,b.x,a.x,i.x);c=MAX(g.x,b.x,a.x,i.x);var o=MIN(g.y,b.y,a.y,i.y);g=MAX(g.y,b.y,a.y,i.y);return{origin:{x:e,y:o},size:{width:c-e,height:g-o}}};CPStringFromCGAffineTransform=function(f){return"{"+f.a+", "+f.b+", "+f.c+", "+f.d+", "+f.tx+", "+f.ty+"}"}});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibCustomView.j",baseURL),function(i,g){g("CPView.j",YES);var f=objj_allocateClassPair(CPView,"_CPCibCustomView");class_addIvars(f,[new objj_ivar("_className")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("customClassName"),function(d){with(d)return _className}),new objj_method(sel_getUid("setCustomClassName:"),function(d,b,a){with(d){if(_className===a)return;_className=a;objj_msgSend(d,"setNeedsDisplay:",
YES);objj_msgSend(d,"setNeedsLayout")}})]);f=objj_getClass("_CPCibCustomView");if(!f)throw new SyntaxError('*** Could not find definition for class "_CPCibCustomView"');class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(d,b,a){with(d)return(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("_CPCibCustomView").super_class},"initWithCoder:",a))&&(_className=objj_msgSend(a,"decodeObjectForKey:","_CPCibCustomViewClassNameKey")),d}),new objj_method(sel_getUid("encodeWithCoder:"),
function(d,b,a){with(d)objj_msgSendSuper({receiver:d,super_class:objj_getClass("_CPCibCustomView").super_class},"encodeWithCoder:",a),objj_msgSend(a,"encodeObject:forKey:",_className,"_CPCibCustomViewClassNameKey")}),new objj_method(sel_getUid("customClassName"),function(d){with(d)return _className}),new objj_method(sel_getUid("_cibInstantiate"),function(d){with(d){var b=CPClassFromString(_className);b||(b=objj_msgSend(CPView,"class"));if(b===objj_msgSend(d,"class"))return _className="CPView",d;if(b=
objj_msgSend(objj_msgSend(b,"alloc"),"initWithFrame:",objj_msgSend(d,"frame"))){objj_msgSend(b,"setBounds:",objj_msgSend(d,"bounds"));for(var a=objj_msgSend(d,"subviews"),e=0,c=a.length;e<c;++e)objj_msgSend(b,"addSubview:",a[e]);objj_msgSend(b,"setAutoresizingMask:",objj_msgSend(d,"autoresizingMask"));objj_msgSend(b,"setAutoresizesSubviews:",objj_msgSend(d,"autoresizesSubviews"));objj_msgSend(b,"setHitTests:",objj_msgSend(d,"hitTests"));objj_msgSend(b,"setHidden:",objj_msgSend(d,"isHidden"));objj_msgSend(b,
"setAlphaValue:",objj_msgSend(d,"alphaValue"));objj_msgSend(_superview,"replaceSubview:with:",d,b);objj_msgSend(b,"setBackgroundColor:",objj_msgSend(d,"backgroundColor"))}return b}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CAMediaTimingFunction.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);g("Foundation/CPDictionary.j",NO);g("Foundation/CPString.j",NO);kCAMediaTimingFunctionLinear="kCAMediaTimingFunctionLinear";kCAMediaTimingFunctionEaseIn="kCAMediaTimingFunctionEaseIn";kCAMediaTimingFunctionEaseOut="kCAMediaTimingFunctionEaseOut";kCAMediaTimingFunctionEaseInEaseOut="kCAMediaTimingFunctionEaseInEaseOut";var f=nil,d=objj_allocateClassPair(CPObject,
"CAMediaTimingFunction"),b=d.isa;class_addIvars(d,[new objj_ivar("_c1x"),new objj_ivar("_c1y"),new objj_ivar("_c2x"),new objj_ivar("_c2y")]);objj_registerClassPair(d);class_addMethods(d,[new objj_method(sel_getUid("initWithControlPoints::::"),function(a,b,c,d,f,g){with(a){if(a=objj_msgSendSuper({receiver:a,super_class:objj_getClass("CAMediaTimingFunction").super_class},"init"))_c1x=c,_c1y=d,_c2x=f,_c2y=g;return a}}),new objj_method(sel_getUid("getControlPointAtIndex:values:"),function(a,b,c,d){with(a)c==
0?(d[0]=0,d[1]=0):c==1?(d[0]=_c1x,d[1]=_c1y):c==2?(d[0]=_c2x,d[1]=_c2y):(d[0]=1,d[1]=1)})]);class_addMethods(b,[new objj_method(sel_getUid("functionWithName:"),function(a,b,c){with(a)return f||(f=objj_msgSend(CPDictionary,"dictionary"),objj_msgSend(f,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0,0,1,1),kCAMediaTimingFunctionLinear),objj_msgSend(f,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0.42,0,1,1),kCAMediaTimingFunctionEaseIn),
objj_msgSend(f,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0,0,0.58,1),kCAMediaTimingFunctionEaseOut),objj_msgSend(f,"setObject:forKey:",objj_msgSend(CAMediaTimingFunction,"functionWithControlPoints::::",0.42,0,0.58,1),kCAMediaTimingFunctionEaseInEaseOut)),objj_msgSend(f,"objectForKey:",c)}),new objj_method(sel_getUid("functionWithControlPoints::::"),function(a,b,c,d,f,g){with(a)return objj_msgSend(objj_msgSend(a,"alloc"),"initWithControlPoints::::",c,d,
f,g)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPURLRequest.j",baseURL),function(i,g){g("CPDictionary.j",YES);g("CPObject.j",YES);g("CPString.j",YES);g("CPURL.j",YES);var f=objj_allocateClassPair(CPObject,"CPURLRequest"),d=f.isa;class_addIvars(f,[new objj_ivar("_URL"),new objj_ivar("_HTTPBody"),new objj_ivar("_HTTPMethod"),new objj_ivar("_HTTPHeaderFields")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithURL:"),function(b,a,d){with(b){if(b=
objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPURLRequest").super_class},"init"))objj_msgSend(b,"setURL:",d),_HTTPBody="",_HTTPMethod="GET",_HTTPHeaderFields=objj_msgSend(CPDictionary,"dictionary"),objj_msgSend(b,"setValue:forHTTPHeaderField:","Thu, 01 Jan 1970 00:00:00 GMT","If-Modified-Since"),objj_msgSend(b,"setValue:forHTTPHeaderField:","no-cache","Cache-Control"),objj_msgSend(b,"setValue:forHTTPHeaderField:","XMLHttpRequest","X-Requested-With");return b}}),new objj_method(sel_getUid("URL"),
function(b){with(b)return _URL}),new objj_method(sel_getUid("setURL:"),function(b,a,d){with(b)_URL=new CFURL(d)}),new objj_method(sel_getUid("setHTTPBody:"),function(b,a,d){with(b)_HTTPBody=d}),new objj_method(sel_getUid("HTTPBody"),function(b){with(b)return _HTTPBody}),new objj_method(sel_getUid("setHTTPMethod:"),function(b,a,d){with(b)_HTTPMethod=d}),new objj_method(sel_getUid("HTTPMethod"),function(b){with(b)return _HTTPMethod}),new objj_method(sel_getUid("allHTTPHeaderFields"),function(b){with(b)return _HTTPHeaderFields}),
new objj_method(sel_getUid("valueForHTTPHeaderField:"),function(b,a,d){with(b)return objj_msgSend(_HTTPHeaderFields,"objectForKey:",d)}),new objj_method(sel_getUid("setValue:forHTTPHeaderField:"),function(b,a,d,c){with(b)objj_msgSend(_HTTPHeaderFields,"setObject:forKey:",d,c)})]);class_addMethods(d,[new objj_method(sel_getUid("requestWithURL:"),function(b,a,d){with(b)return objj_msgSend(objj_msgSend(CPURLRequest,"alloc"),"initWithURL:",d)})])});
CFHTTPRequest._cacheRequest(new CFURL("Browser.environment/patterns.sj",baseURL),200,{},'@STATIC;1.0;p;6;main.jt;101;@STATIC;1.0;I;23;Foundation/Foundation.jI;15;AppKit/AppKit.ji;15;AppController.jt;16;alert("main.j");p;15;AppController.jt;142;@STATIC;1.0;I;21;Foundation/CPObject.jI;16;AppKit/CPColor.jI;13;GRKit/GRKit.ji;9;app/app.ji;17;app/monkeypatch.jt;25;alert("AppController.j");p;9;app/app.jt;510;@STATIC;1.0;i;13;monkeypatch.ji;16;pattern_config.ji;15;pattern_maker.ji;14;patterns/one.ji;14;patterns/two.ji;16;patterns/three.ji;15;patterns/four.ji;15;patterns/five.ji;14;patterns/six.ji;16;patterns/seven.ji;16;patterns/eight.ji;15;patterns/nine.ji;14;patterns/ten.ji;17;patterns/eleven.ji;17;patterns/twelve.ji;19;patterns/thirteen.ji;19;patterns/fourteen.ji;18;patterns/fifteen.ji;20;views/pattern_view.ji;25;views/pattern_list_cell.ji;41;controllers/pattern_settings_controller.jt;19;alert("app/app.j");p;17;app/monkeypatch.jt;44;@STATIC;1.0;t;27;alert("app/monkeypatch.j");p;20;app/pattern_config.jt;47;@STATIC;1.0;t;30;alert("app/pattern_config.j");p;19;app/pattern_maker.jt;46;@STATIC;1.0;t;29;alert("app/pattern_maker.j");p;18;app/patterns/one.jt;45;@STATIC;1.0;t;28;alert("app/patterns/one.j");p;18;app/patterns/two.jt;45;@STATIC;1.0;t;28;alert("app/patterns/two.j");p;20;app/patterns/three.jt;47;@STATIC;1.0;t;30;alert("app/patterns/three.j");p;19;app/patterns/four.jt;46;@STATIC;1.0;t;29;alert("app/patterns/four.j");p;19;app/patterns/five.jt;46;@STATIC;1.0;t;29;alert("app/patterns/five.j");p;18;app/patterns/six.jt;45;@STATIC;1.0;t;28;alert("app/patterns/six.j");p;20;app/patterns/seven.jt;47;@STATIC;1.0;t;30;alert("app/patterns/seven.j");p;20;app/patterns/eight.jt;47;@STATIC;1.0;t;30;alert("app/patterns/eight.j");p;19;app/patterns/nine.jt;46;@STATIC;1.0;t;29;alert("app/patterns/nine.j");p;18;app/patterns/ten.jt;45;@STATIC;1.0;t;28;alert("app/patterns/ten.j");p;21;app/patterns/eleven.jt;48;@STATIC;1.0;t;31;alert("app/patterns/eleven.j");p;21;app/patterns/twelve.jt;48;@STATIC;1.0;t;31;alert("app/patterns/twelve.j");p;23;app/patterns/thirteen.jt;50;@STATIC;1.0;t;33;alert("app/patterns/thirteen.j");p;23;app/patterns/fourteen.jt;50;@STATIC;1.0;t;33;alert("app/patterns/fourteen.j");p;22;app/patterns/fifteen.jt;49;@STATIC;1.0;t;32;alert("app/patterns/fifteen.j");p;24;app/views/pattern_view.jt;51;@STATIC;1.0;t;34;alert("app/views/pattern_view.j");p;29;app/views/pattern_list_cell.jt;56;@STATIC;1.0;t;39;alert("app/views/pattern_list_cell.j");p;45;app/controllers/pattern_settings_controller.jt;72;@STATIC;1.0;t;55;alert("app/controllers/pattern_settings_controller.j");');
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibCustomObject.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);var f=objj_allocateClassPair(CPObject,"_CPCibCustomObject");class_addIvars(f,[new objj_ivar("_className")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("customClassName"),function(d){with(d)return _className}),new objj_method(sel_getUid("setCustomClassName:"),function(d,b,a){with(d)_className=a}),new objj_method(sel_getUid("description"),
function(d){with(d)return objj_msgSendSuper({receiver:d,super_class:objj_getClass("_CPCibCustomObject").super_class},"description")+" ("+objj_msgSend(d,"customClassName")+")"})]);f=objj_getClass("_CPCibCustomObject");if(!f)throw new SyntaxError('*** Could not find definition for class "_CPCibCustomObject"');class_addMethods(f,[new objj_method(sel_getUid("initWithCoder:"),function(d,b,a){with(d)return(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("_CPCibCustomObject").super_class},"init"))&&
(_className=objj_msgSend(a,"decodeObjectForKey:","_CPCibCustomObjectClassName")),d}),new objj_method(sel_getUid("encodeWithCoder:"),function(d,b,a){with(d)objj_msgSend(a,"encodeObject:forKey:",_className,"_CPCibCustomObjectClassName")}),new objj_method(sel_getUid("_cibInstantiate"),function(d){with(d){var b=CPClassFromString(_className);if(b===objj_msgSend(d,"class"))return _className="CPObject",d;b||(b=objj_msgSend(CPObject,"class"));if(b===objj_msgSend(CPApplication,"class"))return objj_msgSend(CPApplication,
"sharedApplication");return objj_msgSend(objj_msgSend(b,"alloc"),"init")}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/views/pattern_list_cell.j",baseURL),function(){var i=objj_allocateClassPair(CPView,"PatternListCell");class_addIvars(i,[new objj_ivar("label"),new objj_ivar("highlightView")]);objj_registerClassPair(i);class_addMethods(i,[new objj_method(sel_getUid("setRepresentedObject:"),function(g,f,d){with(g)label||(label=objj_msgSend(objj_msgSend(CPTextField,"alloc"),"initWithFrame:",CGRectInset(objj_msgSend(g,"bounds"),4,4)),objj_msgSend(label,"setFont:",
objj_msgSend(CPFont,"systemFontOfSize:",14)),objj_msgSend(label,"setTextShadowColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(label,"setTextShadowOffset:",CGSizeMake(0,1)),objj_msgSend(g,"addSubview:",label)),objj_msgSend(label,"setStringValue:",d),objj_msgSend(label,"sizeToFit"),objj_msgSend(label,"setFrameOrigin:",CGPointMake(10,CGRectGetHeight(objj_msgSend(label,"bounds"))/2))}),new objj_method(sel_getUid("setSelected:"),function(g,f,d){with(g)highlightView||(highlightView=objj_msgSend(objj_msgSend(CPView,
"alloc"),"initWithFrame:",CGRectCreateCopy(objj_msgSend(g,"bounds"))),objj_msgSend(highlightView,"setBackgroundColor:",objj_msgSend(CPColor,"blueColor"))),d?(objj_msgSend(g,"addSubview:positioned:relativeTo:",highlightView,CPWindowBelow,label),objj_msgSend(label,"setTextColor:",objj_msgSend(CPColor,"whiteColor")),objj_msgSend(label,"setTextShadowColor:",objj_msgSend(CPColor,"blackColor"))):(objj_msgSend(highlightView,"removeFromSuperview"),objj_msgSend(label,"setTextColor:",objj_msgSend(CPColor,"blackColor")),
objj_msgSend(label,"setTextShadowColor:",objj_msgSend(CPColor,"whiteColor")))})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPNotification.j",baseURL),function(i,g){g("CPException.j",YES);g("CPObject.j",YES);var f=objj_allocateClassPair(CPObject,"CPNotification"),d=f.isa;class_addIvars(f,[new objj_ivar("_name"),new objj_ivar("_object"),new objj_ivar("_userInfo")]);objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("init"),function(b){with(b)objj_msgSend(CPException,"raise:reason:",CPUnsupportedMethodException,"CPNotification's init method should not be used")}),
new objj_method(sel_getUid("initWithName:object:userInfo:"),function(b,a,d,c,f){with(b){if(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("CPNotification").super_class},"init"))_name=d,_object=c,_userInfo=f;return b}}),new objj_method(sel_getUid("name"),function(b){with(b)return _name}),new objj_method(sel_getUid("object"),function(b){with(b)return _object}),new objj_method(sel_getUid("userInfo"),function(b){with(b)return _userInfo})]);class_addMethods(d,[new objj_method(sel_getUid("notificationWithName:object:userInfo:"),
function(b,a,d,c,f){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithName:object:userInfo:",d,c,f)}),new objj_method(sel_getUid("notificationWithName:object:"),function(b,a,d,c){with(b)return objj_msgSend(objj_msgSend(b,"alloc"),"initWithName:object:userInfo:",d,c,nil)})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPCibClassSwapper.j",baseURL),function(i,g){g("Foundation/CPObject.j",NO);g("Foundation/CPString.j",NO);var f=objj_allocateClassPair(CPObject,"_CPCibClassSwapper"),d=f.isa;objj_registerClassPair(f);class_addMethods(d,[new objj_method(sel_getUid("allocObjectWithCoder:className:"),function(b,a,d,c){with(b){b=objj_msgSend(d,"classForClassName:",c);if(!b&&(b=objj_lookUpClass(c),!b))return nil;return objj_msgSend(b,"alloc")}}),new objj_method(sel_getUid("allocWithCoder:"),
function(b,a,d){with(b){if(objj_msgSend(d,"respondsToSelector:",sel_getUid("usesOriginalClasses"))&&objj_msgSend(d,"usesOriginalClasses")){a=objj_msgSend(d,"decodeObjectForKey:","_CPCibClassSwapperOriginalClassNameKey");var c=objj_msgSend(b,"allocObjectWithCoder:className:",d,a)}else a=objj_msgSend(d,"decodeObjectForKey:","_CPCibClassSwapperClassNameKey"),c=objj_msgSend(b,"allocObjectWithCoder:className:",d,a),c||(CPLog.error("Unable to find class "+a+" in cib file."),c=objj_msgSend(b,"allocObjectWithCoder:className:",
d,objj_msgSend(d,"decodeObjectForKey:","_CPCibClassSwapperOriginalClassNameKey")));c||objj_msgSend(CPException,"raise:reason:",CPInvalidArgumentException,"Unable to find class "+a+" in cib file.");return c}})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPToolbarShowColorsItem.j",baseURL),function(i,g){g("CPApplication.j",YES);g("CPToolbarItem.j",YES);var f=objj_allocateClassPair(CPToolbarItem,"_CPToolbarShowColorsItem");objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithItemIdentifier:"),function(d){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("_CPToolbarShowColorsItem").super_class},"initWithItemIdentifier:",CPToolbarShowColorsItemIdentifier))objj_msgSend(d,
"setMinSize:",CGSizeMake(32,32)),objj_msgSend(d,"setMaxSize:",CGSizeMake(32,32)),objj_msgSend(d,"setLabel:","Colors"),objj_msgSend(d,"setPaletteLabel:","Show Colors"),objj_msgSend(d,"setTarget:",CPApp),objj_msgSend(d,"setAction:",sel_getUid("orderFrontColorPanel:")),objj_msgSend(d,"setImage:",objj_msgSend(CPImage,"imageNamed:",CPImageNameColorPanel)),objj_msgSend(d,"setAlternateImage:",objj_msgSend(CPImage,"imageNamed:",CPImageNameColorPanelHighlighted)),objj_msgSend(d,"setToolTip:","Show the Colors panel.");
return d}}),new objj_method(sel_getUid("initWithCoder:"),function(d){with(d)return objj_msgSend(d,"init")}),new objj_method(sel_getUid("encodeWithCoder:"),function(d){with(d);})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/four.j",baseURL),function(){var i=objj_allocateClassPair(PatternThree,"PatternFour"),g=i.isa;objj_registerClassPair(i);class_addMethods(g,[new objj_method(sel_getUid("defaultConfig"),function(f){with(f)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",6,"number_of_points",0,"recurse_depth",1.22,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",118,"radius",NO,"show_shapes",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",0,0,0,0.2727272727272727),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",31,255,211,0.7272727272727273),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",85,85,85,0.4909090909090909),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",190,73,12,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,0.6909090909090909),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,0.6909090909090909)],"stroke_colors",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",0,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,0,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,255,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,33,50,0.2545454545454545),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",130,18,120,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",76,156,180,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/fourteen.j",baseURL),function(){var i=objj_allocateClassPair(PatternTwelve,"PatternFourteen"),g=i.isa;objj_registerClassPair(i);class_addMethods(g,[new objj_method(sel_getUid("defaultConfig"),function(f){with(f)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",24,"number_of_points",0,"recurse_depth",0.44,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",151,"radius",YES,"show_shapes",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",174,174,174,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.6181818181818182),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0.39090909090909093),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,0,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,2,10,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,23,10,1)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",
255,255,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,255,0,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,96,175,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,200,10,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/patterns/six.j",baseURL),function(){var i=objj_allocateClassPair(PatternTwo,"PatternSix"),g=i.isa;objj_registerClassPair(i);class_addMethods(g,[new objj_method(sel_getUid("defaultConfig"),function(f){with(f)return objj_msgSend(CPDictionary,"dictionaryWithObjectsAndKeys:",50,"number_of_points",0,"recurse_depth",0.88,"factor_larger",objj_msgSend(GRPoint,"pointWithX:Y:",350,350),"center_point",181,"radius",YES,"show_shapes",[objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",0,255,100,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",37,15,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,255,0,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",17,95,17,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",14,10,255,1),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",0,0,0,0)],"stroke_colors",[objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",51,32,255,0),objj_msgSend(CPColor,
"colorWith8BitRed:green:blue:alpha:",198,157,165,0),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,0.02727272727272727),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",255,9,45,0.39545454545454545),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",23,200,10,0.4),objj_msgSend(CPColor,"colorWith8BitRed:green:blue:alpha:",200,23,10,1)],"fill_colors")})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPMenuItemSeparatorView.j",baseURL),function(i,g){g("CPView.j",YES);var f=objj_allocateClassPair(CPView,"_CPMenuItemSeparatorView"),d=f.isa;objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithFrame:"),function(b,a,d){with(b)return(b=objj_msgSendSuper({receiver:b,super_class:objj_getClass("_CPMenuItemSeparatorView").super_class},"initWithFrame:",d))&&objj_msgSend(b,"setAutoresizingMask:",CPViewWidthSizable),
b}),new objj_method(sel_getUid("drawRect:"),function(b){with(b){var a=objj_msgSend(objj_msgSend(CPGraphicsContext,"currentContext"),"graphicsPort");b=objj_msgSend(b,"bounds");CGContextBeginPath(a);CGContextMoveToPoint(a,CGRectGetMinX(b),FLOOR(CGRectGetMidY(b))-0.5);CGContextAddLineToPoint(a,CGRectGetMaxX(b),FLOOR(CGRectGetMidY(b))-0.5);CGContextSetStrokeColor(a,objj_msgSend(CPColor,"lightGrayColor"));CGContextStrokePath(a)}})]);class_addMethods(d,[new objj_method(sel_getUid("view"),function(b){with(b)return objj_msgSend(objj_msgSend(b,
"alloc"),"initWithFrame:",CGRectMake(0,0,0,10))})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("app/app.j",baseURL),function(i,g){NumberOfColors=6;g("monkeypatch.j",YES);g("pattern_config.j",YES);g("pattern_maker.j",YES);g("patterns/one.j",YES);g("patterns/two.j",YES);g("patterns/three.j",YES);g("patterns/four.j",YES);g("patterns/five.j",YES);g("patterns/six.j",YES);g("patterns/seven.j",YES);g("patterns/eight.j",YES);g("patterns/nine.j",YES);g("patterns/ten.j",YES);g("patterns/eleven.j",YES);g("patterns/twelve.j",YES);g("patterns/thirteen.j",
YES);g("patterns/fourteen.j",YES);g("patterns/fifteen.j",YES);g("views/pattern_view.j",YES);g("views/pattern_list_cell.j",YES);g("controllers/pattern_settings_controller.j",YES)});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/_CPToolbarSeparatorItem.j",baseURL),function(i,g){g("CPToolbarItem.j",YES);var f=objj_allocateClassPair(CPToolbarItem,"_CPToolbarSeparatorItem");objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("initWithItemIdentifier:"),function(d){with(d){if(d=objj_msgSendSuper({receiver:d,super_class:objj_getClass("_CPToolbarSeparatorItem").super_class},"initWithItemIdentifier:",CPToolbarSeparatorItemIdentifier))objj_msgSend(d,
"setMinSize:",CGSizeMake(2,0)),objj_msgSend(d,"setMaxSize:",CGSizeMake(2,1E5));return d}}),new objj_method(sel_getUid("initWithCoder:"),function(d){with(d)return objj_msgSend(d,"init")}),new objj_method(sel_getUid("encodeWithCoder:"),function(d){with(d);})])});CFHTTPRequest._cacheRequest(new CFURL("Frameworks/AppKit/Resources/Aristo.blend/Info.plist",baseURL),200,{},"280NPLIST;1.0;D;K;26;CPApplicationDelegateClassS;20;BKShowcaseControllerK;12;CPBundleNameS;12;Aristo.blendK;14;BKLearnMoreURLS;28;http://cappuccino.org/aristoK;22;BKLearnMoreButtonTitleS;16;Aristo Home PageK;16;CPPrincipalClassS;13;CPApplicationK;29;CPBundleInfoDictionaryVersiond;1;6K;18;CPBundleIdentifierS;21;com.280n.blend.AristoK;15;CPBundleVersionf;3;0.1K;19;CPBundlePackageTypeS;4;BLNDK;20;CPBundleEnvironmentsA;S;7;BrowserS;8;CommonJSE;K;18;CPBundleExecutableS;15;Aristo.blend.sjK;36;CPBundleEnvironmentsWithImageSpritesA;S;7;BrowserE;K;13;CPKeyedThemesA;S;17;Aristo.keyedthemeS;21;Aristo-HUD.keyedthemeE;E;\n");
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/Foundation/CPEnumerator.j",baseURL),function(i,g){g("CPObject.j",YES);var f=objj_allocateClassPair(CPObject,"CPEnumerator");objj_registerClassPair(f);class_addMethods(f,[new objj_method(sel_getUid("nextObject"),function(d){with(d)return nil}),new objj_method(sel_getUid("allObjects"),function(d){with(d)return[]})])});
ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/AppKit/CPText.j",baseURL),function(){CPEnterCharacter="";CPBackspaceCharacter="";CPTabCharacter="\t";CPNewlineCharacter="\n";CPFormFeedCharacter="";CPCarriageReturnCharacter="\r";CPBackTabCharacter="";CPDeleteCharacter=""});ObjectiveJ.FileExecutable._cacheFunction(new CFURL("Frameworks/GRKit/GRKit.j",baseURL),function(i,g){g("g_r_rotate_view.j",YES);g("g_r_geometry.j",YES)});
